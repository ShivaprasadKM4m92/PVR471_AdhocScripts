<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="24">
  <HTTPTask id="282" hostname="pvr-perf.rxlogix.com" path="/reports/assets/fullcalendar/fullcalendar-ab21481ecaaf856ac398df2626c214f0.js" url="https://pvr-perf.rxlogix.com/reports/assets/fullcalendar/fullcalendar-ab21481ecaaf856ac398df2626c214f0.js" ip="10.100.6.109" port="443" connectionId="12" origin="Primary" frame="1" startDateTime="2020-09-10T18:33:08.818+05:30" startTime="549737656" endTime="549738265">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHZyLXBlcmYucnhsb2dpeC5jb20=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg1LjAuNDE4My4xMDIgU2FmYXJpLzUzNy4zNg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Site" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c2FtZS1vcmlnaW4=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Mode" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY29ycw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Dest" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9wdnItcGVyZi5yeGxvZ2l4LmNvbS9yZXBvcnRzL2Rhc2hib2FyZC9pbmRleA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U0VTU0lPTj0yYjMyOTkzYS0zZGNjLTRhMDAtOTUxMC1mYTBhZTkyZTE0NTA7IGNjX2Nvb2tpZV9kZWNsaW5lPW51bGw7IGNjX2Nvb2tpZV9hY2NlcHQ9Y2NfY29va2llX2FjY2VwdA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9yZXBvcnRzL2Fzc2V0cy9mdWxsY2FsZW5kYXIvZnVsbGNhbGVuZGFyLWFiMjE0ODFlY2FhZjg1NmFjMzk4ZGYyNjI2YzIxNGYwLmpzIEhUVFAvMS4xDQpIb3N0OiBwdnItcGVyZi5yeGxvZ2l4LmNvbQ0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg1LjAuNDE4My4xMDIgU2FmYXJpLzUzNy4zNg0KQWNjZXB0OiAqLyoNClNlYy1GZXRjaC1TaXRlOiBzYW1lLW9yaWdpbg0KU2VjLUZldGNoLU1vZGU6IG5vLWNvcnMNClNlYy1GZXRjaC1EZXN0OiBzY3JpcHQNClJlZmVyZXI6IGh0dHBzOi8vcHZyLXBlcmYucnhsb2dpeC5jb20vcmVwb3J0cy9kYXNoYm9hcmQvaW5kZXgNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZSwgYnINCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjkNCkNvb2tpZTogU0VTU0lPTj0yYjMyOTkzYS0zZGNjLTRhMDAtOTUxMC1mYTBhZTkyZTE0NTA7IGNjX2Nvb2tpZV9kZWNsaW5lPW51bGw7IGNjX2Nvb2tpZV9hY2NlcHQ9Y2NfY29va2llX2FjY2VwdA0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="SESSION" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MmIzMjk5M2EtM2RjYy00YTAwLTk1MTAtZmEwYWU5MmUxNDUw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="cc_cookie_decline" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bnVsbA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="cc_cookie_accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Y2NfY29va2llX2FjY2VwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>67740</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Date" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAxMCBTZXAgMjAyMCAxMjo1NjozMSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdDtjaGFyc2V0PVVURi04</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Njc3NDA=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Frame-Options" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>REVOWQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAwOCBTZXAgMjAyMCAwOTowMzoyNCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ImZ1bGxjYWxlbmRhci9mdWxsY2FsZW5kYXItYWIyMTQ4MWVjYWFmODU2YWMzOThkZjI2MjZjMjE0ZjAuanMi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHVibGljLCBtYXgtYWdlPTMxNTM2MDAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIA0KRGF0ZTogVGh1LCAxMCBTZXAgMjAyMCAxMjo1NjozMSBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdDtjaGFyc2V0PVVURi04DQpDb250ZW50LUxlbmd0aDogNjc3NDANCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNClgtRnJhbWUtT3B0aW9uczogREVOWQ0KTGFzdC1Nb2RpZmllZDogVHVlLCAwOCBTZXAgMjAyMCAwOTowMzoyNCBHTVQNCkVUYWc6ICJmdWxsY2FsZW5kYXIvZnVsbGNhbGVuZGFyLWFiMjE0ODFlY2FhZjg1NmFjMzk4ZGYyNjI2YzIxNGYwLmpzIg0KVmFyeTogQWNjZXB0LUVuY29kaW5nDQpDYWNoZS1Db250cm9sOiBwdWJsaWMsIG1heC1hZ2U9MzE1MzYwMDANCkNvbnRlbnQtRW5jb2Rpbmc6IGd6aXANCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>Ly8jIHNvdXJjZU1hcHBpbmdVUkw9ZnVsbGNhbGVuZGFyLmpzLm1hcAp2YXIgX2Fzc2V0X3BpcGVsaW5lX2xvYWRlZF9tb2R1bGVzPV9hc3NldF9waXBlbGluZV9sb2FkZWRfbW9kdWxlc3x8e30sX2Fzc2V0X3BpcGVsaW5lX3JlcXVpcmU9ZnVuY3Rpb24oZyl7dmFyIHE9X2Fzc2V0X3BpcGVsaW5lX2xvYWRlZF9tb2R1bGVzW2ddO2lmKHZvaWQgMCE9cSlyZXR1cm4gcS5leHBvcnRzO3E9X2Fzc2V0X3BpcGVsaW5lX21vZHVsZXNbZ107cmV0dXJuIHZvaWQgMCE9cT8oX2Fzc2V0X3BpcGVsaW5lX2xvYWRlZF9tb2R1bGVzW2ddPXEoKSxfYXNzZXRfcGlwZWxpbmVfbG9hZGVkX21vZHVsZXNbZ10uZXhwb3J0cyk6bnVsbH0sX2Fzc2V0X3BpcGVsaW5lX21vZHVsZXM9X2Fzc2V0X3BpcGVsaW5lX21vZHVsZXN8fHt9OwpfYXNzZXRfcGlwZWxpbmVfbW9kdWxlc1sianF1ZXJ5L2pxdWVyeS5qcyJdPWZ1bmN0aW9uKCl7dmFyIGc9e2V4cG9ydHM6e319OyhmdW5jdGlvbihxLE9hKXsib2JqZWN0Ij09PXR5cGVvZiBnJiYib2JqZWN0Ij09PXR5cGVvZiBnLmV4cG9ydHM/Zy5leHBvcnRzPXEuZG9jdW1lbnQ/T2EocSwhMCk6ZnVuY3Rpb24oZyl7aWYoIWcuZG9jdW1lbnQpdGhyb3cgRXJyb3IoImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnQiKTtyZXR1cm4gT2EoZyl9Ok9hKHEpfSkoInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGcsT2Epe2Z1bmN0aW9uIGFiKGEpe3ZhciBiPWEubGVuZ3RoLGM9ZC50eXBlKGEpO3JldHVybiJmdW5jdGlvbiI9PT1jfHxkLmlzV2luZG93KGEpPyExOjE9PT1hLm5vZGVUeXBlJiZiPyEwOiJhcnJheSI9PT1jfHwwPT09Ynx8Im51bWJlciI9PT10eXBlb2YgYiYmMDxiJiZiLTEgaW4gYX1mdW5jdGlvbiBiYihhLGIsCmMpe2lmKGQuaXNGdW5jdGlvbihiKSlyZXR1cm4gZC5ncmVwKGEsZnVuY3Rpb24oYSxsKXtyZXR1cm4hIWIuY2FsbChhLGwsYSkhPT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gZC5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1iIT09Y30pO2lmKCJzdHJpbmciPT09dHlwZW9mIGIpe2lmKGJjLnRlc3QoYikpcmV0dXJuIGQuZmlsdGVyKGIsYSxjKTtiPWQuZmlsdGVyKGIsYSl9cmV0dXJuIGQuZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiAwPD1kLmluQXJyYXkoYSxiKSE9PWN9KX1mdW5jdGlvbiBQYShhLGIpe2RvIGE9YVtiXTt3aGlsZShhJiYxIT09YS5ub2RlVHlwZSk7cmV0dXJuIGF9ZnVuY3Rpb24gY2IoYSl7dmFyIGI9S2JbYV09e307ZC5lYWNoKGEubWF0Y2gobGEpfHxbXSxmdW5jdGlvbihhLGwpe2JbbF09ITB9KTtyZXR1cm4gYn1mdW5jdGlvbiBvYigpe3AuYWRkRXZlbnRMaXN0ZW5lcj8ocC5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixtYSwKITEpLGcucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsbWEsITEpKToocC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixtYSksZy5kZXRhY2hFdmVudCgib25sb2FkIixtYSkpfWZ1bmN0aW9uIG1hKCl7aWYocC5hZGRFdmVudExpc3RlbmVyfHwibG9hZCI9PT1ldmVudC50eXBlfHwiY29tcGxldGUiPT09cC5yZWFkeVN0YXRlKW9iKCksZC5yZWFkeSgpfWZ1bmN0aW9uIHBiKGEsYixjKXtpZih2b2lkIDA9PT1jJiYxPT09YS5ub2RlVHlwZSlpZihjPSJkYXRhLSIrYi5yZXBsYWNlKENhLCItJDEiKS50b0xvd2VyQ2FzZSgpLGM9YS5nZXRBdHRyaWJ1dGUoYyksInN0cmluZyI9PT10eXBlb2YgYyl7dHJ5e2M9InRydWUiPT09Yz8hMDoiZmFsc2UiPT09Yz8hMToibnVsbCI9PT1jP251bGw6K2MrIiI9PT1jPytjOnBhLnRlc3QoYyk/ZC5wYXJzZUpTT04oYyk6Y31jYXRjaChDKXt9ZC5kYXRhKGEsYixjKX1lbHNlIGM9dm9pZCAwO3JldHVybiBjfWZ1bmN0aW9uIFFhKGEpe2Zvcih2YXIgYiBpbiBhKWlmKCgiZGF0YSIhPT0KYnx8IWQuaXNFbXB0eU9iamVjdChhW2JdKSkmJiJ0b0pTT04iIT09YilyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBkYihhLGIsYyxDKXtpZihkLmFjY2VwdERhdGEoYSkpe3ZhciBlPWQuZXhwYW5kbyx1PWEubm9kZVR5cGUsaD11P2QuY2FjaGU6YSxmPXU/YVtlXTphW2VdJiZlO2lmKGYmJmhbZl0mJihDfHxoW2ZdLmRhdGEpfHx2b2lkIDAhPT1jfHwic3RyaW5nIiE9PXR5cGVvZiBiKXtmfHwoZj11P2FbZV09Z2EucG9wKCl8fGQuZ3VpZCsrOmUpO2hbZl18fChoW2ZdPXU/e306e3RvSlNPTjpkLm5vb3B9KTtpZigib2JqZWN0Ij09PXR5cGVvZiBifHwiZnVuY3Rpb24iPT09dHlwZW9mIGIpQz9oW2ZdPWQuZXh0ZW5kKGhbZl0sYik6aFtmXS5kYXRhPWQuZXh0ZW5kKGhbZl0uZGF0YSxiKTthPWhbZl07Q3x8KGEuZGF0YXx8KGEuZGF0YT17fSksYT1hLmRhdGEpO3ZvaWQgMCE9PWMmJihhW2QuY2FtZWxDYXNlKGIpXT1jKTsic3RyaW5nIj09PXR5cGVvZiBiPyhjPWFbYl0sbnVsbD09CmMmJihjPWFbZC5jYW1lbENhc2UoYildKSk6Yz1hO3JldHVybiBjfX19ZnVuY3Rpb24gcmIoYSxiLGMpe2lmKGQuYWNjZXB0RGF0YShhKSl7dmFyIEMsZSx1PWEubm9kZVR5cGUsaD11P2QuY2FjaGU6YSxmPXU/YVtkLmV4cGFuZG9dOmQuZXhwYW5kbztpZihoW2ZdKXtpZihiJiYoQz1jP2hbZl06aFtmXS5kYXRhKSl7ZC5pc0FycmF5KGIpP2I9Yi5jb25jYXQoZC5tYXAoYixkLmNhbWVsQ2FzZSkpOmIgaW4gQz9iPVtiXTooYj1kLmNhbWVsQ2FzZShiKSxiPWIgaW4gQz9bYl06Yi5zcGxpdCgiICIpKTtmb3IoZT1iLmxlbmd0aDtlLS07KWRlbGV0ZSBDW2JbZV1dO2lmKGM/IVFhKEMpOiFkLmlzRW1wdHlPYmplY3QoQykpcmV0dXJufWlmKCFjJiYoZGVsZXRlIGhbZl0uZGF0YSwhUWEoaFtmXSkpKXJldHVybjt1P2QuY2xlYW5EYXRhKFthXSwhMCk6ci5kZWxldGVFeHBhbmRvfHxoIT1oLndpbmRvdz9kZWxldGUgaFtmXTpoW2ZdPW51bGx9fX1mdW5jdGlvbiBEYSgpe3JldHVybiEwfWZ1bmN0aW9uIFcoKXtyZXR1cm4hMX0KZnVuY3Rpb24gaGEoKXt0cnl7cmV0dXJuIHAuYWN0aXZlRWxlbWVudH1jYXRjaChhKXt9fWZ1bmN0aW9uIFJhKGEpe3ZhciBiPXNiLnNwbGl0KCJ8Iik7YT1hLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihhLmNyZWF0ZUVsZW1lbnQpZm9yKDtiLmxlbmd0aDspYS5jcmVhdGVFbGVtZW50KGIucG9wKCkpO3JldHVybiBhfWZ1bmN0aW9uIEwoYSxiKXt2YXIgYyxlLHg9MCx1PSJ1bmRlZmluZWQiIT09dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOiJ1bmRlZmluZWQiIT09dHlwZW9mIGEucXVlcnlTZWxlY3RvckFsbD9hLnF1ZXJ5U2VsZWN0b3JBbGwoYnx8IioiKTp2b2lkIDA7aWYoIXUpZm9yKHU9W10sYz1hLmNoaWxkTm9kZXN8fGE7bnVsbCE9KGU9Y1t4XSk7eCsrKSFifHxkLm5vZGVOYW1lKGUsYik/dS5wdXNoKGUpOmQubWVyZ2UodSxMKGUsYikpO3JldHVybiB2b2lkIDA9PT1ifHxiJiZkLm5vZGVOYW1lKGEsYik/CmQubWVyZ2UoW2FdLHUpOnV9ZnVuY3Rpb24gTGIoYSl7dGIudGVzdChhLnR5cGUpJiYoYS5kZWZhdWx0Q2hlY2tlZD1hLmNoZWNrZWQpfWZ1bmN0aW9uIHViKGEsYil7cmV0dXJuIGQubm9kZU5hbWUoYSwidGFibGUiKSYmZC5ub2RlTmFtZSgxMSE9PWIubm9kZVR5cGU/YjpiLmZpcnN0Q2hpbGQsInRyIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8YS5hcHBlbmRDaGlsZChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6YX1mdW5jdGlvbiB2YihhKXthLnR5cGU9KG51bGwhPT1kLmZpbmQuYXR0cihhLCJ0eXBlIikpKyIvIithLnR5cGU7cmV0dXJuIGF9ZnVuY3Rpb24gd2IoYSl7dmFyIGI9Y2MuZXhlYyhhLnR5cGUpO2I/YS50eXBlPWJbMV06YS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKTtyZXR1cm4gYX1mdW5jdGlvbiBTYShhLGIpe2Zvcih2YXIgYyxlPTA7bnVsbCE9KGM9YVtlXSk7ZSsrKWQuX2RhdGEoYywiZ2xvYmFsRXZhbCIsIWJ8fApkLl9kYXRhKGJbZV0sImdsb2JhbEV2YWwiKSl9ZnVuY3Rpb24geGIoYSxiKXtpZigxPT09Yi5ub2RlVHlwZSYmZC5oYXNEYXRhKGEpKXt2YXIgYyxlLHg7ZT1kLl9kYXRhKGEpO2E9ZC5fZGF0YShiLGUpO3ZhciB1PWUuZXZlbnRzO2lmKHUpZm9yKGMgaW4gZGVsZXRlIGEuaGFuZGxlLGEuZXZlbnRzPXt9LHUpZm9yKGU9MCx4PXVbY10ubGVuZ3RoO2U8eDtlKyspZC5ldmVudC5hZGQoYixjLHVbY11bZV0pO2EuZGF0YSYmKGEuZGF0YT1kLmV4dGVuZCh7fSxhLmRhdGEpKX19ZnVuY3Rpb24geWIoYSxiKXt2YXIgYzthPWQoYi5jcmVhdGVFbGVtZW50KGEpKS5hcHBlbmRUbyhiLmJvZHkpO2I9Zy5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZSYmKGM9Zy5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZShhWzBdKSk/Yy5kaXNwbGF5OmQuY3NzKGFbMF0sImRpc3BsYXkiKTthLmRldGFjaCgpO3JldHVybiBifWZ1bmN0aW9uIEVhKGEpe3ZhciBiPXAsYz12YVthXTtjfHwoYz15YihhLGIpLCJub25lIiE9PQpjJiZjfHwoRmE9KEZhfHxkKCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPShGYVswXS5jb250ZW50V2luZG93fHxGYVswXS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LGIud3JpdGUoKSxiLmNsb3NlKCksYz15YihhLGIpLEZhLmRldGFjaCgpKSx2YVthXT1jKTtyZXR1cm4gY31mdW5jdGlvbiBlYihhLGIpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXt2YXIgYz1hKCk7aWYobnVsbCE9YylpZihjKWRlbGV0ZSB0aGlzLmdldDtlbHNlIHJldHVybih0aGlzLmdldD1iKS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX1mdW5jdGlvbiBqYShhLGIpe2lmKGIgaW4gYSlyZXR1cm4gYjtmb3IodmFyIGM9Yi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStiLnNsaWNlKDEpLGQ9YixlPU1iLmxlbmd0aDtlLS07KWlmKGI9TWJbZV0rYyxiIGluIGEpcmV0dXJuIGI7cmV0dXJuIGR9ZnVuY3Rpb24gemIoYSxiKXtmb3IodmFyIGMsCmUseCx1PVtdLGg9MCxmPWEubGVuZ3RoO2g8ZjtoKyspZT1hW2hdLGUuc3R5bGUmJih1W2hdPWQuX2RhdGEoZSwib2xkZGlzcGxheSIpLGM9ZS5zdHlsZS5kaXNwbGF5LGI/KHVbaF18fCJub25lIiE9PWN8fChlLnN0eWxlLmRpc3BsYXk9IiIpLCIiPT09ZS5zdHlsZS5kaXNwbGF5JiZ3YShlKSYmKHVbaF09ZC5fZGF0YShlLCJvbGRkaXNwbGF5IixFYShlLm5vZGVOYW1lKSkpKTooeD13YShlKSwoYyYmIm5vbmUiIT09Y3x8IXgpJiZkLl9kYXRhKGUsIm9sZGRpc3BsYXkiLHg/YzpkLmNzcyhlLCJkaXNwbGF5IikpKSk7Zm9yKGg9MDtoPGY7aCsrKWU9YVtoXSwhZS5zdHlsZXx8YiYmIm5vbmUiIT09ZS5zdHlsZS5kaXNwbGF5JiYiIiE9PWUuc3R5bGUuZGlzcGxheXx8KGUuc3R5bGUuZGlzcGxheT1iP3VbaF18fCIiOiJub25lIik7cmV0dXJuIGF9ZnVuY3Rpb24gcWEoYSxiLGMpe3JldHVybihhPU5iLmV4ZWMoYikpP01hdGgubWF4KDAsYVsxXS0oY3x8MCkpKyhhWzJdfHwicHgiKTpifQpmdW5jdGlvbiBUYShhLGIsYyxlLHgpe2I9Yz09PShlPyJib3JkZXIiOiJjb250ZW50Iik/NDoid2lkdGgiPT09Yj8xOjA7Zm9yKHZhciBoPTA7ND5iO2IrPTIpIm1hcmdpbiI9PT1jJiYoaCs9ZC5jc3MoYSxjK1FbYl0sITAseCkpLGU/KCJjb250ZW50Ij09PWMmJihoLT1kLmNzcyhhLCJwYWRkaW5nIitRW2JdLCEwLHgpKSwibWFyZ2luIiE9PWMmJihoLT1kLmNzcyhhLCJib3JkZXIiK1FbYl0rIldpZHRoIiwhMCx4KSkpOihoKz1kLmNzcyhhLCJwYWRkaW5nIitRW2JdLCEwLHgpLCJwYWRkaW5nIiE9PWMmJihoKz1kLmNzcyhhLCJib3JkZXIiK1FbYl0rIldpZHRoIiwhMCx4KSkpO3JldHVybiBofWZ1bmN0aW9uIFVhKGEsYixjKXt2YXIgZT0hMCx4PSJ3aWR0aCI9PT1iP2Eub2Zmc2V0V2lkdGg6YS5vZmZzZXRIZWlnaHQsaD1kYShhKSxmPXIuYm94U2l6aW5nJiYiYm9yZGVyLWJveCI9PT1kLmNzcyhhLCJib3hTaXppbmciLCExLGgpO2lmKDA+PXh8fG51bGw9PXgpe3g9eGEoYSxiLGgpOwppZigwPnh8fG51bGw9PXgpeD1hLnN0eWxlW2JdO2lmKEcudGVzdCh4KSlyZXR1cm4geDtlPWYmJihyLmJveFNpemluZ1JlbGlhYmxlKCl8fHg9PT1hLnN0eWxlW2JdKTt4PXBhcnNlRmxvYXQoeCl8fDB9cmV0dXJuIHgrVGEoYSxiLGN8fChmPyJib3JkZXIiOiJjb250ZW50IiksZSxoKSsicHgifWZ1bmN0aW9uIFIoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IFIucHJvdG90eXBlLmluaXQoYSxiLGMsZCxlKX1mdW5jdGlvbiBWYSgpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtHYT12b2lkIDB9KTtyZXR1cm4gR2E9ZC5ub3coKX1mdW5jdGlvbiBVKGEsYil7dmFyIGMsZD17aGVpZ2h0OmF9LGU9MDtmb3IoYj1iPzE6MDs0PmU7ZSs9Mi1iKWM9UVtlXSxkWyJtYXJnaW4iK2NdPWRbInBhZGRpbmciK2NdPWE7YiYmKGQub3BhY2l0eT1kLndpZHRoPWEpO3JldHVybiBkfWZ1bmN0aW9uIE0oYSxiLGQpe2Zvcih2YXIgZSx4PShjW2JdfHxbXSkuY29uY2F0KGNbIioiXSksaD0wLGY9eC5sZW5ndGg7aDwKZjtoKyspaWYoZT14W2hdLmNhbGwoZCxiLGEpKXJldHVybiBlfWZ1bmN0aW9uIGZiKGEsYil7dmFyIGMsZSx4LGgsZjtmb3IoYyBpbiBhKWlmKGU9ZC5jYW1lbENhc2UoYykseD1iW2VdLGg9YVtjXSxkLmlzQXJyYXkoaCkmJih4PWhbMV0saD1hW2NdPWhbMF0pLGMhPT1lJiYoYVtlXT1oLGRlbGV0ZSBhW2NdKSwoZj1kLmNzc0hvb2tzW2VdKSYmImV4cGFuZCJpbiBmKWZvcihjIGluIGg9Zi5leHBhbmQoaCksZGVsZXRlIGFbZV0saCljIGluIGF8fChhW2NdPWhbY10sYltjXT14KTtlbHNlIGJbZV09eH1mdW5jdGlvbiBPYihhLGMseSl7dmFyIGUseD0wLGg9Yi5sZW5ndGgsZj1kLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGsuZWxlbX0pLGs9ZnVuY3Rpb24oKXtpZihlKXJldHVybiExO2Zvcih2YXIgYj1HYXx8VmEoKSxiPU1hdGgubWF4KDAsZy5zdGFydFRpbWUrZy5kdXJhdGlvbi1iKSxjPTEtKGIvZy5kdXJhdGlvbnx8MCksQj0wLGQ9Zy50d2VlbnMubGVuZ3RoO0I8CmQ7QisrKWcudHdlZW5zW0JdLnJ1bihjKTtmLm5vdGlmeVdpdGgoYSxbZyxjLGJdKTtpZigxPmMmJmQpcmV0dXJuIGI7Zi5yZXNvbHZlV2l0aChhLFtnXSk7cmV0dXJuITF9LGc9Zi5wcm9taXNlKHtlbGVtOmEscHJvcHM6ZC5leHRlbmQoe30sYyksb3B0czpkLmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fX0seSksb3JpZ2luYWxQcm9wZXJ0aWVzOmMsb3JpZ2luYWxPcHRpb25zOnksc3RhcnRUaW1lOkdhfHxWYSgpLGR1cmF0aW9uOnkuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGIsYyl7Yj1kLlR3ZWVuKGEsZy5vcHRzLGIsYyxnLm9wdHMuc3BlY2lhbEVhc2luZ1tiXXx8Zy5vcHRzLmVhc2luZyk7Zy50d2VlbnMucHVzaChiKTtyZXR1cm4gYn0sc3RvcDpmdW5jdGlvbihiKXt2YXIgYz0wLEI9Yj9nLnR3ZWVucy5sZW5ndGg6MDtpZihlKXJldHVybiB0aGlzO2ZvcihlPSEwO2M8QjtjKyspZy50d2VlbnNbY10ucnVuKDEpO2I/Zi5yZXNvbHZlV2l0aChhLApbZyxiXSk6Zi5yZWplY3RXaXRoKGEsW2csYl0pO3JldHVybiB0aGlzfX0pO3k9Zy5wcm9wcztmb3IoZmIoeSxnLm9wdHMuc3BlY2lhbEVhc2luZyk7eDxoO3grKylpZihjPWJbeF0uY2FsbChnLGEseSxnLm9wdHMpKXJldHVybiBjO2QubWFwKHksTSxnKTtkLmlzRnVuY3Rpb24oZy5vcHRzLnN0YXJ0KSYmZy5vcHRzLnN0YXJ0LmNhbGwoYSxnKTtkLmZ4LnRpbWVyKGQuZXh0ZW5kKGsse2VsZW06YSxhbmltOmcscXVldWU6Zy5vcHRzLnF1ZXVlfSkpO3JldHVybiBnLnByb2dyZXNzKGcub3B0cy5wcm9ncmVzcykuZG9uZShnLm9wdHMuZG9uZSxnLm9wdHMuY29tcGxldGUpLmZhaWwoZy5vcHRzLmZhaWwpLmFsd2F5cyhnLm9wdHMuYWx3YXlzKX1mdW5jdGlvbiBuYShhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXsic3RyaW5nIiE9PXR5cGVvZiBiJiYoYz1iLGI9IioiKTt2YXIgZT0wLHg9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKGxhKXx8W107aWYoZC5pc0Z1bmN0aW9uKGMpKWZvcig7Yj14W2UrK107KSIrIj09PQpiLmNoYXJBdCgwKT8oYj1iLnNsaWNlKDEpfHwiKiIsKGFbYl09YVtiXXx8W10pLnVuc2hpZnQoYykpOihhW2JdPWFbYl18fFtdKS5wdXNoKGMpfX1mdW5jdGlvbiBYKGEsYixjLGUpe2Z1bmN0aW9uIHgoZyl7dmFyIGs7aFtnXT0hMDtkLmVhY2goYVtnXXx8W10sZnVuY3Rpb24oYSxsKXthPWwoYixjLGUpO2lmKCJzdHJpbmciPT09dHlwZW9mIGEmJiFmJiYhaFthXSlyZXR1cm4gYi5kYXRhVHlwZXMudW5zaGlmdChhKSx4KGEpLCExO2lmKGYpcmV0dXJuIShrPWEpfSk7cmV0dXJuIGt9dmFyIGg9e30sZj1hPT09RDtyZXR1cm4geChiLmRhdGFUeXBlc1swXSl8fCFoWyIqIl0mJngoIioiKX1mdW5jdGlvbiBIYShhLGIpe3ZhciBjLGUseD1kLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGUgaW4gYil2b2lkIDAhPT1iW2VdJiYoKHhbZV0/YTpjfHwoYz17fSkpW2VdPWJbZV0pO2MmJmQuZXh0ZW5kKCEwLGEsYyk7cmV0dXJuIGF9ZnVuY3Rpb24gV2EoYSxiLGMsZSl7dmFyIHg7CmlmKGQuaXNBcnJheShiKSlkLmVhY2goYixmdW5jdGlvbihiLEIpe2N8fGdiLnRlc3QoYSk/ZShhLEIpOldhKGErIlsiKygib2JqZWN0Ij09PXR5cGVvZiBCP2I6IiIpKyJdIixCLGMsZSl9KTtlbHNlIGlmKGN8fCJvYmplY3QiIT09ZC50eXBlKGIpKWUoYSxiKTtlbHNlIGZvcih4IGluIGIpV2EoYSsiWyIreCsiXSIsYlt4XSxjLGUpfWZ1bmN0aW9uIGhiKCl7dHJ5e3JldHVybiBuZXcgZy5YTUxIdHRwUmVxdWVzdH1jYXRjaChhKXt9fWZ1bmN0aW9uIGliKGEpe3JldHVybiBkLmlzV2luZG93KGEpP2E6OT09PWEubm9kZVR5cGU/YS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3c6ITF9dmFyIGdhPVtdLG9hPWdhLnNsaWNlLGZhPWdhLmNvbmNhdCxqYj1nYS5wdXNoLGtiPWdhLmluZGV4T2YsWGE9e30sUGI9WGEudG9TdHJpbmcseWE9WGEuaGFzT3duUHJvcGVydHkscj17fSxkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBkLmZuLmluaXQoYSxiKX0sZGM9L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLApRYj0vXi1tcy0vLFJiPS8tKFtcZGEtel0pL2dpLFNiPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX07ZC5mbj1kLnByb3RvdHlwZT17anF1ZXJ5OiIxLjExLjEiLGNvbnN0cnVjdG9yOmQsc2VsZWN0b3I6IiIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBvYS5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTpvYS5jYWxsKHRoaXMpfSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSl7YT1kLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTthLnByZXZPYmplY3Q9dGhpczthLmNvbnRleHQ9dGhpcy5jb250ZXh0O3JldHVybiBhfSxlYWNoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGQuZWFjaCh0aGlzLGEsYil9LG1hcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZC5tYXAodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBhLmNhbGwoYixjLGIpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhvYS5hcHBseSh0aGlzLAphcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5sZW5ndGg7YT0rYSsoMD5hP2I6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PWEmJmE8Yj9bdGhpc1thXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKG51bGwpfSxwdXNoOmpiLHNvcnQ6Z2Euc29ydCxzcGxpY2U6Z2Euc3BsaWNlfTtkLmV4dGVuZD1kLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBhLGIsYyxlLHgsaD1hcmd1bWVudHNbMF18fHt9LGY9MSxnPWFyZ3VtZW50cy5sZW5ndGgsaz0hMTsiYm9vbGVhbiI9PT10eXBlb2YgaCYmKGs9aCxoPWFyZ3VtZW50c1tmXXx8e30sZisrKTsib2JqZWN0Ij09PXR5cGVvZiBofHxkLmlzRnVuY3Rpb24oaCl8fChoPXt9KTtmPT09ZyYmKGg9dGhpcyxmLS0pO2Zvcig7ZjxnO2YrKylpZihudWxsIT0KKHg9YXJndW1lbnRzW2ZdKSlmb3IoZSBpbiB4KWE9aFtlXSxjPXhbZV0saCE9PWMmJihrJiZjJiYoZC5pc1BsYWluT2JqZWN0KGMpfHwoYj1kLmlzQXJyYXkoYykpKT8oYj8oYj0hMSxhPWEmJmQuaXNBcnJheShhKT9hOltdKTphPWEmJmQuaXNQbGFpbk9iamVjdChhKT9hOnt9LGhbZV09ZC5leHRlbmQoayxhLGMpKTp2b2lkIDAhPT1jJiYoaFtlXT1jKSk7cmV0dXJuIGh9O2QuZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKygiMS4xMS4xIitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGEpe3Rocm93IEVycm9yKGEpO30sbm9vcDpmdW5jdGlvbigpe30saXNGdW5jdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4iZnVuY3Rpb24iPT09ZC50eXBlKGEpfSxpc0FycmF5OkFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGEpe3JldHVybiJhcnJheSI9PT1kLnR5cGUoYSl9LGlzV2luZG93OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZhPT1hLndpbmRvd30sCmlzTnVtZXJpYzpmdW5jdGlvbihhKXtyZXR1cm4hZC5pc0FycmF5KGEpJiYwPD1hLXBhcnNlRmxvYXQoYSl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoIWF8fCJvYmplY3QiIT09ZC50eXBlKGEpfHxhLm5vZGVUeXBlfHxkLmlzV2luZG93KGEpKXJldHVybiExO3RyeXtpZihhLmNvbnN0cnVjdG9yJiYheWEuY2FsbChhLCJjb25zdHJ1Y3RvciIpJiYheWEuY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKGMpe3JldHVybiExfWlmKHIub3duTGFzdClmb3IoYiBpbiBhKXJldHVybiB5YS5jYWxsKGEsYik7Zm9yKGIgaW4gYSk7cmV0dXJuIHZvaWQgMD09PWJ8fHlhLmNhbGwoYSxiKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hKyIiOiJvYmplY3QiPT09dHlwZW9mIGF8fCJmdW5jdGlvbiI9PT0KdHlwZW9mIGE/WGFbUGIuY2FsbChhKV18fCJvYmplY3QiOnR5cGVvZiBhfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGEpe2EmJmQudHJpbShhKSYmKGcuZXhlY1NjcmlwdHx8ZnVuY3Rpb24oYSl7Zy5ldmFsLmNhbGwoZyxhKX0pKGEpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShRYiwibXMtIikucmVwbGFjZShSYixTYil9LG5vZGVOYW1lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT0wLGg9YS5sZW5ndGg7ZD1hYihhKTtpZihjKWlmKGQpZm9yKDtlPGgmJihkPWIuYXBwbHkoYVtlXSxjKSwhMSE9PWQpO2UrKyk7ZWxzZSBmb3IoZSBpbiBhKXtpZihkPWIuYXBwbHkoYVtlXSxjKSwhMT09PWQpYnJlYWt9ZWxzZSBpZihkKWZvcig7ZTxoJiYoZD1iLmNhbGwoYVtlXSxlLGFbZV0pLCExIT09ZCk7ZSsrKTtlbHNlIGZvcihlIGluIGEpaWYoZD0KYi5jYWxsKGFbZV0sZSxhW2VdKSwhMT09PWQpYnJlYWs7cmV0dXJuIGF9LHRyaW06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWE/IiI6KGErIiIpLnJlcGxhY2UoZGMsIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXtiPWJ8fFtdO251bGwhPWEmJihhYihPYmplY3QoYSkpP2QubWVyZ2UoYiwic3RyaW5nIj09PXR5cGVvZiBhP1thXTphKTpqYi5jYWxsKGIsYSkpO3JldHVybiBifSxpbkFycmF5OmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZihiKXtpZihrYilyZXR1cm4ga2IuY2FsbChiLGEsYyk7ZD1iLmxlbmd0aDtmb3IoYz1jPzA+Yz9NYXRoLm1heCgwLGQrYyk6YzowO2M8ZDtjKyspaWYoYyBpbiBiJiZiW2NdPT09YSlyZXR1cm4gY31yZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9K2IubGVuZ3RoLGQ9MCxlPWEubGVuZ3RoO2Q8YzspYVtlKytdPWJbZCsrXTtpZihjIT09Yylmb3IoO3ZvaWQgMCE9PWJbZF07KWFbZSsrXT1iW2QrK107YS5sZW5ndGg9ZTtyZXR1cm4gYX0sCmdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1bXSxlPTAsaD1hLmxlbmd0aCxmPSFjO2U8aDtlKyspYz0hYihhW2VdLGUpLGMhPT1mJiZkLnB1c2goYVtlXSk7cmV0dXJuIGR9LG1hcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT0wLGg9YS5sZW5ndGgsZj1bXTtpZihhYihhKSlmb3IoO2U8aDtlKyspZD1iKGFbZV0sZSxjKSxudWxsIT1kJiZmLnB1c2goZCk7ZWxzZSBmb3IoZSBpbiBhKWQ9YihhW2VdLGUsYyksbnVsbCE9ZCYmZi5wdXNoKGQpO3JldHVybiBmYS5hcHBseShbXSxmKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYil7dmFyIGMsZTsic3RyaW5nIj09PXR5cGVvZiBiJiYoZT1hW2JdLGI9YSxhPWUpO2lmKGQuaXNGdW5jdGlvbihhKSlyZXR1cm4gYz1vYS5jYWxsKGFyZ3VtZW50cywyKSxlPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYnx8dGhpcyxjLmNvbmNhdChvYS5jYWxsKGFyZ3VtZW50cykpKX0sZS5ndWlkPWEuZ3VpZD1hLmd1aWR8fGQuZ3VpZCsrLGV9LApub3c6ZnVuY3Rpb24oKXtyZXR1cm4rbmV3IERhdGV9LHN1cHBvcnQ6cn0pO2QuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe1hhWyJbb2JqZWN0ICIrYisiXSJdPWIudG9Mb3dlckNhc2UoKX0pO3ZhciB6YT1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsbCxjLGQpe3ZhciBCLGUseSxoLEM7KGw/bC5vd25lckRvY3VtZW50fHxsOmFhKSE9PUYmJk8obCk7bD1sfHxGO2M9Y3x8W107aWYoIWF8fCJzdHJpbmciIT09dHlwZW9mIGEpcmV0dXJuIGM7aWYoMSE9PShoPWwubm9kZVR5cGUpJiY5IT09aClyZXR1cm5bXTtpZihzYSYmIWQpe2lmKEI9cGEuZXhlYyhhKSlpZih5PUJbMV0paWYoOT09PWgpaWYoKGU9bC5nZXRFbGVtZW50QnlJZCh5KSkmJmUucGFyZW50Tm9kZSl7aWYoZS5pZD09PXkpcmV0dXJuIGMucHVzaChlKSxjfWVsc2UgcmV0dXJuIGM7ZWxzZXtpZihsLm93bmVyRG9jdW1lbnQmJgooZT1sLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoeSkpJiZOYShsLGUpJiZlLmlkPT09eSlyZXR1cm4gYy5wdXNoKGUpLGN9ZWxzZXtpZihCWzJdKXJldHVybiBSLmFwcGx5KGMsbC5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksYztpZigoeT1CWzNdKSYmdi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIFIuYXBwbHkoYyxsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoeSkpLGN9aWYodi5xc2EmJighSXx8IUkudGVzdChhKSkpe2U9Qj1aO3k9bDtDPTk9PT1oJiZhO2lmKDE9PT1oJiYib2JqZWN0IiE9PWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7aD1EKGEpOyhCPWwuZ2V0QXR0cmlidXRlKCJpZCIpKT9lPUIucmVwbGFjZShxYSwiXFwkJiIpOmwuc2V0QXR0cmlidXRlKCJpZCIsZSk7ZT0iW2lkPSciK2UrIiddICI7Zm9yKHk9aC5sZW5ndGg7eS0tOyloW3ldPWUrQShoW3ldKTt5PWphLnRlc3QoYSkmJnQobC5wYXJlbnROb2RlKXx8Cmw7Qz1oLmpvaW4oIiwiKX1pZihDKXRyeXtyZXR1cm4gUi5hcHBseShjLHkucXVlcnlTZWxlY3RvckFsbChDKSksY31jYXRjaCh4KXt9ZmluYWxseXtCfHxsLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBIKGEucmVwbGFjZShnYiwiJDEiKSxsLGMsZCl9ZnVuY3Rpb24gYygpe2Z1bmN0aW9uIGEobCxjKXtiLnB1c2gobCsiICIpPkUuY2FjaGVMZW5ndGgmJmRlbGV0ZSBhW2Iuc2hpZnQoKV07cmV0dXJuIGFbbCsiICJdPWN9dmFyIGI9W107cmV0dXJuIGF9ZnVuY3Rpb24gZChhKXthW1pdPSEwO3JldHVybiBhfWZ1bmN0aW9uIGUoYSl7dmFyIGI9Ri5jcmVhdGVFbGVtZW50KCJkaXYiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGwpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9fWZ1bmN0aW9uIGgoYSxiKXt2YXIgbD1hLnNwbGl0KCJ8Iik7Zm9yKGE9YS5sZW5ndGg7YS0tOylFLmF0dHJIYW5kbGVbbFthXV09Yn1mdW5jdGlvbiBmKGEsCmIpe3ZhciBsPWImJmEsYz1sJiYxPT09YS5ub2RlVHlwZSYmMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8LTIxNDc0ODM2NDgpLSh+YS5zb3VyY2VJbmRleHx8LTIxNDc0ODM2NDgpO2lmKGMpcmV0dXJuIGM7aWYobClmb3IoO2w9bC5uZXh0U2libGluZzspaWYobD09PWIpcmV0dXJuLTE7cmV0dXJuIGE/MTotMX1mdW5jdGlvbiBnKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4iaW5wdXQiPT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiBrKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgbD1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1sfHwiYnV0dG9uIj09PWwpJiZiLnR5cGU9PT1hfX1mdW5jdGlvbiB3KGEpe3JldHVybiBkKGZ1bmN0aW9uKGIpe2I9K2I7cmV0dXJuIGQoZnVuY3Rpb24obCxjKXtmb3IodmFyIGQsQj1hKFtdLGwubGVuZ3RoLGIpLGU9Qi5sZW5ndGg7ZS0tOylsW2Q9QltlXV0mJgoobFtkXT0hKGNbZF09bFtkXSkpfSl9KX1mdW5jdGlvbiB0KGEpe3JldHVybiBhJiYidW5kZWZpbmVkIiE9PXR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZhfWZ1bmN0aW9uIG0oKXt9ZnVuY3Rpb24gQShhKXtmb3IodmFyIGI9MCxsPWEubGVuZ3RoLGM9IiI7YjxsO2IrKyljKz1hW2JdLnZhbHVlO3JldHVybiBjfWZ1bmN0aW9uIG4oYSxiLGwpe3ZhciBjPWIuZGlyLGQ9bCYmInBhcmVudE5vZGUiPT09YyxCPWtjKys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixsLEIpe2Zvcig7Yj1iW2NdOylpZigxPT09Yi5ub2RlVHlwZXx8ZClyZXR1cm4gYShiLGwsQil9OmZ1bmN0aW9uKGIsbCxlKXt2YXIgeSxoLEM9W0csQl07aWYoZSlmb3IoO2I9YltjXTspe2lmKCgxPT09Yi5ub2RlVHlwZXx8ZCkmJmEoYixsLGUpKXJldHVybiEwfWVsc2UgZm9yKDtiPWJbY107KWlmKDE9PT1iLm5vZGVUeXBlfHxkKXtoPWJbWl18fChiW1pdPXt9KTtpZigoeT1oW2NdKSYmeVswXT09PUcmJnlbMV09PT0KQilyZXR1cm4gQ1syXT15WzJdO2hbY109QztpZihDWzJdPWEoYixsLGUpKXJldHVybiEwfX19ZnVuY3Rpb24gUChhKXtyZXR1cm4gMTxhLmxlbmd0aD9mdW5jdGlvbihiLGwsYyl7Zm9yKHZhciBkPWEubGVuZ3RoO2QtLTspaWYoIWFbZF0oYixsLGMpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIEsoYSxiLGwsYyxkKXtmb3IodmFyIEIsZT1bXSx5PTAsaD1hLmxlbmd0aCxDPW51bGwhPWI7eTxoO3krKylpZihCPWFbeV0paWYoIWx8fGwoQixjLGQpKWUucHVzaChCKSxDJiZiLnB1c2goeSk7cmV0dXJuIGV9ZnVuY3Rpb24gVihhLGwsYyxlLHksaCl7ZSYmIWVbWl0mJihlPVYoZSkpO3kmJiF5W1pdJiYoeT1WKHksaCkpO3JldHVybiBkKGZ1bmN0aW9uKGQsaCxDLHgpe3ZhciB1LGYsZz1bXSxrPVtdLGlhPWgubGVuZ3RoLHc7aWYoISh3PWQpKXt3PWx8fCIqIjtmb3IodmFyIHQ9Qy5ub2RlVHlwZT9bQ106QyxxYj1bXSxtPTAsQT10Lmxlbmd0aDttPEE7bSsrKWIodyx0W21dLApxYik7dz1xYn13PSFhfHwhZCYmbD93OksodyxnLGEsQyx4KTt0PWM/eXx8KGQ/YTppYXx8ZSk/W106aDp3O2MmJmModyx0LEMseCk7aWYoZSlmb3IodT1LKHQsayksZSh1LFtdLEMseCksQz11Lmxlbmd0aDtDLS07KWlmKGY9dVtDXSl0W2tbQ11dPSEod1trW0NdXT1mKTtpZihkKXtpZih5fHxhKXtpZih5KXt1PVtdO2ZvcihDPXQubGVuZ3RoO0MtLTspKGY9dFtDXSkmJnUucHVzaCh3W0NdPWYpO3kobnVsbCx0PVtdLHUseCl9Zm9yKEM9dC5sZW5ndGg7Qy0tOykoZj10W0NdKSYmLTE8KHU9eT9ULmNhbGwoZCxmKTpnW0NdKSYmKGRbdV09IShoW3VdPWYpKX19ZWxzZSB0PUsodD09PWg/dC5zcGxpY2UoaWEsdC5sZW5ndGgpOnQpLHk/eShudWxsLGgsdCx4KTpSLmFwcGx5KGgsdCl9KX1mdW5jdGlvbiByKGEpe3ZhciBiLGwsYyxkPWEubGVuZ3RoLEI9RS5yZWxhdGl2ZVthWzBdLnR5cGVdO2w9Qnx8RS5yZWxhdGl2ZVsiICJdO2Zvcih2YXIgZT1CPzE6MCx5PW4oZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT0KYn0sbCwhMCksaD1uKGZ1bmN0aW9uKGEpe3JldHVybi0xPFQuY2FsbChiLGEpfSxsLCEwKSxDPVtmdW5jdGlvbihhLGwsYyl7cmV0dXJuIUImJihjfHxsIT09TGEpfHwoKGI9bCkubm9kZVR5cGU/eShhLGwsYyk6aChhLGwsYykpfV07ZTxkO2UrKylpZihsPUUucmVsYXRpdmVbYVtlXS50eXBlXSlDPVtuKFAoQyksbCldO2Vsc2V7bD1FLmZpbHRlclthW2VdLnR5cGVdLmFwcGx5KG51bGwsYVtlXS5tYXRjaGVzKTtpZihsW1pdKXtmb3IoYz0rK2U7YzxkJiYhRS5yZWxhdGl2ZVthW2NdLnR5cGVdO2MrKyk7cmV0dXJuIFYoMTxlJiZQKEMpLDE8ZSYmQShhLnNsaWNlKDAsZS0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWFbZS0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKGdiLCIkMSIpLGwsZTxjJiZyKGEuc2xpY2UoZSxjKSksYzxkJiZyKGE9YS5zbGljZShjKSksYzxkJiZBKGEpKX1DLnB1c2gobCl9cmV0dXJuIFAoQyl9ZnVuY3Rpb24gZWEoYSxsKXt2YXIgYz0wPGwubGVuZ3RoLGU9MDxhLmxlbmd0aCwKeT1mdW5jdGlvbihkLHksaCxDLHgpe3ZhciB1LGYsZyxrPTAsaWE9IjAiLHQ9ZCYmW10sdz1bXSxxYj1MYSxtPWR8fGUmJkUuZmluZC5UQUcoIioiLHgpLEE9Rys9bnVsbD09cWI/MTpNYXRoLnJhbmRvbSgpfHwuMSxuYz1tLmxlbmd0aDtmb3IoeCYmKExhPXkhPT1GJiZ5KTtpYSE9PW5jJiZudWxsIT0odT1tW2lhXSk7aWErKyl7aWYoZSYmdSl7Zm9yKGY9MDtnPWFbZisrXTspaWYoZyh1LHksaCkpe0MucHVzaCh1KTticmVha314JiYoRz1BKX1jJiYoKHU9IWcmJnUpJiZrLS0sZCYmdC5wdXNoKHUpKX1rKz1pYTtpZihjJiZpYSE9PWspe2ZvcihmPTA7Zz1sW2YrK107KWcodCx3LHksaCk7aWYoZCl7aWYoMDxrKWZvcig7aWEtLTspdFtpYV18fHdbaWFdfHwod1tpYV09YWMuY2FsbChDKSk7dz1LKHcpfVIuYXBwbHkoQyx3KTt4JiYhZCYmMDx3Lmxlbmd0aCYmMTxrK2wubGVuZ3RoJiZiLnVuaXF1ZVNvcnQoQyl9eCYmKEc9QSxMYT1xYik7cmV0dXJuIHR9O3JldHVybiBjP2QoeSk6eX12YXIgeiwKdixFLHEscCxELGNhLEgsTGEsYmEsWSxPLEYsTixzYSxJLEJhLE1hLE5hLFo9InNpenpsZSIrLW5ldyBEYXRlLGFhPWEuZG9jdW1lbnQsRz0wLGtjPTAscmE9YygpLE09YygpLEw9YygpLFU9ZnVuY3Rpb24oYSxiKXthPT09YiYmKFk9ITApO3JldHVybiAwfSxTPXt9Lmhhc093blByb3BlcnR5LEo9W10sYWM9Si5wb3AsVz1KLnB1c2gsUj1KLnB1c2gsZGE9Si5zbGljZSxUPUouaW5kZXhPZnx8ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsbD10aGlzLmxlbmd0aDtiPGw7YisrKWlmKHRoaXNbYl09PT1hKXJldHVybiBiO3JldHVybi0xfSxJYj0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLnJlcGxhY2UoInciLCJ3IyIpLEpiPSJcXFtbXFx4MjBcXHRcXHJcXG5cXGZdKigoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKykoPzpbXFx4MjBcXHRcXHJcXG5cXGZdKihbKl4kfCF+XT89KVtcXHgyMFxcdFxcclxcblxcZl0qKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrCkliKyIpKXwpW1xceDIwXFx0XFxyXFxuXFxmXSpcXF0iLGhhPSI6KCg/OlxcXFwufFtcXHctXXxbXlxceDAwLVxceGEwXSkrKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrSmIrIikqKXwuKilcXCl8KSIsZ2I9L15bXHgyMFx0XHJcblxmXSt8KCg/Ol58W15cXF0pKD86XFwuKSopW1x4MjBcdFxyXG5cZl0rJC9nLGthPS9eW1x4MjBcdFxyXG5cZl0qLFtceDIwXHRcclxuXGZdKi8sbGM9L15bXHgyMFx0XHJcblxmXSooWz4rfl18W1x4MjBcdFxyXG5cZl0pW1x4MjBcdFxyXG5cZl0qLyxtYz0vPVtceDIwXHRcclxuXGZdKihbXlxdJyJdKj8pW1x4MjBcdFxyXG5cZl0qXF0vZyxsYT1uZXcgUmVnRXhwKGhhKSxtYT1uZXcgUmVnRXhwKCJeIitJYisiJCIpLGdhPXtJRDovXiMoKD86XFwufFtcdy1dfFteXHgwMC1ceGEwXSkrKS8sQ0xBU1M6L15cLigoPzpcXC58W1x3LV18W15ceDAwLVx4YTBdKSspLywKVEFHOm5ldyBSZWdFeHAoIl4oIisiKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLnJlcGxhY2UoInciLCJ3KiIpKyIpIiksQVRUUjpuZXcgUmVnRXhwKCJeIitKYiksUFNFVURPOm5ldyBSZWdFeHAoIl4iK2hhKSxDSElMRDovXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XChbXHgyMFx0XHJcblxmXSooZXZlbnxvZGR8KChbKy1dfCkoXGQqKW58KVtceDIwXHRcclxuXGZdKig/OihbKy1dfClbXHgyMFx0XHJcblxmXSooXGQrKXwpKVtceDIwXHRcclxuXGZdKlwpfCkvaSxib29sOi9eKD86Y2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQpJC9pLG5lZWRzQ29udGV4dDovXltceDIwXHRcclxuXGZdKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XChbXHgyMFx0XHJcblxmXSooKD86LVxkKT9cZCopW1x4MjBcdFxyXG5cZl0qXCl8KSg/PVteLV18JCkvaX0sCm5hPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksb2E9L15oXGQkL2ksZmE9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLHBhPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8samE9L1srfl0vLHFhPS8nfFxcL2csUT0vXFwoW1xkYS1mXXsxLDZ9W1x4MjBcdFxyXG5cZl0/fChbXHgyMFx0XHJcblxmXSl8LikvaWcsWD1mdW5jdGlvbihhLGIsbCl7YT0iMHgiK2ItNjU1MzY7cmV0dXJuIGEhPT1hfHxsP2I6MD5hP1N0cmluZy5mcm9tQ2hhckNvZGUoYSs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShhPj4xMHw1NTI5NixhJjEwMjN8NTYzMjApfTt0cnl7Ui5hcHBseShKPWRhLmNhbGwoYWEuY2hpbGROb2RlcyksYWEuY2hpbGROb2RlcyksSlthYS5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2gocWMpe1I9e2FwcGx5OkoubGVuZ3RoP2Z1bmN0aW9uKGEsYil7Vy5hcHBseShhLGRhLmNhbGwoYikpfTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgbD0KYS5sZW5ndGgsYz0wO2FbbCsrXT1iW2MrK107KTthLmxlbmd0aD1sLTF9fX12PWIuc3VwcG9ydD17fTtwPWIuaXNYTUw9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50KT8iSFRNTCIhPT1hLm5vZGVOYW1lOiExfTtPPWIuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9YT9hLm93bmVyRG9jdW1lbnR8fGE6YWE7YT1iLmRlZmF1bHRWaWV3O2lmKGI9PT1GfHw5IT09Yi5ub2RlVHlwZXx8IWIuZG9jdW1lbnRFbGVtZW50KXJldHVybiBGO0Y9YjtOPWIuZG9jdW1lbnRFbGVtZW50O3NhPSFwKGIpO2EmJmEhPT1hLnRvcCYmKGEuYWRkRXZlbnRMaXN0ZW5lcj9hLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsZnVuY3Rpb24oKXtPKCl9LCExKTphLmF0dGFjaEV2ZW50JiZhLmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsZnVuY3Rpb24oKXtPKCl9KSk7di5hdHRyaWJ1dGVzPWUoZnVuY3Rpb24oYSl7YS5jbGFzc05hbWU9ImkiO3JldHVybiFhLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KTsKdi5nZXRFbGVtZW50c0J5VGFnTmFtZT1lKGZ1bmN0aW9uKGEpe2EuYXBwZW5kQ2hpbGQoYi5jcmVhdGVDb21tZW50KCIiKSk7cmV0dXJuIWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGh9KTt2LmdldEVsZW1lbnRzQnlDbGFzc05hbWU9ZmEudGVzdChiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpJiZlKGZ1bmN0aW9uKGEpe2EuaW5uZXJIVE1MPSI8ZGl2IGNsYXNzPSdhJz48L2Rpdj48ZGl2IGNsYXNzPSdhIGknPjwvZGl2PiI7YS5maXJzdENoaWxkLmNsYXNzTmFtZT0iaSI7cmV0dXJuIDI9PT1hLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImkiKS5sZW5ndGh9KTt2LmdldEJ5SWQ9ZShmdW5jdGlvbihhKXtOLmFwcGVuZENoaWxkKGEpLmlkPVo7cmV0dXJuIWIuZ2V0RWxlbWVudHNCeU5hbWV8fCFiLmdldEVsZW1lbnRzQnlOYW1lKFopLmxlbmd0aH0pO3YuZ2V0QnlJZD8oRS5maW5kLklEPWZ1bmN0aW9uKGEsYil7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmCnNhKXJldHVybihhPWIuZ2V0RWxlbWVudEJ5SWQoYSkpJiZhLnBhcmVudE5vZGU/W2FdOltdfSxFLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoUSxYKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJpZCIpPT09Yn19KTooZGVsZXRlIEUuZmluZC5JRCxFLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoUSxYKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuKGE9InVuZGVmaW5lZCIhPT10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlJiZhLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZhLnZhbHVlPT09Yn19KTtFLmZpbmQuVEFHPXYuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oYSxiKXtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lKXJldHVybiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpfTpmdW5jdGlvbihhLGIpe3ZhciBsPVtdLGM9MDtiPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSk7CmlmKCIqIj09PWEpe2Zvcig7YT1iW2MrK107KTE9PT1hLm5vZGVUeXBlJiZsLnB1c2goYSk7cmV0dXJuIGx9cmV0dXJuIGJ9O0UuZmluZC5DTEFTUz12LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZzYSlyZXR1cm4gYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpfTtCYT1bXTtJPVtdO2lmKHYucXNhPWZhLnRlc3QoYi5xdWVyeVNlbGVjdG9yQWxsKSllKGZ1bmN0aW9uKGEpe2EuaW5uZXJIVE1MPSI8c2VsZWN0IG1zYWxsb3djbGlwPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IjthLnF1ZXJ5U2VsZWN0b3JBbGwoIlttc2FsbG93Y2xpcF49JyddIikubGVuZ3RoJiZJLnB1c2goIlsqXiRdPVtcXHgyMFxcdFxcclxcblxcZl0qKD86Jyd8XCJcIikiKTthLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fEkucHVzaCgiXFxbW1xceDIwXFx0XFxyXFxuXFxmXSooPzp2YWx1ZXxjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCkiKTsKYS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8SS5wdXNoKCI6Y2hlY2tlZCIpfSksZShmdW5jdGlvbihhKXt2YXIgbD1iLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7bC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJoaWRkZW4iKTthLmFwcGVuZENoaWxkKGwpLnNldEF0dHJpYnV0ZSgibmFtZSIsIkQiKTthLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPWRdIikubGVuZ3RoJiZJLnB1c2goIm5hbWVbXFx4MjBcXHRcXHJcXG5cXGZdKlsqXiR8IX5dPz0iKTthLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxJLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIik7YS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iik7SS5wdXNoKCIsLio6Iil9KTsodi5tYXRjaGVzU2VsZWN0b3I9ZmEudGVzdChNYT1OLm1hdGNoZXN8fE4ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxOLm1vek1hdGNoZXNTZWxlY3Rvcnx8Ti5vTWF0Y2hlc1NlbGVjdG9yfHxOLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJgplKGZ1bmN0aW9uKGEpe3YuZGlzY29ubmVjdGVkTWF0Y2g9TWEuY2FsbChhLCJkaXYiKTtNYS5jYWxsKGEsIltzIT0nJ106eCIpO0JhLnB1c2goIiE9IixoYSl9KTtJPUkubGVuZ3RoJiZuZXcgUmVnRXhwKEkuam9pbigifCIpKTtCYT1CYS5sZW5ndGgmJm5ldyBSZWdFeHAoQmEuam9pbigifCIpKTtOYT0oYT1mYS50ZXN0KE4uY29tcGFyZURvY3VtZW50UG9zaXRpb24pKXx8ZmEudGVzdChOLmNvbnRhaW5zKT9mdW5jdGlvbihhLGIpe3ZhciBsPTk9PT1hLm5vZGVUeXBlP2EuZG9jdW1lbnRFbGVtZW50OmE7Yj1iJiZiLnBhcmVudE5vZGU7cmV0dXJuIGE9PT1ifHwhIShiJiYxPT09Yi5ub2RlVHlwZSYmKGwuY29udGFpbnM/bC5jb250YWlucyhiKTphLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiZhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpJjE2KSl9OmZ1bmN0aW9uKGEsYil7aWYoYilmb3IoO2I9Yi5wYXJlbnROb2RlOylpZihiPT09YSlyZXR1cm4hMDtyZXR1cm4hMX07VT1hP2Z1bmN0aW9uKGEsCmwpe2lmKGE9PT1sKXJldHVybiBZPSEwLDA7dmFyIGM9IWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIWwuY29tcGFyZURvY3VtZW50UG9zaXRpb247aWYoYylyZXR1cm4gYztjPShhLm93bmVyRG9jdW1lbnR8fGEpPT09KGwub3duZXJEb2N1bWVudHx8bCk/YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihsKToxO3JldHVybiBjJjF8fCF2LnNvcnREZXRhY2hlZCYmbC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKT09PWM/YT09PWJ8fGEub3duZXJEb2N1bWVudD09PWFhJiZOYShhYSxhKT8tMTpsPT09Ynx8bC5vd25lckRvY3VtZW50PT09YWEmJk5hKGFhLGwpPzE6YmE/VC5jYWxsKGJhLGEpLVQuY2FsbChiYSxsKTowOmMmND8tMToxfTpmdW5jdGlvbihhLGwpe2lmKGE9PT1sKXJldHVybiBZPSEwLDA7dmFyIGM9MCxkPWEucGFyZW50Tm9kZSxlPWwucGFyZW50Tm9kZSxCPVthXSx5PVtsXTtpZighZHx8IWUpcmV0dXJuIGE9PT1iPy0xOmw9PT1iPzE6ZD8tMTplPzE6YmE/VC5jYWxsKGJhLAphKS1ULmNhbGwoYmEsbCk6MDtpZihkPT09ZSlyZXR1cm4gZihhLGwpO2Zvcig7YT1hLnBhcmVudE5vZGU7KUIudW5zaGlmdChhKTtmb3IoYT1sO2E9YS5wYXJlbnROb2RlOyl5LnVuc2hpZnQoYSk7Zm9yKDtCW2NdPT09eVtjXTspYysrO3JldHVybiBjP2YoQltjXSx5W2NdKTpCW2NdPT09YWE/LTE6eVtjXT09PWFhPzE6MH07cmV0dXJuIGJ9O2IubWF0Y2hlcz1mdW5jdGlvbihhLGwpe3JldHVybiBiKGEsbnVsbCxudWxsLGwpfTtiLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGwpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09RiYmTyhhKTtsPWwucmVwbGFjZShtYywiPSckMSddIik7aWYoISghdi5tYXRjaGVzU2VsZWN0b3J8fCFzYXx8QmEmJkJhLnRlc3QobCl8fEkmJkkudGVzdChsKSkpdHJ5e3ZhciBjPU1hLmNhbGwoYSxsKTtpZihjfHx2LmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGN9Y2F0Y2goZCl7fXJldHVybiAwPApiKGwsRixudWxsLFthXSkubGVuZ3RofTtiLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7KGEub3duZXJEb2N1bWVudHx8YSkhPT1GJiZPKGEpO3JldHVybiBOYShhLGIpfTtiLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PUYmJk8oYSk7dmFyIGw9RS5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sbD1sJiZTLmNhbGwoRS5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/bChhLGIsIXNhKTp2b2lkIDA7cmV0dXJuIHZvaWQgMCE9PWw/bDp2LmF0dHJpYnV0ZXN8fCFzYT9hLmdldEF0dHJpYnV0ZShiKToobD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZsLnNwZWNpZmllZD9sLnZhbHVlOm51bGx9O2IuZXJyb3I9ZnVuY3Rpb24oYSl7dGhyb3cgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrYSk7fTtiLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7dmFyIGIsbD1bXSxjPTAsZD0wO1k9IXYuZGV0ZWN0RHVwbGljYXRlcztiYT0KIXYuc29ydFN0YWJsZSYmYS5zbGljZSgwKTthLnNvcnQoVSk7aWYoWSl7Zm9yKDtiPWFbZCsrXTspYj09PWFbZF0mJihjPWwucHVzaChkKSk7Zm9yKDtjLS07KWEuc3BsaWNlKGxbY10sMSl9YmE9bnVsbDtyZXR1cm4gYX07cT1iLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsbD0iIixjPTA7Yj1hLm5vZGVUeXBlO2lmKCFiKWZvcig7Yj1hW2MrK107KWwrPXEoYik7ZWxzZSBpZigxPT09Ynx8OT09PWJ8fDExPT09Yil7aWYoInN0cmluZyI9PT10eXBlb2YgYS50ZXh0Q29udGVudClyZXR1cm4gYS50ZXh0Q29udGVudDtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpbCs9cShhKX1lbHNlIGlmKDM9PT1ifHw0PT09YilyZXR1cm4gYS5ub2RlVmFsdWU7cmV0dXJuIGx9O0U9Yi5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpkLG1hdGNoOmdhLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwKIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oYSl7YVsxXT1hWzFdLnJlcGxhY2UoUSxYKTthWzNdPShhWzNdfHxhWzRdfHxhWzVdfHwiIikucmVwbGFjZShRLFgpOyJ+PSI9PT1hWzJdJiYoYVszXT0iICIrYVszXSsiICIpO3JldHVybiBhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe2FbMV09YVsxXS50b0xvd2VyQ2FzZSgpOyJudGgiPT09YVsxXS5zbGljZSgwLDMpPyhhWzNdfHxiLmVycm9yKGFbMF0pLGFbNF09KyhhWzRdP2FbNV0rKGFbNl18fDEpOjIqKCJldmVuIj09PWFbM118fCJvZGQiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fCJvZGQiPT09YVszXSkpOmFbM10mJmIuZXJyb3IoYVswXSk7cmV0dXJuIGF9LFBTRVVETzpmdW5jdGlvbihhKXt2YXIgYixsPSFhWzZdJiZhWzJdO2lmKGdhLkNISUxELnRlc3QoYVswXSkpcmV0dXJuIG51bGw7CmFbM10/YVsyXT1hWzRdfHxhWzVdfHwiIjpsJiZsYS50ZXN0KGwpJiYoYj1EKGwsITApKSYmKGI9bC5pbmRleE9mKCIpIixsLmxlbmd0aC1iKS1sLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWwuc2xpY2UoMCxiKSk7cmV0dXJuIGEuc2xpY2UoMCwzKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShRLFgpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09YT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn19LENMQVNTOmZ1bmN0aW9uKGEpe3ZhciBiPXJhW2ErIiAiXTtyZXR1cm4gYnx8KGI9bmV3IFJlZ0V4cCgiKF58W1xceDIwXFx0XFxyXFxuXFxmXSkiK2ErIihbXFx4MjBcXHRcXHJcXG5cXGZdfCQpIikscmEoYSxmdW5jdGlvbihhKXtyZXR1cm4gYi50ZXN0KCJzdHJpbmciPT09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8InVuZGVmaW5lZCIhPT0KdHlwZW9mIGEuZ2V0QXR0cmlidXRlJiZhLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSkpfSxBVFRSOmZ1bmN0aW9uKGEsbCxjKXtyZXR1cm4gZnVuY3Rpb24oZCl7ZD1iLmF0dHIoZCxhKTtpZihudWxsPT1kKXJldHVybiIhPSI9PT1sO2lmKCFsKXJldHVybiEwO2QrPSIiO3JldHVybiI9Ij09PWw/ZD09PWM6IiE9Ij09PWw/ZCE9PWM6Il49Ij09PWw/YyYmMD09PWQuaW5kZXhPZihjKToiKj0iPT09bD9jJiYtMTxkLmluZGV4T2YoYyk6IiQ9Ij09PWw/YyYmZC5zbGljZSgtYy5sZW5ndGgpPT09Yzoifj0iPT09bD8tMTwoIiAiK2QrIiAiKS5pbmRleE9mKGMpOiJ8PSI9PT1sP2Q9PT1jfHxkLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jKyItIjohMX19LENISUxEOmZ1bmN0aW9uKGEsYixsLGMsZCl7dmFyIGU9Im50aCIhPT1hLnNsaWNlKDAsMyksQj0ibGFzdCIhPT1hLnNsaWNlKC00KSx5PSJvZi10eXBlIj09PWI7cmV0dXJuIDE9PT1jJiYwPT09ZD9mdW5jdGlvbihhKXtyZXR1cm4hIWEucGFyZW50Tm9kZX06CmZ1bmN0aW9uKGIsbCxoKXt2YXIgQyx4LHUsZixnO2w9ZSE9PUI/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIjt2YXIgaz1iLnBhcmVudE5vZGUsaWE9eSYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2g9IWgmJiF5O2lmKGspe2lmKGUpe2Zvcig7bDspe2Zvcih4PWI7eD14W2xdOylpZih5P3gubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWlhOjE9PT14Lm5vZGVUeXBlKXJldHVybiExO2c9bD0ib25seSI9PT1hJiYhZyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1nPVtCP2suZmlyc3RDaGlsZDprLmxhc3RDaGlsZF07aWYoQiYmaClmb3IoaD1rW1pdfHwoa1taXT17fSksQz1oW2FdfHxbXSxmPUNbMF09PT1HJiZDWzFdLHU9Q1swXT09PUcmJkNbMl0seD1mJiZrLmNoaWxkTm9kZXNbZl07eD0rK2YmJngmJnhbbF18fCh1PWY9MCl8fGcucG9wKCk7KXtpZigxPT09eC5ub2RlVHlwZSYmKyt1JiZ4PT09Yil7aFthXT1bRyxmLHVdO2JyZWFrfX1lbHNlIGlmKGgmJihDPShiW1pdfHwKKGJbWl09e30pKVthXSkmJkNbMF09PT1HKXU9Q1sxXTtlbHNlIGZvcig7KHg9KytmJiZ4JiZ4W2xdfHwodT1mPTApfHxnLnBvcCgpKSYmKCh5P3gubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9PWlhOjEhPT14Lm5vZGVUeXBlKXx8ISsrdXx8KGgmJigoeFtaXXx8KHhbWl09e30pKVthXT1bRyx1XSkseCE9PWIpKTspO3UtPWQ7cmV0dXJuIHU9PT1jfHwwPT09dSVjJiYwPD11L2N9fX0sUFNFVURPOmZ1bmN0aW9uKGEsbCl7dmFyIGMsZT1FLnBzZXVkb3NbYV18fEUuc2V0RmlsdGVyc1thLnRvTG93ZXJDYXNlKCldfHxiLmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrYSk7cmV0dXJuIGVbWl0/ZShsKToxPGUubGVuZ3RoPyhjPVthLGEsIiIsbF0sRS5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGEudG9Mb3dlckNhc2UoKSk/ZChmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPWUoYSxsKSxCPWQubGVuZ3RoO0ItLTspYz1ULmNhbGwoYSxkW0JdKSxhW2NdPSEoYltjXT1kW0JdKX0pOmZ1bmN0aW9uKGEpe3JldHVybiBlKGEsCjAsYyl9KTplfX0scHNldWRvczp7bm90OmQoZnVuY3Rpb24oYSl7dmFyIGI9W10sbD1bXSxjPWNhKGEucmVwbGFjZShnYiwiJDEiKSk7cmV0dXJuIGNbWl0/ZChmdW5jdGlvbihhLGIsbCxkKXtkPWMoYSxudWxsLGQsW10pO2Zvcih2YXIgZT1hLmxlbmd0aDtlLS07KWlmKGw9ZFtlXSlhW2VdPSEoYltlXT1sKX0pOmZ1bmN0aW9uKGEsZCxlKXtiWzBdPWE7YyhiLG51bGwsZSxsKTtyZXR1cm4hbC5wb3AoKX19KSxoYXM6ZChmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24obCl7cmV0dXJuIDA8YihhLGwpLmxlbmd0aH19KSxjb250YWluczpkKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4tMTwoYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fHEoYikpLmluZGV4T2YoYSl9fSksbGFuZzpkKGZ1bmN0aW9uKGEpe21hLnRlc3QoYXx8IiIpfHxiLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK2EpO2E9YS5yZXBsYWNlKFEsWCkudG9Mb3dlckNhc2UoKTtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGw7CmRvIGlmKGw9c2E/Yi5sYW5nOmIuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxiLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybiBsPWwudG9Mb3dlckNhc2UoKSxsPT09YXx8MD09PWwuaW5kZXhPZihhKyItIik7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmMT09PWIubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihiKXt2YXIgYz1hLmxvY2F0aW9uJiZhLmxvY2F0aW9uLmhhc2g7cmV0dXJuIGMmJmMuc2xpY2UoMSk9PT1iLmlkfSxyb290OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09Tn0sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1GLmFjdGl2ZUVsZW1lbnQmJighRi5oYXNGb2N1c3x8Ri5oYXNGb2N1cygpKSYmISEoYS50eXBlfHxhLmhyZWZ8fH5hLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4hMT09PWEuZGlzYWJsZWR9LGRpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiEwPT09YS5kaXNhYmxlZH0sY2hlY2tlZDpmdW5jdGlvbihhKXt2YXIgYj0KYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1iJiYhIWEuY2hlY2tlZHx8Im9wdGlvbiI9PT1iJiYhIWEuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGEpe2EucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7cmV0dXJuITA9PT1hLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoNj5hLm5vZGVUeXBlKXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIUUucHNldWRvcy5lbXB0eShhKX0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBvYS50ZXN0KGEubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihhKXtyZXR1cm4gbmEudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmImJ1dHRvbiI9PT1hLnR5cGV8fCJidXR0b24iPT09Yn0sCnRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuImlucHV0Ij09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09YS50eXBlJiYobnVsbD09KGI9YS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PWIudG9Mb3dlckNhc2UoKSl9LGZpcnN0OncoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OncoZnVuY3Rpb24oYSxiKXtyZXR1cm5bYi0xXX0pLGVxOncoZnVuY3Rpb24oYSxiLGwpe3JldHVyblswPmw/bCtiOmxdfSksZXZlbjp3KGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBsPTA7bDxiO2wrPTIpYS5wdXNoKGwpO3JldHVybiBhfSksb2RkOncoZnVuY3Rpb24oYSxiKXtmb3IodmFyIGw9MTtsPGI7bCs9MilhLnB1c2gobCk7cmV0dXJuIGF9KSxsdDp3KGZ1bmN0aW9uKGEsYixsKXtmb3IoYj0wPmw/bCtiOmw7MDw9LS1iOylhLnB1c2goYik7cmV0dXJuIGF9KSxndDp3KGZ1bmN0aW9uKGEsYixsKXtmb3IobD0wPmw/bCtiOmw7KytsPGI7KWEucHVzaChsKTtyZXR1cm4gYX0pfX07CkUucHNldWRvcy5udGg9RS5wc2V1ZG9zLmVxO2Zvcih6IGlue3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KUUucHNldWRvc1t6XT1nKHopO2Zvcih6IGlue3N1Ym1pdDohMCxyZXNldDohMH0pRS5wc2V1ZG9zW3pdPWsoeik7bS5wcm90b3R5cGU9RS5maWx0ZXJzPUUucHNldWRvcztFLnNldEZpbHRlcnM9bmV3IG07RD1iLnRva2VuaXplPWZ1bmN0aW9uKGEsbCl7dmFyIGMsZCxlLHksaCxDLHg7aWYoaD1NW2ErIiAiXSlyZXR1cm4gbD8wOmguc2xpY2UoMCk7aD1hO0M9W107Zm9yKHg9RS5wcmVGaWx0ZXI7aDspe2lmKCFjfHwoZD1rYS5leGVjKGgpKSlkJiYoaD1oLnNsaWNlKGRbMF0ubGVuZ3RoKXx8aCksQy5wdXNoKGU9W10pO2M9ITE7aWYoZD1sYy5leGVjKGgpKWM9ZC5zaGlmdCgpLGUucHVzaCh7dmFsdWU6Yyx0eXBlOmRbMF0ucmVwbGFjZShnYiwiICIpfSksaD1oLnNsaWNlKGMubGVuZ3RoKTtmb3IoeSBpbiBFLmZpbHRlcikhKGQ9Z2FbeV0uZXhlYyhoKSl8fAp4W3ldJiYhKGQ9eFt5XShkKSl8fChjPWQuc2hpZnQoKSxlLnB1c2goe3ZhbHVlOmMsdHlwZTp5LG1hdGNoZXM6ZH0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBsP2gubGVuZ3RoOmg/Yi5lcnJvcihhKTpNKGEsQykuc2xpY2UoMCl9O2NhPWIuY29tcGlsZT1mdW5jdGlvbihhLGIpe3ZhciBsLGM9W10sZD1bXSxlPUxbYSsiICJdO2lmKCFlKXtifHwoYj1EKGEpKTtmb3IobD1iLmxlbmd0aDtsLS07KWU9cihiW2xdKSxlW1pdP2MucHVzaChlKTpkLnB1c2goZSk7ZT1MKGEsZWEoZCxjKSk7ZS5zZWxlY3Rvcj1hfXJldHVybiBlfTtIPWIuc2VsZWN0PWZ1bmN0aW9uKGEsYixsLGMpe3ZhciBkLGUsQix5LGg9ImZ1bmN0aW9uIj09PXR5cGVvZiBhJiZhLEM9IWMmJkQoYT1oLnNlbGVjdG9yfHxhKTtsPWx8fFtdO2lmKDE9PT1DLmxlbmd0aCl7ZT1DWzBdPUNbMF0uc2xpY2UoMCk7aWYoMjxlLmxlbmd0aCYmIklEIj09PShCPWVbMF0pLnR5cGUmJnYuZ2V0QnlJZCYmCjk9PT1iLm5vZGVUeXBlJiZzYSYmRS5yZWxhdGl2ZVtlWzFdLnR5cGVdKXtiPShFLmZpbmQuSUQoQi5tYXRjaGVzWzBdLnJlcGxhY2UoUSxYKSxiKXx8W10pWzBdO2lmKCFiKXJldHVybiBsO2gmJihiPWIucGFyZW50Tm9kZSk7YT1hLnNsaWNlKGUuc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWZvcihkPWdhLm5lZWRzQ29udGV4dC50ZXN0KGEpPzA6ZS5sZW5ndGg7ZC0tOyl7Qj1lW2RdO2lmKEUucmVsYXRpdmVbeT1CLnR5cGVdKWJyZWFrO2lmKHk9RS5maW5kW3ldKWlmKGM9eShCLm1hdGNoZXNbMF0ucmVwbGFjZShRLFgpLGphLnRlc3QoZVswXS50eXBlKSYmdChiLnBhcmVudE5vZGUpfHxiKSl7ZS5zcGxpY2UoZCwxKTthPWMubGVuZ3RoJiZBKGUpO2lmKCFhKXJldHVybiBSLmFwcGx5KGwsYyksbDticmVha319fShofHxjYShhLEMpKShjLGIsIXNhLGwsamEudGVzdChhKSYmdChiLnBhcmVudE5vZGUpfHxiKTtyZXR1cm4gbH07di5zb3J0U3RhYmxlPVouc3BsaXQoIiIpLnNvcnQoVSkuam9pbigiIik9PT0KWjt2LmRldGVjdER1cGxpY2F0ZXM9ISFZO08oKTt2LnNvcnREZXRhY2hlZD1lKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEYuY3JlYXRlRWxlbWVudCgiZGl2IikpJjF9KTtlKGZ1bmN0aW9uKGEpe2EuaW5uZXJIVE1MPSI8YSBocmVmPScjJz48L2E+IjtyZXR1cm4iIyI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIil9KXx8aCgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oYSxiLGwpe2lmKCFsKXJldHVybiBhLmdldEF0dHJpYnV0ZShiLCJ0eXBlIj09PWIudG9Mb3dlckNhc2UoKT8xOjIpfSk7di5hdHRyaWJ1dGVzJiZlKGZ1bmN0aW9uKGEpe2EuaW5uZXJIVE1MPSI8aW5wdXQvPiI7YS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKTtyZXR1cm4iIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8aCgidmFsdWUiLGZ1bmN0aW9uKGEsYixsKXtpZighbCYmImlucHV0Ij09PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gYS5kZWZhdWx0VmFsdWV9KTsKZShmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8aCgiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLGZ1bmN0aW9uKGEsYixsKXt2YXIgYztpZighbClyZXR1cm4hMD09PWFbYl0/Yi50b0xvd2VyQ2FzZSgpOihjPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJmMuc3BlY2lmaWVkP2MudmFsdWU6bnVsbH0pO3JldHVybiBifShnKTtkLmZpbmQ9emE7ZC5leHByPXphLnNlbGVjdG9ycztkLmV4cHJbIjoiXT1kLmV4cHIucHNldWRvcztkLnVuaXF1ZT16YS51bmlxdWVTb3J0O2QudGV4dD16YS5nZXRUZXh0O2QuaXNYTUxEb2M9emEuaXNYTUw7ZC5jb250YWlucz16YS5jb250YWluczt2YXIgVGI9ZC5leHByLm1hdGNoLm5lZWRzQ29udGV4dCxVYj0vXjwoXHcrKVxzKlwvPz4oPzo8XC9cMT58KSQvLApiYz0vXi5bXjojXFtcLixdKiQvO2QuZmlsdGVyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZT1iWzBdO2MmJihhPSI6bm90KCIrYSsiKSIpO3JldHVybiAxPT09Yi5sZW5ndGgmJjE9PT1lLm5vZGVUeXBlP2QuZmluZC5tYXRjaGVzU2VsZWN0b3IoZSxhKT9bZV06W106ZC5maW5kLm1hdGNoZXMoYSxkLmdyZXAoYixmdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubm9kZVR5cGV9KSl9O2QuZm4uZXh0ZW5kKHtmaW5kOmZ1bmN0aW9uKGEpe3ZhciBiLGM9W10sZT10aGlzLGg9ZS5sZW5ndGg7aWYoInN0cmluZyIhPT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soZChhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2I8aDtiKyspaWYoZC5jb250YWlucyhlW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7YjxoO2IrKylkLmZpbmQoYSxlW2JdLGMpO2M9dGhpcy5wdXNoU3RhY2soMTxoP2QudW5pcXVlKGMpOmMpO2Muc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yKyIgIisKYTphO3JldHVybiBjfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGJiKHRoaXMsYXx8W10sITEpKX0sbm90OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhiYih0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEhYmIodGhpcywic3RyaW5nIj09PXR5cGVvZiBhJiZUYi50ZXN0KGEpP2QoYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgWWEscD1nLmRvY3VtZW50LFZiPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKikpJC87KGQuZm4uaW5pdD1mdW5jdGlvbihhLGIpe3ZhciBjO2lmKCFhKXJldHVybiB0aGlzO2lmKCJzdHJpbmciPT09dHlwZW9mIGEpe2M9IjwiPT09YS5jaGFyQXQoMCkmJiI+Ij09PWEuY2hhckF0KGEubGVuZ3RoLTEpJiYzPD1hLmxlbmd0aD9bbnVsbCxhLG51bGxdOlZiLmV4ZWMoYSk7aWYoIWN8fCFjWzFdJiZiKXJldHVybiFifHxiLmpxdWVyeT8oYnx8WWEpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpOwppZihjWzFdKXtpZihiPWIgaW5zdGFuY2VvZiBkP2JbMF06YixkLm1lcmdlKHRoaXMsZC5wYXJzZUhUTUwoY1sxXSxiJiZiLm5vZGVUeXBlP2Iub3duZXJEb2N1bWVudHx8YjpwLCEwKSksVWIudGVzdChjWzFdKSYmZC5pc1BsYWluT2JqZWN0KGIpKWZvcihjIGluIGIpaWYoZC5pc0Z1bmN0aW9uKHRoaXNbY10pKXRoaXNbY10oYltjXSk7ZWxzZSB0aGlzLmF0dHIoYyxiW2NdKX1lbHNle2lmKChiPXAuZ2V0RWxlbWVudEJ5SWQoY1syXSkpJiZiLnBhcmVudE5vZGUpe2lmKGIuaWQhPT1jWzJdKXJldHVybiBZYS5maW5kKGEpO3RoaXMubGVuZ3RoPTE7dGhpc1swXT1ifXRoaXMuY29udGV4dD1wO3RoaXMuc2VsZWN0b3I9YX1yZXR1cm4gdGhpc31pZihhLm5vZGVUeXBlKXJldHVybiB0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcztpZihkLmlzRnVuY3Rpb24oYSkpcmV0dXJuInVuZGVmaW5lZCIhPT10eXBlb2YgWWEucmVhZHk/WWEucmVhZHkoYSk6YShkKTt2b2lkIDAhPT0KYS5zZWxlY3RvciYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KTtyZXR1cm4gZC5tYWtlQXJyYXkoYSx0aGlzKX0pLnByb3RvdHlwZT1kLmZuO1lhPWQocCk7dmFyIFdiPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLFhiPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O2QuZXh0ZW5kKHtkaXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPVtdO2ZvcihhPWFbYl07YSYmOSE9PWEubm9kZVR5cGUmJih2b2lkIDA9PT1jfHwxIT09YS5ub2RlVHlwZXx8IWQoYSkuaXMoYykpOykxPT09YS5ub2RlVHlwZSYmZS5wdXNoKGEpLGE9YVtiXTtyZXR1cm4gZX0sc2libGluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY319KTtkLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGEpe3ZhciBiLGM9ZChhLHRoaXMpLGU9CmMubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7YjxlO2IrKylpZihkLmNvbnRhaW5zKHRoaXMsY1tiXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxlPTAsaD10aGlzLmxlbmd0aCx1PVtdLGY9VGIudGVzdChhKXx8InN0cmluZyIhPT10eXBlb2YgYT9kKGEsYnx8dGhpcy5jb250ZXh0KTowO2U8aDtlKyspZm9yKGM9dGhpc1tlXTtjJiZjIT09YjtjPWMucGFyZW50Tm9kZSlpZigxMT5jLm5vZGVUeXBlJiYoZj8tMTxmLmluZGV4KGMpOjE9PT1jLm5vZGVUeXBlJiZkLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGMsYSkpKXt1LnB1c2goYyk7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKDE8dS5sZW5ndGg/ZC51bmlxdWUodSk6dSl9LGluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhPyJzdHJpbmciPT09dHlwZW9mIGE/ZC5pbkFycmF5KHRoaXNbMF0sZChhKSk6ZC5pbkFycmF5KGEuanF1ZXJ5P2FbMF06YSx0aGlzKTp0aGlzWzBdJiYKdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZC51bmlxdWUoZC5tZXJnZSh0aGlzLmdldCgpLGQoYSxiKSkpKX0sYWRkQmFjazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9fSk7ZC5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5wYXJlbnROb2RlKSYmMTEhPT1hLm5vZGVUeXBlP2E6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gZC5kaXIoYSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBkLmRpcihhLCJwYXJlbnROb2RlIixjKX0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gUGEoYSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gUGEoYSwicHJldmlvdXNTaWJsaW5nIil9LApuZXh0QWxsOmZ1bmN0aW9uKGEpe3JldHVybiBkLmRpcihhLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiBkLmRpcihhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZC5kaXIoYSwibmV4dFNpYmxpbmciLGMpfSxwcmV2VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBkLmRpcihhLCJwcmV2aW91c1NpYmxpbmciLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4gZC5zaWJsaW5nKChhLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGEpfSxjaGlsZHJlbjpmdW5jdGlvbihhKXtyZXR1cm4gZC5zaWJsaW5nKGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBkLm5vZGVOYW1lKGEsImlmcmFtZSIpP2EuY29udGVudERvY3VtZW50fHxhLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6ZC5tZXJnZShbXSxhLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oYSxiKXtkLmZuW2FdPWZ1bmN0aW9uKGMsCmUpe3ZhciBoPWQubWFwKHRoaXMsYixjKTsiVW50aWwiIT09YS5zbGljZSgtNSkmJihlPWMpO2UmJiJzdHJpbmciPT09dHlwZW9mIGUmJihoPWQuZmlsdGVyKGUsaCkpOzE8dGhpcy5sZW5ndGgmJihYYlthXXx8KGg9ZC51bmlxdWUoaCkpLFdiLnRlc3QoYSkmJihoPWgucmV2ZXJzZSgpKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGgpfX0pO3ZhciBsYT0vXFMrL2csS2I9e307ZC5DYWxsYmFja3M9ZnVuY3Rpb24oYSl7YT0ic3RyaW5nIj09PXR5cGVvZiBhP0tiW2FdfHxjYihhKTpkLmV4dGVuZCh7fSxhKTt2YXIgYixjLGUsaCx1LGYsZz1bXSxrPSFhLm9uY2UmJltdLHc9ZnVuY3Rpb24oZCl7Yz1hLm1lbW9yeSYmZDtlPSEwO3U9Znx8MDtmPTA7aD1nLmxlbmd0aDtmb3IoYj0hMDtnJiZ1PGg7dSsrKWlmKCExPT09Z1t1XS5hcHBseShkWzBdLGRbMV0pJiZhLnN0b3BPbkZhbHNlKXtjPSExO2JyZWFrfWI9ITE7ZyYmKGs/ay5sZW5ndGgmJncoay5zaGlmdCgpKTpjP2c9W106dC5kaXNhYmxlKCkpfSwKdD17YWRkOmZ1bmN0aW9uKCl7aWYoZyl7dmFyIGU9Zy5sZW5ndGg7KGZ1bmN0aW9uIG9jKGIpe2QuZWFjaChiLGZ1bmN0aW9uKGIsYyl7Yj1kLnR5cGUoYyk7ImZ1bmN0aW9uIj09PWI/YS51bmlxdWUmJnQuaGFzKGMpfHxnLnB1c2goYyk6YyYmYy5sZW5ndGgmJiJzdHJpbmciIT09YiYmb2MoYyl9KX0pKGFyZ3VtZW50cyk7Yj9oPWcubGVuZ3RoOmMmJihmPWUsdyhjKSl9cmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe2cmJmQuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxsKXtmb3IodmFyIGM7LTE8KGM9ZC5pbkFycmF5KGwsZyxjKSk7KWcuc3BsaWNlKGMsMSksYiYmKGM8PWgmJmgtLSxjPD11JiZ1LS0pfSk7cmV0dXJuIHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT8tMTxkLmluQXJyYXkoYSxnKTohKCFnfHwhZy5sZW5ndGgpfSxlbXB0eTpmdW5jdGlvbigpe2c9W107aD0wO3JldHVybiB0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7Zz1rPWM9dm9pZCAwO3JldHVybiB0aGlzfSwKZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hZ30sbG9jazpmdW5jdGlvbigpe2s9dm9pZCAwO2N8fHQuZGlzYWJsZSgpO3JldHVybiB0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4ha30sZmlyZVdpdGg6ZnVuY3Rpb24oYSxsKXshZ3x8ZSYmIWt8fChsPWx8fFtdLGw9W2EsbC5zbGljZT9sLnNsaWNlKCk6bF0sYj9rLnB1c2gobCk6dyhsKSk7cmV0dXJuIHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXt0LmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWV9fTtyZXR1cm4gdH07ZC5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPVtbInJlc29sdmUiLCJkb25lIixkLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVzb2x2ZWQiXSxbInJlamVjdCIsImZhaWwiLGQuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZWplY3RlZCJdLFsibm90aWZ5IiwicHJvZ3Jlc3MiLGQuQ2FsbGJhY2tzKCJtZW1vcnkiKV1dLApjPSJwZW5kaW5nIixlPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBjfSxhbHdheXM6ZnVuY3Rpb24oKXtoLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIGQuRGVmZXJyZWQoZnVuY3Rpb24obCl7ZC5lYWNoKGIsZnVuY3Rpb24oYixjKXt2YXIgQj1kLmlzRnVuY3Rpb24oYVtiXSkmJmFbYl07aFtjWzFdXShmdW5jdGlvbigpe3ZhciBhPUImJkIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKGEmJmQuaXNGdW5jdGlvbihhLnByb21pc2UpKWEucHJvbWlzZSgpLmRvbmUobC5yZXNvbHZlKS5mYWlsKGwucmVqZWN0KS5wcm9ncmVzcyhsLm5vdGlmeSk7ZWxzZSBsW2NbMF0rIldpdGgiXSh0aGlzPT09ZT9sLnByb21pc2UoKTp0aGlzLEI/W2FdOmFyZ3VtZW50cyl9KX0pO2E9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9kLmV4dGVuZChhLGUpOgplfX0saD17fTtlLnBpcGU9ZS50aGVuO2QuZWFjaChiLGZ1bmN0aW9uKGEsbCl7dmFyIGQ9bFsyXSxmPWxbM107ZVtsWzFdXT1kLmFkZDtmJiZkLmFkZChmdW5jdGlvbigpe2M9Zn0sYlthXjFdWzJdLmRpc2FibGUsYlsyXVsyXS5sb2NrKTtoW2xbMF1dPWZ1bmN0aW9uKCl7aFtsWzBdKyJXaXRoIl0odGhpcz09PWg/ZTp0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9O2hbbFswXSsiV2l0aCJdPWQuZmlyZVdpdGh9KTtlLnByb21pc2UoaCk7YSYmYS5jYWxsKGgsaCk7cmV0dXJuIGh9LHdoZW46ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPW9hLmNhbGwoYXJndW1lbnRzKSxlPWMubGVuZ3RoLGg9MSE9PWV8fGEmJmQuaXNGdW5jdGlvbihhLnByb21pc2UpP2U6MCx1PTE9PT1oP2E6ZC5EZWZlcnJlZCgpLGY9ZnVuY3Rpb24oYSxiLGwpe3JldHVybiBmdW5jdGlvbihjKXtiW2FdPXRoaXM7bFthXT0xPGFyZ3VtZW50cy5sZW5ndGg/b2EuY2FsbChhcmd1bWVudHMpOmM7bD09PWc/dS5ub3RpZnlXaXRoKGIsCmwpOi0taHx8dS5yZXNvbHZlV2l0aChiLGwpfX0sZyxrLHQ7aWYoMTxlKWZvcihnPUFycmF5KGUpLGs9QXJyYXkoZSksdD1BcnJheShlKTtiPGU7YisrKWNbYl0mJmQuaXNGdW5jdGlvbihjW2JdLnByb21pc2UpP2NbYl0ucHJvbWlzZSgpLmRvbmUoZihiLHQsYykpLmZhaWwodS5yZWplY3QpLnByb2dyZXNzKGYoYixrLGcpKTotLWg7aHx8dS5yZXNvbHZlV2l0aCh0LGMpO3JldHVybiB1LnByb21pc2UoKX19KTt2YXIgdGE7ZC5mbi5yZWFkeT1mdW5jdGlvbihhKXtkLnJlYWR5LnByb21pc2UoKS5kb25lKGEpO3JldHVybiB0aGlzfTtkLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oYSl7YT9kLnJlYWR5V2FpdCsrOmQucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihhKXtpZighMD09PWE/IS0tZC5yZWFkeVdhaXQ6IWQuaXNSZWFkeSl7aWYoIXAuYm9keSlyZXR1cm4gc2V0VGltZW91dChkLnJlYWR5KTtkLmlzUmVhZHk9ITA7ITAhPT1hJiYwPAotLWQucmVhZHlXYWl0fHwodGEucmVzb2x2ZVdpdGgocCxbZF0pLGQuZm4udHJpZ2dlckhhbmRsZXImJihkKHApLnRyaWdnZXJIYW5kbGVyKCJyZWFkeSIpLGQocCkub2ZmKCJyZWFkeSIpKSl9fX0pO2QucmVhZHkucHJvbWlzZT1mdW5jdGlvbihhKXtpZighdGEpaWYodGE9ZC5EZWZlcnJlZCgpLCJjb21wbGV0ZSI9PT1wLnJlYWR5U3RhdGUpc2V0VGltZW91dChkLnJlYWR5KTtlbHNlIGlmKHAuYWRkRXZlbnRMaXN0ZW5lcilwLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLG1hLCExKSxnLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLG1hLCExKTtlbHNle3AuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsbWEpO2cuYXR0YWNoRXZlbnQoIm9ubG9hZCIsbWEpO3ZhciBiPSExO3RyeXtiPW51bGw9PWcuZnJhbWVFbGVtZW50JiZwLmRvY3VtZW50RWxlbWVudH1jYXRjaChjKXt9YiYmYi5kb1Njcm9sbCYmZnVuY3Rpb24gQygpe2lmKCFkLmlzUmVhZHkpe3RyeXtiLmRvU2Nyb2xsKCJsZWZ0Iil9Y2F0Y2goYSl7cmV0dXJuIHNldFRpbWVvdXQoQywKNTApfW9iKCk7ZC5yZWFkeSgpfX0oKX1yZXR1cm4gdGEucHJvbWlzZShhKX07Zm9yKHZhciB2IGluIGQocikpYnJlYWs7ci5vd25MYXN0PSIwIiE9PXY7ci5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PSExO2QoZnVuY3Rpb24oKXt2YXIgYSxiLGM7KGI9cC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdKSYmYi5zdHlsZSYmKGE9cC5jcmVhdGVFbGVtZW50KCJkaXYiKSxjPXAuY3JlYXRlRWxlbWVudCgiZGl2IiksYy5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweCIsYi5hcHBlbmRDaGlsZChjKS5hcHBlbmRDaGlsZChhKSwidW5kZWZpbmVkIiE9PXR5cGVvZiBhLnN0eWxlLnpvb20mJihhLnN0eWxlLmNzc1RleHQ9ImRpc3BsYXk6aW5saW5lO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjEiLHIuaW5saW5lQmxvY2tOZWVkc0xheW91dD1hPTM9PT1hLm9mZnNldFdpZHRoKSYmCihiLnN0eWxlLnpvb209MSksYi5yZW1vdmVDaGlsZChjKSl9KTsoZnVuY3Rpb24oKXt2YXIgYT1wLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2lmKG51bGw9PXIuZGVsZXRlRXhwYW5kbyl7ci5kZWxldGVFeHBhbmRvPSEwO3RyeXtkZWxldGUgYS50ZXN0fWNhdGNoKGIpe3IuZGVsZXRlRXhwYW5kbz0hMX19fSkoKTtkLmFjY2VwdERhdGE9ZnVuY3Rpb24oYSl7dmFyIGI9ZC5ub0RhdGFbKGEubm9kZU5hbWUrIiAiKS50b0xvd2VyQ2FzZSgpXSxjPSthLm5vZGVUeXBlfHwxO3JldHVybiAxIT09YyYmOSE9PWM/ITE6IWJ8fCEwIT09YiYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzaWQiKT09PWJ9O3ZhciBwYT0vXig/Olx7W1x3XFddKlx9fFxbW1x3XFddKlxdKSQvLENhPS8oW0EtWl0pL2c7ZC5leHRlbmQoe2NhY2hlOnt9LG5vRGF0YTp7ImFwcGxldCAiOiEwLCJlbWJlZCAiOiEwLCJvYmplY3QgIjoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIn0saGFzRGF0YTpmdW5jdGlvbihhKXthPQphLm5vZGVUeXBlP2QuY2FjaGVbYVtkLmV4cGFuZG9dXTphW2QuZXhwYW5kb107cmV0dXJuISFhJiYhUWEoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBkYihhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcmIoYSxiKX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBkYihhLGIsYywhMCl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHJiKGEsYiwhMCl9fSk7ZC5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGgsdT10aGlzWzBdLGY9dSYmdS5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWEpe2lmKHRoaXMubGVuZ3RoJiYoaD1kLmRhdGEodSksMT09PXUubm9kZVR5cGUmJiFkLl9kYXRhKHUsInBhcnNlZEF0dHJzIikpKXtmb3IoYz1mLmxlbmd0aDtjLS07KWZbY10mJihlPWZbY10ubmFtZSwwPT09ZS5pbmRleE9mKCJkYXRhLSIpJiYoZT1kLmNhbWVsQ2FzZShlLnNsaWNlKDUpKSxwYih1LGUsaFtlXSkpKTtkLl9kYXRhKHUsCiJwYXJzZWRBdHRycyIsITApfXJldHVybiBofXJldHVybiJvYmplY3QiPT09dHlwZW9mIGE/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZC5kYXRhKHRoaXMsYSl9KToxPGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZC5kYXRhKHRoaXMsYSxiKX0pOnU/cGIodSxhLGQuZGF0YSh1LGEpKTp2b2lkIDB9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2QucmVtb3ZlRGF0YSh0aGlzLGEpfSl9fSk7ZC5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZTtpZihhKXJldHVybiBiPShifHwiZngiKSsicXVldWUiLGU9ZC5fZGF0YShhLGIpLGMmJighZXx8ZC5pc0FycmF5KGMpP2U9ZC5fZGF0YShhLGIsZC5tYWtlQXJyYXkoYykpOmUucHVzaChjKSksZXx8W119LGRlcXVldWU6ZnVuY3Rpb24oYSxiKXtiPWJ8fCJmeCI7dmFyIGM9ZC5xdWV1ZShhLGIpLGU9Yy5sZW5ndGgsaD1jLnNoaWZ0KCksdT1kLl9xdWV1ZUhvb2tzKGEsCmIpLGY9ZnVuY3Rpb24oKXtkLmRlcXVldWUoYSxiKX07ImlucHJvZ3Jlc3MiPT09aCYmKGg9Yy5zaGlmdCgpLGUtLSk7aCYmKCJmeCI9PT1iJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgdS5zdG9wLGguY2FsbChhLGYsdSkpOyFlJiZ1JiZ1LmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iKyJxdWV1ZUhvb2tzIjtyZXR1cm4gZC5fZGF0YShhLGMpfHxkLl9kYXRhKGEsYyx7ZW1wdHk6ZC5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7ZC5fcmVtb3ZlRGF0YShhLGIrInF1ZXVlIik7ZC5fcmVtb3ZlRGF0YShhLGMpfSl9KX19KTtkLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yOyJzdHJpbmciIT09dHlwZW9mIGEmJihiPWEsYT0iZngiLGMtLSk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Yz9kLnF1ZXVlKHRoaXNbMF0sYSk6dm9pZCAwPT09Yj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPQpkLnF1ZXVlKHRoaXMsYSxiKTtkLl9xdWV1ZUhvb2tzKHRoaXMsYSk7ImZ4Ij09PWEmJiJpbnByb2dyZXNzIiE9PWNbMF0mJmQuZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2QuZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlPTEsaD1kLkRlZmVycmVkKCksdT10aGlzLGY9dGhpcy5sZW5ndGgsZz1mdW5jdGlvbigpey0tZXx8aC5yZXNvbHZlV2l0aCh1LFt1XSl9OyJzdHJpbmciIT09dHlwZW9mIGEmJihiPWEsYT12b2lkIDApO2ZvcihhPWF8fCJmeCI7Zi0tOykoYz1kLl9kYXRhKHVbZl0sYSsicXVldWVIb29rcyIpKSYmYy5lbXB0eSYmKGUrKyxjLmVtcHR5LmFkZChnKSk7ZygpO3JldHVybiBoLnByb21pc2UoYil9fSk7dmFyIElhPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLApRPVsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sd2E9ZnVuY3Rpb24oYSxiKXthPWJ8fGE7cmV0dXJuIm5vbmUiPT09ZC5jc3MoYSwiZGlzcGxheSIpfHwhZC5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl9LHVhPWQuYWNjZXNzPWZ1bmN0aW9uKGEsYixjLGUsaCx1LGYpe3ZhciBnPTAsaz1hLmxlbmd0aCx0PW51bGw9PWM7aWYoIm9iamVjdCI9PT1kLnR5cGUoYykpZm9yKGcgaW4gaD0hMCxjKWQuYWNjZXNzKGEsYixnLGNbZ10sITAsdSxmKTtlbHNlIGlmKHZvaWQgMCE9PWUmJihoPSEwLGQuaXNGdW5jdGlvbihlKXx8KGY9ITApLHQmJihmPyhiLmNhbGwoYSxlKSxiPW51bGwpOih0PWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHQuY2FsbChkKGEpLGMpfSkpLGIpKWZvcig7ZzxrO2crKyliKGFbZ10sYyxmP2U6ZS5jYWxsKGFbZ10sZyxiKGFbZ10sYykpKTtyZXR1cm4gaD9hOnQ/Yi5jYWxsKGEpOms/YihhWzBdLGMpOnV9LHRiPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pOwooZnVuY3Rpb24oKXt2YXIgYT1wLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksYj1wLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGM9cC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Yi5pbm5lckhUTUw9IiAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPiI7ci5sZWFkaW5nV2hpdGVzcGFjZT0zPT09Yi5maXJzdENoaWxkLm5vZGVUeXBlO3IudGJvZHk9IWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IikubGVuZ3RoO3IuaHRtbFNlcmlhbGl6ZT0hIWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKS5sZW5ndGg7ci5odG1sNUNsb25lPSI8Om5hdj48LzpuYXY+IiE9PXAuY3JlYXRlRWxlbWVudCgibmF2IikuY2xvbmVOb2RlKCEwKS5vdXRlckhUTUw7YS50eXBlPSJjaGVja2JveCI7YS5jaGVja2VkPSEwO2MuYXBwZW5kQ2hpbGQoYSk7ci5hcHBlbmRDaGVja2VkPWEuY2hlY2tlZDtiLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiI7CnIubm9DbG9uZUNoZWNrZWQ9ISFiLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZTtjLmFwcGVuZENoaWxkKGIpO2IuaW5uZXJIVE1MPSI8aW5wdXQgdHlwZT0ncmFkaW8nIGNoZWNrZWQ9J2NoZWNrZWQnIG5hbWU9J3QnLz4iO3IuY2hlY2tDbG9uZT1iLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZDtyLm5vQ2xvbmVFdmVudD0hMDtiLmF0dGFjaEV2ZW50JiYoYi5hdHRhY2hFdmVudCgib25jbGljayIsZnVuY3Rpb24oKXtyLm5vQ2xvbmVFdmVudD0hMX0pLGIuY2xvbmVOb2RlKCEwKS5jbGljaygpKTtpZihudWxsPT1yLmRlbGV0ZUV4cGFuZG8pe3IuZGVsZXRlRXhwYW5kbz0hMDt0cnl7ZGVsZXRlIGIudGVzdH1jYXRjaChkKXtyLmRlbGV0ZUV4cGFuZG89ITF9fX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGEsYixjPXAuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKGEgaW57c3VibWl0OiEwLGNoYW5nZTohMCxmb2N1c2luOiEwfSliPSJvbiIrCmEsKHJbYSsiQnViYmxlcyJdPWIgaW4gZyl8fChjLnNldEF0dHJpYnV0ZShiLCJ0IiksclthKyJCdWJibGVzIl09ITE9PT1jLmF0dHJpYnV0ZXNbYl0uZXhwYW5kbyl9KSgpO3ZhciBBYj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYSkkL2ksUz0vXmtleS8sSj0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnUpfGNsaWNrLyxCYj0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sbGI9L14oW14uXSopKD86XC4oLispfCkkLztkLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGUsaCl7dmFyIHUsZixnLGssdCx3LG0sQSxuO2lmKGc9ZC5fZGF0YShhKSl7Yy5oYW5kbGVyJiYoaz1jLGM9ay5oYW5kbGVyLGg9ay5zZWxlY3Rvcik7Yy5ndWlkfHwoYy5ndWlkPWQuZ3VpZCsrKTsoZj1nLmV2ZW50cyl8fChmPWcuZXZlbnRzPXt9KTsodD1nLmhhbmRsZSl8fCh0PWcuaGFuZGxlPWZ1bmN0aW9uKGEpe3JldHVybiJ1bmRlZmluZWQiPT09dHlwZW9mIGR8fGEmJgpkLmV2ZW50LnRyaWdnZXJlZD09PWEudHlwZT92b2lkIDA6ZC5ldmVudC5kaXNwYXRjaC5hcHBseSh0LmVsZW0sYXJndW1lbnRzKX0sdC5lbGVtPWEpO2I9KGJ8fCIiKS5tYXRjaChsYSl8fFsiIl07Zm9yKGc9Yi5sZW5ndGg7Zy0tOyl1PWxiLmV4ZWMoYltnXSl8fFtdLEE9dz11WzFdLG49KHVbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxBJiYodT1kLmV2ZW50LnNwZWNpYWxbQV18fHt9LEE9KGg/dS5kZWxlZ2F0ZVR5cGU6dS5iaW5kVHlwZSl8fEEsdT1kLmV2ZW50LnNwZWNpYWxbQV18fHt9LHc9ZC5leHRlbmQoe3R5cGU6QSxvcmlnVHlwZTp3LGRhdGE6ZSxoYW5kbGVyOmMsZ3VpZDpjLmd1aWQsc2VsZWN0b3I6aCxuZWVkc0NvbnRleHQ6aCYmZC5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGgpLG5hbWVzcGFjZTpuLmpvaW4oIi4iKX0sayksKG09ZltBXSl8fChtPWZbQV09W10sbS5kZWxlZ2F0ZUNvdW50PTAsdS5zZXR1cCYmITEhPT11LnNldHVwLmNhbGwoYSxlLG4sdCl8fAooYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihBLHQsITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitBLHQpKSksdS5hZGQmJih1LmFkZC5jYWxsKGEsdyksdy5oYW5kbGVyLmd1aWR8fCh3LmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxoP20uc3BsaWNlKG0uZGVsZWdhdGVDb3VudCsrLDAsdyk6bS5wdXNoKHcpLGQuZXZlbnQuZ2xvYmFsW0FdPSEwKTthPW51bGx9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZSxoKXt2YXIgdSxmLGcsayx0LHcsbSxBLG4sUCxLLEU9ZC5oYXNEYXRhKGEpJiZkLl9kYXRhKGEpO2lmKEUmJih3PUUuZXZlbnRzKSl7Yj0oYnx8IiIpLm1hdGNoKGxhKXx8WyIiXTtmb3IodD1iLmxlbmd0aDt0LS07KWlmKGc9bGIuZXhlYyhiW3RdKXx8W10sbj1LPWdbMV0sUD0oZ1syXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLG4pe209ZC5ldmVudC5zcGVjaWFsW25dfHx7fTtuPShlP20uZGVsZWdhdGVUeXBlOm0uYmluZFR5cGUpfHxuO0E9Cndbbl18fFtdO2c9Z1syXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIrUC5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTtmb3Ioaz11PUEubGVuZ3RoO3UtLTspZj1BW3VdLCFoJiZLIT09Zi5vcmlnVHlwZXx8YyYmYy5ndWlkIT09Zi5ndWlkfHxnJiYhZy50ZXN0KGYubmFtZXNwYWNlKXx8ZSYmZSE9PWYuc2VsZWN0b3ImJigiKioiIT09ZXx8IWYuc2VsZWN0b3IpfHwoQS5zcGxpY2UodSwxKSxmLnNlbGVjdG9yJiZBLmRlbGVnYXRlQ291bnQtLSxtLnJlbW92ZSYmbS5yZW1vdmUuY2FsbChhLGYpKTtrJiYhQS5sZW5ndGgmJihtLnRlYXJkb3duJiYhMSE9PW0udGVhcmRvd24uY2FsbChhLFAsRS5oYW5kbGUpfHxkLnJlbW92ZUV2ZW50KGEsbixFLmhhbmRsZSksZGVsZXRlIHdbbl0pfWVsc2UgZm9yKG4gaW4gdylkLmV2ZW50LnJlbW92ZShhLG4rYlt0XSxjLGUsITApO2QuaXNFbXB0eU9iamVjdCh3KSYmKGRlbGV0ZSBFLmhhbmRsZSxkLl9yZW1vdmVEYXRhKGEsImV2ZW50cyIpKX19LAp0cmlnZ2VyOmZ1bmN0aW9uKGEsYixjLGUpe3ZhciBoLGYsayx0LHcsbSxBPVtjfHxwXSxuPXlhLmNhbGwoYSwidHlwZSIpP2EudHlwZTphO3c9eWEuY2FsbChhLCJuYW1lc3BhY2UiKT9hLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2s9aD1jPWN8fHA7aWYoMyE9PWMubm9kZVR5cGUmJjghPT1jLm5vZGVUeXBlJiYhQmIudGVzdChuK2QuZXZlbnQudHJpZ2dlcmVkKSYmKDA8PW4uaW5kZXhPZigiLiIpJiYodz1uLnNwbGl0KCIuIiksbj13LnNoaWZ0KCksdy5zb3J0KCkpLGY9MD5uLmluZGV4T2YoIjoiKSYmIm9uIituLGE9YVtkLmV4cGFuZG9dP2E6bmV3IGQuRXZlbnQobiwib2JqZWN0Ij09PXR5cGVvZiBhJiZhKSxhLmlzVHJpZ2dlcj1lPzI6MyxhLm5hbWVzcGFjZT13LmpvaW4oIi4iKSxhLm5hbWVzcGFjZV9yZT1hLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIit3LmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsYS5yZXN1bHQ9dm9pZCAwLGEudGFyZ2V0fHwKKGEudGFyZ2V0PWMpLGI9bnVsbD09Yj9bYV06ZC5tYWtlQXJyYXkoYixbYV0pLHc9ZC5ldmVudC5zcGVjaWFsW25dfHx7fSxlfHwhdy50cmlnZ2VyfHwhMSE9PXcudHJpZ2dlci5hcHBseShjLGIpKSl7aWYoIWUmJiF3Lm5vQnViYmxlJiYhZC5pc1dpbmRvdyhjKSl7dD13LmRlbGVnYXRlVHlwZXx8bjtCYi50ZXN0KHQrbil8fChrPWsucGFyZW50Tm9kZSk7Zm9yKDtrO2s9ay5wYXJlbnROb2RlKUEucHVzaChrKSxoPWs7aD09PShjLm93bmVyRG9jdW1lbnR8fHApJiZBLnB1c2goaC5kZWZhdWx0Vmlld3x8aC5wYXJlbnRXaW5kb3d8fGcpfWZvcihtPTA7KGs9QVttKytdKSYmIWEuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspYS50eXBlPTE8bT90OncuYmluZFR5cGV8fG4sKGg9KGQuX2RhdGEoaywiZXZlbnRzIil8fHt9KVthLnR5cGVdJiZkLl9kYXRhKGssImhhbmRsZSIpKSYmaC5hcHBseShrLGIpLChoPWYmJmtbZl0pJiZoLmFwcGx5JiZkLmFjY2VwdERhdGEoaykmJihhLnJlc3VsdD1oLmFwcGx5KGssCmIpLCExPT09YS5yZXN1bHQmJmEucHJldmVudERlZmF1bHQoKSk7YS50eXBlPW47aWYoIShlfHxhLmlzRGVmYXVsdFByZXZlbnRlZCgpfHx3Ll9kZWZhdWx0JiYhMSE9PXcuX2RlZmF1bHQuYXBwbHkoQS5wb3AoKSxiKSkmJmQuYWNjZXB0RGF0YShjKSYmZiYmY1tuXSYmIWQuaXNXaW5kb3coYykpeyhoPWNbZl0pJiYoY1tmXT1udWxsKTtkLmV2ZW50LnRyaWdnZXJlZD1uO3RyeXtjW25dKCl9Y2F0Y2goUCl7fWQuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMDtoJiYoY1tmXT1oKX1yZXR1cm4gYS5yZXN1bHR9fSxkaXNwYXRjaDpmdW5jdGlvbihhKXthPWQuZXZlbnQuZml4KGEpO3ZhciBiLGMsZSxoLGYsZz1vYS5jYWxsKGFyZ3VtZW50cyk7Yj0oZC5fZGF0YSh0aGlzLCJldmVudHMiKXx8e30pW2EudHlwZV18fFtdO3ZhciBrPWQuZXZlbnQuc3BlY2lhbFthLnR5cGVdfHx7fTtnWzBdPWE7YS5kZWxlZ2F0ZVRhcmdldD10aGlzO2lmKCFrLnByZURpc3BhdGNofHwhMSE9PWsucHJlRGlzcGF0Y2guY2FsbCh0aGlzLAphKSl7Zj1kLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGIpO2ZvcihiPTA7KGU9ZltiKytdKSYmIWEuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspZm9yKGEuY3VycmVudFRhcmdldD1lLmVsZW0saD0wOyhjPWUuaGFuZGxlcnNbaCsrXSkmJiFhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCk7KWlmKCFhLm5hbWVzcGFjZV9yZXx8YS5uYW1lc3BhY2VfcmUudGVzdChjLm5hbWVzcGFjZSkpYS5oYW5kbGVPYmo9YyxhLmRhdGE9Yy5kYXRhLGM9KChkLmV2ZW50LnNwZWNpYWxbYy5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGMuaGFuZGxlcikuYXBwbHkoZS5lbGVtLGcpLHZvaWQgMCE9PWMmJiExPT09KGEucmVzdWx0PWMpJiYoYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCkpO2sucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSk7cmV0dXJuIGEucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGgsZixnPVtdLGs9CmIuZGVsZWdhdGVDb3VudCx3PWEudGFyZ2V0O2lmKGsmJncubm9kZVR5cGUmJighYS5idXR0b258fCJjbGljayIhPT1hLnR5cGUpKWZvcig7dyE9dGhpczt3PXcucGFyZW50Tm9kZXx8dGhpcylpZigxPT09dy5ub2RlVHlwZSYmKCEwIT09dy5kaXNhYmxlZHx8ImNsaWNrIiE9PWEudHlwZSkpe2g9W107Zm9yKGY9MDtmPGs7ZisrKWU9YltmXSxjPWUuc2VsZWN0b3IrIiAiLHZvaWQgMD09PWhbY10mJihoW2NdPWUubmVlZHNDb250ZXh0PzA8PWQoYyx0aGlzKS5pbmRleCh3KTpkLmZpbmQoYyx0aGlzLG51bGwsW3ddKS5sZW5ndGgpLGhbY10mJmgucHVzaChlKTtoLmxlbmd0aCYmZy5wdXNoKHtlbGVtOncsaGFuZGxlcnM6aH0pfWs8Yi5sZW5ndGgmJmcucHVzaCh7ZWxlbTp0aGlzLGhhbmRsZXJzOmIuc2xpY2Uoayl9KTtyZXR1cm4gZ30sZml4OmZ1bmN0aW9uKGEpe2lmKGFbZC5leHBhbmRvXSlyZXR1cm4gYTt2YXIgYixjLGU7Yj1hLnR5cGU7dmFyIGg9YSxmPXRoaXMuZml4SG9va3NbYl07CmZ8fCh0aGlzLmZpeEhvb2tzW2JdPWY9Si50ZXN0KGIpP3RoaXMubW91c2VIb29rczpTLnRlc3QoYik/dGhpcy5rZXlIb29rczp7fSk7ZT1mLnByb3BzP3RoaXMucHJvcHMuY29uY2F0KGYucHJvcHMpOnRoaXMucHJvcHM7YT1uZXcgZC5FdmVudChoKTtmb3IoYj1lLmxlbmd0aDtiLS07KWM9ZVtiXSxhW2NdPWhbY107YS50YXJnZXR8fChhLnRhcmdldD1oLnNyY0VsZW1lbnR8fHApOzM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpO2EubWV0YUtleT0hIWEubWV0YUtleTtyZXR1cm4gZi5maWx0ZXI/Zi5maWx0ZXIoYSxoKTphfSxwcm9wczoiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoIi5zcGxpdCgiICIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczpbImNoYXIiLCJjaGFyQ29kZSIsCiJrZXkiLCJrZXlDb2RlIl0sZmlsdGVyOmZ1bmN0aW9uKGEsYil7bnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSk7cmV0dXJuIGF9fSxtb3VzZUhvb2tzOntwcm9wczoiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIGZyb21FbGVtZW50IG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50Ii5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihhLGIpe3ZhciBjLGUsZD1iLmJ1dHRvbixoPWIuZnJvbUVsZW1lbnQ7bnVsbD09YS5wYWdlWCYmbnVsbCE9Yi5jbGllbnRYJiYoYz1hLnRhcmdldC5vd25lckRvY3VtZW50fHxwLGU9Yy5kb2N1bWVudEVsZW1lbnQsYz1jLmJvZHksYS5wYWdlWD1iLmNsaWVudFgrKGUmJmUuc2Nyb2xsTGVmdHx8YyYmYy5zY3JvbGxMZWZ0fHwwKS0oZSYmZS5jbGllbnRMZWZ0fHxjJiZjLmNsaWVudExlZnR8fDApLGEucGFnZVk9Yi5jbGllbnRZKyhlJiYKZS5zY3JvbGxUb3B8fGMmJmMuc2Nyb2xsVG9wfHwwKS0oZSYmZS5jbGllbnRUb3B8fGMmJmMuY2xpZW50VG9wfHwwKSk7IWEucmVsYXRlZFRhcmdldCYmaCYmKGEucmVsYXRlZFRhcmdldD1oPT09YS50YXJnZXQ/Yi50b0VsZW1lbnQ6aCk7YS53aGljaHx8dm9pZCAwPT09ZHx8KGEud2hpY2g9ZCYxPzE6ZCYyPzM6ZCY0PzI6MCk7cmV0dXJuIGF9fSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzIT09aGEoKSYmdGhpcy5mb2N1cyl0cnl7cmV0dXJuIHRoaXMuZm9jdXMoKSwhMX1jYXRjaChhKXt9fSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYodGhpcz09PWhhKCkmJnRoaXMuYmx1cilyZXR1cm4gdGhpcy5ibHVyKCksITF9LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKGQubm9kZU5hbWUodGhpcywiaW5wdXQiKSYmImNoZWNrYm94Ij09PQp0aGlzLnR5cGUmJnRoaXMuY2xpY2spcmV0dXJuIHRoaXMuY2xpY2soKSwhMX0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGQubm9kZU5hbWUoYS50YXJnZXQsImEiKX19LGJlZm9yZXVubG9hZDp7cG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe3ZvaWQgMCE9PWEucmVzdWx0JiZhLm9yaWdpbmFsRXZlbnQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjLGUpe2E9ZC5leHRlbmQobmV3IGQuRXZlbnQsYyx7dHlwZTphLGlzU2ltdWxhdGVkOiEwLG9yaWdpbmFsRXZlbnQ6e319KTtlP2QuZXZlbnQudHJpZ2dlcihhLG51bGwsYik6ZC5ldmVudC5kaXNwYXRjaC5jYWxsKGIsYSk7YS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYy5wcmV2ZW50RGVmYXVsdCgpfX07ZC5yZW1vdmVFdmVudD1wLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsCmMsITEpfTpmdW5jdGlvbihhLGIsYyl7Yj0ib24iK2I7YS5kZXRhY2hFdmVudCYmKCJ1bmRlZmluZWQiPT09dHlwZW9mIGFbYl0mJihhW2JdPW51bGwpLGEuZGV0YWNoRXZlbnQoYixjKSl9O2QuRXZlbnQ9ZnVuY3Rpb24oYSxiKXtpZighKHRoaXMgaW5zdGFuY2VvZiBkLkV2ZW50KSlyZXR1cm4gbmV3IGQuRXZlbnQoYSxiKTthJiZhLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1hLHRoaXMudHlwZT1hLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1hLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09YS5yZXR1cm5WYWx1ZT9EYTpXKTp0aGlzLnR5cGU9YTtiJiZkLmV4dGVuZCh0aGlzLGIpO3RoaXMudGltZVN0YW1wPWEmJmEudGltZVN0YW1wfHxkLm5vdygpO3RoaXNbZC5leHBhbmRvXT0hMH07ZC5FdmVudC5wcm90b3R5cGU9e2lzRGVmYXVsdFByZXZlbnRlZDpXLGlzUHJvcGFnYXRpb25TdG9wcGVkOlcsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6VywKcHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9RGE7YSYmKGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1EYTthJiYoYS5zdG9wUHJvcGFnYXRpb24mJmEuc3RvcFByb3BhZ2F0aW9uKCksYS5jYW5jZWxCdWJibGU9ITApfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1EYTthJiZhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX07ZC5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0IiwKcG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXtkLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGw9YS5yZWxhdGVkVGFyZ2V0LGU9YS5oYW5kbGVPYmo7aWYoIWx8fGwhPT10aGlzJiYhZC5jb250YWlucyh0aGlzLGwpKWEudHlwZT1lLm9yaWdUeXBlLGM9ZS5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhLnR5cGU9YjtyZXR1cm4gY319fSk7ci5zdWJtaXRCdWJibGVzfHwoZC5ldmVudC5zcGVjaWFsLnN1Ym1pdD17c2V0dXA6ZnVuY3Rpb24oKXtpZihkLm5vZGVOYW1lKHRoaXMsImZvcm0iKSlyZXR1cm4hMTtkLmV2ZW50LmFkZCh0aGlzLCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXQiLGZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7KGE9ZC5ub2RlTmFtZShhLCJpbnB1dCIpfHxkLm5vZGVOYW1lKGEsImJ1dHRvbiIpP2EuZm9ybToKdm9pZCAwKSYmIWQuX2RhdGEoYSwic3VibWl0QnViYmxlcyIpJiYoZC5ldmVudC5hZGQoYSwic3VibWl0Ll9zdWJtaXQiLGZ1bmN0aW9uKGEpe2EuX3N1Ym1pdF9idWJibGU9ITB9KSxkLl9kYXRhKGEsInN1Ym1pdEJ1YmJsZXMiLCEwKSl9KX0scG9zdERpc3BhdGNoOmZ1bmN0aW9uKGEpe2EuX3N1Ym1pdF9idWJibGUmJihkZWxldGUgYS5fc3VibWl0X2J1YmJsZSx0aGlzLnBhcmVudE5vZGUmJiFhLmlzVHJpZ2dlciYmZC5ldmVudC5zaW11bGF0ZSgic3VibWl0Iix0aGlzLnBhcmVudE5vZGUsYSwhMCkpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKGQubm9kZU5hbWUodGhpcywiZm9ybSIpKXJldHVybiExO2QuZXZlbnQucmVtb3ZlKHRoaXMsIi5fc3VibWl0Iil9fSk7ci5jaGFuZ2VCdWJibGVzfHwoZC5ldmVudC5zcGVjaWFsLmNoYW5nZT17c2V0dXA6ZnVuY3Rpb24oKXtpZihBYi50ZXN0KHRoaXMubm9kZU5hbWUpKXtpZigiY2hlY2tib3giPT09dGhpcy50eXBlfHwicmFkaW8iPT09CnRoaXMudHlwZSlkLmV2ZW50LmFkZCh0aGlzLCJwcm9wZXJ0eWNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihhKXsiY2hlY2tlZCI9PT1hLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lJiYodGhpcy5fanVzdF9jaGFuZ2VkPSEwKX0pLGQuZXZlbnQuYWRkKHRoaXMsImNsaWNrLl9jaGFuZ2UiLGZ1bmN0aW9uKGEpe3RoaXMuX2p1c3RfY2hhbmdlZCYmIWEuaXNUcmlnZ2VyJiYodGhpcy5fanVzdF9jaGFuZ2VkPSExKTtkLmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMsYSwhMCl9KTtyZXR1cm4hMX1kLmV2ZW50LmFkZCh0aGlzLCJiZWZvcmVhY3RpdmF0ZS5fY2hhbmdlIixmdW5jdGlvbihhKXthPWEudGFyZ2V0O0FiLnRlc3QoYS5ub2RlTmFtZSkmJiFkLl9kYXRhKGEsImNoYW5nZUJ1YmJsZXMiKSYmKGQuZXZlbnQuYWRkKGEsImNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihhKXshdGhpcy5wYXJlbnROb2RlfHxhLmlzU2ltdWxhdGVkfHxhLmlzVHJpZ2dlcnx8ZC5ldmVudC5zaW11bGF0ZSgiY2hhbmdlIiwKdGhpcy5wYXJlbnROb2RlLGEsITApfSksZC5fZGF0YShhLCJjaGFuZ2VCdWJibGVzIiwhMCkpfSl9LGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldDtpZih0aGlzIT09Ynx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fCJyYWRpbyIhPT1iLnR5cGUmJiJjaGVja2JveCIhPT1iLnR5cGUpcmV0dXJuIGEuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2QuZXZlbnQucmVtb3ZlKHRoaXMsIi5fY2hhbmdlIik7cmV0dXJuIUFiLnRlc3QodGhpcy5ub2RlTmFtZSl9fSk7ci5mb2N1c2luQnViYmxlc3x8ZC5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe2QuZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxkLmV2ZW50LmZpeChhKSwhMCl9O2QuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fAp0aGlzLGg9ZC5fZGF0YShlLGIpO2h8fGUuYWRkRXZlbnRMaXN0ZW5lcihhLGMsITApO2QuX2RhdGEoZSxiLChofHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsaD1kLl9kYXRhKGUsYiktMTtoP2QuX2RhdGEoZSxiLGgpOihlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxjLCEwKSxkLl9yZW1vdmVEYXRhKGUsYikpfX19KTtkLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oYSxiLGMsZSxoKXt2YXIgZixnO2lmKCJvYmplY3QiPT09dHlwZW9mIGEpeyJzdHJpbmciIT09dHlwZW9mIGImJihjPWN8fGIsYj12b2lkIDApO2ZvcihmIGluIGEpdGhpcy5vbihmLGIsYyxhW2ZdLGgpO3JldHVybiB0aGlzfW51bGw9PWMmJm51bGw9PWU/KGU9YixjPWI9dm9pZCAwKTpudWxsPT1lJiYoInN0cmluZyI9PT10eXBlb2YgYj8oZT1jLGM9dm9pZCAwKTooZT1jLGM9YixiPXZvaWQgMCkpO2lmKCExPT09ZSllPVc7ZWxzZSBpZighZSlyZXR1cm4gdGhpczsKMT09PWgmJihnPWUsZT1mdW5jdGlvbihhKXtkKCkub2ZmKGEpO3JldHVybiBnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1kLmd1aWQrKykpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkLmV2ZW50LmFkZCh0aGlzLGEsZSxjLGIpfSl9LG9uZTpmdW5jdGlvbihhLGIsYyxlKXtyZXR1cm4gdGhpcy5vbihhLGIsYyxlLDEpfSxvZmY6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlO2lmKGEmJmEucHJldmVudERlZmF1bHQmJmEuaGFuZGxlT2JqKXJldHVybiBlPWEuaGFuZGxlT2JqLGQoYS5kZWxlZ2F0ZVRhcmdldCkub2ZmKGUubmFtZXNwYWNlP2Uub3JpZ1R5cGUrIi4iK2UubmFtZXNwYWNlOmUub3JpZ1R5cGUsZS5zZWxlY3RvcixlLmhhbmRsZXIpLHRoaXM7aWYoIm9iamVjdCI9PT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9aWYoITE9PT1ifHwiZnVuY3Rpb24iPT09dHlwZW9mIGIpYz1iLGI9dm9pZCAwOwohMT09PWMmJihjPVcpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkLmV2ZW50LnJlbW92ZSh0aGlzLGEsYyxiKX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2QuZXZlbnQudHJpZ2dlcihhLGIsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzWzBdO2lmKGMpcmV0dXJuIGQuZXZlbnQudHJpZ2dlcihhLGIsYywhMCl9fSk7dmFyIHNiPSJhYmJyfGFydGljbGV8YXNpZGV8YXVkaW98YmRpfGNhbnZhc3xkYXRhfGRhdGFsaXN0fGRldGFpbHN8ZmlnY2FwdGlvbnxmaWd1cmV8Zm9vdGVyfGhlYWRlcnxoZ3JvdXB8bWFya3xtZXRlcnxuYXZ8b3V0cHV0fHByb2dyZXNzfHNlY3Rpb258c3VtbWFyeXx0aW1lfHZpZGVvIixZYj0vIGpRdWVyeVxkKz0iKD86bnVsbHxcZCspIi9nLFpiPW5ldyBSZWdFeHAoIjwoPzoiK3NiKyIpW1xccy8+XSIsImkiKSxaYT0vXlxzKy8sQ2I9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1x3Ol0rKVtePl0qKVwvPi9naSwKSmE9LzwoW1x3Ol0rKS8sRGI9Lzx0Ym9keS9pLGVjPS88fCYjP1x3KzsvLG1iPS88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksa2E9L2NoZWNrZWRccyooPzpbXj1dfD1ccyouY2hlY2tlZC4pL2ksJGE9L14kfFwvKD86amF2YXxlY21hKXNjcmlwdC9pLGNjPS9edHJ1ZVwvKC4qKS8sQWE9L15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nLFQ9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLGxlZ2VuZDpbMSwiPGZpZWxkc2V0PiIsIjwvZmllbGRzZXQ+Il0sYXJlYTpbMSwiPG1hcD4iLCI8L21hcD4iXSxwYXJhbTpbMSwiPG9iamVjdD4iLCI8L29iamVjdD4iXSx0aGVhZDpbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il0sdHI6WzIsIjx0YWJsZT48dGJvZHk+IiwiPC90Ym9keT48L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sdGQ6WzMsCiI8dGFibGU+PHRib2R5Pjx0cj4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxfZGVmYXVsdDpyLmh0bWxTZXJpYWxpemU/WzAsIiIsIiJdOlsxLCJYPGRpdj4iLCI8L2Rpdj4iXX0sS2E9UmEocCkuYXBwZW5kQ2hpbGQocC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7VC5vcHRncm91cD1ULm9wdGlvbjtULnRib2R5PVQudGZvb3Q9VC5jb2xncm91cD1ULmNhcHRpb249VC50aGVhZDtULnRoPVQudGQ7ZC5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGEsYixjKXt2YXIgZSxoLGYsZyxrLHc9ZC5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSk7ci5odG1sNUNsb25lfHxkLmlzWE1MRG9jKGEpfHwhWmIudGVzdCgiPCIrYS5ub2RlTmFtZSsiPiIpP2Y9YS5jbG9uZU5vZGUoITApOihLYS5pbm5lckhUTUw9YS5vdXRlckhUTUwsS2EucmVtb3ZlQ2hpbGQoZj1LYS5maXJzdENoaWxkKSk7aWYoIShyLm5vQ2xvbmVFdmVudCYmci5ub0Nsb25lQ2hlY2tlZHx8MSE9PWEubm9kZVR5cGUmJjExIT09YS5ub2RlVHlwZXx8CmQuaXNYTUxEb2MoYSkpKWZvcihlPUwoZiksaz1MKGEpLGc9MDtudWxsIT0oaD1rW2ddKTsrK2cpaWYoZVtnXSl7dmFyIHQ9ZVtnXSxtLEE9dm9pZCAwLG47aWYoMT09PXQubm9kZVR5cGUpe209dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKCFyLm5vQ2xvbmVFdmVudCYmdFtkLmV4cGFuZG9dKXtuPWQuX2RhdGEodCk7Zm9yKEEgaW4gbi5ldmVudHMpZC5yZW1vdmVFdmVudCh0LEEsbi5oYW5kbGUpO3QucmVtb3ZlQXR0cmlidXRlKGQuZXhwYW5kbyl9aWYoInNjcmlwdCI9PT1tJiZ0LnRleHQhPT1oLnRleHQpdmIodCkudGV4dD1oLnRleHQsd2IodCk7ZWxzZSBpZigib2JqZWN0Ij09PW0pdC5wYXJlbnROb2RlJiYodC5vdXRlckhUTUw9aC5vdXRlckhUTUwpLHIuaHRtbDVDbG9uZSYmaC5pbm5lckhUTUwmJiFkLnRyaW0odC5pbm5lckhUTUwpJiYodC5pbm5lckhUTUw9aC5pbm5lckhUTUwpO2Vsc2UgaWYoImlucHV0Ij09PW0mJnRiLnRlc3QoaC50eXBlKSl0LmRlZmF1bHRDaGVja2VkPQp0LmNoZWNrZWQ9aC5jaGVja2VkLHQudmFsdWUhPT1oLnZhbHVlJiYodC52YWx1ZT1oLnZhbHVlKTtlbHNlIGlmKCJvcHRpb24iPT09bSl0LmRlZmF1bHRTZWxlY3RlZD10LnNlbGVjdGVkPWguZGVmYXVsdFNlbGVjdGVkO2Vsc2UgaWYoImlucHV0Ij09PW18fCJ0ZXh0YXJlYSI9PT1tKXQuZGVmYXVsdFZhbHVlPWguZGVmYXVsdFZhbHVlfX1pZihiKWlmKGMpZm9yKGs9a3x8TChhKSxlPWV8fEwoZiksZz0wO251bGwhPShoPWtbZ10pO2crKyl4YihoLGVbZ10pO2Vsc2UgeGIoYSxmKTtlPUwoZiwic2NyaXB0Iik7MDxlLmxlbmd0aCYmU2EoZSwhdyYmTChhLCJzY3JpcHQiKSk7cmV0dXJuIGZ9LGJ1aWxkRnJhZ21lbnQ6ZnVuY3Rpb24oYSxiLGMsZSl7Zm9yKHZhciBoLGYsZyxrLHQsdyxtPWEubGVuZ3RoLEE9UmEoYiksbj1bXSxQPTA7UDxtO1ArKylpZigoZj1hW1BdKXx8MD09PWYpaWYoIm9iamVjdCI9PT1kLnR5cGUoZikpZC5tZXJnZShuLGYubm9kZVR5cGU/W2ZdOmYpO2Vsc2UgaWYoZWMudGVzdChmKSl7Zz0KZ3x8QS5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImRpdiIpKTtrPShKYS5leGVjKGYpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpO3c9VFtrXXx8VC5fZGVmYXVsdDtnLmlubmVySFRNTD13WzFdK2YucmVwbGFjZShDYiwiPCQxPjwvJDI+Iikrd1syXTtmb3IoaD13WzBdO2gtLTspZz1nLmxhc3RDaGlsZDshci5sZWFkaW5nV2hpdGVzcGFjZSYmWmEudGVzdChmKSYmbi5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoWmEuZXhlYyhmKVswXSkpO2lmKCFyLnRib2R5KWZvcihoPShmPSJ0YWJsZSIhPT1rfHxEYi50ZXN0KGYpPyI8dGFibGU+IiE9PXdbMV18fERiLnRlc3QoZik/MDpnOmcuZmlyc3RDaGlsZCkmJmYuY2hpbGROb2Rlcy5sZW5ndGg7aC0tOylkLm5vZGVOYW1lKHQ9Zi5jaGlsZE5vZGVzW2hdLCJ0Ym9keSIpJiYhdC5jaGlsZE5vZGVzLmxlbmd0aCYmZi5yZW1vdmVDaGlsZCh0KTtkLm1lcmdlKG4sZy5jaGlsZE5vZGVzKTtmb3IoZy50ZXh0Q29udGVudD0iIjtnLmZpcnN0Q2hpbGQ7KWcucmVtb3ZlQ2hpbGQoZy5maXJzdENoaWxkKTsKZz1BLmxhc3RDaGlsZH1lbHNlIG4ucHVzaChiLmNyZWF0ZVRleHROb2RlKGYpKTtnJiZBLnJlbW92ZUNoaWxkKGcpO3IuYXBwZW5kQ2hlY2tlZHx8ZC5ncmVwKEwobiwiaW5wdXQiKSxMYik7Zm9yKFA9MDtmPW5bUCsrXTspaWYoIWV8fC0xPT09ZC5pbkFycmF5KGYsZSkpaWYoYT1kLmNvbnRhaW5zKGYub3duZXJEb2N1bWVudCxmKSxnPUwoQS5hcHBlbmRDaGlsZChmKSwic2NyaXB0IiksYSYmU2EoZyksYylmb3IoaD0wO2Y9Z1toKytdOykkYS50ZXN0KGYudHlwZXx8IiIpJiZjLnB1c2goZik7cmV0dXJuIEF9LGNsZWFuRGF0YTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxlLGgsZixnPTAsaz1kLmV4cGFuZG8sdD1kLmNhY2hlLHc9ci5kZWxldGVFeHBhbmRvLG09ZC5ldmVudC5zcGVjaWFsO251bGwhPShjPWFbZ10pO2crKylpZihifHxkLmFjY2VwdERhdGEoYykpaWYoZj0oaD1jW2tdKSYmdFtoXSl7aWYoZi5ldmVudHMpZm9yKGUgaW4gZi5ldmVudHMpbVtlXT9kLmV2ZW50LnJlbW92ZShjLAplKTpkLnJlbW92ZUV2ZW50KGMsZSxmLmhhbmRsZSk7dFtoXSYmKGRlbGV0ZSB0W2hdLHc/ZGVsZXRlIGNba106InVuZGVmaW5lZCIhPT10eXBlb2YgYy5yZW1vdmVBdHRyaWJ1dGU/Yy5yZW1vdmVBdHRyaWJ1dGUoayk6Y1trXT1udWxsLGdhLnB1c2goaCkpfX19KTtkLmZuLmV4dGVuZCh7dGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gdWEodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9kLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxwKS5jcmVhdGVUZXh0Tm9kZShhKSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHx1Yih0aGlzLGEpLmFwcGVuZENoaWxkKGEpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsCmZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj11Yih0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hP2QuZmlsdGVyKGEsdGhpcyk6dGhpcyxlPTA7bnVsbCE9KGE9Y1tlXSk7ZSsrKWJ8fDEhPT1hLm5vZGVUeXBlfHxkLmNsZWFuRGF0YShMKGEpKSxhLnBhcmVudE5vZGUmJgooYiYmZC5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSkmJlNhKEwoYSwic2NyaXB0IikpLGEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MDtudWxsIT0oYT10aGlzW2JdKTtiKyspe2ZvcigxPT09YS5ub2RlVHlwZSYmZC5jbGVhbkRhdGEoTChhLCExKSk7YS5maXJzdENoaWxkOylhLnJlbW92ZUNoaWxkKGEuZmlyc3RDaGlsZCk7YS5vcHRpb25zJiZkLm5vZGVOYW1lKGEsInNlbGVjdCIpJiYoYS5vcHRpb25zLmxlbmd0aD0wKX1yZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oYSxiKXthPW51bGw9PWE/ITE6YTtiPW51bGw9PWI/YTpiO3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBkLmNsb25lKHRoaXMsYSxiKX0pfSxodG1sOmZ1bmN0aW9uKGEpe3JldHVybiB1YSh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxlPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEpcmV0dXJuIDE9PT0KYi5ub2RlVHlwZT9iLmlubmVySFRNTC5yZXBsYWNlKFliLCIiKTp2b2lkIDA7aWYoISgic3RyaW5nIiE9PXR5cGVvZiBhfHxtYi50ZXN0KGEpfHwhci5odG1sU2VyaWFsaXplJiZaYi50ZXN0KGEpfHwhci5sZWFkaW5nV2hpdGVzcGFjZSYmWmEudGVzdChhKXx8VFsoSmEuZXhlYyhhKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pKXthPWEucmVwbGFjZShDYiwiPCQxPjwvJDI+Iik7dHJ5e2Zvcig7YzxlO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYoZC5jbGVhbkRhdGEoTChiLCExKSksYi5pbm5lckhUTUw9YSk7Yj0wfWNhdGNoKGwpe319YiYmdGhpcy5lbXB0eSgpLmFwcGVuZChhKX0sbnVsbCxhLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50c1swXTt0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihiKXthPXRoaXMucGFyZW50Tm9kZTtkLmNsZWFuRGF0YShMKHRoaXMpKTthJiZhLnJlcGxhY2VDaGlsZChiLAp0aGlzKX0pO3JldHVybiBhJiYoYS5sZW5ndGh8fGEubm9kZVR5cGUpP3RoaXM6dGhpcy5yZW1vdmUoKX0sZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlbW92ZShhLCEwKX0sZG9tTWFuaXA6ZnVuY3Rpb24oYSxiKXthPWZhLmFwcGx5KFtdLGEpO3ZhciBjLGUsaCxmLGc9MCxrPXRoaXMubGVuZ3RoLHQ9dGhpcyx3PWstMSxtPWFbMF0sQT1kLmlzRnVuY3Rpb24obSk7aWYoQXx8MTxrJiYic3RyaW5nIj09PXR5cGVvZiBtJiYhci5jaGVja0Nsb25lJiZrYS50ZXN0KG0pKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGU9dC5lcShjKTtBJiYoYVswXT1tLmNhbGwodGhpcyxjLGUuaHRtbCgpKSk7ZS5kb21NYW5pcChhLGIpfSk7aWYoayYmKGY9ZC5idWlsZEZyYWdtZW50KGEsdGhpc1swXS5vd25lckRvY3VtZW50LCExLHRoaXMpLGM9Zi5maXJzdENoaWxkLDE9PT1mLmNoaWxkTm9kZXMubGVuZ3RoJiYoZj1jKSxjKSl7aD1kLm1hcChMKGYsInNjcmlwdCIpLHZiKTsKZm9yKGU9aC5sZW5ndGg7ZzxrO2crKyljPWYsZyE9PXcmJihjPWQuY2xvbmUoYywhMCwhMCksZSYmZC5tZXJnZShoLEwoYywic2NyaXB0IikpKSxiLmNhbGwodGhpc1tnXSxjLGcpO2lmKGUpZm9yKGY9aFtoLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LGQubWFwKGgsd2IpLGc9MDtnPGU7ZysrKWM9aFtnXSwkYS50ZXN0KGMudHlwZXx8IiIpJiYhZC5fZGF0YShjLCJnbG9iYWxFdmFsIikmJmQuY29udGFpbnMoZixjKSYmKGMuc3JjP2QuX2V2YWxVcmwmJmQuX2V2YWxVcmwoYy5zcmMpOmQuZ2xvYmFsRXZhbCgoYy50ZXh0fHxjLnRleHRDb250ZW50fHxjLmlubmVySFRNTHx8IiIpLnJlcGxhY2UoQWEsIiIpKSk7Zj1jPW51bGx9cmV0dXJuIHRoaXN9fSk7ZC5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oYSxiKXtkLmZuW2FdPQpmdW5jdGlvbihhKXtmb3IodmFyIGM9MCxlPVtdLGw9ZChhKSxoPWwubGVuZ3RoLTE7Yzw9aDtjKyspYT1jPT09aD90aGlzOnRoaXMuY2xvbmUoITApLGQobFtjXSlbYl0oYSksamIuYXBwbHkoZSxhLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZSl9fSk7dmFyIEZhLHZhPXt9OyhmdW5jdGlvbigpe3ZhciBhO3Iuc2hyaW5rV3JhcEJsb2Nrcz1mdW5jdGlvbigpe2lmKG51bGwhPWEpcmV0dXJuIGE7YT0hMTt2YXIgYixjLGU7aWYoKGM9cC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdKSYmYy5zdHlsZSlyZXR1cm4gYj1wLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGU9cC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2JvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4IixjLmFwcGVuZENoaWxkKGUpLmFwcGVuZENoaWxkKGIpLCJ1bmRlZmluZWQiIT09dHlwZW9mIGIuc3R5bGUuem9vbSYmKGIuc3R5bGUuY3NzVGV4dD0KIi13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjEiLGIuYXBwZW5kQ2hpbGQocC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuc3R5bGUud2lkdGg9IjVweCIsYT0zIT09Yi5vZmZzZXRXaWR0aCksYy5yZW1vdmVDaGlsZChlKSxhfX0pKCk7dmFyIEViPS9ebWFyZ2luLyxHPW5ldyBSZWdFeHAoIl4oIitJYSsiKSg/IXB4KVthLXolXSskIiwiaSIpLGRhLHhhLGZjPS9eKHRvcHxyaWdodHxib3R0b218bGVmdCkkLztnLmdldENvbXB1dGVkU3R5bGU/KGRhPWZ1bmN0aW9uKGEpe3JldHVybiBhLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShhLG51bGwpfSx4YT1mdW5jdGlvbihhLGIsYyl7dmFyIGUsaCxmPWEuc3R5bGU7aD0oYz1jfHxkYShhKSk/Yy5nZXRQcm9wZXJ0eVZhbHVlKGIpfHwKY1tiXTp2b2lkIDA7YyYmKCIiIT09aHx8ZC5jb250YWlucyhhLm93bmVyRG9jdW1lbnQsYSl8fChoPWQuc3R5bGUoYSxiKSksRy50ZXN0KGgpJiZFYi50ZXN0KGIpJiYoYT1mLndpZHRoLGI9Zi5taW5XaWR0aCxlPWYubWF4V2lkdGgsZi5taW5XaWR0aD1mLm1heFdpZHRoPWYud2lkdGg9aCxoPWMud2lkdGgsZi53aWR0aD1hLGYubWluV2lkdGg9YixmLm1heFdpZHRoPWUpKTtyZXR1cm4gdm9pZCAwPT09aD9oOmgrIiJ9KTpwLmRvY3VtZW50RWxlbWVudC5jdXJyZW50U3R5bGUmJihkYT1mdW5jdGlvbihhKXtyZXR1cm4gYS5jdXJyZW50U3R5bGV9LHhhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZSxkLGgsZj1hLnN0eWxlO2g9KGM9Y3x8ZGEoYSkpP2NbYl06dm9pZCAwO251bGw9PWgmJmYmJmZbYl0mJihoPWZbYl0pO2lmKEcudGVzdChoKSYmIWZjLnRlc3QoYikpe2M9Zi5sZWZ0O2lmKGQ9KGU9YS5ydW50aW1lU3R5bGUpJiZlLmxlZnQpZS5sZWZ0PWEuY3VycmVudFN0eWxlLmxlZnQ7Zi5sZWZ0PQoiZm9udFNpemUiPT09Yj8iMWVtIjpoO2g9Zi5waXhlbExlZnQrInB4IjtmLmxlZnQ9YztkJiYoZS5sZWZ0PWQpfXJldHVybiB2b2lkIDA9PT1oP2g6aCsiInx8ImF1dG8ifSk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3ZhciBiLGMsZCxsO2lmKChjPXAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSkmJmMuc3R5bGUpe2I9cC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkPXAuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZC5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweCI7Yy5hcHBlbmRDaGlsZChkKS5hcHBlbmRDaGlsZChiKTtiLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbi10b3A6MSU7dG9wOjElO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NHB4O3Bvc2l0aW9uOmFic29sdXRlIjsKZT1oPSExO2s9ITA7Zy5nZXRDb21wdXRlZFN0eWxlJiYoZT0iMSUiIT09KGcuZ2V0Q29tcHV0ZWRTdHlsZShiLG51bGwpfHx7fSkudG9wLGg9IjRweCI9PT0oZy5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCl8fHt3aWR0aDoiNHB4In0pLndpZHRoLGw9Yi5hcHBlbmRDaGlsZChwLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxsLnN0eWxlLmNzc1RleHQ9Yi5zdHlsZS5jc3NUZXh0PSItd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjAiLGwuc3R5bGUubWFyZ2luUmlnaHQ9bC5zdHlsZS53aWR0aD0iMCIsYi5zdHlsZS53aWR0aD0iMXB4IixrPSFwYXJzZUZsb2F0KChnLmdldENvbXB1dGVkU3R5bGUobCxudWxsKXx8e30pLm1hcmdpblJpZ2h0KSk7Yi5pbm5lckhUTUw9Ijx0YWJsZT48dHI+PHRkPjwvdGQ+PHRkPnQ8L3RkPjwvdHI+PC90YWJsZT4iOwpsPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIik7bFswXS5zdHlsZS5jc3NUZXh0PSJtYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjA7ZGlzcGxheTpub25lIjtpZihmPTA9PT1sWzBdLm9mZnNldEhlaWdodClsWzBdLnN0eWxlLmRpc3BsYXk9IiIsbFsxXS5zdHlsZS5kaXNwbGF5PSJub25lIixmPTA9PT1sWzBdLm9mZnNldEhlaWdodDtjLnJlbW92ZUNoaWxkKGQpfX12YXIgYixjLGUsaCxmLGs7Yj1wLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2IuaW5uZXJIVE1MPSIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz4iO2lmKGM9KGM9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpWzBdKSYmYy5zdHlsZSljLmNzc1RleHQ9ImZsb2F0OmxlZnQ7b3BhY2l0eTouNSIsci5vcGFjaXR5PSIwLjUiPT09Yy5vcGFjaXR5LHIuY3NzRmxvYXQ9ISFjLmNzc0Zsb2F0LGIuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IiwKYi5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLHIuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1iLnN0eWxlLmJhY2tncm91bmRDbGlwLHIuYm94U2l6aW5nPSIiPT09Yy5ib3hTaXppbmd8fCIiPT09Yy5Nb3pCb3hTaXppbmd8fCIiPT09Yy5XZWJraXRCb3hTaXppbmcsZC5leHRlbmQocix7cmVsaWFibGVIaWRkZW5PZmZzZXRzOmZ1bmN0aW9uKCl7bnVsbD09ZiYmYSgpO3JldHVybiBmfSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe251bGw9PWgmJmEoKTtyZXR1cm4gaH0scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe251bGw9PWUmJmEoKTtyZXR1cm4gZX0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe251bGw9PWsmJmEoKTtyZXR1cm4ga319KX0pKCk7ZC5zd2FwPWZ1bmN0aW9uKGEsYixjLGUpe3ZhciBkLGg9e307Zm9yKGQgaW4gYiloW2RdPWEuc3R5bGVbZF0sYS5zdHlsZVtkXT1iW2RdO2M9Yy5hcHBseShhLGV8fFtdKTtmb3IoZCBpbiBiKWEuc3R5bGVbZF09CmhbZF07cmV0dXJuIGN9O3ZhciBGYj0vYWxwaGFcKFteKV0qXCkvaSxnYz0vb3BhY2l0eVxzKj1ccyooW14pXSopLyxoYz0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sTmI9bmV3IFJlZ0V4cCgiXigiK0lhKyIpKC4qKSQiLCJpIiksR2I9bmV3IFJlZ0V4cCgiXihbKy1dKT0oIitJYSsiKSIsImkiKSxpYz17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sJGI9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9LE1iPVsiV2Via2l0IiwiTyIsIk1veiIsIm1zIl07ZC5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXJldHVybiBhPXhhKGEsIm9wYWNpdHkiKSwiIj09PWE/IjEiOmF9fX0sY3NzTnVtYmVyOntjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLApvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6ci5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZSl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgaCxmLGcsaz1kLmNhbWVsQ2FzZShiKSx0PWEuc3R5bGU7Yj1kLmNzc1Byb3BzW2tdfHwoZC5jc3NQcm9wc1trXT1qYSh0LGspKTtnPWQuY3NzSG9va3NbYl18fGQuY3NzSG9va3Nba107aWYodm9pZCAwIT09Yyl7aWYoZj10eXBlb2YgYywic3RyaW5nIj09PWYmJihoPUdiLmV4ZWMoYykpJiYoYz0oaFsxXSsxKSpoWzJdK3BhcnNlRmxvYXQoZC5jc3MoYSxiKSksZj0ibnVtYmVyIiksbnVsbCE9YyYmYz09PWMmJigibnVtYmVyIiE9PWZ8fGQuY3NzTnVtYmVyW2tdfHwoYys9InB4Iiksci5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwKKHRbYl09ImluaGVyaXQiKSwhKGcmJiJzZXQiaW4gZyl8fHZvaWQgMCE9PShjPWcuc2V0KGEsYyxlKSkpKXRyeXt0W2JdPWN9Y2F0Y2godyl7fX1lbHNlIHJldHVybiBnJiYiZ2V0ImluIGcmJnZvaWQgMCE9PShoPWcuZ2V0KGEsITEsZSkpP2g6dFtiXX19LGNzczpmdW5jdGlvbihhLGIsYyxlKXt2YXIgaCxmO2Y9ZC5jYW1lbENhc2UoYik7Yj1kLmNzc1Byb3BzW2ZdfHwoZC5jc3NQcm9wc1tmXT1qYShhLnN0eWxlLGYpKTsoZj1kLmNzc0hvb2tzW2JdfHxkLmNzc0hvb2tzW2ZdKSYmImdldCJpbiBmJiYoaD1mLmdldChhLCEwLGMpKTt2b2lkIDA9PT1oJiYoaD14YShhLGIsZSkpOyJub3JtYWwiPT09aCYmYiBpbiAkYiYmKGg9JGJbYl0pO3JldHVybiIiPT09Y3x8Yz8oYT1wYXJzZUZsb2F0KGgpLCEwPT09Y3x8ZC5pc051bWVyaWMoYSk/YXx8MDpoKTpofX0pO2QuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oYSxiKXtkLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLAplKXtpZihjKXJldHVybiBoYy50ZXN0KGQuY3NzKGEsImRpc3BsYXkiKSkmJjA9PT1hLm9mZnNldFdpZHRoP2Quc3dhcChhLGljLGZ1bmN0aW9uKCl7cmV0dXJuIFVhKGEsYixlKX0pOlVhKGEsYixlKX0sc2V0OmZ1bmN0aW9uKGEsYyxlKXt2YXIgbD1lJiZkYShhKTtyZXR1cm4gcWEoYSxjLGU/VGEoYSxiLGUsci5ib3hTaXppbmcmJiJib3JkZXItYm94Ij09PWQuY3NzKGEsImJveFNpemluZyIsITEsbCksbCk6MCl9fX0pO3Iub3BhY2l0eXx8KGQuY3NzSG9va3Mub3BhY2l0eT17Z2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGdjLnRlc3QoKGImJmEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlLmZpbHRlcjphLnN0eWxlLmZpbHRlcil8fCIiKT8uMDEqcGFyc2VGbG9hdChSZWdFeHAuJDEpKyIiOmI/IjEiOiIifSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnN0eWxlO2E9YS5jdXJyZW50U3R5bGU7dmFyIGU9ZC5pc051bWVyaWMoYik/ImFscGhhKG9wYWNpdHk9IisxMDAqYisiKSI6CiIiLGg9YSYmYS5maWx0ZXJ8fGMuZmlsdGVyfHwiIjtjLnpvb209MTtpZigoMTw9Ynx8IiI9PT1iKSYmIiI9PT1kLnRyaW0oaC5yZXBsYWNlKEZiLCIiKSkmJmMucmVtb3ZlQXR0cmlidXRlJiYoYy5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpLCIiPT09Ynx8YSYmIWEuZmlsdGVyKSlyZXR1cm47Yy5maWx0ZXI9RmIudGVzdChoKT9oLnJlcGxhY2UoRmIsZSk6aCsiICIrZX19KTtkLmNzc0hvb2tzLm1hcmdpblJpZ2h0PWViKHIucmVsaWFibGVNYXJnaW5SaWdodCxmdW5jdGlvbihhLGIpe2lmKGIpcmV0dXJuIGQuc3dhcChhLHtkaXNwbGF5OiJpbmxpbmUtYmxvY2sifSx4YSxbYSwibWFyZ2luUmlnaHQiXSl9KTtkLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihhLGIpe2QuY3NzSG9va3NbYStiXT17ZXhwYW5kOmZ1bmN0aW9uKGMpe3ZhciBlPTAsZD17fTtmb3IoYz0ic3RyaW5nIj09PXR5cGVvZiBjP2Muc3BsaXQoIiAiKTpbY107ND5lO2UrKylkW2ErClFbZV0rYl09Y1tlXXx8Y1tlLTJdfHxjWzBdO3JldHVybiBkfX07RWIudGVzdChhKXx8KGQuY3NzSG9va3NbYStiXS5zZXQ9cWEpfSk7ZC5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiB1YSh0aGlzLGZ1bmN0aW9uKGEsYixjKXt2YXIgZSxsPXt9LGg9MDtpZihkLmlzQXJyYXkoYikpe2M9ZGEoYSk7Zm9yKGU9Yi5sZW5ndGg7aDxlO2grKylsW2JbaF1dPWQuY3NzKGEsYltoXSwhMSxjKTtyZXR1cm4gbH1yZXR1cm4gdm9pZCAwIT09Yz9kLnN0eWxlKGEsYixjKTpkLmNzcyhhLGIpfSxhLGIsMTxhcmd1bWVudHMubGVuZ3RoKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiB6Yih0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiB6Yih0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3JldHVybiJib29sZWFuIj09PXR5cGVvZiBhP2E/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7d2EodGhpcyk/ZCh0aGlzKS5zaG93KCk6ZCh0aGlzKS5oaWRlKCl9KX19KTsKZC5Ud2Vlbj1SO1IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpSLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZSxoLGYpe3RoaXMuZWxlbT1hO3RoaXMucHJvcD1jO3RoaXMuZWFzaW5nPWh8fCJzd2luZyI7dGhpcy5vcHRpb25zPWI7dGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpO3RoaXMuZW5kPWU7dGhpcy51bml0PWZ8fChkLmNzc051bWJlcltjXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGE9Ui5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gYSYmYS5nZXQ/YS5nZXQodGhpcyk6Ui5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1SLnByb3BIb29rc1t0aGlzLnByb3BdO3RoaXMucG9zPXRoaXMub3B0aW9ucy5kdXJhdGlvbj9iPWQuZWFzaW5nW3RoaXMuZWFzaW5nXShhLHRoaXMub3B0aW9ucy5kdXJhdGlvbiphLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOmI9YTt0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqCmIrdGhpcy5zdGFydDt0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyk7YyYmYy5zZXQ/Yy5zZXQodGhpcyk6Ui5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpO3JldHVybiB0aGlzfX07Ui5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9Ui5wcm90b3R5cGU7Ui5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEuZWxlbVthLnByb3BdfHxhLmVsZW0uc3R5bGUmJm51bGwhPWEuZWxlbS5zdHlsZVthLnByb3BdPyhhPWQuY3NzKGEuZWxlbSxhLnByb3AsIiIpKSYmImF1dG8iIT09YT9hOjA6YS5lbGVtW2EucHJvcF19LHNldDpmdW5jdGlvbihhKXtpZihkLmZ4LnN0ZXBbYS5wcm9wXSlkLmZ4LnN0ZXBbYS5wcm9wXShhKTtlbHNlIGEuZWxlbS5zdHlsZSYmKG51bGwhPWEuZWxlbS5zdHlsZVtkLmNzc1Byb3BzW2EucHJvcF1dfHxkLmNzc0hvb2tzW2EucHJvcF0pP2Quc3R5bGUoYS5lbGVtLAphLnByb3AsYS5ub3crYS51bml0KTphLmVsZW1bYS5wcm9wXT1hLm5vd319fTtSLnByb3BIb29rcy5zY3JvbGxUb3A9Ui5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fTtkLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9fTtkLmZ4PVIucHJvdG90eXBlLmluaXQ7ZC5meC5zdGVwPXt9O3ZhciBHYSxuYixqYz0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sSGI9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK0lhKyIpKFthLXolXSopJCIsImkiKSxhPS9xdWV1ZUhvb2tzJC8sYj1bZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGgsZixnLGssdCx3PXRoaXMsbT17fSxBPWEuc3R5bGUsbj1hLm5vZGVUeXBlJiZ3YShhKSxQPWQuX2RhdGEoYSwiZnhzaG93Iik7Yy5xdWV1ZXx8CihnPWQuX3F1ZXVlSG9va3MoYSwiZngiKSxudWxsPT1nLnVucXVldWVkJiYoZy51bnF1ZXVlZD0wLGs9Zy5lbXB0eS5maXJlLGcuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2cudW5xdWV1ZWR8fGsoKX0pLGcudW5xdWV1ZWQrKyx3LmFsd2F5cyhmdW5jdGlvbigpe3cuYWx3YXlzKGZ1bmN0aW9uKCl7Zy51bnF1ZXVlZC0tO2QucXVldWUoYSwiZngiKS5sZW5ndGh8fGcuZW1wdHkuZmlyZSgpfSl9KSk7MT09PWEubm9kZVR5cGUmJigiaGVpZ2h0ImluIGJ8fCJ3aWR0aCJpbiBiKSYmKGMub3ZlcmZsb3c9W0Eub3ZlcmZsb3csQS5vdmVyZmxvd1gsQS5vdmVyZmxvd1ldLHQ9ZC5jc3MoYSwiZGlzcGxheSIpLGg9Im5vbmUiPT09dD9kLl9kYXRhKGEsIm9sZGRpc3BsYXkiKXx8RWEoYS5ub2RlTmFtZSk6dCwiaW5saW5lIj09PWgmJiJub25lIj09PWQuY3NzKGEsImZsb2F0IikmJihyLmlubGluZUJsb2NrTmVlZHNMYXlvdXQmJiJpbmxpbmUiIT09RWEoYS5ub2RlTmFtZSk/QS56b29tPTE6QS5kaXNwbGF5PQoiaW5saW5lLWJsb2NrIikpO2Mub3ZlcmZsb3cmJihBLm92ZXJmbG93PSJoaWRkZW4iLHIuc2hyaW5rV3JhcEJsb2NrcygpfHx3LmFsd2F5cyhmdW5jdGlvbigpe0Eub3ZlcmZsb3c9Yy5vdmVyZmxvd1swXTtBLm92ZXJmbG93WD1jLm92ZXJmbG93WzFdO0Eub3ZlcmZsb3dZPWMub3ZlcmZsb3dbMl19KSk7Zm9yKGUgaW4gYilpZihoPWJbZV0samMuZXhlYyhoKSl7ZGVsZXRlIGJbZV07Zj1mfHwidG9nZ2xlIj09PWg7aWYoaD09PShuPyJoaWRlIjoic2hvdyIpKWlmKCJzaG93Ij09PWgmJlAmJnZvaWQgMCE9PVBbZV0pbj0hMDtlbHNlIGNvbnRpbnVlO21bZV09UCYmUFtlXXx8ZC5zdHlsZShhLGUpfWVsc2UgdD12b2lkIDA7aWYoZC5pc0VtcHR5T2JqZWN0KG0pKSJpbmxpbmUiPT09KCJub25lIj09PXQ/RWEoYS5ub2RlTmFtZSk6dCkmJihBLmRpc3BsYXk9dCk7ZWxzZSBmb3IoZSBpbiBQPyJoaWRkZW4iaW4gUCYmKG49UC5oaWRkZW4pOlA9ZC5fZGF0YShhLCJmeHNob3ciLHt9KSxmJiYKKFAuaGlkZGVuPSFuKSxuP2QoYSkuc2hvdygpOncuZG9uZShmdW5jdGlvbigpe2QoYSkuaGlkZSgpfSksdy5kb25lKGZ1bmN0aW9uKCl7dmFyIGI7ZC5fcmVtb3ZlRGF0YShhLCJmeHNob3ciKTtmb3IoYiBpbiBtKWQuc3R5bGUoYSxiLG1bYl0pfSksbSliPU0obj9QW2VdOjAsZSx3KSxlIGluIFB8fChQW2VdPWIuc3RhcnQsbiYmKGIuZW5kPWIuc3RhcnQsYi5zdGFydD0id2lkdGgiPT09ZXx8ImhlaWdodCI9PT1lPzE6MCkpfV0sYz17IioiOltmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlVHdlZW4oYSxiKSxlPWMuY3VyKCksaD0oYj1IYi5leGVjKGIpKSYmYlszXXx8KGQuY3NzTnVtYmVyW2FdPyIiOiJweCIpLGY9KGQuY3NzTnVtYmVyW2FdfHwicHgiIT09aCYmK2UpJiZIYi5leGVjKGQuY3NzKGMuZWxlbSxhKSksZz0xLGs9MjA7aWYoZiYmZlszXSE9PWgpe2g9aHx8ZlszXTtiPWJ8fFtdO2Y9K2V8fDE7ZG8gZz1nfHwiLjUiLGYvPWcsZC5zdHlsZShjLmVsZW0sYSxmK2gpOwp3aGlsZShnIT09KGc9Yy5jdXIoKS9lKSYmMSE9PWcmJi0tayl9YiYmKGY9Yy5zdGFydD0rZnx8K2V8fDAsYy51bml0PWgsYy5lbmQ9YlsxXT9mKyhiWzFdKzEpKmJbMl06K2JbMl0pO3JldHVybiBjfV19O2QuQW5pbWF0aW9uPWQuZXh0ZW5kKE9iLHt0d2VlbmVyOmZ1bmN0aW9uKGEsYil7ZC5pc0Z1bmN0aW9uKGEpPyhiPWEsYT1bIioiXSk6YT1hLnNwbGl0KCIgIik7Zm9yKHZhciBlLGg9MCxmPWEubGVuZ3RoO2g8ZjtoKyspZT1hW2hdLGNbZV09Y1tlXXx8W10sY1tlXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXI6ZnVuY3Rpb24oYSxjKXtjP2IudW5zaGlmdChhKTpiLnB1c2goYSl9fSk7ZC5zcGVlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGU9YSYmIm9iamVjdCI9PT10eXBlb2YgYT9kLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fGQuaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhZC5pc0Z1bmN0aW9uKGIpJiZifTtlLmR1cmF0aW9uPWQuZngub2ZmPwowOiJudW1iZXIiPT09dHlwZW9mIGUuZHVyYXRpb24/ZS5kdXJhdGlvbjplLmR1cmF0aW9uIGluIGQuZnguc3BlZWRzP2QuZnguc3BlZWRzW2UuZHVyYXRpb25dOmQuZnguc3BlZWRzLl9kZWZhdWx0O2lmKG51bGw9PWUucXVldWV8fCEwPT09ZS5xdWV1ZSllLnF1ZXVlPSJmeCI7ZS5vbGQ9ZS5jb21wbGV0ZTtlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7ZC5pc0Z1bmN0aW9uKGUub2xkKSYmZS5vbGQuY2FsbCh0aGlzKTtlLnF1ZXVlJiZkLmRlcXVldWUodGhpcyxlLnF1ZXVlKX07cmV0dXJuIGV9O2QuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZSl7cmV0dXJuIHRoaXMuZmlsdGVyKHdhKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxlKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxlKXt2YXIgaD1kLmlzRW1wdHlPYmplY3QoYSksZj1kLnNwZWVkKGIsYyxlKTtiPWZ1bmN0aW9uKCl7dmFyIGI9T2IodGhpcyxkLmV4dGVuZCh7fSwKYSksZik7KGh8fGQuX2RhdGEodGhpcywiZmluaXNoIikpJiZiLnN0b3AoITApfTtiLmZpbmlzaD1iO3JldHVybiBofHwhMT09PWYucXVldWU/dGhpcy5lYWNoKGIpOnRoaXMucXVldWUoZi5xdWV1ZSxiKX0sc3RvcDpmdW5jdGlvbihiLGMsZSl7dmFyIGg9ZnVuY3Rpb24oYSl7dmFyIGI9YS5zdG9wO2RlbGV0ZSBhLnN0b3A7YihlKX07InN0cmluZyIhPT10eXBlb2YgYiYmKGU9YyxjPWIsYj12b2lkIDApO2MmJiExIT09YiYmdGhpcy5xdWV1ZShifHwiZngiLFtdKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9ITAsZj1udWxsIT1iJiZiKyJxdWV1ZUhvb2tzIixnPWQudGltZXJzLEI9ZC5fZGF0YSh0aGlzKTtpZihmKUJbZl0mJkJbZl0uc3RvcCYmaChCW2ZdKTtlbHNlIGZvcihmIGluIEIpQltmXSYmQltmXS5zdG9wJiZhLnRlc3QoZikmJmgoQltmXSk7Zm9yKGY9Zy5sZW5ndGg7Zi0tOylnW2ZdLmVsZW0hPT10aGlzfHxudWxsIT1iJiZnW2ZdLnF1ZXVlIT09Ynx8KGdbZl0uYW5pbS5zdG9wKGUpLApjPSExLGcuc3BsaWNlKGYsMSkpOyFjJiZlfHxkLmRlcXVldWUodGhpcyxiKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7ITEhPT1hJiYoYT1hfHwiZngiKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1kLl9kYXRhKHRoaXMpLGU9Y1thKyJxdWV1ZSJdO2I9Y1thKyJxdWV1ZUhvb2tzIl07dmFyIGg9ZC50aW1lcnMsZj1lP2UubGVuZ3RoOjA7Yy5maW5pc2g9ITA7ZC5xdWV1ZSh0aGlzLGEsW10pO2ImJmIuc3RvcCYmYi5zdG9wLmNhbGwodGhpcywhMCk7Zm9yKGI9aC5sZW5ndGg7Yi0tOyloW2JdLmVsZW09PT10aGlzJiZoW2JdLnF1ZXVlPT09YSYmKGhbYl0uYW5pbS5zdG9wKCEwKSxoLnNwbGljZShiLDEpKTtmb3IoYj0wO2I8ZjtiKyspZVtiXSYmZVtiXS5maW5pc2gmJmVbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGMuZmluaXNofSl9fSk7ZC5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihhLGIpe3ZhciBjPWQuZm5bYl07ZC5mbltiXT0KZnVuY3Rpb24oYSxlLGQpe3JldHVybiBudWxsPT1hfHwiYm9vbGVhbiI9PT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoVShiLCEwKSxhLGUsZCl9fSk7ZC5lYWNoKHtzbGlkZURvd246VSgic2hvdyIpLHNsaWRlVXA6VSgiaGlkZSIpLHNsaWRlVG9nZ2xlOlUoInRvZ2dsZSIpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24oYSxiKXtkLmZuW2FdPWZ1bmN0aW9uKGEsYyxlKXtyZXR1cm4gdGhpcy5hbmltYXRlKGIsYSxjLGUpfX0pO2QudGltZXJzPVtdO2QuZngudGljaz1mdW5jdGlvbigpe3ZhciBhLGI9ZC50aW1lcnMsYz0wO2ZvcihHYT1kLm5vdygpO2M8Yi5sZW5ndGg7YysrKWE9YltjXSxhKCl8fGJbY10hPT1hfHxiLnNwbGljZShjLS0sMSk7Yi5sZW5ndGh8fGQuZnguc3RvcCgpO0dhPXZvaWQgMH07ZC5meC50aW1lcj1mdW5jdGlvbihhKXtkLnRpbWVycy5wdXNoKGEpOwphKCk/ZC5meC5zdGFydCgpOmQudGltZXJzLnBvcCgpfTtkLmZ4LmludGVydmFsPTEzO2QuZnguc3RhcnQ9ZnVuY3Rpb24oKXtuYnx8KG5iPXNldEludGVydmFsKGQuZngudGljayxkLmZ4LmludGVydmFsKSl9O2QuZnguc3RvcD1mdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwobmIpO25iPW51bGx9O2QuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9O2QuZm4uZGVsYXk9ZnVuY3Rpb24oYSxiKXthPWQuZng/ZC5meC5zcGVlZHNbYV18fGE6YTtyZXR1cm4gdGhpcy5xdWV1ZShifHwiZngiLGZ1bmN0aW9uKGIsYyl7dmFyIGU9c2V0VGltZW91dChiLGEpO2Muc3RvcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChlKX19KX07KGZ1bmN0aW9uKCl7dmFyIGEsYixjLGUsZDtiPXAuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKTtiLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IjsKZT1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIilbMF07Yz1wLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpO2Q9Yy5hcHBlbmRDaGlsZChwLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTthPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMF07ZS5zdHlsZS5jc3NUZXh0PSJ0b3A6MXB4IjtyLmdldFNldEF0dHJpYnV0ZT0idCIhPT1iLmNsYXNzTmFtZTtyLnN0eWxlPS90b3AvLnRlc3QoZS5nZXRBdHRyaWJ1dGUoInN0eWxlIikpO3IuaHJlZk5vcm1hbGl6ZWQ9Ii9hIj09PWUuZ2V0QXR0cmlidXRlKCJocmVmIik7ci5jaGVja09uPSEhYS52YWx1ZTtyLm9wdFNlbGVjdGVkPWQuc2VsZWN0ZWQ7ci5lbmN0eXBlPSEhcC5jcmVhdGVFbGVtZW50KCJmb3JtIikuZW5jdHlwZTtjLmRpc2FibGVkPSEwO3Iub3B0RGlzYWJsZWQ9IWQuZGlzYWJsZWQ7YT1wLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7YS5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIik7ci5pbnB1dD0iIj09PWEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpOwphLnZhbHVlPSJ0IjthLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIik7ci5yYWRpb1ZhbHVlPSJ0Ij09PWEudmFsdWV9KSgpO3ZhciBlPS9cci9nO2QuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYyxoLGY9dGhpc1swXTtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBoPWQuaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7MT09PXRoaXMubm9kZVR5cGUmJihjPWg/YS5jYWxsKHRoaXMsYyxkKHRoaXMpLnZhbCgpKTphLG51bGw9PWM/Yz0iIjoibnVtYmVyIj09PXR5cGVvZiBjP2MrPSIiOmQuaXNBcnJheShjKSYmKGM9ZC5tYXAoYyxmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjphKyIifSkpLGI9ZC52YWxIb29rc1t0aGlzLnR5cGVdfHxkLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sYiYmInNldCJpbiBiJiZ2b2lkIDAhPT1iLnNldCh0aGlzLGMsInZhbHVlIil8fCh0aGlzLnZhbHVlPWMpKX0pO2lmKGYpe2lmKChiPWQudmFsSG9va3NbZi50eXBlXXx8CmQudmFsSG9va3NbZi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkmJiJnZXQiaW4gYiYmdm9pZCAwIT09KGM9Yi5nZXQoZiwidmFsdWUiKSkpcmV0dXJuIGM7Yz1mLnZhbHVlO3JldHVybiJzdHJpbmciPT09dHlwZW9mIGM/Yy5yZXBsYWNlKGUsIiIpOm51bGw9PWM/IiI6Y319fSk7ZC5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihhKXt2YXIgYj1kLmZpbmQuYXR0cihhLCJ2YWx1ZSIpO3JldHVybiBudWxsIT1iP2I6ZC50cmltKGQudGV4dChhKSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz1hLm9wdGlvbnMsZT1hLnNlbGVjdGVkSW5kZXgsaD0oYT0ic2VsZWN0LW9uZSI9PT1hLnR5cGV8fDA+ZSk/bnVsbDpbXSxmPWE/ZSsxOmMubGVuZ3RoLGc9MD5lP2Y6YT9lOjA7ZzxmO2crKylpZihiPWNbZ10sISghYi5zZWxlY3RlZCYmZyE9PWV8fChyLm9wdERpc2FibGVkP2IuZGlzYWJsZWQ6bnVsbCE9PWIuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpKXx8CmIucGFyZW50Tm9kZS5kaXNhYmxlZCYmZC5ub2RlTmFtZShiLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtiPWQoYikudmFsKCk7aWYoYSlyZXR1cm4gYjtoLnB1c2goYil9cmV0dXJuIGh9LHNldDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxlPWEub3B0aW9ucyxoPWQubWFrZUFycmF5KGIpLGY9ZS5sZW5ndGg7Zi0tOylpZihiPWVbZl0sMDw9ZC5pbkFycmF5KGQudmFsSG9va3Mub3B0aW9uLmdldChiKSxoKSl0cnl7Yi5zZWxlY3RlZD1jPSEwfWNhdGNoKGcpe2Iuc2Nyb2xsSGVpZ2h0fWVsc2UgYi5zZWxlY3RlZD0hMTtjfHwoYS5zZWxlY3RlZEluZGV4PS0xKTtyZXR1cm4gZX19fX0pO2QuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe2QudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihhLGIpe2lmKGQuaXNBcnJheShiKSlyZXR1cm4gYS5jaGVja2VkPTA8PWQuaW5BcnJheShkKGEpLnZhbCgpLGIpfX07ci5jaGVja09ufHwoZC52YWxIb29rc1t0aGlzXS5nZXQ9CmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjphLnZhbHVlfSl9KTt2YXIgaCxmLGs9ZC5leHByLmF0dHJIYW5kbGUsbT0vXig/OmNoZWNrZWR8c2VsZWN0ZWQpJC9pLEs9ci5nZXRTZXRBdHRyaWJ1dGUsZWE9ci5pbnB1dDtkLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiB1YSh0aGlzLGQuYXR0cixhLGIsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZC5yZW1vdmVBdHRyKHRoaXMsYSl9KX19KTtkLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIsYyl7dmFyIGUsZyxrPWEubm9kZVR5cGU7aWYoYSYmMyE9PWsmJjghPT1rJiYyIT09ayl7aWYoInVuZGVmaW5lZCI9PT10eXBlb2YgYS5nZXRBdHRyaWJ1dGUpcmV0dXJuIGQucHJvcChhLGIsYyk7MT09PWsmJmQuaXNYTUxEb2MoYSl8fChiPWIudG9Mb3dlckNhc2UoKSxlPWQuYXR0ckhvb2tzW2JdfHwKKGQuZXhwci5tYXRjaC5ib29sLnRlc3QoYik/ZjpoKSk7aWYodm9pZCAwIT09YylpZihudWxsPT09YylkLnJlbW92ZUF0dHIoYSxiKTtlbHNle2lmKGUmJiJzZXQiaW4gZSYmdm9pZCAwIT09KGc9ZS5zZXQoYSxjLGIpKSlyZXR1cm4gZzthLnNldEF0dHJpYnV0ZShiLGMrIiIpO3JldHVybiBjfWVsc2V7aWYoZSYmImdldCJpbiBlJiZudWxsIT09KGc9ZS5nZXQoYSxiKSkpcmV0dXJuIGc7Zz1kLmZpbmQuYXR0cihhLGIpO3JldHVybiBudWxsPT1nP3ZvaWQgMDpnfX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlPTAsaD1iJiZiLm1hdGNoKGxhKTtpZihoJiYxPT09YS5ub2RlVHlwZSlmb3IoO2I9aFtlKytdOyljPWQucHJvcEZpeFtiXXx8YixkLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP2VhJiZLfHwhbS50ZXN0KGIpP2FbY109ITE6YVtkLmNhbWVsQ2FzZSgiZGVmYXVsdC0iK2IpXT1hW2NdPSExOmQuYXR0cihhLGIsIiIpLGEucmVtb3ZlQXR0cmlidXRlKEs/YjpjKX0sCmF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIXIucmFkaW9WYWx1ZSYmInJhZGlvIj09PWImJmQubm9kZU5hbWUoYSwiaW5wdXQiKSl7dmFyIGM9YS52YWx1ZTthLnNldEF0dHJpYnV0ZSgidHlwZSIsYik7YyYmKGEudmFsdWU9Yyk7cmV0dXJuIGJ9fX19fSk7Zj17c2V0OmZ1bmN0aW9uKGEsYixjKXshMT09PWI/ZC5yZW1vdmVBdHRyKGEsYyk6ZWEmJkt8fCFtLnRlc3QoYyk/YS5zZXRBdHRyaWJ1dGUoIUsmJmQucHJvcEZpeFtjXXx8YyxjKTphW2QuY2FtZWxDYXNlKCJkZWZhdWx0LSIrYyldPWFbY109ITA7cmV0dXJuIGN9fTtkLmVhY2goZC5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24oYSxiKXt2YXIgYz1rW2JdfHxkLmZpbmQuYXR0cjtrW2JdPWVhJiZLfHwhbS50ZXN0KGIpP2Z1bmN0aW9uKGEsYixlKXt2YXIgZCxoO2V8fChoPWtbYl0sa1tiXT1kLGQ9bnVsbCE9YyhhLGIsZSk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsa1tiXT0KaCk7cmV0dXJuIGR9OmZ1bmN0aW9uKGEsYixjKXtpZighYylyZXR1cm4gYVtkLmNhbWVsQ2FzZSgiZGVmYXVsdC0iK2IpXT9iLnRvTG93ZXJDYXNlKCk6bnVsbH19KTtlYSYmS3x8KGQuYXR0ckhvb2tzLnZhbHVlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe2lmKGQubm9kZU5hbWUoYSwiaW5wdXQiKSlhLmRlZmF1bHRWYWx1ZT1iO2Vsc2UgcmV0dXJuIGgmJmguc2V0KGEsYixjKX19KTtLfHwoaD17c2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZT1hLmdldEF0dHJpYnV0ZU5vZGUoYyk7ZXx8YS5zZXRBdHRyaWJ1dGVOb2RlKGU9YS5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShjKSk7ZS52YWx1ZT1iKz0iIjtpZigidmFsdWUiPT09Y3x8Yj09PWEuZ2V0QXR0cmlidXRlKGMpKXJldHVybiBifX0say5pZD1rLm5hbWU9ay5jb29yZHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlO2lmKCFjKXJldHVybihlPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJiIiIT09ZS52YWx1ZT9lLnZhbHVlOm51bGx9LApkLnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGEsYil7aWYoKGE9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmYS5zcGVjaWZpZWQpcmV0dXJuIGEudmFsdWV9LHNldDpoLnNldH0sZC5hdHRySG9va3MuY29udGVudGVkaXRhYmxlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe2guc2V0KGEsIiI9PT1iPyExOmIsYyl9fSxkLmVhY2goWyJ3aWR0aCIsImhlaWdodCJdLGZ1bmN0aW9uKGEsYil7ZC5hdHRySG9va3NbYl09e3NldDpmdW5jdGlvbihhLGMpe2lmKCIiPT09YylyZXR1cm4gYS5zZXRBdHRyaWJ1dGUoYiwiYXV0byIpLGN9fX0pKTtyLnN0eWxlfHwoZC5hdHRySG9va3Muc3R5bGU9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZS5jc3NUZXh0fHx2b2lkIDB9LHNldDpmdW5jdGlvbihhLGIpe3JldHVybiBhLnN0eWxlLmNzc1RleHQ9YisiIn19KTt2YXIgRT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvaSxMYT0vXig/OmF8YXJlYSkkL2k7ZC5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSwKYil7cmV0dXJuIHVhKHRoaXMsZC5wcm9wLGEsYiwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe2E9ZC5wcm9wRml4W2FdfHxhO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0cnl7dGhpc1thXT12b2lkIDAsZGVsZXRlIHRoaXNbYV19Y2F0Y2goYil7fX0pfX0pO2QuZXh0ZW5kKHtwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn0scHJvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGUsaCxmO2Y9YS5ub2RlVHlwZTtpZihhJiYzIT09ZiYmOCE9PWYmJjIhPT1mKXtpZihmPTEhPT1mfHwhZC5pc1hNTERvYyhhKSliPWQucHJvcEZpeFtiXXx8YixoPWQucHJvcEhvb2tzW2JdO3JldHVybiB2b2lkIDAhPT1jP2gmJiJzZXQiaW4gaCYmdm9pZCAwIT09KGU9aC5zZXQoYSxjLGIpKT9lOmFbYl09YzpoJiYiZ2V0ImluIGgmJm51bGwhPT0oZT1oLmdldChhLGIpKT9lOmFbYl19fSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9CmQuZmluZC5hdHRyKGEsInRhYmluZGV4Iik7cmV0dXJuIGI/cGFyc2VJbnQoYiwxMCk6RS50ZXN0KGEubm9kZU5hbWUpfHxMYS50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDotMX19fX0pO3IuaHJlZk5vcm1hbGl6ZWR8fGQuZWFjaChbImhyZWYiLCJzcmMiXSxmdW5jdGlvbihhLGIpe2QucHJvcEhvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKGIsNCl9fX0pO3Iub3B0U2VsZWN0ZWR8fChkLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGEpe2lmKGE9YS5wYXJlbnROb2RlKWEuc2VsZWN0ZWRJbmRleCxhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O3JldHVybiBudWxsfX0pO2QuZWFjaCgidGFiSW5kZXggcmVhZE9ubHkgbWF4TGVuZ3RoIGNlbGxTcGFjaW5nIGNlbGxQYWRkaW5nIHJvd1NwYW4gY29sU3BhbiB1c2VNYXAgZnJhbWVCb3JkZXIgY29udGVudEVkaXRhYmxlIi5zcGxpdCgiICIpLGZ1bmN0aW9uKCl7ZC5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09CnRoaXN9KTtyLmVuY3R5cGV8fChkLnByb3BGaXguZW5jdHlwZT0iZW5jb2RpbmciKTt2YXIgSD0vW1x0XHJcblxmXS9nO2QuZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGUsaCxmLGc9MCxrPXRoaXMubGVuZ3RoO2I9InN0cmluZyI9PT10eXBlb2YgYSYmYTtpZihkLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtkKHRoaXMpLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGIpZm9yKGI9KGF8fCIiKS5tYXRjaChsYSl8fFtdO2c8aztnKyspaWYoYz10aGlzW2ddLGU9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oIiAiK2MuY2xhc3NOYW1lKyIgIikucmVwbGFjZShILCIgIik6IiAiKSl7Zm9yKGY9MDtoPWJbZisrXTspMD5lLmluZGV4T2YoIiAiK2grIiAiKSYmKGUrPWgrIiAiKTtlPWQudHJpbShlKTtjLmNsYXNzTmFtZSE9PWUmJihjLmNsYXNzTmFtZT1lKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsCmMsZSxoLGYsZz0wLGs9dGhpcy5sZW5ndGg7Yj0wPT09YXJndW1lbnRzLmxlbmd0aHx8InN0cmluZyI9PT10eXBlb2YgYSYmYTtpZihkLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtkKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGIpZm9yKGI9KGF8fCIiKS5tYXRjaChsYSl8fFtdO2c8aztnKyspaWYoYz10aGlzW2ddLGU9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oIiAiK2MuY2xhc3NOYW1lKyIgIikucmVwbGFjZShILCIgIik6IiIpKXtmb3IoZj0wO2g9YltmKytdOylmb3IoOzA8PWUuaW5kZXhPZigiICIraCsiICIpOyllPWUucmVwbGFjZSgiICIraCsiICIsIiAiKTtlPWE/ZC50cmltKGUpOiIiO2MuY2xhc3NOYW1lIT09ZSYmKGMuY2xhc3NOYW1lPWUpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhO3JldHVybiJib29sZWFuIj09PXR5cGVvZiBiJiYKInN0cmluZyI9PT1jP2I/dGhpcy5hZGRDbGFzcyhhKTp0aGlzLnJlbW92ZUNsYXNzKGEpOmQuaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYyl7ZCh0aGlzKS50b2dnbGVDbGFzcyhhLmNhbGwodGhpcyxjLHRoaXMuY2xhc3NOYW1lLGIpLGIpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYoInN0cmluZyI9PT1jKWZvcih2YXIgYixlPTAsaD1kKHRoaXMpLGY9YS5tYXRjaChsYSl8fFtdO2I9ZltlKytdOyloLmhhc0NsYXNzKGIpP2gucmVtb3ZlQ2xhc3MoYik6aC5hZGRDbGFzcyhiKTtlbHNlIGlmKCJ1bmRlZmluZWQiPT09Y3x8ImJvb2xlYW4iPT09Yyl0aGlzLmNsYXNzTmFtZSYmZC5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fCExPT09YT8iIjpkLl9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiJ9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7YT0iICIrYSsiICI7Zm9yKHZhciBiPQowLGM9dGhpcy5sZW5ndGg7YjxjO2IrKylpZigxPT09dGhpc1tiXS5ub2RlVHlwZSYmMDw9KCIgIit0aGlzW2JdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoSCwiICIpLmluZGV4T2YoYSkpcmV0dXJuITA7cmV0dXJuITF9fSk7ZC5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7ZC5mbltiXT1mdW5jdGlvbihhLGMpe3JldHVybiAwPGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vbihiLG51bGwsYSxjKTp0aGlzLnRyaWdnZXIoYil9fSk7ZC5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW91c2VlbnRlcihhKS5tb3VzZWxlYXZlKGJ8fAphKX0sYmluZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMub24oYSxudWxsLGIsYyl9LHVuYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9mZihhLG51bGwsYil9LGRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjLGUpe3JldHVybiB0aGlzLm9uKGIsYSxjLGUpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoYSwiKioiKTp0aGlzLm9mZihiLGF8fCIqKiIsYyl9fSk7dmFyIFk9ZC5ub3coKSxPPS9cPy8sTj0vKCwpfChcW3x7KXwofXxdKXwiKD86W14iXFxcclxuXXxcXFsiXFxcL2JmbnJ0XXxcXHVbXGRhLWZBLUZdezR9KSoiXHMqOj98dHJ1ZXxmYWxzZXxudWxsfC0/KD8hMFxkKVxkKyg/OlwuXGQrfCkoPzpbZUVdWystXT9cZCt8KS9nO2QucGFyc2VKU09OPWZ1bmN0aW9uKGEpe2lmKGcuSlNPTiYmZy5KU09OLnBhcnNlKXJldHVybiBnLkpTT04ucGFyc2UoYSsiIik7dmFyIGIsYz1udWxsLGU9ZC50cmltKGErCiIiKTtyZXR1cm4gZSYmIWQudHJpbShlLnJlcGxhY2UoTixmdW5jdGlvbihhLGUsZCxoKXtiJiZlJiYoYz0wKTtpZigwPT09YylyZXR1cm4gYTtiPWR8fGU7Yys9IWgtIWQ7cmV0dXJuIiJ9KSk/RnVuY3Rpb24oInJldHVybiAiK2UpKCk6ZC5lcnJvcigiSW52YWxpZCBKU09OOiAiK2EpfTtkLnBhcnNlWE1MPWZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoIWF8fCJzdHJpbmciIT09dHlwZW9mIGEpcmV0dXJuIG51bGw7dHJ5e2cuRE9NUGFyc2VyPyhjPW5ldyBET01QYXJzZXIsYj1jLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpKTooYj1uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpLGIuYXN5bmM9ImZhbHNlIixiLmxvYWRYTUwoYSkpfWNhdGNoKGUpe2I9dm9pZCAwfWImJmIuZG9jdW1lbnRFbGVtZW50JiYhYi5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGh8fGQuZXJyb3IoIkludmFsaWQgWE1MOiAiK2EpO3JldHVybiBifTt2YXIgRiwKbixhYT0vIy4qJC8sYWM9LyhbPyZdKV89W14mXSovLGtjPS9eKC4qPyk6WyBcdF0qKFteXHJcbl0qKVxyPyQvbWcsbGM9L14oPzpHRVR8SEVBRCkkLyx6PS9eXC9cLy8scmE9L14oW1x3ListXSs6KSg/OlwvXC8oPzpbXlwvPyNdKkB8KShbXlwvPyM6XSopKD86OihcZCspfCl8KS8sSWI9e30sRD17fSxKYj0iKi8iLmNvbmNhdCgiKiIpO3RyeXtuPWxvY2F0aW9uLmhyZWZ9Y2F0Y2gobCl7bj1wLmNyZWF0ZUVsZW1lbnQoImEiKSxuLmhyZWY9IiIsbj1uLmhyZWZ9Rj1yYS5leGVjKG4udG9Mb3dlckNhc2UoKSl8fFtdO2QuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpuLHR5cGU6IkdFVCIsaXNMb2NhbDovXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLy50ZXN0KEZbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IiwKYWNjZXB0czp7IioiOkpiLHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi94bWwvLGh0bWw6L2h0bWwvLGpzb246L2pzb24vfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6ZC5wYXJzZUpTT04sInRleHQgeG1sIjpkLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9IYShIYShhLGQuYWpheFNldHRpbmdzKSxiKTpIYShkLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjpuYShJYiksYWpheFRyYW5zcG9ydDpuYShEKSxhamF4OmZ1bmN0aW9uKGEsCmIpe2Z1bmN0aW9uIGMoYSxiLGUsbCl7dmFyIHcsbixCLHk7eT1iO2lmKDIhPT1lYSl7ZWE9MjtnJiZjbGVhclRpbWVvdXQoZyk7dD12b2lkIDA7Zj1sfHwiIjtwLnJlYWR5U3RhdGU9MDxhPzQ6MDtsPTIwMDw9YSYmMzAwPmF8fDMwND09PWE7aWYoZSl7Qj1tO2Zvcih2YXIgQz1wLFYscix6LHEsRD1CLmNvbnRlbnRzLGNhPUIuZGF0YVR5cGVzOyIqIj09PWNhWzBdOyljYS5zaGlmdCgpLHZvaWQgMD09PXImJihyPUIubWltZVR5cGV8fEMuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihyKWZvcihxIGluIEQpaWYoRFtxXSYmRFtxXS50ZXN0KHIpKXtjYS51bnNoaWZ0KHEpO2JyZWFrfWlmKGNhWzBdaW4gZSl6PWNhWzBdO2Vsc2V7Zm9yKHEgaW4gZSl7aWYoIWNhWzBdfHxCLmNvbnZlcnRlcnNbcSsiICIrY2FbMF1dKXt6PXE7YnJlYWt9Vnx8KFY9cSl9ej16fHxWfXo/KHohPT1jYVswXSYmY2EudW5zaGlmdCh6KSxCPWVbel0pOkI9dm9pZCAwfWE6e2U9bTtWPUI7cj0KcDt6PWw7dmFyIEYsSCxiYSxDPXt9LEQ9ZS5kYXRhVHlwZXMuc2xpY2UoKTtpZihEWzFdKWZvcihIIGluIGUuY29udmVydGVycylDW0gudG9Mb3dlckNhc2UoKV09ZS5jb252ZXJ0ZXJzW0hdO2ZvcihxPUQuc2hpZnQoKTtxOylpZihlLnJlc3BvbnNlRmllbGRzW3FdJiYocltlLnJlc3BvbnNlRmllbGRzW3FdXT1WKSwhYmEmJnomJmUuZGF0YUZpbHRlciYmKFY9ZS5kYXRhRmlsdGVyKFYsZS5kYXRhVHlwZSkpLGJhPXEscT1ELnNoaWZ0KCkpaWYoIioiPT09cSlxPWJhO2Vsc2UgaWYoIioiIT09YmEmJmJhIT09cSl7SD1DW2JhKyIgIitxXXx8Q1siKiAiK3FdO2lmKCFIKWZvcihGIGluIEMpaWYoQj1GLnNwbGl0KCIgIiksQlsxXT09PXEmJihIPUNbYmErIiAiK0JbMF1dfHxDWyIqICIrQlswXV0pKXshMD09PUg/SD1DW0ZdOiEwIT09Q1tGXSYmKHE9QlswXSxELnVuc2hpZnQoQlsxXSkpO2JyZWFrfWlmKCEwIT09SClpZihIJiZlWyJ0aHJvd3MiXSlWPUgoVik7ZWxzZSB0cnl7Vj1IKFYpfWNhdGNoKExhKXtCPQp7c3RhdGU6InBhcnNlcmVycm9yIixlcnJvcjpIP0xhOiJObyBjb252ZXJzaW9uIGZyb20gIitiYSsiIHRvICIrcX07YnJlYWsgYX19Qj17c3RhdGU6InN1Y2Nlc3MiLGRhdGE6Vn19aWYobCltLmlmTW9kaWZpZWQmJigoeT1wLmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoZC5sYXN0TW9kaWZpZWRbaF09eSksKHk9cC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKGQuZXRhZ1toXT15KSksMjA0PT09YXx8IkhFQUQiPT09bS50eXBlP3k9Im5vY29udGVudCI6MzA0PT09YT95PSJub3Rtb2RpZmllZCI6KHk9Qi5zdGF0ZSx3PUIuZGF0YSxuPUIuZXJyb3IsbD0hbik7ZWxzZSBpZihuPXksYXx8IXkpeT0iZXJyb3IiLDA+YSYmKGE9MCk7cC5zdGF0dXM9YTtwLnN0YXR1c1RleHQ9KGJ8fHkpKyIiO2w/Sy5yZXNvbHZlV2l0aChBLFt3LHkscF0pOksucmVqZWN0V2l0aChBLFtwLHksbl0pO3Auc3RhdHVzQ29kZSh2KTt2PXZvaWQgMDtrJiZQLnRyaWdnZXIobD8iYWpheFN1Y2Nlc3MiOgoiYWpheEVycm9yIixbcCxtLGw/dzpuXSk7RS5maXJlV2l0aChBLFtwLHldKTtrJiYoUC50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtwLG1dKSwtLWQuYWN0aXZlfHxkLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpfX0ib2JqZWN0Ij09PXR5cGVvZiBhJiYoYj1hLGE9dm9pZCAwKTtiPWJ8fHt9O3ZhciBlLGgsZixnLGssdCx3LG09ZC5hamF4U2V0dXAoe30sYiksQT1tLmNvbnRleHR8fG0sUD1tLmNvbnRleHQmJihBLm5vZGVUeXBlfHxBLmpxdWVyeSk/ZChBKTpkLmV2ZW50LEs9ZC5EZWZlcnJlZCgpLEU9ZC5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iiksdj1tLnN0YXR1c0NvZGV8fHt9LFY9e30scj17fSxlYT0wLHE9ImNhbmNlbGVkIixwPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoMj09PWVhKXtpZighdylmb3Iodz17fTtiPWtjLmV4ZWMoZik7KXdbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdO2I9d1thLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT0KYj9udWxsOmJ9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiAyPT09ZWE/ZjpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS50b0xvd2VyQ2FzZSgpO2VhfHwoYT1yW2NdPXJbY118fGEsVlthXT1iKTtyZXR1cm4gdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtlYXx8KG0ubWltZVR5cGU9YSk7cmV0dXJuIHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oYSl7dmFyIGI7aWYoYSlpZigyPmVhKWZvcihiIGluIGEpdltiXT1bdltiXSxhW2JdXTtlbHNlIHAuYWx3YXlzKGFbcC5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7YT1hfHxxO3QmJnQuYWJvcnQoYSk7YygwLGEpO3JldHVybiB0aGlzfX07Sy5wcm9taXNlKHApLmNvbXBsZXRlPUUuYWRkO3Auc3VjY2Vzcz1wLmRvbmU7cC5lcnJvcj1wLmZhaWw7bS51cmw9KChhfHxtLnVybHx8bikrIiIpLnJlcGxhY2UoYWEsIiIpLnJlcGxhY2UoeixGWzFdKwoiLy8iKTttLnR5cGU9Yi5tZXRob2R8fGIudHlwZXx8bS5tZXRob2R8fG0udHlwZTttLmRhdGFUeXBlcz1kLnRyaW0obS5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKGxhKXx8WyIiXTtudWxsPT1tLmNyb3NzRG9tYWluJiYoYT1yYS5leGVjKG0udXJsLnRvTG93ZXJDYXNlKCkpLG0uY3Jvc3NEb21haW49ISghYXx8YVsxXT09PUZbMV0mJmFbMl09PT1GWzJdJiYoYVszXXx8KCJodHRwOiI9PT1hWzFdPyI4MCI6IjQ0MyIpKT09PShGWzNdfHwoImh0dHA6Ij09PUZbMV0/IjgwIjoiNDQzIikpKSk7bS5kYXRhJiZtLnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9PXR5cGVvZiBtLmRhdGEmJihtLmRhdGE9ZC5wYXJhbShtLmRhdGEsbS50cmFkaXRpb25hbCkpO1goSWIsbSxiLHApO2lmKDI9PT1lYSlyZXR1cm4gcDsoaz1tLmdsb2JhbCkmJjA9PT1kLmFjdGl2ZSsrJiZkLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpO20udHlwZT1tLnR5cGUudG9VcHBlckNhc2UoKTttLmhhc0NvbnRlbnQ9CiFsYy50ZXN0KG0udHlwZSk7aD1tLnVybDttLmhhc0NvbnRlbnR8fChtLmRhdGEmJihoPW0udXJsKz0oTy50ZXN0KGgpPyImIjoiPyIpK20uZGF0YSxkZWxldGUgbS5kYXRhKSwhMT09PW0uY2FjaGUmJihtLnVybD1hYy50ZXN0KGgpP2gucmVwbGFjZShhYywiJDFfPSIrWSsrKTpoKyhPLnRlc3QoaCk/IiYiOiI/IikrIl89IitZKyspKTttLmlmTW9kaWZpZWQmJihkLmxhc3RNb2RpZmllZFtoXSYmcC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsZC5sYXN0TW9kaWZpZWRbaF0pLGQuZXRhZ1toXSYmcC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixkLmV0YWdbaF0pKTsobS5kYXRhJiZtLmhhc0NvbnRlbnQmJiExIT09bS5jb250ZW50VHlwZXx8Yi5jb250ZW50VHlwZSkmJnAuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixtLmNvbnRlbnRUeXBlKTtwLnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsbS5kYXRhVHlwZXNbMF0mJm0uYWNjZXB0c1ttLmRhdGFUeXBlc1swXV0/Cm0uYWNjZXB0c1ttLmRhdGFUeXBlc1swXV0rKCIqIiE9PW0uZGF0YVR5cGVzWzBdPyIsICIrSmIrIjsgcT0wLjAxIjoiIik6bS5hY2NlcHRzWyIqIl0pO2ZvcihlIGluIG0uaGVhZGVycylwLnNldFJlcXVlc3RIZWFkZXIoZSxtLmhlYWRlcnNbZV0pO2lmKG0uYmVmb3JlU2VuZCYmKCExPT09bS5iZWZvcmVTZW5kLmNhbGwoQSxwLG0pfHwyPT09ZWEpKXJldHVybiBwLmFib3J0KCk7cT0iYWJvcnQiO2ZvcihlIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXBbZV0obVtlXSk7aWYodD1YKEQsbSxiLHApKXtwLnJlYWR5U3RhdGU9MTtrJiZQLnRyaWdnZXIoImFqYXhTZW5kIixbcCxtXSk7bS5hc3luYyYmMDxtLnRpbWVvdXQmJihnPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtwLmFib3J0KCJ0aW1lb3V0Iil9LG0udGltZW91dCkpO3RyeXtlYT0xLHQuc2VuZChWLGMpfWNhdGNoKGNhKXtpZigyPmVhKWMoLTEsY2EpO2Vsc2UgdGhyb3cgY2E7fX1lbHNlIGMoLTEsIk5vIFRyYW5zcG9ydCIpOwpyZXR1cm4gcH0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGQuZ2V0KGEsYixjLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihhLGIpe3JldHVybiBkLmdldChhLHZvaWQgMCxiLCJzY3JpcHQiKX19KTtkLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oYSxiKXtkW2JdPWZ1bmN0aW9uKGEsYyxlLGgpe2QuaXNGdW5jdGlvbihjKSYmKGg9aHx8ZSxlPWMsYz12b2lkIDApO3JldHVybiBkLmFqYXgoe3VybDphLHR5cGU6YixkYXRhVHlwZTpoLGRhdGE6YyxzdWNjZXNzOmV9KX19KTtkLmVhY2goImFqYXhTdGFydCBhamF4U3RvcCBhamF4Q29tcGxldGUgYWpheEVycm9yIGFqYXhTdWNjZXNzIGFqYXhTZW5kIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7ZC5mbltiXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vbihiLGEpfX0pO2QuX2V2YWxVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIGQuYWpheCh7dXJsOmEsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0Iixhc3luYzohMSwKZ2xvYmFsOiExLCJ0aHJvd3MiOiEwfSl9O2QuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGEpe2lmKGQuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2QodGhpcykud3JhcEFsbChhLmNhbGwodGhpcyxiKSl9KTtpZih0aGlzWzBdKXt2YXIgYj1kKGEsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCk7dGhpc1swXS5wYXJlbnROb2RlJiZiLmluc2VydEJlZm9yZSh0aGlzWzBdKTtiLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzO2EuZmlyc3RDaGlsZCYmMT09PWEuZmlyc3RDaGlsZC5ub2RlVHlwZTspYT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGF9KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtyZXR1cm4gZC5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXtkKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1kKHRoaXMpLApjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXt2YXIgYj1kLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXtkKHRoaXMpLndyYXBBbGwoYj9hLmNhbGwodGhpcyxjKTphKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7ZC5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fGQodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pO2QuZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4gMD49YS5vZmZzZXRXaWR0aCYmMD49YS5vZmZzZXRIZWlnaHR8fCFyLnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpJiYibm9uZSI9PT0oYS5zdHlsZSYmYS5zdHlsZS5kaXNwbGF5fHxkLmNzcyhhLCJkaXNwbGF5IikpfTtkLmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiFkLmV4cHIuZmlsdGVycy5oaWRkZW4oYSl9Owp2YXIgbWM9LyUyMC9nLGdiPS9cW1xdJC8sST0vXHI/XG4vZyx0PS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxBPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtkLnBhcmFtPWZ1bmN0aW9uKGEsYil7dmFyIGMsZT1bXSxoPWZ1bmN0aW9uKGEsYil7Yj1kLmlzRnVuY3Rpb24oYik/YigpOm51bGw9PWI/IiI6YjtlW2UubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoYSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChiKX07dm9pZCAwPT09YiYmKGI9ZC5hamF4U2V0dGluZ3MmJmQuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKTtpZihkLmlzQXJyYXkoYSl8fGEuanF1ZXJ5JiYhZC5pc1BsYWluT2JqZWN0KGEpKWQuZWFjaChhLGZ1bmN0aW9uKCl7aCh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihjIGluIGEpV2EoYyxhW2NdLGIsaCk7cmV0dXJuIGUuam9pbigiJiIpLnJlcGxhY2UobWMsIisiKX07ZC5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBkLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LApzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPWQucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBhP2QubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIWQodGhpcykuaXMoIjpkaXNhYmxlZCIpJiZBLnRlc3QodGhpcy5ub2RlTmFtZSkmJiF0LnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCF0Yi50ZXN0KGEpKX0pLm1hcChmdW5jdGlvbihhLGIpe2E9ZCh0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09YT9udWxsOmQuaXNBcnJheShhKT9kLm1hcChhLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoSSwiXHJcbiIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoSSwiXHJcbiIpfX0pLmdldCgpfX0pO2QuYWpheFNldHRpbmdzLnhocj12b2lkIDAhPT1nLkFjdGl2ZVhPYmplY3Q/ZnVuY3Rpb24oKXt2YXIgYTsKaWYoIShhPSF0aGlzLmlzTG9jYWwmJi9eKGdldHxwb3N0fGhlYWR8cHV0fGRlbGV0ZXxvcHRpb25zKSQvaS50ZXN0KHRoaXMudHlwZSkmJmhiKCkpKWE6e3RyeXthPW5ldyBnLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIik7YnJlYWsgYX1jYXRjaChiKXt9YT12b2lkIDB9cmV0dXJuIGF9OmhiO3ZhciB3PTAsUD17fSxWPWQuYWpheFNldHRpbmdzLnhocigpO2lmKGcuQWN0aXZlWE9iamVjdClkKGcpLm9uKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIFApUFthXSh2b2lkIDAsITApfSk7ci5jb3JzPSEhViYmIndpdGhDcmVkZW50aWFscyJpbiBWOyhWPXIuYWpheD0hIVYpJiZkLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oYSl7aWYoIWEuY3Jvc3NEb21haW58fHIuY29ycyl7dmFyIGI7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oYyxlKXt2YXIgaCxmPWEueGhyKCksZz0rK3c7Zi5vcGVuKGEudHlwZSxhLnVybCxhLmFzeW5jLGEudXNlcm5hbWUsYS5wYXNzd29yZCk7CmlmKGEueGhyRmllbGRzKWZvcihoIGluIGEueGhyRmllbGRzKWZbaF09YS54aHJGaWVsZHNbaF07YS5taW1lVHlwZSYmZi5vdmVycmlkZU1pbWVUeXBlJiZmLm92ZXJyaWRlTWltZVR5cGUoYS5taW1lVHlwZSk7YS5jcm9zc0RvbWFpbnx8Y1siWC1SZXF1ZXN0ZWQtV2l0aCJdfHwoY1siWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpO2ZvcihoIGluIGMpdm9pZCAwIT09Y1toXSYmZi5zZXRSZXF1ZXN0SGVhZGVyKGgsY1toXSsiIik7Zi5zZW5kKGEuaGFzQ29udGVudCYmYS5kYXRhfHxudWxsKTtiPWZ1bmN0aW9uKGMsaCl7dmFyIGssdCx3O2lmKGImJihofHw0PT09Zi5yZWFkeVN0YXRlKSlpZihkZWxldGUgUFtnXSxiPXZvaWQgMCxmLm9ucmVhZHlzdGF0ZWNoYW5nZT1kLm5vb3AsaCk0IT09Zi5yZWFkeVN0YXRlJiZmLmFib3J0KCk7ZWxzZXt3PXt9O2s9Zi5zdGF0dXM7InN0cmluZyI9PT10eXBlb2YgZi5yZXNwb25zZVRleHQmJih3LnRleHQ9Zi5yZXNwb25zZVRleHQpOwp0cnl7dD1mLnN0YXR1c1RleHR9Y2F0Y2gobSl7dD0iIn1rfHwhYS5pc0xvY2FsfHxhLmNyb3NzRG9tYWluPzEyMjM9PT1rJiYoaz0yMDQpOms9dy50ZXh0PzIwMDo0MDR9dyYmZShrLHQsdyxmLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKX07YS5hc3luYz80PT09Zi5yZWFkeVN0YXRlP3NldFRpbWVvdXQoYik6Zi5vbnJlYWR5c3RhdGVjaGFuZ2U9UFtnXT1iOmIoKX0sYWJvcnQ6ZnVuY3Rpb24oKXtiJiZiKHZvaWQgMCwhMCl9fX19KTtkLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6Lyg/OmphdmF8ZWNtYSlzY3JpcHQvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe2QuZ2xvYmFsRXZhbChhKTtyZXR1cm4gYX19fSk7ZC5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PQphLmNhY2hlJiYoYS5jYWNoZT0hMSk7YS5jcm9zc0RvbWFpbiYmKGEudHlwZT0iR0VUIixhLmdsb2JhbD0hMSl9KTtkLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGIsYz1wLmhlYWR8fGQoImhlYWQiKVswXXx8cC5kb2N1bWVudEVsZW1lbnQ7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSxkKXtiPXAuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7Yi5hc3luYz0hMDthLnNjcmlwdENoYXJzZXQmJihiLmNoYXJzZXQ9YS5zY3JpcHRDaGFyc2V0KTtiLnNyYz1hLnVybDtiLm9ubG9hZD1iLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbihhLGMpe2lmKGN8fCFiLnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3QoYi5yZWFkeVN0YXRlKSliLm9ubG9hZD1iLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbCxjfHxkKDIwMCwic3VjY2VzcyIpfTtjLmluc2VydEJlZm9yZShiLApjLmZpcnN0Q2hpbGQpfSxhYm9ydDpmdW5jdGlvbigpe2lmKGIpYi5vbmxvYWQodm9pZCAwLCEwKX19fX0pO3ZhciBiYT1bXSxNYT0vKD0pXD8oPz0mfCQpfFw/XD8vO2QuYWpheFNldHVwKHtqc29ucDoiY2FsbGJhY2siLGpzb25wQ2FsbGJhY2s6ZnVuY3Rpb24oKXt2YXIgYT1iYS5wb3AoKXx8ZC5leHBhbmRvKyJfIitZKys7dGhpc1thXT0hMDtyZXR1cm4gYX19KTtkLmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKGEsYixjKXt2YXIgZSxoLGYsaz0hMSE9PWEuanNvbnAmJihNYS50ZXN0KGEudXJsKT8idXJsIjoic3RyaW5nIj09PXR5cGVvZiBhLmRhdGEmJiEoYS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZNYS50ZXN0KGEuZGF0YSkmJiJkYXRhIik7aWYoa3x8Impzb25wIj09PWEuZGF0YVR5cGVzWzBdKXJldHVybiBlPWEuanNvbnBDYWxsYmFjaz1kLmlzRnVuY3Rpb24oYS5qc29ucENhbGxiYWNrKT8KYS5qc29ucENhbGxiYWNrKCk6YS5qc29ucENhbGxiYWNrLGs/YVtrXT1hW2tdLnJlcGxhY2UoTWEsIiQxIitlKTohMSE9PWEuanNvbnAmJihhLnVybCs9KE8udGVzdChhLnVybCk/IiYiOiI/IikrYS5qc29ucCsiPSIrZSksYS5jb252ZXJ0ZXJzWyJzY3JpcHQganNvbiJdPWZ1bmN0aW9uKCl7Znx8ZC5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKTtyZXR1cm4gZlswXX0sYS5kYXRhVHlwZXNbMF09Impzb24iLGg9Z1tlXSxnW2VdPWZ1bmN0aW9uKCl7Zj1hcmd1bWVudHN9LGMuYWx3YXlzKGZ1bmN0aW9uKCl7Z1tlXT1oO2FbZV0mJihhLmpzb25wQ2FsbGJhY2s9Yi5qc29ucENhbGxiYWNrLGJhLnB1c2goZSkpO2YmJmQuaXNGdW5jdGlvbihoKSYmaChmWzBdKTtmPWg9dm9pZCAwfSksInNjcmlwdCJ9KTtkLnBhcnNlSFRNTD1mdW5jdGlvbihhLGIsYyl7aWYoIWF8fCJzdHJpbmciIT09dHlwZW9mIGEpcmV0dXJuIG51bGw7ImJvb2xlYW4iPT09dHlwZW9mIGImJihjPWIsYj0hMSk7Yj1ifHwKcDt2YXIgZT1VYi5leGVjKGEpO2M9IWMmJltdO2lmKGUpcmV0dXJuW2IuY3JlYXRlRWxlbWVudChlWzFdKV07ZT1kLmJ1aWxkRnJhZ21lbnQoW2FdLGIsYyk7YyYmYy5sZW5ndGgmJmQoYykucmVtb3ZlKCk7cmV0dXJuIGQubWVyZ2UoW10sZS5jaGlsZE5vZGVzKX07dmFyIE5hPWQuZm4ubG9hZDtkLmZuLmxvYWQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCJzdHJpbmciIT09dHlwZW9mIGEmJk5hKXJldHVybiBOYS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGUsaCxmLGc9dGhpcyxrPWEuaW5kZXhPZigiICIpOzA8PWsmJihlPWQudHJpbShhLnNsaWNlKGssYS5sZW5ndGgpKSxhPWEuc2xpY2UoMCxrKSk7ZC5pc0Z1bmN0aW9uKGIpPyhjPWIsYj12b2lkIDApOmImJiJvYmplY3QiPT09dHlwZW9mIGImJihmPSJQT1NUIik7MDxnLmxlbmd0aCYmZC5hamF4KHt1cmw6YSx0eXBlOmYsZGF0YVR5cGU6Imh0bWwiLGRhdGE6Yn0pLmRvbmUoZnVuY3Rpb24oYSl7aD1hcmd1bWVudHM7Zy5odG1sKGU/CmQoIjxkaXY+IikuYXBwZW5kKGQucGFyc2VIVE1MKGEpKS5maW5kKGUpOmEpfSkuY29tcGxldGUoYyYmZnVuY3Rpb24oYSxiKXtnLmVhY2goYyxofHxbYS5yZXNwb25zZVRleHQsYixhXSl9KTtyZXR1cm4gdGhpc307ZC5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGQuZ3JlcChkLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07dmFyIGNhPWcuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2Qub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGgsZixnPWQuY3NzKGEsInBvc2l0aW9uIiksaz1kKGEpLHQ9e307InN0YXRpYyI9PT1nJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTtmPWsub2Zmc2V0KCk7aD1kLmNzcyhhLCJ0b3AiKTtlPWQuY3NzKGEsImxlZnQiKTsoImFic29sdXRlIj09PWd8fCJmaXhlZCI9PT1nKSYmLTE8ZC5pbkFycmF5KCJhdXRvIixbaCxlXSk/KGU9ay5wb3NpdGlvbigpLApoPWUudG9wLGU9ZS5sZWZ0KTooaD1wYXJzZUZsb2F0KGgpfHwwLGU9cGFyc2VGbG9hdChlKXx8MCk7ZC5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLGYpKTtudWxsIT1iLnRvcCYmKHQudG9wPWIudG9wLWYudG9wK2gpO251bGwhPWIubGVmdCYmKHQubGVmdD1iLmxlZnQtZi5sZWZ0K2UpOyJ1c2luZyJpbiBiP2IudXNpbmcuY2FsbChhLHQpOmsuY3NzKHQpfX07ZC5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihhKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1hP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2Qub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYixjLGU9e3RvcDowLGxlZnQ6MH0saD0oYz10aGlzWzBdKSYmYy5vd25lckRvY3VtZW50O2lmKGgpe2I9aC5kb2N1bWVudEVsZW1lbnQ7aWYoIWQuY29udGFpbnMoYixjKSlyZXR1cm4gZTsidW5kZWZpbmVkIiE9PXR5cGVvZiBjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKGU9Yy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7CmM9aWIoaCk7cmV0dXJue3RvcDplLnRvcCsoYy5wYWdlWU9mZnNldHx8Yi5zY3JvbGxUb3ApLShiLmNsaWVudFRvcHx8MCksbGVmdDplLmxlZnQrKGMucGFnZVhPZmZzZXR8fGIuc2Nyb2xsTGVmdCktKGIuY2xpZW50TGVmdHx8MCl9fX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgYSxiLGM9e3RvcDowLGxlZnQ6MH0sZT10aGlzWzBdOyJmaXhlZCI9PT1kLmNzcyhlLCJwb3NpdGlvbiIpP2I9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooYT10aGlzLm9mZnNldFBhcmVudCgpLGI9dGhpcy5vZmZzZXQoKSxkLm5vZGVOYW1lKGFbMF0sImh0bWwiKXx8KGM9YS5vZmZzZXQoKSksYy50b3ArPWQuY3NzKGFbMF0sImJvcmRlclRvcFdpZHRoIiwhMCksYy5sZWZ0Kz1kLmNzcyhhWzBdLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSk7cmV0dXJue3RvcDpiLnRvcC1jLnRvcC1kLmNzcyhlLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OmIubGVmdC1jLmxlZnQtZC5jc3MoZSwibWFyZ2luTGVmdCIsCiEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5vZmZzZXRQYXJlbnR8fGNhO2EmJiFkLm5vZGVOYW1lKGEsImh0bWwiKSYmInN0YXRpYyI9PT1kLmNzcyhhLCJwb3NpdGlvbiIpOylhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxjYX0pfX0pO2QuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPS9ZLy50ZXN0KGIpO2QuZm5bYV09ZnVuY3Rpb24oZSl7cmV0dXJuIHVhKHRoaXMsZnVuY3Rpb24oYSxlLGgpe3ZhciBmPWliKGEpO2lmKHZvaWQgMD09PWgpcmV0dXJuIGY/YiBpbiBmP2ZbYl06Zi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbZV06YVtlXTtmP2Yuc2Nyb2xsVG8oYz9kKGYpLnNjcm9sbExlZnQoKTpoLGM/aDpkKGYpLnNjcm9sbFRvcCgpKTphW2VdPWh9LGEsZSxhcmd1bWVudHMubGVuZ3RoLG51bGwpfX0pOwpkLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oYSxiKXtkLmNzc0hvb2tzW2JdPWViKHIucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihhLGMpe2lmKGMpcmV0dXJuIGM9eGEoYSxiKSxHLnRlc3QoYyk/ZChhKS5wb3NpdGlvbigpW2JdKyJweCI6Y30pfSk7ZC5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oYSxiKXtkLmVhY2goe3BhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6YiwiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKGMsZSl7ZC5mbltlXT1mdW5jdGlvbihlLGgpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHwiYm9vbGVhbiIhPT10eXBlb2YgZSksZz1jfHwoITA9PT1lfHwhMD09PWg/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiB1YSh0aGlzLGZ1bmN0aW9uKGIsYyxlKXtyZXR1cm4gZC5pc1dpbmRvdyhiKT9iLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IithXTo5PT09Yi5ub2RlVHlwZT8oYz1iLmRvY3VtZW50RWxlbWVudCwKTWF0aC5tYXgoYi5ib2R5WyJzY3JvbGwiK2FdLGNbInNjcm9sbCIrYV0sYi5ib2R5WyJvZmZzZXQiK2FdLGNbIm9mZnNldCIrYV0sY1siY2xpZW50IithXSkpOnZvaWQgMD09PWU/ZC5jc3MoYixjLGcpOmQuc3R5bGUoYixjLGUsZyl9LGIsZj9lOnZvaWQgMCxmLG51bGwpfX0pfSk7ZC5mbi5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofTtkLmZuLmFuZFNlbGY9ZC5mbi5hZGRCYWNrOyJmdW5jdGlvbiI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gZH0pO3ZhciBCYT1nLmpRdWVyeSxwYz1nLiQ7ZC5ub0NvbmZsaWN0PWZ1bmN0aW9uKGEpe2cuJD09PWQmJihnLiQ9cGMpO2EmJmcualF1ZXJ5PT09ZCYmKGcualF1ZXJ5PUJhKTtyZXR1cm4gZH07InVuZGVmaW5lZCI9PT10eXBlb2YgT2EmJihnLmpRdWVyeT1nLiQ9ZCk7cmV0dXJuIGR9KTtyZXR1cm4gZ307CihmdW5jdGlvbihnKXsiZnVuY3Rpb24iPT09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiLCJtb21lbnQiXSxnKToib2JqZWN0Ij09PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWcoX2Fzc2V0X3BpcGVsaW5lX3JlcXVpcmUoImpxdWVyeS9qcXVlcnkuanMiKSxyZXF1aXJlKCJtb21lbnQiKSk6ZyhqUXVlcnksbW9tZW50KX0pKGZ1bmN0aW9uKGcscSl7ZnVuY3Rpb24gT2EoYSl7dmFyIGI9e3ZpZXdzOmEudmlld3N8fHt9fSxjO2cuZWFjaChhLGZ1bmN0aW9uKGEsZCl7InZpZXdzIiE9YSYmKGcuaXNQbGFpbk9iamVjdChkKSYmIS8odGltZXxkdXJhdGlvbnxpbnRlcnZhbCkkL2kudGVzdChhKSYmLTE9PWcuaW5BcnJheShhLENhKT8oYz1udWxsLGcuZWFjaChkLGZ1bmN0aW9uKGQsaCl7L14obW9udGh8d2Vla3xkYXl8ZGVmYXVsdHxiYXNpYyhXZWVrfERheSk/fGFnZW5kYShXZWVrfERheSk/KSQvLnRlc3QoZCk/KGIudmlld3NbZF18fChiLnZpZXdzW2RdPQp7fSksYi52aWV3c1tkXVthXT1oKTooY3x8KGM9e30pLGNbZF09aCl9KSxjJiYoYlthXT1jKSk6YlthXT1kKX0pO3JldHVybiBifWZ1bmN0aW9uIGFiKGEsYil7Yi5sZWZ0JiZhLmNzcyh7ImJvcmRlci1sZWZ0LXdpZHRoIjoxLCJtYXJnaW4tbGVmdCI6Yi5sZWZ0LTF9KTtiLnJpZ2h0JiZhLmNzcyh7ImJvcmRlci1yaWdodC13aWR0aCI6MSwibWFyZ2luLXJpZ2h0IjpiLnJpZ2h0LTF9KX1mdW5jdGlvbiBiYihhKXthLmNzcyh7Im1hcmdpbi1sZWZ0IjoiIiwibWFyZ2luLXJpZ2h0IjoiIiwiYm9yZGVyLWxlZnQtd2lkdGgiOiIiLCJib3JkZXItcmlnaHQtd2lkdGgiOiIifSl9ZnVuY3Rpb24gUGEoKXtnKCJib2R5IikuYWRkQ2xhc3MoImZjLW5vdC1hbGxvd2VkIil9ZnVuY3Rpb24gY2IoKXtnKCJib2R5IikucmVtb3ZlQ2xhc3MoImZjLW5vdC1hbGxvd2VkIil9ZnVuY3Rpb24gb2IoYSxiLGMpe3ZhciBlPU1hdGguZmxvb3IoYi9hLmxlbmd0aCksZD1NYXRoLmZsb29yKGItZSooYS5sZW5ndGgtCjEpKSxmPVtdLGs9W10sbT1bXSxLPTA7YS5oZWlnaHQoIiIpO2EuZWFjaChmdW5jdGlvbihiLGMpe2I9Yj09PWEubGVuZ3RoLTE/ZDplO3ZhciBwPWcoYykub3V0ZXJIZWlnaHQoITApO3A8Yj8oZi5wdXNoKGMpLGsucHVzaChwKSxtLnB1c2goZyhjKS5oZWlnaHQoKSkpOksrPXB9KTtjJiYoYi09SyxlPU1hdGguZmxvb3IoYi9mLmxlbmd0aCksZD1NYXRoLmZsb29yKGItZSooZi5sZW5ndGgtMSkpKTtnKGYpLmVhY2goZnVuY3Rpb24oYSxiKXt2YXIgYz1hPT09Zi5sZW5ndGgtMT9kOmUsSz1rW2FdO2E9Yy0oSy1tW2FdKTtLPGMmJmcoYikuaGVpZ2h0KGEpfSl9ZnVuY3Rpb24gbWEoYSl7dmFyIGI9MDthLmZpbmQoIj4gc3BhbiIpLmVhY2goZnVuY3Rpb24oYSxlKXthPWcoZSkub3V0ZXJXaWR0aCgpO2E+YiYmKGI9YSl9KTtiKys7YS53aWR0aChiKTtyZXR1cm4gYn1mdW5jdGlvbiBwYihhLGIpe3ZhciBjPWEuYWRkKGIpO2MuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLGxlZnQ6LTF9KTsKYT1hLm91dGVySGVpZ2h0KCktYi5vdXRlckhlaWdodCgpO2MuY3NzKHtwb3NpdGlvbjoiIixsZWZ0OiIifSk7cmV0dXJuIGF9ZnVuY3Rpb24gUWEoYSl7dmFyIGI9YS5jc3MoInBvc2l0aW9uIiksYz1hLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT1nKHRoaXMpO3JldHVybi8oYXV0b3xzY3JvbGwpLy50ZXN0KGEuY3NzKCJvdmVyZmxvdyIpK2EuY3NzKCJvdmVyZmxvdy15IikrYS5jc3MoIm92ZXJmbG93LXgiKSl9KS5lcSgwKTtyZXR1cm4iZml4ZWQiIT09YiYmYy5sZW5ndGg/YzpnKGFbMF0ub3duZXJEb2N1bWVudHx8ZG9jdW1lbnQpfWZ1bmN0aW9uIGRiKGEsYil7dmFyIGM9YS5vZmZzZXQoKSxlPWMubGVmdC0oYj9iLmxlZnQ6MCk7Yj1jLnRvcC0oYj9iLnRvcDowKTtyZXR1cm57bGVmdDplLHJpZ2h0OmUrYS5vdXRlcldpZHRoKCksdG9wOmIsYm90dG9tOmIrYS5vdXRlckhlaWdodCgpfX1mdW5jdGlvbiByYihhLGIpe3ZhciBjPWEub2Zmc2V0KCksZT1EYShhKSxkPQpjLmxlZnQrKHBhcnNlRmxvYXQoYS5jc3MoImJvcmRlci1sZWZ0LXdpZHRoIikpfHwwKStlLmxlZnQtKGI/Yi5sZWZ0OjApO2I9Yy50b3ArKHBhcnNlRmxvYXQoYS5jc3MoImJvcmRlci10b3Atd2lkdGgiKSl8fDApK2UudG9wLShiP2IudG9wOjApO3JldHVybntsZWZ0OmQscmlnaHQ6ZCthWzBdLmNsaWVudFdpZHRoLHRvcDpiLGJvdHRvbTpiK2FbMF0uY2xpZW50SGVpZ2h0fX1mdW5jdGlvbiBEYShhKXt2YXIgYj1hLmlubmVyV2lkdGgoKS1hWzBdLmNsaWVudFdpZHRoLGM9e2xlZnQ6MCxyaWdodDowLHRvcDowLGJvdHRvbTphLmlubmVySGVpZ2h0KCktYVswXS5jbGllbnRIZWlnaHR9O2lmKG51bGw9PT1JYSl7dmFyIGU9ZygiPGRpdj48ZGl2Lz48L2Rpdj4iKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOi0xRTMsbGVmdDowLGJvcmRlcjowLHBhZGRpbmc6MCxvdmVyZmxvdzoic2Nyb2xsIixkaXJlY3Rpb246InJ0bCJ9KS5hcHBlbmRUbygiYm9keSIpLGQ9ZS5jaGlsZHJlbigpLm9mZnNldCgpLmxlZnQ+CmUub2Zmc2V0KCkubGVmdDtlLnJlbW92ZSgpO0lhPWR9SWEmJiJydGwiPT1hLmNzcygiZGlyZWN0aW9uIik/Yy5sZWZ0PWI6Yy5yaWdodD1iO3JldHVybiBjfWZ1bmN0aW9uIFcoYSl7aWYodm9pZCAwIT09YS5wYWdlWClyZXR1cm4gYS5wYWdlWDtpZihhPWEub3JpZ2luYWxFdmVudC50b3VjaGVzKXJldHVybiBhWzBdLnBhZ2VYfWZ1bmN0aW9uIGhhKGEpe2lmKHZvaWQgMCE9PWEucGFnZVkpcmV0dXJuIGEucGFnZVk7aWYoYT1hLm9yaWdpbmFsRXZlbnQudG91Y2hlcylyZXR1cm4gYVswXS5wYWdlWX1mdW5jdGlvbiBSYShhKXthLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gTChhLGIpe2E9e2xlZnQ6TWF0aC5tYXgoYS5sZWZ0LGIubGVmdCkscmlnaHQ6TWF0aC5taW4oYS5yaWdodCxiLnJpZ2h0KSx0b3A6TWF0aC5tYXgoYS50b3AsYi50b3ApLGJvdHRvbTpNYXRoLm1pbihhLmJvdHRvbSxiLmJvdHRvbSl9O3JldHVybiBhLmxlZnQ8YS5yaWdodCYmYS50b3A8YS5ib3R0b20/YTohMX0KZnVuY3Rpb24gTGIoYSl7dmFyIGI9W10sYz1bXSxlOyJzdHJpbmciPT09dHlwZW9mIGE/Yz1hLnNwbGl0KC9ccyosXHMqLyk6ImZ1bmN0aW9uIj09PXR5cGVvZiBhP2M9W2FdOmcuaXNBcnJheShhKSYmKGM9YSk7Zm9yKGE9MDthPGMubGVuZ3RoO2ErKyllPWNbYV0sInN0cmluZyI9PT10eXBlb2YgZT9iLnB1c2goIi0iPT1lLmNoYXJBdCgwKT97ZmllbGQ6ZS5zdWJzdHJpbmcoMSksb3JkZXI6LTF9OntmaWVsZDplLG9yZGVyOjF9KToiZnVuY3Rpb24iPT09dHlwZW9mIGUmJmIucHVzaCh7ZnVuYzplfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gdWIoYSxiLGMpe3ZhciBlLGQ7Zm9yKGU9MDtlPGMubGVuZ3RoO2UrKylpZihkPXZiKGEsYixjW2VdKSlyZXR1cm4gZDtyZXR1cm4gMH1mdW5jdGlvbiB2YihhLGIsYyl7cmV0dXJuIGMuZnVuYz9jLmZ1bmMoYSxiKTp3YihhW2MuZmllbGRdLGJbYy5maWVsZF0pKihjLm9yZGVyfHwxKX1mdW5jdGlvbiB3YihhLGIpe3JldHVybiBhfHxiP251bGw9PWI/Ci0xOm51bGw9PWE/MToic3RyaW5nIj09PWcudHlwZShhKXx8InN0cmluZyI9PT1nLnR5cGUoYik/U3RyaW5nKGEpLmxvY2FsZUNvbXBhcmUoU3RyaW5nKGIpKTphLWI6MH1mdW5jdGlvbiBTYShhLGIpe3ZhciBjPWEuc3RhcnQ7YT1hLmVuZDt2YXIgZT1iLnN0YXJ0O2I9Yi5lbmQ7aWYoYT5lJiZjPGIpcmV0dXJuIGM+PWU/KGM9Yy5jbG9uZSgpLGU9ITApOihjPWUuY2xvbmUoKSxlPSExKSxhPD1iPyhhPWEuY2xvbmUoKSxiPSEwKTooYT1iLmNsb25lKCksYj0hMSkse3N0YXJ0OmMsZW5kOmEsaXNTdGFydDplLGlzRW5kOmJ9fWZ1bmN0aW9uIHhiKGEsYil7cmV0dXJuIHEuZHVyYXRpb24oe2RheXM6YS5jbG9uZSgpLnN0cmlwVGltZSgpLmRpZmYoYi5jbG9uZSgpLnN0cmlwVGltZSgpLCJkYXlzIiksbXM6YS50aW1lKCktYi50aW1lKCl9KX1mdW5jdGlvbiB5YihhLGIsYyl7cmV0dXJuIHEuZHVyYXRpb24oTWF0aC5yb3VuZChhLmRpZmYoYixjLCEwKSksYyl9ZnVuY3Rpb24gRWEoYSxiKXt2YXIgYywKZSxkO2ZvcihjPTA7Yzx3YS5sZW5ndGg7YysrKXtlPXdhW2NdO2Q9ZTt2YXIgZj1hO2Q9bnVsbCE9Yj9iLmRpZmYoZixkLCEwKTpxLmlzRHVyYXRpb24oZik/Zi5hcyhkKTpmLmVuZC5kaWZmKGYuc3RhcnQsZCwhMCk7aWYoMTw9ZCYmbmEoZCkpYnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gZWIoYSxiKXt2YXIgYyxlO2lmKGphKGEpfHxqYShiKSlyZXR1cm4gYS9iO2M9YS5hc01vbnRocygpO2U9Yi5hc01vbnRocygpO3JldHVybiAxPD1NYXRoLmFicyhjKSYmbmEoYykmJjE8PU1hdGguYWJzKGUpJiZuYShlKT9jL2U6YS5hc0RheXMoKS9iLmFzRGF5cygpfWZ1bmN0aW9uIGphKGEpe3JldHVybiEhKGEuaG91cnMoKXx8YS5taW51dGVzKCl8fGEuc2Vjb25kcygpfHxhLm1pbGxpc2Vjb25kcygpKX1mdW5jdGlvbiB6YihhKXtyZXR1cm4vXlxkK1w6XGQrKD86XDpcZCtcLj8oPzpcZHszfSk/KT8kLy50ZXN0KGEpfWZ1bmN0aW9uIHFhKGEsYil7dmFyIGM9e30sZSxkLGYsZyxtO2lmKGIpZm9yKGU9CjA7ZTxiLmxlbmd0aDtlKyspe2Q9YltlXTtmPVtdO2ZvcihnPWEubGVuZ3RoLTE7MDw9ZztnLS0paWYobT1hW2ddW2RdLCJvYmplY3QiPT09dHlwZW9mIG0pZi51bnNoaWZ0KG0pO2Vsc2UgaWYodm9pZCAwIT09bSl7Y1tkXT1tO2JyZWFrfWYubGVuZ3RoJiYoY1tkXT1xYShmKSl9Zm9yKGU9YS5sZW5ndGgtMTswPD1lO2UtLSlmb3IoZCBpbiBiPWFbZV0sYilkIGluIGN8fChjW2RdPWJbZF0pO3JldHVybiBjfWZ1bmN0aW9uIFRhKGEpe3ZhciBiPWZ1bmN0aW9uKCl7fTtiLnByb3RvdHlwZT1hO3JldHVybiBuZXcgYn1mdW5jdGlvbiBVYShhLGIpe2Zvcih2YXIgYyBpbiBhKXVhLmNhbGwoYSxjKSYmKGJbY109YVtjXSl9ZnVuY3Rpb24gUihhLGIpe3ZhciBjPVsiY29uc3RydWN0b3IiLCJ0b1N0cmluZyIsInZhbHVlT2YiXSxlLGQ7Zm9yKGU9MDtlPGMubGVuZ3RoO2UrKylkPWNbZV0sYVtkXSE9PU9iamVjdC5wcm90b3R5cGVbZF0mJihiW2RdPWFbZF0pfWZ1bmN0aW9uIFZhKGEsYixjKXtnLmlzRnVuY3Rpb24oYSkmJgooYT1bYV0pO2lmKGEpe3ZhciBlLGQ7Zm9yKGU9MDtlPGEubGVuZ3RoO2UrKylkPWFbZV0uYXBwbHkoYixjKXx8ZDtyZXR1cm4gZH19ZnVuY3Rpb24gVSgpe2Zvcih2YXIgYT0wO2E8YXJndW1lbnRzLmxlbmd0aDthKyspaWYodm9pZCAwIT09YXJndW1lbnRzW2FdKXJldHVybiBhcmd1bWVudHNbYV19ZnVuY3Rpb24gTShhKXtyZXR1cm4oYSsiIikucmVwbGFjZSgvJi9nLCImYW1wOyIpLnJlcGxhY2UoLzwvZywiJmx0OyIpLnJlcGxhY2UoLz4vZywiJmd0OyIpLnJlcGxhY2UoLycvZywiJiMwMzk7IikucmVwbGFjZSgvIi9nLCImcXVvdDsiKS5yZXBsYWNlKC9cbi9nLCI8YnIgLz4iKX1mdW5jdGlvbiBmYihhKXt2YXIgYj1bXTtnLmVhY2goYSxmdW5jdGlvbihhLGUpe251bGwhPWUmJmIucHVzaChhKyI6IitlKX0pO3JldHVybiBiLmpvaW4oIjsiKX1mdW5jdGlvbiBPYihhLGIpe3JldHVybiBhLWJ9ZnVuY3Rpb24gbmEoYSl7cmV0dXJuIDA9PT1hJTF9ZnVuY3Rpb24gWChhLGIpe3ZhciBjPQphW2JdO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KGEsYXJndW1lbnRzKX19ZnVuY3Rpb24gSGEoYSxiLGMpe3ZhciBlLGQsZixnLG0sSz1mdW5jdGlvbigpe3ZhciBwPStuZXcgRGF0ZS1nO3A8Yj9lPXNldFRpbWVvdXQoSyxiLXApOihlPW51bGwsY3x8KG09YS5hcHBseShmLGQpLGY9ZD1udWxsKSl9O3JldHVybiBmdW5jdGlvbigpe2Y9dGhpcztkPWFyZ3VtZW50cztnPStuZXcgRGF0ZTt2YXIgcD1jJiYhZTtlfHwoZT1zZXRUaW1lb3V0KEssYikpO3AmJihtPWEuYXBwbHkoZixkKSxmPWQ9bnVsbCk7cmV0dXJuIG19fWZ1bmN0aW9uIFdhKGEsYil7aWYoIWF8fCFhLnRoZW58fCJyZXNvbHZlZCI9PT1hLnN0YXRlKCkpcmV0dXJuIGcud2hlbihiKCkpO2lmKGIpcmV0dXJuIGEudGhlbihiKX1mdW5jdGlvbiBoYihhLGIsYyl7dmFyIGU9YVswXSxkPTE9PWEubGVuZ3RoJiYic3RyaW5nIj09PXR5cGVvZiBlLGYsayxtO2lmKHEuaXNNb21lbnQoZSkpYT1xLmFwcGx5KG51bGwsCmEpLGdhKGUsYSk7ZWxzZSBpZihmPWUsIltvYmplY3QgRGF0ZV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGYpfHxmIGluc3RhbmNlb2YgRGF0ZXx8dm9pZCAwPT09ZSlhPXEuYXBwbHkobnVsbCxhKTtlbHNle2s9Zj0hMTtpZihkKWlmKHRiLnRlc3QoZSkpZSs9Ii0wMSIsYT1bZV0saz1mPSEwO2Vsc2V7aWYobT1BYi5leGVjKGUpKWY9IW1bNV0saz0hMH1lbHNlIGcuaXNBcnJheShlKSYmKGs9ITApO2E9Ynx8Zj9xLnV0Yy5hcHBseShxLGEpOnEuYXBwbHkobnVsbCxhKTtmPyhhLl9hbWJpZ1RpbWU9ITAsYS5fYW1iaWdab25lPSEwKTpjJiYoaz9hLl9hbWJpZ1pvbmU9ITA6ZCYmKGEudXRjT2Zmc2V0P2EudXRjT2Zmc2V0KGUpOmEuem9uZShlKSkpfWEuX2Z1bGxDYWxlbmRhcj0hMDtyZXR1cm4gYX1mdW5jdGlvbiBpYihhLGIpe3ZhciBjPSExLGU9ITEsZD1hLmxlbmd0aCxmPVtdLGcsbTtmb3IoZz0wO2c8ZDtnKyspbT1hW2ddLHEuaXNNb21lbnQobSl8fChtPXYubW9tZW50LnBhcnNlWm9uZShtKSksCmM9Y3x8bS5fYW1iaWdUaW1lLGU9ZXx8bS5fYW1iaWdab25lLGYucHVzaChtKTtmb3IoZz0wO2c8ZDtnKyspbT1mW2ddLGJ8fCFjfHxtLl9hbWJpZ1RpbWU/ZSYmIW0uX2FtYmlnWm9uZSYmKGZbZ109bS5jbG9uZSgpLnN0cmlwWm9uZSgpKTpmW2ddPW0uY2xvbmUoKS5zdHJpcFRpbWUoKTtyZXR1cm4gZn1mdW5jdGlvbiBnYShhLGIpe2EuX2FtYmlnVGltZT9iLl9hbWJpZ1RpbWU9ITA6Yi5fYW1iaWdUaW1lJiYoYi5fYW1iaWdUaW1lPSExKTthLl9hbWJpZ1pvbmU/Yi5fYW1iaWdab25lPSEwOmIuX2FtYmlnWm9uZSYmKGIuX2FtYmlnWm9uZT0hMSl9ZnVuY3Rpb24gb2EoYSxiKXthLnllYXIoYlswXXx8MCkubW9udGgoYlsxXXx8MCkuZGF0ZShiWzJdfHwwKS5ob3VycyhiWzNdfHwwKS5taW51dGVzKGJbNF18fDApLnNlY29uZHMoYls1XXx8MCkubWlsbGlzZWNvbmRzKGJbNl18fDApfWZ1bmN0aW9uIGZhKGEsYil7cmV0dXJuIEouZm9ybWF0LmNhbGwoYSxiKX1mdW5jdGlvbiBqYihhLApiKXt2YXIgYz0iIixlO2ZvcihlPTA7ZTxiLmxlbmd0aDtlKyspYys9a2IoYSxiW2VdKTtyZXR1cm4gY31mdW5jdGlvbiBrYihhLGIpe3ZhciBjO3JldHVybiJzdHJpbmciPT09dHlwZW9mIGI/YjooYz1iLnRva2VuKT9ZYltjXT9ZYltjXShhKTpmYShhLGMpOmIubWF5YmUmJihhPWpiKGEsYi5tYXliZSksYS5tYXRjaCgvWzEtOV0vKSk/YToiIn1mdW5jdGlvbiBYYShhLGIsYyxlLGQpe2E9di5tb21lbnQucGFyc2Vab25lKGEpO2I9di5tb21lbnQucGFyc2Vab25lKGIpO2M9KGEubG9jYWxlRGF0YXx8YS5sYW5nKS5jYWxsKGEpLmxvbmdEYXRlRm9ybWF0KGMpfHxjO2U9ZXx8IiAtICI7Yz15YShjKTt2YXIgZj1hLmNsb25lKCkuc3RyaXBab25lKCksZz1iLmNsb25lKCkuc3RyaXBab25lKCksbSxLLHA9IiIsRSxxPSIiLHI9IiIsWT0iIixPPSIiO2ZvcihLPTA7SzxjLmxlbmd0aDtLKyspe209UGIoYSxiLGYsZyxjW0tdKTtpZighMT09PW0pYnJlYWs7cCs9bX1mb3IoRT1jLmxlbmd0aC0KMTtFPks7RS0tKXttPVBiKGEsYixmLGcsY1tFXSk7aWYoITE9PT1tKWJyZWFrO3E9bStxfWZvcihmPUs7Zjw9RTtmKyspcis9a2IoYSxjW2ZdKSxZKz1rYihiLGNbZl0pO2lmKHJ8fFkpTz1kP1krZStyOnIrZStZO3JldHVybiBwK08rcX1mdW5jdGlvbiBQYihhLGIsYyxlLGQpe3JldHVybiJzdHJpbmciPT09dHlwZW9mIGQ/ZDooYj1kLnRva2VuKSYmKGQ9WmJbYi5jaGFyQXQoMCldKSYmYy5pc1NhbWUoZSxkKT9mYShhLGIpOiExfWZ1bmN0aW9uIHlhKGEpe3JldHVybiBhIGluIFphP1phW2FdOlphW2FdPXIoYSl9ZnVuY3Rpb24gcihhKXtmb3IodmFyIGI9W10sYz0vXFsoW15cXV0qKVxdfFwoKFteXCldKilcKXwoTFRTfExUfChcdylcNCpvPyl8KFteXHdcW1woXSspL2csZTtlPWMuZXhlYyhhKTspZVsxXT9iLnB1c2goZVsxXSk6ZVsyXT9iLnB1c2goe21heWJlOnIoZVsyXSl9KTplWzNdP2IucHVzaCh7dG9rZW46ZVszXX0pOmVbNV0mJmIucHVzaChlWzVdKTtyZXR1cm4gYn1mdW5jdGlvbiBkKCl7fQpmdW5jdGlvbiBkYyhhLGIpe3ZhciBjO3VhLmNhbGwoYiwiY29uc3RydWN0b3IiKSYmKGM9Yi5jb25zdHJ1Y3Rvcik7ImZ1bmN0aW9uIiE9PXR5cGVvZiBjJiYoYz1iLmNvbnN0cnVjdG9yPWZ1bmN0aW9uKCl7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTtjLnByb3RvdHlwZT1UYShhLnByb3RvdHlwZSk7VWEoYixjLnByb3RvdHlwZSk7UihiLGMucHJvdG90eXBlKTtVYShhLGMpO3JldHVybiBjfWZ1bmN0aW9uIFFiKGEsYil7cmV0dXJuIGF8fGI/YSYmYj9hLmNvbXBvbmVudD09PWIuY29tcG9uZW50JiZSYihhLGIpJiZSYihiLGEpOiExOiEwfWZ1bmN0aW9uIFJiKGEsYil7Zm9yKHZhciBjIGluIGEpaWYoIS9eKGNvbXBvbmVudHxsZWZ0fHJpZ2h0fHRvcHxib3R0b20pJC8udGVzdChjKSYmYVtjXSE9PWJbY10pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gU2IoYSl7YT16YShhKTtyZXR1cm4iYmFja2dyb3VuZCI9PT1hfHwiaW52ZXJzZS1iYWNrZ3JvdW5kIj09PWF9ZnVuY3Rpb24gemEoYSl7cmV0dXJuIFUoKGEuc291cmNlfHwKe30pLnJlbmRlcmluZyxhLnJlbmRlcmluZyl9ZnVuY3Rpb24gVGIoYSl7dmFyIGI9e30sYyxlO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspZT1hW2NdLChiW2UuX2lkXXx8KGJbZS5faWRdPVtdKSkucHVzaChlKTtyZXR1cm4gYn1mdW5jdGlvbiBVYihhLGIpe3JldHVybiBhLnN0YXJ0LWIuc3RhcnR9ZnVuY3Rpb24gYmMoYSl7dmFyIGI9di5kYXRhQXR0clByZWZpeCxjLGUsZCxmO2ImJihiKz0iLSIpO2lmKGM9YS5kYXRhKGIrImV2ZW50Iil8fG51bGwpYz0ib2JqZWN0Ij09PXR5cGVvZiBjP2cuZXh0ZW5kKHt9LGMpOnt9LGU9Yy5zdGFydCxudWxsPT1lJiYoZT1jLnRpbWUpLGQ9Yy5kdXJhdGlvbixmPWMuc3RpY2ssZGVsZXRlIGMuc3RhcnQsZGVsZXRlIGMudGltZSxkZWxldGUgYy5kdXJhdGlvbixkZWxldGUgYy5zdGljaztudWxsPT1lJiYoZT1hLmRhdGEoYisic3RhcnQiKSk7bnVsbD09ZSYmKGU9YS5kYXRhKGIrInRpbWUiKSk7bnVsbD09ZCYmKGQ9YS5kYXRhKGIrImR1cmF0aW9uIikpOwpudWxsPT1mJiYoZj1hLmRhdGEoYisic3RpY2siKSk7ZT1udWxsIT1lP3EuZHVyYXRpb24oZSk6bnVsbDtkPW51bGwhPWQ/cS5kdXJhdGlvbihkKTpudWxsO3JldHVybntldmVudFByb3BzOmMsc3RhcnRUaW1lOmUsZHVyYXRpb246ZCxzdGljazohIWZ9fWZ1bmN0aW9uIFlhKGEsYil7cmV0dXJuIGEubGVmdENvbC1iLmxlZnRDb2x9ZnVuY3Rpb24gcChhKXt2YXIgYj1hLmZvcndhcmRTZWdzLGM9MCxlLGQ7aWYodm9pZCAwPT09YS5mb3J3YXJkUHJlc3N1cmUpe2ZvcihlPTA7ZTxiLmxlbmd0aDtlKyspZD1iW2VdLHAoZCksYz1NYXRoLm1heChjLDErZC5mb3J3YXJkUHJlc3N1cmUpO2EuZm9yd2FyZFByZXNzdXJlPWN9fWZ1bmN0aW9uIFZiKGEsYixjKXtjPWN8fFtdO2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZD1iW2VdO2EuYm90dG9tPmQudG9wJiZhLnRvcDxkLmJvdHRvbSYmYy5wdXNoKGJbZV0pfXJldHVybiBjfWZ1bmN0aW9uIFdiKGEpe2cuZWFjaChGYixmdW5jdGlvbihiLApjKXtudWxsPT1hW2JdJiYoYVtiXT1jKGEpKX0pfWZ1bmN0aW9uIFhiKGEpe3ZhciBiPXEubG9jYWxlRGF0YXx8cS5sYW5nRGF0YTtyZXR1cm4gYi5jYWxsKHEsYSl8fGIuY2FsbChxLCJlbiIpfWZ1bmN0aW9uIGxhKGEpe2Z1bmN0aW9uIGIoKXtkJiYoZC5yZW1vdmUoKSxkPWUuZWw9bnVsbCl9ZnVuY3Rpb24gYyhiKXt2YXIgYz1nKCc8ZGl2IGNsYXNzPSJmYy0nK2IrJyIvPicpLGU9YS5vcHRpb25zOyhiPWUuaGVhZGVyW2JdKSYmZy5lYWNoKGIuc3BsaXQoIiAiKSxmdW5jdGlvbihiKXt2YXIgZD1nKCksaD0hMDtnLmVhY2godGhpcy5zcGxpdCgiLCIpLGZ1bmN0aW9uKGIsYyl7dmFyIG0sSyxuLHAsRSxxOyJ0aXRsZSI9PWM/KGQ9ZC5hZGQoZygiPGgyPiZuYnNwOzwvaDI+IikpLGg9ITEpOigobT0oZS5jdXN0b21CdXR0b25zfHx7fSlbY10pPyhLPWZ1bmN0aW9uKGEpe20uY2xpY2smJm0uY2xpY2suY2FsbChxWzBdLGEpfSxuPSIiLHA9bS50ZXh0KTooYj1hLmdldFZpZXdTcGVjKGMpKT8KKEs9ZnVuY3Rpb24oKXthLmNoYW5nZVZpZXcoYyl9LGYucHVzaChjKSxuPWIuYnV0dG9uVGV4dE92ZXJyaWRlLHA9Yi5idXR0b25UZXh0RGVmYXVsdCk6YVtjXSYmKEs9ZnVuY3Rpb24oKXthW2NdKCl9LG49KGEub3ZlcnJpZGVzLmJ1dHRvblRleHR8fHt9KVtjXSxwPWUuYnV0dG9uVGV4dFtjXSksSyYmKGI9bT9tLnRoZW1lSWNvbjplLnRoZW1lQnV0dG9uSWNvbnNbY10sRT1tP20uaWNvbjplLmJ1dHRvbkljb25zW2NdLG49bj9NKG4pOmImJmUudGhlbWU/IjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tIitiKyInPjwvc3Bhbj4iOkUmJiFlLnRoZW1lPyI8c3BhbiBjbGFzcz0nZmMtaWNvbiBmYy1pY29uLSIrRSsiJz48L3NwYW4+IjpNKHApLHA9WyJmYy0iK2MrIi1idXR0b24iLGsrIi1idXR0b24iLGsrIi1zdGF0ZS1kZWZhdWx0Il0scT1nKCc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9IicrcC5qb2luKCIgIikrJyI+JytuKyI8L2J1dHRvbj4iKS5jbGljayhmdW5jdGlvbihhKXtxLmhhc0NsYXNzKGsrCiItc3RhdGUtZGlzYWJsZWQiKXx8KEsoYSksKHEuaGFzQ2xhc3MoaysiLXN0YXRlLWFjdGl2ZSIpfHxxLmhhc0NsYXNzKGsrIi1zdGF0ZS1kaXNhYmxlZCIpKSYmcS5yZW1vdmVDbGFzcyhrKyItc3RhdGUtaG92ZXIiKSl9KS5tb3VzZWRvd24oZnVuY3Rpb24oKXtxLm5vdCgiLiIraysiLXN0YXRlLWFjdGl2ZSIpLm5vdCgiLiIraysiLXN0YXRlLWRpc2FibGVkIikuYWRkQ2xhc3MoaysiLXN0YXRlLWRvd24iKX0pLm1vdXNldXAoZnVuY3Rpb24oKXtxLnJlbW92ZUNsYXNzKGsrIi1zdGF0ZS1kb3duIil9KS5ob3ZlcihmdW5jdGlvbigpe3Eubm90KCIuIitrKyItc3RhdGUtYWN0aXZlIikubm90KCIuIitrKyItc3RhdGUtZGlzYWJsZWQiKS5hZGRDbGFzcyhrKyItc3RhdGUtaG92ZXIiKX0sZnVuY3Rpb24oKXtxLnJlbW92ZUNsYXNzKGsrIi1zdGF0ZS1ob3ZlciIpLnJlbW92ZUNsYXNzKGsrIi1zdGF0ZS1kb3duIil9KSxkPWQuYWRkKHEpKSl9KTtoJiZkLmZpcnN0KCkuYWRkQ2xhc3MoaysKIi1jb3JuZXItbGVmdCIpLmVuZCgpLmxhc3QoKS5hZGRDbGFzcyhrKyItY29ybmVyLXJpZ2h0IikuZW5kKCk7MTxkLmxlbmd0aD8oYj1nKCI8ZGl2Lz4iKSxoJiZiLmFkZENsYXNzKCJmYy1idXR0b24tZ3JvdXAiKSxiLmFwcGVuZChkKSxjLmFwcGVuZChiKSk6Yy5hcHBlbmQoZCl9KTtyZXR1cm4gY312YXIgZT10aGlzO2UucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9YS5vcHRpb25zLGY9ZS5oZWFkZXI7az1lLnRoZW1lPyJ1aSI6ImZjIjtmPyhkP2QuZW1wdHkoKTpkPXRoaXMuZWw9ZygiPGRpdiBjbGFzcz0nZmMtdG9vbGJhcicvPiIpLGQuYXBwZW5kKGMoImxlZnQiKSkuYXBwZW5kKGMoInJpZ2h0IikpLmFwcGVuZChjKCJjZW50ZXIiKSkuYXBwZW5kKCc8ZGl2IGNsYXNzPSJmYy1jbGVhciIvPicpKTpiKCl9O2UucmVtb3ZlRWxlbWVudD1iO2UudXBkYXRlVGl0bGU9ZnVuY3Rpb24oYSl7ZCYmZC5maW5kKCJoMiIpLnRleHQoYSl9O2UuYWN0aXZhdGVCdXR0b249ZnVuY3Rpb24oYSl7ZCYmCmQuZmluZCgiLmZjLSIrYSsiLWJ1dHRvbiIpLmFkZENsYXNzKGsrIi1zdGF0ZS1hY3RpdmUiKX07ZS5kZWFjdGl2YXRlQnV0dG9uPWZ1bmN0aW9uKGEpe2QmJmQuZmluZCgiLmZjLSIrYSsiLWJ1dHRvbiIpLnJlbW92ZUNsYXNzKGsrIi1zdGF0ZS1hY3RpdmUiKX07ZS5kaXNhYmxlQnV0dG9uPWZ1bmN0aW9uKGEpe2QmJmQuZmluZCgiLmZjLSIrYSsiLWJ1dHRvbiIpLnByb3AoImRpc2FibGVkIiwhMCkuYWRkQ2xhc3MoaysiLXN0YXRlLWRpc2FibGVkIil9O2UuZW5hYmxlQnV0dG9uPWZ1bmN0aW9uKGEpe2QmJmQuZmluZCgiLmZjLSIrYSsiLWJ1dHRvbiIpLnByb3AoImRpc2FibGVkIiwhMSkucmVtb3ZlQ2xhc3MoaysiLXN0YXRlLWRpc2FibGVkIil9O2UuZ2V0Vmlld3NXaXRoQnV0dG9ucz1mdW5jdGlvbigpe3JldHVybiBmfTtlLmVsPW51bGw7dmFyIGQsZj1bXSxrfWZ1bmN0aW9uIEtiKCl7ZnVuY3Rpb24gYShhLGMpe3ZhciBlOyJyZXNldCI9PT1jP0k9W106ImFkZCIhPT1jJiYoST0KRShJLGEpKTtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWU9YVtjXSwicGVuZGluZyIhPT1lLl9zdGF0dXMmJlErKyxlLl9mZXRjaElkPShlLl9mZXRjaElkfHwwKSsxLGUuX3N0YXR1cz0icGVuZGluZyI7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyllPWFbY10sYihlLGUuX2ZldGNoSWQpfWZ1bmN0aW9uIGIoYSxiKXtlKGEsZnVuY3Rpb24oYyl7dmFyIGU9Zy5pc0FycmF5KGEuZXZlbnRzKSxkLGg7aWYoYj09PWEuX2ZldGNoSWQmJiJyZWplY3RlZCIhPT1hLl9zdGF0dXMpe2EuX3N0YXR1cz0icmVzb2x2ZWQiO2lmKGMpZm9yKGQ9MDtkPGMubGVuZ3RoO2QrKyloPWNbZF0sKGg9ZT9oOlkoaCxhKSkmJkkucHVzaC5hcHBseShJLEYoaCkpO1EtLTtRfHxyYShJKX19KX1mdW5jdGlvbiBjKGEpe3ZhciBiPSJwZW5kaW5nIj09PWEuX3N0YXR1czthLl9zdGF0dXM9InJlamVjdGVkIjtiJiYoUS0tLFF8fHJhKEkpKX1mdW5jdGlvbiBlKGEsYil7dmFyIGMsZD12LnNvdXJjZUZldGNoZXJzLGg7Zm9yKGM9CjA7YzxkLmxlbmd0aDtjKyspe2g9ZFtjXS5jYWxsKHosYSxMLmNsb25lKCksUy5jbG9uZSgpLHoub3B0aW9ucy50aW1lem9uZSxiKTtpZighMD09PWgpcmV0dXJuO2lmKCJvYmplY3QiPT10eXBlb2YgaCl7ZShoLGIpO3JldHVybn19aWYoYz1hLmV2ZW50cylnLmlzRnVuY3Rpb24oYyk/KHoucHVzaExvYWRpbmcoKSxjLmNhbGwoeixMLmNsb25lKCksUy5jbG9uZSgpLHoub3B0aW9ucy50aW1lem9uZSxmdW5jdGlvbihhKXtiKGEpO3oucG9wTG9hZGluZygpfSkpOmcuaXNBcnJheShjKT9iKGMpOmIoKTtlbHNlIGlmKGEudXJsKXt2YXIgZj1hLnN1Y2Nlc3Msaz1hLmVycm9yLG09YS5jb21wbGV0ZTtjPWcuaXNGdW5jdGlvbihhLmRhdGEpP2EuZGF0YSgpOmEuZGF0YTtjPWcuZXh0ZW5kKHt9LGN8fHt9KTtkPVUoYS5zdGFydFBhcmFtLHoub3B0aW9ucy5zdGFydFBhcmFtKTtoPVUoYS5lbmRQYXJhbSx6Lm9wdGlvbnMuZW5kUGFyYW0pO3ZhciBuPVUoYS50aW1lem9uZVBhcmFtLHoub3B0aW9ucy50aW1lem9uZVBhcmFtKTsKZCYmKGNbZF09TC5mb3JtYXQoKSk7aCYmKGNbaF09Uy5mb3JtYXQoKSk7ei5vcHRpb25zLnRpbWV6b25lJiYibG9jYWwiIT16Lm9wdGlvbnMudGltZXpvbmUmJihjW25dPXoub3B0aW9ucy50aW1lem9uZSk7ei5wdXNoTG9hZGluZygpO2cuYWpheChnLmV4dGVuZCh7fSxnYyxhLHtkYXRhOmMsc3VjY2VzczpmdW5jdGlvbihhKXthPWF8fFtdO3ZhciBjPVZhKGYsdGhpcyxhcmd1bWVudHMpO2cuaXNBcnJheShjKSYmKGE9Yyk7YihhKX0sZXJyb3I6ZnVuY3Rpb24oKXtWYShrLHRoaXMsYXJndW1lbnRzKTtiKCl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7VmEobSx0aGlzLGFyZ3VtZW50cyk7ei5wb3BMb2FkaW5nKCl9fSkpfWVsc2UgYigpfWZ1bmN0aW9uIGQoYSl7dmFyIGI9di5zb3VyY2VOb3JtYWxpemVycyxjO2cuaXNGdW5jdGlvbihhKXx8Zy5pc0FycmF5KGEpP2M9e2V2ZW50czphfToic3RyaW5nIj09PXR5cGVvZiBhP2M9e3VybDphfToib2JqZWN0Ij09PXR5cGVvZiBhJiYoYz1nLmV4dGVuZCh7fSwKYSkpO2lmKGMpe2MuY2xhc3NOYW1lPyJzdHJpbmciPT09dHlwZW9mIGMuY2xhc3NOYW1lJiYoYy5jbGFzc05hbWU9Yy5jbGFzc05hbWUuc3BsaXQoL1xzKy8pKTpjLmNsYXNzTmFtZT1bXTtnLmlzQXJyYXkoYy5ldmVudHMpJiYoYy5vcmlnQXJyYXk9Yy5ldmVudHMsYy5ldmVudHM9Zy5tYXAoYy5ldmVudHMsZnVuY3Rpb24oYSl7cmV0dXJuIFkoYSxjKX0pKTtmb3IoYT0wO2E8Yi5sZW5ndGg7YSsrKWJbYV0uY2FsbCh6LGMpO3JldHVybiBjfX1mdW5jdGlvbiBmKGEsYil7dmFyIGU7Zm9yKGU9MDtlPGEubGVuZ3RoO2UrKyljKGFbZV0pO2I/KEQ9W10sST1bXSk6KEQ9Zy5ncmVwKEQsZnVuY3Rpb24oYil7Zm9yKGU9MDtlPGEubGVuZ3RoO2UrKylpZihiPT09YVtlXSlyZXR1cm4hMTtyZXR1cm4hMH0pLEk9RShJLGEpKTtyYShJKX1mdW5jdGlvbiBrKGEpe3JldHVybiBnLmdyZXAoRCxmdW5jdGlvbihiKXtyZXR1cm4gYi5pZCYmYi5pZD09PWF9KVswXX1mdW5jdGlvbiBtKGEpe2E/Zy5pc0FycmF5KGEpfHwKKGE9W2FdKTphPVtdO3ZhciBiPVtdLGM7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2guYXBwbHkoYixwKGFbY10pKTtyZXR1cm4gYn1mdW5jdGlvbiBwKGEpe3ZhciBiLGM7Zm9yKGI9MDtiPEQubGVuZ3RoO2IrKylpZihjPURbYl0sYz09PWEpcmV0dXJuW2NdO3JldHVybihjPWsoYSkpP1tjXTpnLmdyZXAoRCxmdW5jdGlvbihiKXtyZXR1cm4gYSYmYiYmcihhKT09cihiKX0pfWZ1bmN0aW9uIHIoYSl7cmV0dXJuKCJvYmplY3QiPT09dHlwZW9mIGE/YS5vcmlnQXJyYXl8fGEuZ29vZ2xlQ2FsZW5kYXJJZHx8YS51cmx8fGEuZXZlbnRzOm51bGwpfHxhfWZ1bmN0aW9uIEUoYSxiKXtyZXR1cm4gZy5ncmVwKGEsZnVuY3Rpb24oYSl7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYS5zb3VyY2U9PT1iW2NdKXJldHVybiExO3JldHVybiEwfSl9ZnVuY3Rpb24gRyhhKXt2YXIgYj17fTtnLmVhY2goYSxmdW5jdGlvbihhLGMpey9eX3xeKGlkfGFsbERheXxzdGFydHxlbmQpJC8udGVzdChhKXx8CnZvaWQgMCE9PWMmJi91bmRlZmluZWR8bnVsbHxib29sZWFufG51bWJlcnxzdHJpbmcvLnRlc3QoZy50eXBlKGMpKSYmKGJbYV09Yyl9KTtyZXR1cm4gYn1mdW5jdGlvbiBIKGEpe3JldHVybiBnLmlzRnVuY3Rpb24oYSk/Zy5ncmVwKEksYSk6bnVsbCE9YT8oYSs9IiIsZy5ncmVwKEksZnVuY3Rpb24oYil7cmV0dXJuIGIuX2lkPT1hfSkpOkl9ZnVuY3Rpb24gWShhLGIpe3ZhciBjPXt9LGUsZDt6Lm9wdGlvbnMuZXZlbnREYXRhVHJhbnNmb3JtJiYoYT16Lm9wdGlvbnMuZXZlbnREYXRhVHJhbnNmb3JtKGEpKTtiJiZiLmV2ZW50RGF0YVRyYW5zZm9ybSYmKGE9Yi5ldmVudERhdGFUcmFuc2Zvcm0oYSkpO2cuZXh0ZW5kKGMsYSk7YiYmKGMuc291cmNlPWIpO2MuX2lkPWEuX2lkfHwodm9pZCAwPT09YS5pZD8iX2ZjIitoYysrOmEuaWQrIiIpO2MuY2xhc3NOYW1lPWEuY2xhc3NOYW1lPyJzdHJpbmciPT10eXBlb2YgYS5jbGFzc05hbWU/YS5jbGFzc05hbWUuc3BsaXQoL1xzKy8pOmEuY2xhc3NOYW1lOgpbXTtlPWEuc3RhcnR8fGEuZGF0ZTtkPWEuZW5kO3piKGUpJiYoZT1xLmR1cmF0aW9uKGUpKTt6YihkKSYmKGQ9cS5kdXJhdGlvbihkKSk7aWYoYS5kb3d8fHEuaXNEdXJhdGlvbihlKXx8cS5pc0R1cmF0aW9uKGQpKWMuc3RhcnQ9ZT9xLmR1cmF0aW9uKGUpOm51bGwsYy5lbmQ9ZD9xLmR1cmF0aW9uKGQpOm51bGwsYy5fcmVjdXJyaW5nPSEwO2Vsc2V7aWYoZSYmKGU9ei5tb21lbnQoZSksIWUuaXNWYWxpZCgpKSlyZXR1cm4hMTtkJiYoZD16Lm1vbWVudChkKSxkLmlzVmFsaWQoKXx8KGQ9bnVsbCkpO2E9YS5hbGxEYXk7dm9pZCAwPT09YSYmKGE9VShiP2IuYWxsRGF5RGVmYXVsdDp2b2lkIDAsei5vcHRpb25zLmFsbERheURlZmF1bHQpKTtjLnN0YXJ0PWU7Yy5lbmQ9ZDtjLmFsbERheT1hO08oYyk7dGEoYyl9ei5ub3JtYWxpemVFdmVudChjKTtyZXR1cm4gY31mdW5jdGlvbiBPKGEpe04oYSk7YS5lbmQmJiFhLmVuZC5pc0FmdGVyKGEuc3RhcnQpJiYoYS5lbmQ9bnVsbCk7YS5lbmR8fAooYS5lbmQ9ei5vcHRpb25zLmZvcmNlRXZlbnREdXJhdGlvbj96LmdldERlZmF1bHRFdmVudEVuZChhLmFsbERheSxhLnN0YXJ0KTpudWxsKX1mdW5jdGlvbiBOKGEpe251bGw9PWEuYWxsRGF5JiYoYS5hbGxEYXk9IShhLnN0YXJ0Lmhhc1RpbWUoKXx8YS5lbmQmJmEuZW5kLmhhc1RpbWUoKSkpO2EuYWxsRGF5PyhhLnN0YXJ0LnN0cmlwVGltZSgpLGEuZW5kJiZhLmVuZC5zdHJpcFRpbWUoKSk6KGEuc3RhcnQuaGFzVGltZSgpfHwoYS5zdGFydD16LmFwcGx5VGltZXpvbmUoYS5zdGFydC50aW1lKDApKSksYS5lbmQmJiFhLmVuZC5oYXNUaW1lKCkmJihhLmVuZD16LmFwcGx5VGltZXpvbmUoYS5lbmQudGltZSgwKSkpKX1mdW5jdGlvbiBGKGEsYixjKXt2YXIgZT1bXSxkLGgsZixrLG0sbjtiPWJ8fEw7Yz1jfHxTO2lmKGEpaWYoYS5fcmVjdXJyaW5nKXtpZihoPWEuZG93KWZvcihkPXt9LGY9MDtmPGgubGVuZ3RoO2YrKylkW2hbZl1dPSEwO2ZvcihiPWIuY2xvbmUoKS5zdHJpcFRpbWUoKTtiLmlzQmVmb3JlKGMpOyl7aWYoIWR8fApkW2IuZGF5KCldKWs9YS5zdGFydCxtPWEuZW5kLGg9Yi5jbG9uZSgpLG49bnVsbCxrJiYoaD1oLnRpbWUoaykpLG0mJihuPWIuY2xvbmUoKS50aW1lKG0pKSxmPWcuZXh0ZW5kKHt9LGEpLGs9IWsmJiFtLG09ZixtLnN0YXJ0PWgsbS5lbmQ9bixtLmFsbERheT1rLE8obSksdGEobSksZS5wdXNoKGYpO2IuYWRkKDEsImRheXMiKX19ZWxzZSBlLnB1c2goYSk7cmV0dXJuIGV9ZnVuY3Rpb24gbihhLGIsYyl7ZnVuY3Rpb24gZShhLGQpe3JldHVybiBjP3liKGEsZCxjKTpiLmFsbERheT9xLmR1cmF0aW9uKHtkYXlzOmEuY2xvbmUoKS5zdHJpcFRpbWUoKS5kaWZmKGQuY2xvbmUoKS5zdHJpcFRpbWUoKSwiZGF5cyIpfSk6eGIoYSxkKX12YXIgZD17fSxoLGYsaztiPWJ8fHt9O2Iuc3RhcnR8fChiLnN0YXJ0PWEuc3RhcnQuY2xvbmUoKSk7dm9pZCAwPT09Yi5lbmQmJihiLmVuZD1hLmVuZD9hLmVuZC5jbG9uZSgpOm51bGwpO251bGw9PWIuYWxsRGF5JiYoYi5hbGxEYXk9YS5hbGxEYXkpO08oYik7Cmg9e3N0YXJ0OmEuX3N0YXJ0LmNsb25lKCksZW5kOmEuX2VuZD9hLl9lbmQuY2xvbmUoKTp6LmdldERlZmF1bHRFdmVudEVuZChhLl9hbGxEYXksYS5fc3RhcnQpLGFsbERheTpiLmFsbERheX07TyhoKTtmPW51bGwhPT1hLl9lbmQmJm51bGw9PT1iLmVuZDtrPWUoYi5zdGFydCxoLnN0YXJ0KTtiLmVuZD8oaD1lKGIuZW5kLGguZW5kKSxoPWguc3VidHJhY3QoaykpOmg9bnVsbDtnLmVhY2goYixmdW5jdGlvbihhLGIpey9eX3xeKGlkfGFsbERheXxzdGFydHxlbmQpJC8udGVzdChhKXx8dm9pZCAwIT09YiYmKGRbYV09Yil9KTthPWFhKEgoYS5faWQpLGYsYi5hbGxEYXksayxoLGQpO3JldHVybntkYXRlRGVsdGE6ayxkdXJhdGlvbkRlbHRhOmgsdW5kbzphfX1mdW5jdGlvbiBhYShhLGIsYyxlLGQsaCl7dmFyIGY9ei5nZXRJc0FtYmlnVGltZXpvbmUoKSxrPVtdO2UmJiFlLnZhbHVlT2YoKSYmKGU9bnVsbCk7ZCYmIWQudmFsdWVPZigpJiYoZD1udWxsKTtnLmVhY2goYSxmdW5jdGlvbihhLAptKXt2YXIgbjtuPXtzdGFydDptLnN0YXJ0LmNsb25lKCksZW5kOm0uZW5kP20uZW5kLmNsb25lKCk6bnVsbCxhbGxEYXk6bS5hbGxEYXl9O2cuZWFjaChoLGZ1bmN0aW9uKGEpe25bYV09bVthXX0pO2E9e3N0YXJ0Om0uX3N0YXJ0LGVuZDptLl9lbmQsYWxsRGF5OmN9O08oYSk7Yj9hLmVuZD1udWxsOmQmJiFhLmVuZCYmKGEuZW5kPXouZ2V0RGVmYXVsdEV2ZW50RW5kKGEuYWxsRGF5LGEuc3RhcnQpKTtlJiYoYS5zdGFydC5hZGQoZSksYS5lbmQmJmEuZW5kLmFkZChlKSk7ZCYmYS5lbmQuYWRkKGQpO2YmJiFhLmFsbERheSYmKGV8fGQpJiYoYS5zdGFydC5zdHJpcFpvbmUoKSxhLmVuZCYmYS5lbmQuc3RyaXBab25lKCkpO2cuZXh0ZW5kKG0saCxhKTt0YShtKTtrLnB1c2goZnVuY3Rpb24oKXtnLmV4dGVuZChtLG4pO3RhKG0pfSl9KTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPGsubGVuZ3RoO2ErKylrW2FdKCl9fWZ1bmN0aW9uIEooYSxiKXt2YXIgYz1iLnNvdXJjZXx8Cnt9LGU9VShiLmNvbnN0cmFpbnQsYy5jb25zdHJhaW50LHoub3B0aW9ucy5ldmVudENvbnN0cmFpbnQpLGM9VShiLm92ZXJsYXAsYy5vdmVybGFwLHoub3B0aW9ucy5ldmVudE92ZXJsYXApO3JldHVybiBNKGEsZSxjLGIpfWZ1bmN0aW9uIFIoYSl7cmV0dXJuIE0oYSx6Lm9wdGlvbnMuc2VsZWN0Q29uc3RyYWludCx6Lm9wdGlvbnMuc2VsZWN0T3ZlcmxhcCl9ZnVuY3Rpb24gTShhLGIsYyxlKXt2YXIgZCxoLGY7aWYobnVsbCE9Yil7ZD0iYnVzaW5lc3NIb3VycyI9PT1iP3ouZ2V0Q3VycmVudEJ1c2luZXNzSG91ckV2ZW50cygpOiJvYmplY3QiPT09dHlwZW9mIGI/RihZKGIpKTpIKGIpO2g9ITE7Zm9yKGI9MDtiPGQubGVuZ3RoO2IrKylpZih6LnNwYW5Db250YWluc1NwYW4oZFtiXSxhKSl7aD0hMDticmVha31pZighaClyZXR1cm4hMX1kPXouZ2V0UGVlckV2ZW50cyhhLGUpO2ZvcihiPTA7YjxkLmxlbmd0aDtiKyspe3ZhciBnPWg9ZFtiXTtmPWE7dmFyIGs9Zy5zdGFydC5jbG9uZSgpLnN0cmlwWm9uZSgpLApnPXouZ2V0RXZlbnRFbmQoZykuc3RyaXBab25lKCk7aWYoZi5zdGFydDxnJiZmLmVuZD5rJiYoITE9PT1jfHwiZnVuY3Rpb24iPT09dHlwZW9mIGMmJiFjKGgsZSl8fGUmJihmPVUoaC5vdmVybGFwLChoLnNvdXJjZXx8e30pLm92ZXJsYXApLCExPT09Znx8ImZ1bmN0aW9uIj09PXR5cGVvZiBmJiYhZihlLGgpKSkpcmV0dXJuITF9cmV0dXJuITB9dmFyIHo9dGhpczt6LmlzRmV0Y2hOZWVkZWQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hTHx8YTxMfHxiPlN9O3ouZmV0Y2hFdmVudHM9ZnVuY3Rpb24oYixjKXtMPWI7Uz1jO2EoRCwicmVzZXQiKX07ei5mZXRjaEV2ZW50U291cmNlcz1hO3ouZ2V0RXZlbnRTb3VyY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIEQuc2xpY2UoMSl9O3ouZ2V0RXZlbnRTb3VyY2VCeUlkPWs7ei5nZXRFdmVudFNvdXJjZXNCeU1hdGNoQXJyYXk9bTt6LmdldEV2ZW50U291cmNlc0J5TWF0Y2g9cDt6LmFkZEV2ZW50U291cmNlPWZ1bmN0aW9uKGIpe2lmKGI9ZChiKSlELnB1c2goYiksCmEoW2JdLCJhZGQiKX07ei5yZW1vdmVFdmVudFNvdXJjZT1mdW5jdGlvbihhKXtmKHAoYSkpfTt6LnJlbW92ZUV2ZW50U291cmNlcz1mdW5jdGlvbihhKXtudWxsPT1hP2YoRCwhMCk6ZihtKGEpKX07ei51cGRhdGVFdmVudD1mdW5jdGlvbihhKXthLnN0YXJ0PXoubW9tZW50KGEuc3RhcnQpO2EuZW5kPWEuZW5kP3oubW9tZW50KGEuZW5kKTpudWxsO24oYSxHKGEpKTtyYShJKX07ei5yZW5kZXJFdmVudD1mdW5jdGlvbihhLGIpe2E9WShhKTt2YXIgYyxlO2lmKGEpe2E9RihhKTtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWU9YVtjXSxlLnNvdXJjZXx8KGImJihULmV2ZW50cy5wdXNoKGUpLGUuc291cmNlPVQpLEkucHVzaChlKSk7cmEoSSk7cmV0dXJuIGF9cmV0dXJuW119O3oucmVtb3ZlRXZlbnRzPWZ1bmN0aW9uKGEpe3ZhciBiLGM7bnVsbD09YT9hPWZ1bmN0aW9uKCl7cmV0dXJuITB9OmcuaXNGdW5jdGlvbihhKXx8KGI9YSsiIixhPWZ1bmN0aW9uKGEpe3JldHVybiBhLl9pZD09Yn0pOwpJPWcuZ3JlcChJLGEsITApO2ZvcihjPTA7YzxELmxlbmd0aDtjKyspZy5pc0FycmF5KERbY10uZXZlbnRzKSYmKERbY10uZXZlbnRzPWcuZ3JlcChEW2NdLmV2ZW50cyxhLCEwKSk7cmEoSSl9O3ouY2xpZW50RXZlbnRzPUg7ei5tdXRhdGVFdmVudD1uO3oubm9ybWFsaXplRXZlbnREYXRlcz1PO3oubm9ybWFsaXplRXZlbnRUaW1lcz1OO3ZhciByYT16LnJlcG9ydEV2ZW50cyxUPXtldmVudHM6W119LEQ9W1RdLEwsUyxRPTAsST1bXTtnLmVhY2goKHoub3B0aW9ucy5ldmVudHM/W3oub3B0aW9ucy5ldmVudHNdOltdKS5jb25jYXQoei5vcHRpb25zLmV2ZW50U291cmNlc3x8W10pLGZ1bmN0aW9uKGEsYil7KGE9ZChiKSkmJkQucHVzaChhKX0pO3oucmV6b25lQXJyYXlFdmVudFNvdXJjZXM9ZnVuY3Rpb24oKXt2YXIgYSxiLGM7Zm9yKGE9MDthPEQubGVuZ3RoO2ErKylpZihiPURbYV0uZXZlbnRzLGcuaXNBcnJheShiKSlmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZT1iW2NdO2Uuc3RhcnQ9CnoubW9tZW50KGUuc3RhcnQpO2UuZW5kJiYoZS5lbmQ9ei5tb21lbnQoZS5lbmQpKTt0YShlKX19O3ouYnVpbGRFdmVudEZyb21JbnB1dD1ZO3ouZXhwYW5kRXZlbnQ9Rjt6LmlzRXZlbnRTcGFuQWxsb3dlZD1KO3ouaXNFeHRlcm5hbFNwYW5BbGxvd2VkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZTtjJiYoYj1nLmV4dGVuZCh7fSxjLGIpLGU9RihZKGIpKVswXSk7cmV0dXJuIGU/SihhLGUpOlIoYSl9O3ouaXNTZWxlY3Rpb25TcGFuQWxsb3dlZD1SO3ouZ2V0RXZlbnRDYWNoZT1mdW5jdGlvbigpe3JldHVybiBJfX1mdW5jdGlvbiB0YShhKXthLl9hbGxEYXk9YS5hbGxEYXk7YS5fc3RhcnQ9YS5zdGFydC5jbG9uZSgpO2EuX2VuZD1hLmVuZD9hLmVuZC5jbG9uZSgpOm51bGx9dmFyIHY9Zy5mdWxsQ2FsZW5kYXI9e3ZlcnNpb246IjwlPSBtZXRhLnZlcnNpb24gJT4iLGludGVybmFsQXBpVmVyc2lvbjo1fSxwYT12LnZpZXdzPXt9O2cuZm4uZnVsbENhbGVuZGFyPWZ1bmN0aW9uKGEpe3ZhciBiPQpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksYz10aGlzO3RoaXMuZWFjaChmdW5jdGlvbihlLGQpe2Q9ZyhkKTt2YXIgZj1kLmRhdGEoImZ1bGxDYWxlbmRhciIpOyJzdHJpbmciPT09dHlwZW9mIGE/ZiYmZy5pc0Z1bmN0aW9uKGZbYV0pJiYoZj1mW2FdLmFwcGx5KGYsYiksZXx8KGM9ZiksImRlc3Ryb3kiPT09YSYmZC5yZW1vdmVEYXRhKCJmdWxsQ2FsZW5kYXIiKSk6Znx8KGY9bmV3IEcoZCxhKSxkLmRhdGEoImZ1bGxDYWxlbmRhciIsZiksZi5yZW5kZXIoKSl9KTtyZXR1cm4gY307dmFyIENhPVsiaGVhZGVyIiwiYnV0dG9uVGV4dCIsImJ1dHRvbkljb25zIiwidGhlbWVCdXR0b25JY29ucyJdO3YuaW50ZXJzZWN0UmFuZ2VzPVNhO3YuYXBwbHlBbGw9VmE7di5kZWJvdW5jZT1IYTt2LmlzSW50PW5hO3YuaHRtbEVzY2FwZT1NO3YuY3NzVG9TdHI9ZmI7di5wcm94eT1YO3YuY2FwaXRhbGlzZUZpcnN0TGV0dGVyPWZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpKwphLnNsaWNlKDEpfTt2LmdldE91dGVyUmVjdD1kYjt2LmdldENsaWVudFJlY3Q9cmI7di5nZXRDb250ZW50UmVjdD1mdW5jdGlvbihhLGIpe3ZhciBjPWEub2Zmc2V0KCksZT1jLmxlZnQrKHBhcnNlRmxvYXQoYS5jc3MoImJvcmRlci1sZWZ0LXdpZHRoIikpfHwwKSsocGFyc2VGbG9hdChhLmNzcygicGFkZGluZy1sZWZ0IikpfHwwKS0oYj9iLmxlZnQ6MCk7Yj1jLnRvcCsocGFyc2VGbG9hdChhLmNzcygiYm9yZGVyLXRvcC13aWR0aCIpKXx8MCkrKHBhcnNlRmxvYXQoYS5jc3MoInBhZGRpbmctdG9wIikpfHwwKS0oYj9iLnRvcDowKTtyZXR1cm57bGVmdDplLHJpZ2h0OmUrYS53aWR0aCgpLHRvcDpiLGJvdHRvbTpiK2EuaGVpZ2h0KCl9fTt2LmdldFNjcm9sbGJhcldpZHRocz1EYTt2YXIgSWE9bnVsbDt2LnByZXZlbnREZWZhdWx0PVJhO3YuaW50ZXJzZWN0UmVjdHM9TDt2LnBhcnNlRmllbGRTcGVjcz1MYjt2LmNvbXBhcmVCeUZpZWxkU3BlY3M9dWI7di5jb21wYXJlQnlGaWVsZFNwZWM9CnZiO3YuZmxleGlibGVDb21wYXJlPXdiO3YuY29tcHV0ZUludGVydmFsVW5pdD1FYTt2LmRpdmlkZVJhbmdlQnlEdXJhdGlvbj1mdW5jdGlvbihhLGIsYyl7dmFyIGU7aWYoamEoYykpcmV0dXJuKGItYSkvYztlPWMuYXNNb250aHMoKTtyZXR1cm4gMTw9TWF0aC5hYnMoZSkmJm5hKGUpP2IuZGlmZihhLCJtb250aHMiLCEwKS9lOmIuZGlmZihhLCJkYXlzIiwhMCkvYy5hc0RheXMoKX07di5kaXZpZGVEdXJhdGlvbkJ5RHVyYXRpb249ZWI7di5tdWx0aXBseUR1cmF0aW9uPWZ1bmN0aW9uKGEsYil7dmFyIGM7aWYoamEoYSkpcmV0dXJuIHEuZHVyYXRpb24oYSpiKTtjPWEuYXNNb250aHMoKTtyZXR1cm4gMTw9TWF0aC5hYnMoYykmJm5hKGMpP3EuZHVyYXRpb24oe21vbnRoczpjKmJ9KTpxLmR1cmF0aW9uKHtkYXlzOmEuYXNEYXlzKCkqYn0pfTt2LmR1cmF0aW9uSGFzVGltZT1qYTt2YXIgUT0ic3VuIG1vbiB0dWUgd2VkIHRodSBmcmkgc2F0Ii5zcGxpdCgiICIpLHdhPSJ5ZWFyIG1vbnRoIHdlZWsgZGF5IGhvdXIgbWludXRlIHNlY29uZCBtaWxsaXNlY29uZCIuc3BsaXQoIiAiKTsKdi5sb2c9ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cuY29uc29sZTtpZihhJiZhLmxvZylyZXR1cm4gYS5sb2cuYXBwbHkoYSxhcmd1bWVudHMpfTt2Lndhcm49ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cuY29uc29sZTtyZXR1cm4gYSYmYS53YXJuP2Eud2Fybi5hcHBseShhLGFyZ3VtZW50cyk6di5sb2cuYXBwbHkodixhcmd1bWVudHMpfTt2YXIgdWE9e30uaGFzT3duUHJvcGVydHksdGI9L15ccypcZHs0fS1cZFxkJC8sQWI9L15ccypcZHs0fS0oPzooXGRcZC1cZFxkKXwoV1xkXGQkKXwoV1xkXGQtXGQpfChcZFxkXGQpKSgoVHwgKShcZFxkKDpcZFxkKDpcZFxkKFwuXGQrKT8pPyk/KT8pPyQvLFM9cS5mbixKPWcuZXh0ZW5kKHt9LFMpLEJiLGxiLHNiO3YubW9tZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGhiKGFyZ3VtZW50cyl9O3YubW9tZW50LnV0Yz1mdW5jdGlvbigpe3ZhciBhPWhiKGFyZ3VtZW50cywhMCk7YS5oYXNUaW1lKCkmJmEudXRjKCk7cmV0dXJuIGF9O3YubW9tZW50LnBhcnNlWm9uZT0KZnVuY3Rpb24oKXtyZXR1cm4gaGIoYXJndW1lbnRzLCEwLCEwKX07Uy5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPUouY2xvbmUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2dhKHRoaXMsYSk7dGhpcy5fZnVsbENhbGVuZGFyJiYoYS5fZnVsbENhbGVuZGFyPSEwKTtyZXR1cm4gYX07Uy53ZWVrPVMud2Vla3M9ZnVuY3Rpb24oYSl7dmFyIGI9KHRoaXMuX2xvY2FsZXx8dGhpcy5fbGFuZykuX2Z1bGxDYWxlbmRhcl93ZWVrQ2FsYztyZXR1cm4gbnVsbD09YSYmImZ1bmN0aW9uIj09PXR5cGVvZiBiP2IodGhpcyk6IklTTyI9PT1iP0ouaXNvV2Vlay5hcHBseSh0aGlzLGFyZ3VtZW50cyk6Si53ZWVrLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Uy50aW1lPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLl9mdWxsQ2FsZW5kYXIpcmV0dXJuIEoudGltZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYobnVsbD09YSlyZXR1cm4gcS5kdXJhdGlvbih7aG91cnM6dGhpcy5ob3VycygpLG1pbnV0ZXM6dGhpcy5taW51dGVzKCksCnNlY29uZHM6dGhpcy5zZWNvbmRzKCksbWlsbGlzZWNvbmRzOnRoaXMubWlsbGlzZWNvbmRzKCl9KTt0aGlzLl9hbWJpZ1RpbWU9ITE7cS5pc0R1cmF0aW9uKGEpfHxxLmlzTW9tZW50KGEpfHwoYT1xLmR1cmF0aW9uKGEpKTt2YXIgYj0wO3EuaXNEdXJhdGlvbihhKSYmKGI9MjQqTWF0aC5mbG9vcihhLmFzRGF5cygpKSk7cmV0dXJuIHRoaXMuaG91cnMoYithLmhvdXJzKCkpLm1pbnV0ZXMoYS5taW51dGVzKCkpLnNlY29uZHMoYS5zZWNvbmRzKCkpLm1pbGxpc2Vjb25kcyhhLm1pbGxpc2Vjb25kcygpKX07Uy5zdHJpcFRpbWU9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLl9hbWJpZ1RpbWV8fChhPXRoaXMudG9BcnJheSgpLHRoaXMudXRjKCksbGIodGhpcyxhLnNsaWNlKDAsMykpLHRoaXMuX2FtYmlnWm9uZT10aGlzLl9hbWJpZ1RpbWU9ITApO3JldHVybiB0aGlzfTtTLmhhc1RpbWU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fYW1iaWdUaW1lfTtTLnN0cmlwWm9uZT1mdW5jdGlvbigpe3ZhciBhLApiO3RoaXMuX2FtYmlnWm9uZXx8KGE9dGhpcy50b0FycmF5KCksYj10aGlzLl9hbWJpZ1RpbWUsdGhpcy51dGMoKSxsYih0aGlzLGEpLHRoaXMuX2FtYmlnVGltZT1ifHwhMSx0aGlzLl9hbWJpZ1pvbmU9ITApO3JldHVybiB0aGlzfTtTLmhhc1pvbmU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fYW1iaWdab25lfTtTLmxvY2FsPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50b0FycmF5KCksYj10aGlzLl9hbWJpZ1pvbmU7Si5sb2NhbC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fYW1iaWdab25lPXRoaXMuX2FtYmlnVGltZT0hMTtiJiZzYih0aGlzLGEpO3JldHVybiB0aGlzfTtTLnV0Yz1mdW5jdGlvbigpe0oudXRjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9hbWJpZ1pvbmU9dGhpcy5fYW1iaWdUaW1lPSExO3JldHVybiB0aGlzfTtnLmVhY2goWyJ6b25lIiwidXRjT2Zmc2V0Il0sZnVuY3Rpb24oYSxiKXtKW2JdJiYoU1tiXT1mdW5jdGlvbihhKXtudWxsIT1hJiYodGhpcy5fYW1iaWdab25lPQp0aGlzLl9hbWJpZ1RpbWU9ITEpO3JldHVybiBKW2JdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pfSk7Uy5mb3JtYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnVsbENhbGVuZGFyJiZhcmd1bWVudHNbMF0/amIodGhpcyx5YShhcmd1bWVudHNbMF0pKTp0aGlzLl9hbWJpZ1RpbWU/ZmEodGhpcywiWVlZWS1NTS1ERCIpOnRoaXMuX2FtYmlnWm9uZT9mYSh0aGlzLCJZWVlZLU1NLUREW1RdSEg6bW06c3MiKTpKLmZvcm1hdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O1MudG9JU09TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYW1iaWdUaW1lP2ZhKHRoaXMsIllZWVktTU0tREQiKTp0aGlzLl9hbWJpZ1pvbmU/ZmEodGhpcywiWVlZWS1NTS1ERFtUXUhIOm1tOnNzIik6Si50b0lTT1N0cmluZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O1MuaXNXaXRoaW49ZnVuY3Rpb24oYSxiKXthPWliKFt0aGlzLGEsYl0pO3JldHVybiBhWzBdPj1hWzFdJiZhWzBdPGFbMl19O1MuaXNTYW1lPWZ1bmN0aW9uKGEsCmIpe3ZhciBjO2lmKCF0aGlzLl9mdWxsQ2FsZW5kYXIpcmV0dXJuIEouaXNTYW1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihiKXJldHVybiBjPWliKFt0aGlzLGFdLCEwKSxKLmlzU2FtZS5jYWxsKGNbMF0sY1sxXSxiKTthPXYubW9tZW50LnBhcnNlWm9uZShhKTtyZXR1cm4gSi5pc1NhbWUuY2FsbCh0aGlzLGEpJiYhIXRoaXMuX2FtYmlnVGltZT09PSEhYS5fYW1iaWdUaW1lJiYhIXRoaXMuX2FtYmlnWm9uZT09PSEhYS5fYW1iaWdab25lfTtnLmVhY2goWyJpc0JlZm9yZSIsImlzQWZ0ZXIiXSxmdW5jdGlvbihhLGIpe1NbYl09ZnVuY3Rpb24oYSxlKXt2YXIgZDtpZighdGhpcy5fZnVsbENhbGVuZGFyKXJldHVybiBKW2JdLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkPWliKFt0aGlzLGFdKTtyZXR1cm4gSltiXS5jYWxsKGRbMF0sZFsxXSxlKX19KTtsYj0oQmI9Il9kImluIHEoKSYmInVwZGF0ZU9mZnNldCJpbiBxKT9mdW5jdGlvbihhLGIpe2EuX2Quc2V0VGltZShEYXRlLlVUQy5hcHBseShEYXRlLApiKSk7cS51cGRhdGVPZmZzZXQoYSwhMSl9Om9hO3NiPUJiP2Z1bmN0aW9uKGEsYil7YS5fZC5zZXRUaW1lKCtuZXcgRGF0ZShiWzBdfHwwLGJbMV18fDAsYlsyXXx8MCxiWzNdfHwwLGJbNF18fDAsYls1XXx8MCxiWzZdfHwwKSk7cS51cGRhdGVPZmZzZXQoYSwhMSl9Om9hO3ZhciBZYj17dDpmdW5jdGlvbihhKXtyZXR1cm4gZmEoYSwiYSIpLmNoYXJBdCgwKX0sVDpmdW5jdGlvbihhKXtyZXR1cm4gZmEoYSwiQSIpLmNoYXJBdCgwKX19O3YuZm9ybWF0UmFuZ2U9WGE7dmFyIFpiPXtZOiJ5ZWFyIixNOiJtb250aCIsRDoiZGF5IixkOiJkYXkiLEE6InNlY29uZCIsYToic2Vjb25kIixUOiJzZWNvbmQiLHQ6InNlY29uZCIsSDoic2Vjb25kIixoOiJzZWNvbmQiLG06InNlY29uZCIsczoic2Vjb25kIn0sWmE9e307di5DbGFzcz1kO2QuZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzLmxlbmd0aCxiLGM7Zm9yKGI9MDtiPGE7YisrKWM9YXJndW1lbnRzW2JdLGI8YS0xJiZVYShjLAp0aGlzLnByb3RvdHlwZSk7cmV0dXJuIGRjKHRoaXMsY3x8e30pfTtkLm1peGluPWZ1bmN0aW9uKGEpe1VhKGEsdGhpcy5wcm90b3R5cGUpfTt2YXIgQ2I9di5FbWl0dGVyTWl4aW49e29uOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYi5hcHBseShjLmNvbnRleHR8fHRoaXMsYy5hcmdzfHxbXSl9O2IuZ3VpZHx8KGIuZ3VpZD1nLmd1aWQrKyk7Yy5ndWlkPWIuZ3VpZDtnKHRoaXMpLm9uKGEsYyk7cmV0dXJuIHRoaXN9LG9mZjpmdW5jdGlvbihhLGIpe2codGhpcykub2ZmKGEsYik7cmV0dXJuIHRoaXN9LHRyaWdnZXI6ZnVuY3Rpb24oYSl7dmFyIGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO2codGhpcykudHJpZ2dlckhhbmRsZXIoYSx7YXJnczpifSk7cmV0dXJuIHRoaXN9LHRyaWdnZXJXaXRoOmZ1bmN0aW9uKGEsYixjKXtnKHRoaXMpLnRyaWdnZXJIYW5kbGVyKGEse2NvbnRleHQ6YixhcmdzOmN9KTtyZXR1cm4gdGhpc319LApKYT12Lkxpc3RlbmVyTWl4aW49ZnVuY3Rpb24oKXt2YXIgYT0wO3JldHVybntsaXN0ZW5lcklkOm51bGwsbGlzdGVuVG86ZnVuY3Rpb24oYSxjLGUpe2lmKCJvYmplY3QiPT09dHlwZW9mIGMpZm9yKHZhciBkIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShkKSYmdGhpcy5saXN0ZW5UbyhhLGQsY1tkXSk7ZWxzZSBpZigic3RyaW5nIj09PXR5cGVvZiBjKWEub24oYysiLiIrdGhpcy5nZXRMaXN0ZW5lck5hbWVzcGFjZSgpLGcucHJveHkoZSx0aGlzKSl9LHN0b3BMaXN0ZW5pbmdUbzpmdW5jdGlvbihhLGMpe2Eub2ZmKChjfHwiIikrIi4iK3RoaXMuZ2V0TGlzdGVuZXJOYW1lc3BhY2UoKSl9LGdldExpc3RlbmVyTmFtZXNwYWNlOmZ1bmN0aW9uKCl7bnVsbD09dGhpcy5saXN0ZW5lcklkJiYodGhpcy5saXN0ZW5lcklkPWErKyk7cmV0dXJuIl9saXN0ZW5lciIrdGhpcy5saXN0ZW5lcklkfX19KCksRGI9e2lzSWdub3JpbmdNb3VzZTohMSxkZWxheVVuaWdub3JlTW91c2U6bnVsbCxpbml0TW91c2VJZ25vcmluZzpmdW5jdGlvbihhKXt0aGlzLmRlbGF5VW5pZ25vcmVNb3VzZT0KSGEoWCh0aGlzLCJ1bmlnbm9yZU1vdXNlIiksYXx8MUUzKX0sdGVtcElnbm9yZU1vdXNlOmZ1bmN0aW9uKCl7dGhpcy5pc0lnbm9yaW5nTW91c2U9ITA7dGhpcy5kZWxheVVuaWdub3JlTW91c2UoKX0sdW5pZ25vcmVNb3VzZTpmdW5jdGlvbigpe3RoaXMuaXNJZ25vcmluZ01vdXNlPSExfX0sZWM9ZC5leHRlbmQoSmEse2lzSGlkZGVuOiEwLG9wdGlvbnM6bnVsbCxlbDpudWxsLG1hcmdpbjoxMCxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt0aGlzLm9wdGlvbnM9YXx8e319LHNob3c6ZnVuY3Rpb24oKXt0aGlzLmlzSGlkZGVuJiYodGhpcy5lbHx8dGhpcy5yZW5kZXIoKSx0aGlzLmVsLnNob3coKSx0aGlzLnBvc2l0aW9uKCksdGhpcy5pc0hpZGRlbj0hMSx0aGlzLnRyaWdnZXIoInNob3ciKSl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmlzSGlkZGVufHwodGhpcy5lbC5oaWRlKCksdGhpcy5pc0hpZGRlbj0hMCx0aGlzLnRyaWdnZXIoImhpZGUiKSl9LHJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPQp0aGlzLGI9dGhpcy5vcHRpb25zO3RoaXMuZWw9ZygnPGRpdiBjbGFzcz0iZmMtcG9wb3ZlciIvPicpLmFkZENsYXNzKGIuY2xhc3NOYW1lfHwiIikuY3NzKHt0b3A6MCxsZWZ0OjB9KS5hcHBlbmQoYi5jb250ZW50KS5hcHBlbmRUbyhiLnBhcmVudEVsKTt0aGlzLmVsLm9uKCJjbGljayIsIi5mYy1jbG9zZSIsZnVuY3Rpb24oKXthLmhpZGUoKX0pO2IuYXV0b0hpZGUmJnRoaXMubGlzdGVuVG8oZyhkb2N1bWVudCksIm1vdXNlZG93biIsdGhpcy5kb2N1bWVudE1vdXNlZG93bil9LGRvY3VtZW50TW91c2Vkb3duOmZ1bmN0aW9uKGEpe3RoaXMuZWwmJiFnKGEudGFyZ2V0KS5jbG9zZXN0KHRoaXMuZWwpLmxlbmd0aCYmdGhpcy5oaWRlKCl9LHJlbW92ZUVsZW1lbnQ6ZnVuY3Rpb24oKXt0aGlzLmhpZGUoKTt0aGlzLmVsJiYodGhpcy5lbC5yZW1vdmUoKSx0aGlzLmVsPW51bGwpO3RoaXMuc3RvcExpc3RlbmluZ1RvKGcoZG9jdW1lbnQpLCJtb3VzZWRvd24iKX0scG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgYT0KdGhpcy5vcHRpb25zLGI9dGhpcy5lbC5vZmZzZXRQYXJlbnQoKS5vZmZzZXQoKSxjPXRoaXMuZWwub3V0ZXJXaWR0aCgpLGU9dGhpcy5lbC5vdXRlckhlaWdodCgpLGQ9Zyh3aW5kb3cpLGY9UWEodGhpcy5lbCksayxtLHAscTtwPWEudG9wfHwwO3E9dm9pZCAwIT09YS5sZWZ0P2EubGVmdDp2b2lkIDAhPT1hLnJpZ2h0P2EucmlnaHQtYzowO2YuaXMod2luZG93KXx8Zi5pcyhkb2N1bWVudCk/KGY9ZCxtPWs9MCk6KG09Zi5vZmZzZXQoKSxrPW0udG9wLG09bS5sZWZ0KTtrKz1kLnNjcm9sbFRvcCgpO20rPWQuc2Nyb2xsTGVmdCgpOyExIT09YS52aWV3cG9ydENvbnN0cmFpbiYmKHA9TWF0aC5taW4ocCxrK2Yub3V0ZXJIZWlnaHQoKS1lLXRoaXMubWFyZ2luKSxwPU1hdGgubWF4KHAsayt0aGlzLm1hcmdpbikscT1NYXRoLm1pbihxLG0rZi5vdXRlcldpZHRoKCktYy10aGlzLm1hcmdpbikscT1NYXRoLm1heChxLG0rdGhpcy5tYXJnaW4pKTt0aGlzLmVsLmNzcyh7dG9wOnAtYi50b3AsCmxlZnQ6cS1iLmxlZnR9KX0sdHJpZ2dlcjpmdW5jdGlvbihhKXt0aGlzLm9wdGlvbnNbYV0mJnRoaXMub3B0aW9uc1thXS5hcHBseSh0aGlzLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9fSksbWI9di5Db29yZENhY2hlPWQuZXh0ZW5kKHtlbHM6bnVsbCxmb3JjZWRPZmZzZXRQYXJlbnRFbDpudWxsLG9yaWdpbjpudWxsLGJvdW5kaW5nUmVjdDpudWxsLGlzSG9yaXpvbnRhbDohMSxpc1ZlcnRpY2FsOiExLGxlZnRzOm51bGwscmlnaHRzOm51bGwsdG9wczpudWxsLGJvdHRvbXM6bnVsbCxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt0aGlzLmVscz1nKGEuZWxzKTt0aGlzLmlzSG9yaXpvbnRhbD1hLmlzSG9yaXpvbnRhbDt0aGlzLmlzVmVydGljYWw9YS5pc1ZlcnRpY2FsO3RoaXMuZm9yY2VkT2Zmc2V0UGFyZW50RWw9YS5vZmZzZXRQYXJlbnQ/ZyhhLm9mZnNldFBhcmVudCk6bnVsbH0sYnVpbGQ6ZnVuY3Rpb24oKXt0aGlzLm9yaWdpbj0odGhpcy5mb3JjZWRPZmZzZXRQYXJlbnRFbHx8CnRoaXMuZWxzLmVxKDApLm9mZnNldFBhcmVudCgpKS5vZmZzZXQoKTt0aGlzLmJvdW5kaW5nUmVjdD10aGlzLnF1ZXJ5Qm91bmRpbmdSZWN0KCk7dGhpcy5pc0hvcml6b250YWwmJnRoaXMuYnVpbGRFbEhvcml6b250YWxzKCk7dGhpcy5pc1ZlcnRpY2FsJiZ0aGlzLmJ1aWxkRWxWZXJ0aWNhbHMoKX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLmJvdHRvbXM9dGhpcy50b3BzPXRoaXMucmlnaHRzPXRoaXMubGVmdHM9dGhpcy5ib3VuZGluZ1JlY3Q9dGhpcy5vcmlnaW49bnVsbH0sZW5zdXJlQnVpbHQ6ZnVuY3Rpb24oKXt0aGlzLm9yaWdpbnx8dGhpcy5idWlsZCgpfSxidWlsZEVsSG9yaXpvbnRhbHM6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPVtdO3RoaXMuZWxzLmVhY2goZnVuY3Rpb24oYyxlKXtlPWcoZSk7Yz1lLm9mZnNldCgpLmxlZnQ7ZT1lLm91dGVyV2lkdGgoKTthLnB1c2goYyk7Yi5wdXNoKGMrZSl9KTt0aGlzLmxlZnRzPWE7dGhpcy5yaWdodHM9Yn0sYnVpbGRFbFZlcnRpY2FsczpmdW5jdGlvbigpe3ZhciBhPQpbXSxiPVtdO3RoaXMuZWxzLmVhY2goZnVuY3Rpb24oYyxlKXtlPWcoZSk7Yz1lLm9mZnNldCgpLnRvcDtlPWUub3V0ZXJIZWlnaHQoKTthLnB1c2goYyk7Yi5wdXNoKGMrZSl9KTt0aGlzLnRvcHM9YTt0aGlzLmJvdHRvbXM9Yn0sZ2V0SG9yaXpvbnRhbEluZGV4OmZ1bmN0aW9uKGEpe3RoaXMuZW5zdXJlQnVpbHQoKTt2YXIgYj10aGlzLmxlZnRzLGM9dGhpcy5yaWdodHMsZT1iLmxlbmd0aCxkO2ZvcihkPTA7ZDxlO2QrKylpZihhPj1iW2RdJiZhPGNbZF0pcmV0dXJuIGR9LGdldFZlcnRpY2FsSW5kZXg6ZnVuY3Rpb24oYSl7dGhpcy5lbnN1cmVCdWlsdCgpO3ZhciBiPXRoaXMudG9wcyxjPXRoaXMuYm90dG9tcyxlPWIubGVuZ3RoLGQ7Zm9yKGQ9MDtkPGU7ZCsrKWlmKGE+PWJbZF0mJmE8Y1tkXSlyZXR1cm4gZH0sZ2V0TGVmdE9mZnNldDpmdW5jdGlvbihhKXt0aGlzLmVuc3VyZUJ1aWx0KCk7cmV0dXJuIHRoaXMubGVmdHNbYV19LGdldExlZnRQb3NpdGlvbjpmdW5jdGlvbihhKXt0aGlzLmVuc3VyZUJ1aWx0KCk7CnJldHVybiB0aGlzLmxlZnRzW2FdLXRoaXMub3JpZ2luLmxlZnR9LGdldFJpZ2h0T2Zmc2V0OmZ1bmN0aW9uKGEpe3RoaXMuZW5zdXJlQnVpbHQoKTtyZXR1cm4gdGhpcy5yaWdodHNbYV19LGdldFJpZ2h0UG9zaXRpb246ZnVuY3Rpb24oYSl7dGhpcy5lbnN1cmVCdWlsdCgpO3JldHVybiB0aGlzLnJpZ2h0c1thXS10aGlzLm9yaWdpbi5sZWZ0fSxnZXRXaWR0aDpmdW5jdGlvbihhKXt0aGlzLmVuc3VyZUJ1aWx0KCk7cmV0dXJuIHRoaXMucmlnaHRzW2FdLXRoaXMubGVmdHNbYV19LGdldFRvcE9mZnNldDpmdW5jdGlvbihhKXt0aGlzLmVuc3VyZUJ1aWx0KCk7cmV0dXJuIHRoaXMudG9wc1thXX0sZ2V0VG9wUG9zaXRpb246ZnVuY3Rpb24oYSl7dGhpcy5lbnN1cmVCdWlsdCgpO3JldHVybiB0aGlzLnRvcHNbYV0tdGhpcy5vcmlnaW4udG9wfSxnZXRCb3R0b21PZmZzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5lbnN1cmVCdWlsdCgpO3JldHVybiB0aGlzLmJvdHRvbXNbYV19LGdldEJvdHRvbVBvc2l0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuZW5zdXJlQnVpbHQoKTsKcmV0dXJuIHRoaXMuYm90dG9tc1thXS10aGlzLm9yaWdpbi50b3B9LGdldEhlaWdodDpmdW5jdGlvbihhKXt0aGlzLmVuc3VyZUJ1aWx0KCk7cmV0dXJuIHRoaXMuYm90dG9tc1thXS10aGlzLnRvcHNbYV19LHF1ZXJ5Qm91bmRpbmdSZWN0OmZ1bmN0aW9uKCl7dmFyIGE9UWEodGhpcy5lbHMuZXEoMCkpO2lmKCFhLmlzKGRvY3VtZW50KSlyZXR1cm4gcmIoYSl9LGlzUG9pbnRJbkJvdW5kczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmlzTGVmdEluQm91bmRzKGEpJiZ0aGlzLmlzVG9wSW5Cb3VuZHMoYil9LGlzTGVmdEluQm91bmRzOmZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmJvdW5kaW5nUmVjdHx8YT49dGhpcy5ib3VuZGluZ1JlY3QubGVmdCYmYTx0aGlzLmJvdW5kaW5nUmVjdC5yaWdodH0saXNUb3BJbkJvdW5kczpmdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5ib3VuZGluZ1JlY3R8fGE+PXRoaXMuYm91bmRpbmdSZWN0LnRvcCYmYTx0aGlzLmJvdW5kaW5nUmVjdC5ib3R0b219fSksCmthPXYuRHJhZ0xpc3RlbmVyPWQuZXh0ZW5kKEphLERiLHtvcHRpb25zOm51bGwsc3ViamVjdEVsOm51bGwsc3ViamVjdEhyZWY6bnVsbCxvcmlnaW5YOm51bGwsb3JpZ2luWTpudWxsLHNjcm9sbEVsOm51bGwsaXNJbnRlcmFjdGluZzohMSxpc0Rpc3RhbmNlU3VycGFzc2VkOiExLGlzRGVsYXlFbmRlZDohMSxpc0RyYWdnaW5nOiExLGlzVG91Y2g6ITEsZGVsYXk6bnVsbCxkZWxheVRpbWVvdXRJZDpudWxsLG1pbkRpc3RhbmNlOm51bGwsaGFuZGxlVG91Y2hTY3JvbGxQcm94eTpudWxsLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3RoaXMub3B0aW9ucz1hfHx7fTt0aGlzLmhhbmRsZVRvdWNoU2Nyb2xsUHJveHk9WCh0aGlzLCJoYW5kbGVUb3VjaFNjcm9sbCIpO3RoaXMuaW5pdE1vdXNlSWdub3JpbmcoNTAwKX0sc3RhcnRJbnRlcmFjdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPS9edG91Y2gvLnRlc3QoYS50eXBlKTtpZigibW91c2Vkb3duIj09PWEudHlwZSl7aWYodGhpcy5pc0lnbm9yaW5nTW91c2V8fAoxIT1hLndoaWNofHxhLmN0cmxLZXkpcmV0dXJuO2EucHJldmVudERlZmF1bHQoKX10aGlzLmlzSW50ZXJhY3Rpbmd8fChiPWJ8fHt9LHRoaXMuZGVsYXk9VShiLmRlbGF5LHRoaXMub3B0aW9ucy5kZWxheSwwKSx0aGlzLm1pbkRpc3RhbmNlPVUoYi5kaXN0YW5jZSx0aGlzLm9wdGlvbnMuZGlzdGFuY2UsMCksdGhpcy5zdWJqZWN0RWw9dGhpcy5vcHRpb25zLnN1YmplY3RFbCx0aGlzLmlzSW50ZXJhY3Rpbmc9ITAsdGhpcy5pc1RvdWNoPWMsdGhpcy5pc0Rpc3RhbmNlU3VycGFzc2VkPXRoaXMuaXNEZWxheUVuZGVkPSExLHRoaXMub3JpZ2luWD1XKGEpLHRoaXMub3JpZ2luWT1oYShhKSx0aGlzLnNjcm9sbEVsPVFhKGcoYS50YXJnZXQpKSx0aGlzLmJpbmRIYW5kbGVycygpLHRoaXMuaW5pdEF1dG9TY3JvbGwoKSx0aGlzLmhhbmRsZUludGVyYWN0aW9uU3RhcnQoYSksdGhpcy5zdGFydERlbGF5KGEpLHRoaXMubWluRGlzdGFuY2V8fHRoaXMuaGFuZGxlRGlzdGFuY2VTdXJwYXNzZWQoYSkpfSwKaGFuZGxlSW50ZXJhY3Rpb25TdGFydDpmdW5jdGlvbihhKXt0aGlzLnRyaWdnZXIoImludGVyYWN0aW9uU3RhcnQiLGEpfSxlbmRJbnRlcmFjdGlvbjpmdW5jdGlvbihhLGIpe3RoaXMuaXNJbnRlcmFjdGluZyYmKHRoaXMuZW5kRHJhZyhhKSx0aGlzLmRlbGF5VGltZW91dElkJiYoY2xlYXJUaW1lb3V0KHRoaXMuZGVsYXlUaW1lb3V0SWQpLHRoaXMuZGVsYXlUaW1lb3V0SWQ9bnVsbCksdGhpcy5kZXN0cm95QXV0b1Njcm9sbCgpLHRoaXMudW5iaW5kSGFuZGxlcnMoKSx0aGlzLmlzSW50ZXJhY3Rpbmc9ITEsdGhpcy5oYW5kbGVJbnRlcmFjdGlvbkVuZChhLGIpLHRoaXMuaXNUb3VjaCYmdGhpcy50ZW1wSWdub3JlTW91c2UoKSl9LGhhbmRsZUludGVyYWN0aW9uRW5kOmZ1bmN0aW9uKGEsYil7dGhpcy50cmlnZ2VyKCJpbnRlcmFjdGlvbkVuZCIsYSxifHwhMSl9LGJpbmRIYW5kbGVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0xO2lmKHRoaXMuaXNUb3VjaCl7dGhpcy5saXN0ZW5UbyhnKGRvY3VtZW50KSwKe3RvdWNobW92ZTp0aGlzLmhhbmRsZVRvdWNoTW92ZSx0b3VjaGVuZDp0aGlzLmVuZEludGVyYWN0aW9uLHRvdWNoY2FuY2VsOnRoaXMuZW5kSW50ZXJhY3Rpb24sdG91Y2hzdGFydDpmdW5jdGlvbihjKXtiP2ItLTphLmVuZEludGVyYWN0aW9uKGMsITApfX0pO3ZhciBjO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyPyh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIix0aGlzLmhhbmRsZVRvdWNoU2Nyb2xsUHJveHksITApLGM9ITApOmM9ITE7IWMmJnRoaXMuc2Nyb2xsRWwmJnRoaXMubGlzdGVuVG8odGhpcy5zY3JvbGxFbCwic2Nyb2xsIix0aGlzLmhhbmRsZVRvdWNoU2Nyb2xsKX1lbHNlIHRoaXMubGlzdGVuVG8oZyhkb2N1bWVudCkse21vdXNlbW92ZTp0aGlzLmhhbmRsZU1vdXNlTW92ZSxtb3VzZXVwOnRoaXMuZW5kSW50ZXJhY3Rpb259KTt0aGlzLmxpc3RlblRvKGcoZG9jdW1lbnQpLHtzZWxlY3RzdGFydDpSYSxjb250ZXh0bWVudTpSYX0pfSx1bmJpbmRIYW5kbGVyczpmdW5jdGlvbigpe3RoaXMuc3RvcExpc3RlbmluZ1RvKGcoZG9jdW1lbnQpKTsKd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXImJndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLHRoaXMuaGFuZGxlVG91Y2hTY3JvbGxQcm94eSwhMCk7dGhpcy5zY3JvbGxFbCYmdGhpcy5zdG9wTGlzdGVuaW5nVG8odGhpcy5zY3JvbGxFbCwic2Nyb2xsIil9LHN0YXJ0RHJhZzpmdW5jdGlvbihhLGIpe3RoaXMuc3RhcnRJbnRlcmFjdGlvbihhLGIpO3RoaXMuaXNEcmFnZ2luZ3x8KHRoaXMuaXNEcmFnZ2luZz0hMCx0aGlzLmhhbmRsZURyYWdTdGFydChhKSl9LGhhbmRsZURyYWdTdGFydDpmdW5jdGlvbihhKXt0aGlzLnRyaWdnZXIoImRyYWdTdGFydCIsYSk7dGhpcy5pbml0SHJlZkhhY2soKX0saGFuZGxlTW92ZTpmdW5jdGlvbihhKXt2YXIgYj1XKGEpLXRoaXMub3JpZ2luWCxjPWhhKGEpLXRoaXMub3JpZ2luWSxlPXRoaXMubWluRGlzdGFuY2U7dGhpcy5pc0Rpc3RhbmNlU3VycGFzc2VkfHxiKmIrYypjPj1lKmUmJnRoaXMuaGFuZGxlRGlzdGFuY2VTdXJwYXNzZWQoYSk7CnRoaXMuaXNEcmFnZ2luZyYmdGhpcy5oYW5kbGVEcmFnKGIsYyxhKX0saGFuZGxlRHJhZzpmdW5jdGlvbihhLGIsYyl7dGhpcy50cmlnZ2VyKCJkcmFnIixhLGIsYyk7dGhpcy51cGRhdGVBdXRvU2Nyb2xsKGMpfSxlbmREcmFnOmZ1bmN0aW9uKGEpe3RoaXMuaXNEcmFnZ2luZyYmKHRoaXMuaXNEcmFnZ2luZz0hMSx0aGlzLmhhbmRsZURyYWdFbmQoYSkpfSxoYW5kbGVEcmFnRW5kOmZ1bmN0aW9uKGEpe3RoaXMudHJpZ2dlcigiZHJhZ0VuZCIsYSk7dGhpcy5kZXN0cm95SHJlZkhhY2soKX0sc3RhcnREZWxheTpmdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMuZGVsYXk/dGhpcy5kZWxheVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5oYW5kbGVEZWxheUVuZChhKX0sdGhpcy5kZWxheSk6dGhpcy5oYW5kbGVEZWxheUVuZChhKX0saGFuZGxlRGVsYXlFbmQ6ZnVuY3Rpb24oYSl7dGhpcy5pc0RlbGF5RW5kZWQ9ITA7dGhpcy5pc0Rpc3RhbmNlU3VycGFzc2VkJiZ0aGlzLnN0YXJ0RHJhZyhhKX0sCmhhbmRsZURpc3RhbmNlU3VycGFzc2VkOmZ1bmN0aW9uKGEpe3RoaXMuaXNEaXN0YW5jZVN1cnBhc3NlZD0hMDt0aGlzLmlzRGVsYXlFbmRlZCYmdGhpcy5zdGFydERyYWcoYSl9LGhhbmRsZVRvdWNoTW92ZTpmdW5jdGlvbihhKXt0aGlzLmlzRHJhZ2dpbmcmJmEucHJldmVudERlZmF1bHQoKTt0aGlzLmhhbmRsZU1vdmUoYSl9LGhhbmRsZU1vdXNlTW92ZTpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZU1vdmUoYSl9LGhhbmRsZVRvdWNoU2Nyb2xsOmZ1bmN0aW9uKGEpe3RoaXMuaXNEcmFnZ2luZ3x8dGhpcy5lbmRJbnRlcmFjdGlvbihhLCEwKX0saW5pdEhyZWZIYWNrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdWJqZWN0RWw7KHRoaXMuc3ViamVjdEhyZWY9YT9hLmF0dHIoImhyZWYiKTpudWxsKSYmYS5yZW1vdmVBdHRyKCJocmVmIil9LGRlc3Ryb3lIcmVmSGFjazpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3ViamVjdEVsLGI9dGhpcy5zdWJqZWN0SHJlZjtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YiYmCmEuYXR0cigiaHJlZiIsYil9LDApfSx0cmlnZ2VyOmZ1bmN0aW9uKGEpe3RoaXMub3B0aW9uc1thXSYmdGhpcy5vcHRpb25zW2FdLmFwcGx5KHRoaXMsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKTt0aGlzWyJfIithXSYmdGhpc1siXyIrYV0uYXBwbHkodGhpcyxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpfX0pO2thLm1peGluKHtpc0F1dG9TY3JvbGw6ITEsc2Nyb2xsQm91bmRzOm51bGwsc2Nyb2xsVG9wVmVsOm51bGwsc2Nyb2xsTGVmdFZlbDpudWxsLHNjcm9sbEludGVydmFsSWQ6bnVsbCxzY3JvbGxTZW5zaXRpdml0eTozMCxzY3JvbGxTcGVlZDoyMDAsc2Nyb2xsSW50ZXJ2YWxNczo1MCxpbml0QXV0b1Njcm9sbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2Nyb2xsRWw7KHRoaXMuaXNBdXRvU2Nyb2xsPXRoaXMub3B0aW9ucy5zY3JvbGwmJmEmJiFhLmlzKHdpbmRvdykmJiFhLmlzKGRvY3VtZW50KSkmJnRoaXMubGlzdGVuVG8oYSwKInNjcm9sbCIsSGEodGhpcy5oYW5kbGVEZWJvdW5jZWRTY3JvbGwsMTAwKSl9LGRlc3Ryb3lBdXRvU2Nyb2xsOmZ1bmN0aW9uKCl7dGhpcy5lbmRBdXRvU2Nyb2xsKCk7dGhpcy5pc0F1dG9TY3JvbGwmJnRoaXMuc3RvcExpc3RlbmluZ1RvKHRoaXMuc2Nyb2xsRWwsInNjcm9sbCIpfSxjb21wdXRlU2Nyb2xsQm91bmRzOmZ1bmN0aW9uKCl7dGhpcy5pc0F1dG9TY3JvbGwmJih0aGlzLnNjcm9sbEJvdW5kcz1kYih0aGlzLnNjcm9sbEVsKSl9LHVwZGF0ZUF1dG9TY3JvbGw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zY3JvbGxTZW5zaXRpdml0eSxjPXRoaXMuc2Nyb2xsQm91bmRzLGUsZCxmLGc9MCxtPTA7YyYmKGU9KGItKGhhKGEpLWMudG9wKSkvYixkPShiLShjLmJvdHRvbS1oYShhKSkpL2IsZj0oYi0oVyhhKS1jLmxlZnQpKS9iLGE9KGItKGMucmlnaHQtVyhhKSkpL2IsMDw9ZSYmMT49ZT9nPWUqdGhpcy5zY3JvbGxTcGVlZCotMTowPD1kJiYxPj1kJiYoZz1kKnRoaXMuc2Nyb2xsU3BlZWQpLAowPD1mJiYxPj1mP209Zip0aGlzLnNjcm9sbFNwZWVkKi0xOjA8PWEmJjE+PWEmJihtPWEqdGhpcy5zY3JvbGxTcGVlZCkpO3RoaXMuc2V0U2Nyb2xsVmVsKGcsbSl9LHNldFNjcm9sbFZlbDpmdW5jdGlvbihhLGIpe3RoaXMuc2Nyb2xsVG9wVmVsPWE7dGhpcy5zY3JvbGxMZWZ0VmVsPWI7dGhpcy5jb25zdHJhaW5TY3JvbGxWZWwoKTshdGhpcy5zY3JvbGxUb3BWZWwmJiF0aGlzLnNjcm9sbExlZnRWZWx8fHRoaXMuc2Nyb2xsSW50ZXJ2YWxJZHx8KHRoaXMuc2Nyb2xsSW50ZXJ2YWxJZD1zZXRJbnRlcnZhbChYKHRoaXMsInNjcm9sbEludGVydmFsRnVuYyIpLHRoaXMuc2Nyb2xsSW50ZXJ2YWxNcykpfSxjb25zdHJhaW5TY3JvbGxWZWw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNjcm9sbEVsOzA+dGhpcy5zY3JvbGxUb3BWZWw/MD49YS5zY3JvbGxUb3AoKSYmKHRoaXMuc2Nyb2xsVG9wVmVsPTApOjA8dGhpcy5zY3JvbGxUb3BWZWwmJmEuc2Nyb2xsVG9wKCkrYVswXS5jbGllbnRIZWlnaHQ+PQphWzBdLnNjcm9sbEhlaWdodCYmKHRoaXMuc2Nyb2xsVG9wVmVsPTApOzA+dGhpcy5zY3JvbGxMZWZ0VmVsPzA+PWEuc2Nyb2xsTGVmdCgpJiYodGhpcy5zY3JvbGxMZWZ0VmVsPTApOjA8dGhpcy5zY3JvbGxMZWZ0VmVsJiZhLnNjcm9sbExlZnQoKSthWzBdLmNsaWVudFdpZHRoPj1hWzBdLnNjcm9sbFdpZHRoJiYodGhpcy5zY3JvbGxMZWZ0VmVsPTApfSxzY3JvbGxJbnRlcnZhbEZ1bmM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNjcm9sbEVsLGI9dGhpcy5zY3JvbGxJbnRlcnZhbE1zLzFFMzt0aGlzLnNjcm9sbFRvcFZlbCYmYS5zY3JvbGxUb3AoYS5zY3JvbGxUb3AoKSt0aGlzLnNjcm9sbFRvcFZlbCpiKTt0aGlzLnNjcm9sbExlZnRWZWwmJmEuc2Nyb2xsTGVmdChhLnNjcm9sbExlZnQoKSt0aGlzLnNjcm9sbExlZnRWZWwqYik7dGhpcy5jb25zdHJhaW5TY3JvbGxWZWwoKTt0aGlzLnNjcm9sbFRvcFZlbHx8dGhpcy5zY3JvbGxMZWZ0VmVsfHx0aGlzLmVuZEF1dG9TY3JvbGwoKX0sCmVuZEF1dG9TY3JvbGw6ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbEludGVydmFsSWQmJihjbGVhckludGVydmFsKHRoaXMuc2Nyb2xsSW50ZXJ2YWxJZCksdGhpcy5zY3JvbGxJbnRlcnZhbElkPW51bGwsdGhpcy5oYW5kbGVTY3JvbGxFbmQoKSl9LGhhbmRsZURlYm91bmNlZFNjcm9sbDpmdW5jdGlvbigpe3RoaXMuc2Nyb2xsSW50ZXJ2YWxJZHx8dGhpcy5oYW5kbGVTY3JvbGxFbmQoKX0saGFuZGxlU2Nyb2xsRW5kOmZ1bmN0aW9uKCl7fX0pO3ZhciAkYT1rYS5leHRlbmQoe2NvbXBvbmVudDpudWxsLG9yaWdIaXQ6bnVsbCxoaXQ6bnVsbCxjb29yZEFkanVzdDpudWxsLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEsYil7a2EuY2FsbCh0aGlzLGIpO3RoaXMuY29tcG9uZW50PWF9LGhhbmRsZUludGVyYWN0aW9uU3RhcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zdWJqZWN0RWwsYyxlLGQ7dGhpcy5jb21wdXRlQ29vcmRzKCk7YT8oZD1lPXtsZWZ0OlcoYSksdG9wOmhhKGEpfSxiJiYoYz1kYihiKSwKZD17bGVmdDpNYXRoLm1pbihNYXRoLm1heChkLmxlZnQsYy5sZWZ0KSxjLnJpZ2h0KSx0b3A6TWF0aC5taW4oTWF0aC5tYXgoZC50b3AsYy50b3ApLGMuYm90dG9tKX0pLHRoaXMub3JpZ0hpdD10aGlzLnF1ZXJ5SGl0KGQubGVmdCxkLnRvcCksYiYmdGhpcy5vcHRpb25zLnN1YmplY3RDZW50ZXImJih0aGlzLm9yaWdIaXQmJihjPUwodGhpcy5vcmlnSGl0LGMpfHxjKSxkPXtsZWZ0OihjLmxlZnQrYy5yaWdodCkvMix0b3A6KGMudG9wK2MuYm90dG9tKS8yfSksdGhpcy5jb29yZEFkanVzdD17bGVmdDpkLmxlZnQtZS5sZWZ0LHRvcDpkLnRvcC1lLnRvcH0pOnRoaXMuY29vcmRBZGp1c3Q9dGhpcy5vcmlnSGl0PW51bGw7a2EucHJvdG90eXBlLmhhbmRsZUludGVyYWN0aW9uU3RhcnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjb21wdXRlQ29vcmRzOmZ1bmN0aW9uKCl7dGhpcy5jb21wb25lbnQucHJlcGFyZUhpdHMoKTt0aGlzLmNvbXB1dGVTY3JvbGxCb3VuZHMoKX0saGFuZGxlRHJhZ1N0YXJ0OmZ1bmN0aW9uKGEpe3ZhciBiOwprYS5wcm90b3R5cGUuaGFuZGxlRHJhZ1N0YXJ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTsoYj10aGlzLnF1ZXJ5SGl0KFcoYSksaGEoYSkpKSYmdGhpcy5oYW5kbGVIaXRPdmVyKGIpfSxoYW5kbGVEcmFnOmZ1bmN0aW9uKGEsYixjKXt2YXIgZTtrYS5wcm90b3R5cGUuaGFuZGxlRHJhZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZT10aGlzLnF1ZXJ5SGl0KFcoYyksaGEoYykpO1FiKGUsdGhpcy5oaXQpfHwodGhpcy5oaXQmJnRoaXMuaGFuZGxlSGl0T3V0KCksZSYmdGhpcy5oYW5kbGVIaXRPdmVyKGUpKX0saGFuZGxlRHJhZ0VuZDpmdW5jdGlvbigpe3RoaXMuaGFuZGxlSGl0RG9uZSgpO2thLnByb3RvdHlwZS5oYW5kbGVEcmFnRW5kLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saGFuZGxlSGl0T3ZlcjpmdW5jdGlvbihhKXt2YXIgYj1RYihhLHRoaXMub3JpZ0hpdCk7dGhpcy5oaXQ9YTt0aGlzLnRyaWdnZXIoImhpdE92ZXIiLHRoaXMuaGl0LGIsdGhpcy5vcmlnSGl0KX0saGFuZGxlSGl0T3V0OmZ1bmN0aW9uKCl7dGhpcy5oaXQmJgoodGhpcy50cmlnZ2VyKCJoaXRPdXQiLHRoaXMuaGl0KSx0aGlzLmhhbmRsZUhpdERvbmUoKSx0aGlzLmhpdD1udWxsKX0saGFuZGxlSGl0RG9uZTpmdW5jdGlvbigpe3RoaXMuaGl0JiZ0aGlzLnRyaWdnZXIoImhpdERvbmUiLHRoaXMuaGl0KX0saGFuZGxlSW50ZXJhY3Rpb25FbmQ6ZnVuY3Rpb24oKXtrYS5wcm90b3R5cGUuaGFuZGxlSW50ZXJhY3Rpb25FbmQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuaGl0PXRoaXMub3JpZ0hpdD1udWxsO3RoaXMuY29tcG9uZW50LnJlbGVhc2VIaXRzKCl9LGhhbmRsZVNjcm9sbEVuZDpmdW5jdGlvbigpe2thLnByb3RvdHlwZS5oYW5kbGVTY3JvbGxFbmQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY29tcHV0ZUNvb3JkcygpfSxxdWVyeUhpdDpmdW5jdGlvbihhLGIpe3RoaXMuY29vcmRBZGp1c3QmJihhKz10aGlzLmNvb3JkQWRqdXN0LmxlZnQsYis9dGhpcy5jb29yZEFkanVzdC50b3ApO3JldHVybiB0aGlzLmNvbXBvbmVudC5xdWVyeUhpdChhLApiKX19KSxjYz1kLmV4dGVuZChKYSx7b3B0aW9uczpudWxsLHNvdXJjZUVsOm51bGwsZWw6bnVsbCxwYXJlbnRFbDpudWxsLHRvcDA6bnVsbCxsZWZ0MDpudWxsLHkwOm51bGwseDA6bnVsbCx0b3BEZWx0YTpudWxsLGxlZnREZWx0YTpudWxsLGlzRm9sbG93aW5nOiExLGlzSGlkZGVuOiExLGlzQW5pbWF0aW5nOiExLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEsYil7dGhpcy5vcHRpb25zPWI9Ynx8e307dGhpcy5zb3VyY2VFbD1hO3RoaXMucGFyZW50RWw9Yi5wYXJlbnRFbD9nKGIucGFyZW50RWwpOmEucGFyZW50KCl9LHN0YXJ0OmZ1bmN0aW9uKGEpe3RoaXMuaXNGb2xsb3dpbmd8fCh0aGlzLmlzRm9sbG93aW5nPSEwLHRoaXMueTA9aGEoYSksdGhpcy54MD1XKGEpLHRoaXMubGVmdERlbHRhPXRoaXMudG9wRGVsdGE9MCx0aGlzLmlzSGlkZGVufHx0aGlzLnVwZGF0ZVBvc2l0aW9uKCksL150b3VjaC8udGVzdChhLnR5cGUpP3RoaXMubGlzdGVuVG8oZyhkb2N1bWVudCksInRvdWNobW92ZSIsCnRoaXMuaGFuZGxlTW92ZSk6dGhpcy5saXN0ZW5UbyhnKGRvY3VtZW50KSwibW91c2Vtb3ZlIix0aGlzLmhhbmRsZU1vdmUpKX0sc3RvcDpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXtlLmlzQW5pbWF0aW5nPSExO2UucmVtb3ZlRWxlbWVudCgpO2UudG9wMD1lLmxlZnQwPW51bGw7YiYmYigpfXZhciBlPXRoaXMsZD10aGlzLm9wdGlvbnMucmV2ZXJ0RHVyYXRpb247dGhpcy5pc0ZvbGxvd2luZyYmIXRoaXMuaXNBbmltYXRpbmcmJih0aGlzLmlzRm9sbG93aW5nPSExLHRoaXMuc3RvcExpc3RlbmluZ1RvKGcoZG9jdW1lbnQpKSxhJiZkJiYhdGhpcy5pc0hpZGRlbj8odGhpcy5pc0FuaW1hdGluZz0hMCx0aGlzLmVsLmFuaW1hdGUoe3RvcDp0aGlzLnRvcDAsbGVmdDp0aGlzLmxlZnQwfSx7ZHVyYXRpb246ZCxjb21wbGV0ZTpjfSkpOmMoKSl9LGdldEVsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbDthfHwodGhpcy5zb3VyY2VFbC53aWR0aCgpLGE9dGhpcy5lbD10aGlzLnNvdXJjZUVsLmNsb25lKCkuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmFkZGl0aW9uYWxDbGFzc3x8CiIiKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToiIixkaXNwbGF5OnRoaXMuaXNIaWRkZW4/Im5vbmUiOiIiLG1hcmdpbjowLHJpZ2h0OiJhdXRvIixib3R0b206ImF1dG8iLHdpZHRoOnRoaXMuc291cmNlRWwud2lkdGgoKSxoZWlnaHQ6dGhpcy5zb3VyY2VFbC5oZWlnaHQoKSxvcGFjaXR5OnRoaXMub3B0aW9ucy5vcGFjaXR5fHwiIix6SW5kZXg6dGhpcy5vcHRpb25zLnpJbmRleH0pLGEuYWRkQ2xhc3MoImZjLXVuc2VsZWN0YWJsZSIpLGEuYXBwZW5kVG8odGhpcy5wYXJlbnRFbCkpO3JldHVybiBhfSxyZW1vdmVFbGVtZW50OmZ1bmN0aW9uKCl7dGhpcy5lbCYmKHRoaXMuZWwucmVtb3ZlKCksdGhpcy5lbD1udWxsKX0sdXBkYXRlUG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgYSxiO3RoaXMuZ2V0RWwoKTtudWxsPT09dGhpcy50b3AwJiYodGhpcy5zb3VyY2VFbC53aWR0aCgpLGE9dGhpcy5zb3VyY2VFbC5vZmZzZXQoKSxiPXRoaXMuZWwub2Zmc2V0UGFyZW50KCkub2Zmc2V0KCksCnRoaXMudG9wMD1hLnRvcC1iLnRvcCx0aGlzLmxlZnQwPWEubGVmdC1iLmxlZnQpO3RoaXMuZWwuY3NzKHt0b3A6dGhpcy50b3AwK3RoaXMudG9wRGVsdGEsbGVmdDp0aGlzLmxlZnQwK3RoaXMubGVmdERlbHRhfSl9LGhhbmRsZU1vdmU6ZnVuY3Rpb24oYSl7dGhpcy50b3BEZWx0YT1oYShhKS10aGlzLnkwO3RoaXMubGVmdERlbHRhPVcoYSktdGhpcy54MDt0aGlzLmlzSGlkZGVufHx0aGlzLnVwZGF0ZVBvc2l0aW9uKCl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmlzSGlkZGVufHwodGhpcy5pc0hpZGRlbj0hMCx0aGlzLmVsJiZ0aGlzLmVsLmhpZGUoKSl9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLmlzSGlkZGVuJiYodGhpcy5pc0hpZGRlbj0hMSx0aGlzLnVwZGF0ZVBvc2l0aW9uKCksdGhpcy5nZXRFbCgpLnNob3coKSl9fSksQWE9di5HcmlkPWQuZXh0ZW5kKEphLERiLHt2aWV3Om51bGwsaXNSVEw6bnVsbCxzdGFydDpudWxsLGVuZDpudWxsLGVsOm51bGwsZWxzQnlGaWxsOm51bGwsZXZlbnRUaW1lRm9ybWF0Om51bGwsCmRpc3BsYXlFdmVudFRpbWU6bnVsbCxkaXNwbGF5RXZlbnRFbmQ6bnVsbCxtaW5SZXNpemVEdXJhdGlvbjpudWxsLGxhcmdlVW5pdDpudWxsLGRheURyYWdMaXN0ZW5lcjpudWxsLHNlZ0RyYWdMaXN0ZW5lcjpudWxsLHNlZ1Jlc2l6ZUxpc3RlbmVyOm51bGwsZXh0ZXJuYWxEcmFnTGlzdGVuZXI6bnVsbCxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt0aGlzLnZpZXc9YTt0aGlzLmlzUlRMPWEub3B0KCJpc1JUTCIpO3RoaXMuZWxzQnlGaWxsPXt9O3RoaXMuZGF5RHJhZ0xpc3RlbmVyPXRoaXMuYnVpbGREYXlEcmFnTGlzdGVuZXIoKTt0aGlzLmluaXRNb3VzZUlnbm9yaW5nKCl9LGNvbXB1dGVFdmVudFRpbWVGb3JtYXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3Lm9wdCgic21hbGxUaW1lRm9ybWF0Iil9LGNvbXB1dGVEaXNwbGF5RXZlbnRUaW1lOmZ1bmN0aW9uKCl7cmV0dXJuITB9LGNvbXB1dGVEaXNwbGF5RXZlbnRFbmQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sc2V0UmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5zdGFydD0KYS5zdGFydC5jbG9uZSgpO3RoaXMuZW5kPWEuZW5kLmNsb25lKCk7dGhpcy5yYW5nZVVwZGF0ZWQoKTt0aGlzLnByb2Nlc3NSYW5nZU9wdGlvbnMoKX0scmFuZ2VVcGRhdGVkOmZ1bmN0aW9uKCl7fSxwcm9jZXNzUmFuZ2VPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52aWV3LGI7dGhpcy5ldmVudFRpbWVGb3JtYXQ9YS5vcHQoImV2ZW50VGltZUZvcm1hdCIpfHxhLm9wdCgidGltZUZvcm1hdCIpfHx0aGlzLmNvbXB1dGVFdmVudFRpbWVGb3JtYXQoKTtiPWEub3B0KCJkaXNwbGF5RXZlbnRUaW1lIik7bnVsbD09YiYmKGI9dGhpcy5jb21wdXRlRGlzcGxheUV2ZW50VGltZSgpKTthPWEub3B0KCJkaXNwbGF5RXZlbnRFbmQiKTtudWxsPT1hJiYoYT10aGlzLmNvbXB1dGVEaXNwbGF5RXZlbnRFbmQoKSk7dGhpcy5kaXNwbGF5RXZlbnRUaW1lPWI7dGhpcy5kaXNwbGF5RXZlbnRFbmQ9YX0sc3BhblRvU2VnczpmdW5jdGlvbihhKXt9LGRpZmZEYXRlczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmxhcmdlVW5pdD8KeWIoYSxiLHRoaXMubGFyZ2VVbml0KTp4YihhLGIpfSxwcmVwYXJlSGl0czpmdW5jdGlvbigpe30scmVsZWFzZUhpdHM6ZnVuY3Rpb24oKXt9LHF1ZXJ5SGl0OmZ1bmN0aW9uKGEsYil7fSxnZXRIaXRTcGFuOmZ1bmN0aW9uKGEpe30sZ2V0SGl0RWw6ZnVuY3Rpb24oYSl7fSxzZXRFbGVtZW50OmZ1bmN0aW9uKGEpe3RoaXMuZWw9YTthLmFkZENsYXNzKCJmYy11bnNlbGVjdGFibGUiKS5vbigic2VsZWN0c3RhcnQiLFJhKTt0aGlzLmJpbmREYXlIYW5kbGVyKCJ0b3VjaHN0YXJ0Iix0aGlzLmRheVRvdWNoU3RhcnQpO3RoaXMuYmluZERheUhhbmRsZXIoIm1vdXNlZG93biIsdGhpcy5kYXlNb3VzZWRvd24pO3RoaXMuYmluZFNlZ0hhbmRsZXJzKCk7dGhpcy5iaW5kR2xvYmFsSGFuZGxlcnMoKX0sYmluZERheUhhbmRsZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3RoaXMuZWwub24oYSxmdW5jdGlvbihhKXtpZighZyhhLnRhcmdldCkuaXMoIi5mYy1ldmVudC1jb250YWluZXIgKiwgLmZjLW1vcmUiKSlyZXR1cm4gYi5jYWxsKGMsCmEpfSl9LHJlbW92ZUVsZW1lbnQ6ZnVuY3Rpb24oKXt0aGlzLnVuYmluZEdsb2JhbEhhbmRsZXJzKCk7dGhpcy5jbGVhckRyYWdMaXN0ZW5lcnMoKTt0aGlzLmVsLnJlbW92ZSgpfSxyZW5kZXJTa2VsZXRvbjpmdW5jdGlvbigpe30scmVuZGVyRGF0ZXM6ZnVuY3Rpb24oKXt9LHVucmVuZGVyRGF0ZXM6ZnVuY3Rpb24oKXt9LGJpbmRHbG9iYWxIYW5kbGVyczpmdW5jdGlvbigpe3RoaXMubGlzdGVuVG8oZyhkb2N1bWVudCkse2RyYWdzdGFydDp0aGlzLmV4dGVybmFsRHJhZ1N0YXJ0LHNvcnRzdGFydDp0aGlzLmV4dGVybmFsRHJhZ1N0YXJ0fSl9LHVuYmluZEdsb2JhbEhhbmRsZXJzOmZ1bmN0aW9uKCl7dGhpcy5zdG9wTGlzdGVuaW5nVG8oZyhkb2N1bWVudCkpfSxkYXlNb3VzZWRvd246ZnVuY3Rpb24oYSl7dGhpcy5pc0lnbm9yaW5nTW91c2V8fHRoaXMuZGF5RHJhZ0xpc3RlbmVyLnN0YXJ0SW50ZXJhY3Rpb24oYSx7fSl9LGRheVRvdWNoU3RhcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy52aWV3OwooYi5pc1NlbGVjdGVkfHxiLnNlbGVjdGVkRXZlbnQpJiZ0aGlzLnRlbXBJZ25vcmVNb3VzZSgpO3RoaXMuZGF5RHJhZ0xpc3RlbmVyLnN0YXJ0SW50ZXJhY3Rpb24oYSx7ZGVsYXk6dGhpcy52aWV3Lm9wdCgibG9uZ1ByZXNzRGVsYXkiKX0pfSxidWlsZERheURyYWdMaXN0ZW5lcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj10aGlzLnZpZXcsYz1iLm9wdCgic2VsZWN0YWJsZSIpLGUsZCxmPW5ldyAkYSh0aGlzLHtzY3JvbGw6Yi5vcHQoImRyYWdTY3JvbGwiKSxpbnRlcmFjdGlvblN0YXJ0OmZ1bmN0aW9uKCl7ZT1mLm9yaWdIaXQ7ZD1udWxsfSxkcmFnU3RhcnQ6ZnVuY3Rpb24oKXtiLnVuc2VsZWN0KCl9LGhpdE92ZXI6ZnVuY3Rpb24oYixmLGcpe2cmJihmfHwoZT1udWxsKSxjJiYoKGQ9YS5jb21wdXRlU2VsZWN0aW9uKGEuZ2V0SGl0U3BhbihnKSxhLmdldEhpdFNwYW4oYikpKT9hLnJlbmRlclNlbGVjdGlvbihkKTohMT09PWQmJlBhKCkpKX0saGl0T3V0OmZ1bmN0aW9uKCl7ZD0KZT1udWxsO2EudW5yZW5kZXJTZWxlY3Rpb24oKX0saGl0RG9uZTpmdW5jdGlvbigpe2NiKCl9LGludGVyYWN0aW9uRW5kOmZ1bmN0aW9uKGMsZil7Znx8KGUmJiFhLmlzSWdub3JpbmdNb3VzZSYmYi50cmlnZ2VyRGF5Q2xpY2soYS5nZXRIaXRTcGFuKGUpLGEuZ2V0SGl0RWwoZSksYyksZCYmYi5yZXBvcnRTZWxlY3Rpb24oZCxjKSl9fSk7cmV0dXJuIGZ9LGNsZWFyRHJhZ0xpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMuZGF5RHJhZ0xpc3RlbmVyLmVuZEludGVyYWN0aW9uKCk7dGhpcy5zZWdEcmFnTGlzdGVuZXImJnRoaXMuc2VnRHJhZ0xpc3RlbmVyLmVuZEludGVyYWN0aW9uKCk7dGhpcy5zZWdSZXNpemVMaXN0ZW5lciYmdGhpcy5zZWdSZXNpemVMaXN0ZW5lci5lbmRJbnRlcmFjdGlvbigpO3RoaXMuZXh0ZXJuYWxEcmFnTGlzdGVuZXImJnRoaXMuZXh0ZXJuYWxEcmFnTGlzdGVuZXIuZW5kSW50ZXJhY3Rpb24oKX0scmVuZGVyRXZlbnRMb2NhdGlvbkhlbHBlcjpmdW5jdGlvbihhLApiKXthPXRoaXMuZmFicmljYXRlSGVscGVyRXZlbnQoYSxiKTtyZXR1cm4gdGhpcy5yZW5kZXJIZWxwZXIoYSxiKX0sZmFicmljYXRlSGVscGVyRXZlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iP1RhKGIuZXZlbnQpOnt9O2Muc3RhcnQ9YS5zdGFydC5jbG9uZSgpO2MuZW5kPWEuZW5kP2EuZW5kLmNsb25lKCk6bnVsbDtjLmFsbERheT1udWxsO3RoaXMudmlldy5jYWxlbmRhci5ub3JtYWxpemVFdmVudERhdGVzKGMpO2MuY2xhc3NOYW1lPShjLmNsYXNzTmFtZXx8W10pLmNvbmNhdCgiZmMtaGVscGVyIik7Ynx8KGMuZWRpdGFibGU9ITEpO3JldHVybiBjfSxyZW5kZXJIZWxwZXI6ZnVuY3Rpb24oYSxiKXt9LHVucmVuZGVySGVscGVyOmZ1bmN0aW9uKCl7fSxyZW5kZXJTZWxlY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5yZW5kZXJIaWdobGlnaHQoYSl9LHVucmVuZGVyU2VsZWN0aW9uOmZ1bmN0aW9uKCl7dGhpcy51bnJlbmRlckhpZ2hsaWdodCgpfSxjb21wdXRlU2VsZWN0aW9uOmZ1bmN0aW9uKGEsCmIpe3JldHVybihhPXRoaXMuY29tcHV0ZVNlbGVjdGlvblNwYW4oYSxiKSkmJiF0aGlzLnZpZXcuY2FsZW5kYXIuaXNTZWxlY3Rpb25TcGFuQWxsb3dlZChhKT8hMTphfSxjb21wdXRlU2VsZWN0aW9uU3BhbjpmdW5jdGlvbihhLGIpe2E9W2Euc3RhcnQsYS5lbmQsYi5zdGFydCxiLmVuZF07YS5zb3J0KE9iKTtyZXR1cm57c3RhcnQ6YVswXS5jbG9uZSgpLGVuZDphWzNdLmNsb25lKCl9fSxyZW5kZXJIaWdobGlnaHQ6ZnVuY3Rpb24oYSl7dGhpcy5yZW5kZXJGaWxsKCJoaWdobGlnaHQiLHRoaXMuc3BhblRvU2VncyhhKSl9LHVucmVuZGVySGlnaGxpZ2h0OmZ1bmN0aW9uKCl7dGhpcy51bnJlbmRlckZpbGwoImhpZ2hsaWdodCIpfSxoaWdobGlnaHRTZWdDbGFzc2VzOmZ1bmN0aW9uKCl7cmV0dXJuWyJmYy1oaWdobGlnaHQiXX0scmVuZGVyQnVzaW5lc3NIb3VyczpmdW5jdGlvbigpe30sdW5yZW5kZXJCdXNpbmVzc0hvdXJzOmZ1bmN0aW9uKCl7fSxnZXROb3dJbmRpY2F0b3JVbml0OmZ1bmN0aW9uKCl7fSwKcmVuZGVyTm93SW5kaWNhdG9yOmZ1bmN0aW9uKGEpe30sdW5yZW5kZXJOb3dJbmRpY2F0b3I6ZnVuY3Rpb24oKXt9LHJlbmRlckZpbGw6ZnVuY3Rpb24oYSxiKXt9LHVucmVuZGVyRmlsbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVsc0J5RmlsbFthXTtiJiYoYi5yZW1vdmUoKSxkZWxldGUgdGhpcy5lbHNCeUZpbGxbYV0pfSxyZW5kZXJGaWxsU2VnRWxzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxlPXRoaXNbYSsiU2VnRWwiXSxkPSIiLGY9W10saztpZihiLmxlbmd0aCl7Zm9yKGs9MDtrPGIubGVuZ3RoO2srKylkKz10aGlzLmZpbGxTZWdIdG1sKGEsYltrXSk7ZyhkKS5lYWNoKGZ1bmN0aW9uKGEsZCl7YT1iW2FdO2Q9ZyhkKTtlJiYoZD1lLmNhbGwoYyxhLGQpKTtkJiYoZD1nKGQpLGQuaXMoYy5maWxsU2VnVGFnKSYmKGEuZWw9ZCxmLnB1c2goYSkpKX0pfXJldHVybiBmfSxmaWxsU2VnVGFnOiJkaXYiLGZpbGxTZWdIdG1sOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpc1thKyJTZWdDbGFzc2VzIl07CmE9dGhpc1thKyJTZWdDc3MiXTtjPWM/Yy5jYWxsKHRoaXMsYik6W107Yj1mYihhP2EuY2FsbCh0aGlzLGIpOnt9KTtyZXR1cm4iPCIrdGhpcy5maWxsU2VnVGFnKyhjLmxlbmd0aD8nIGNsYXNzPSInK2Muam9pbigiICIpKyciJzoiIikrKGI/JyBzdHlsZT0iJytiKyciJzoiIikrIiAvPiJ9LGdldERheUNsYXNzZXM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy52aWV3LGM9Yi5jYWxlbmRhci5nZXROb3coKSxlPVsiZmMtIitRW2EuZGF5KCldXTsxPT1iLmludGVydmFsRHVyYXRpb24uYXMoIm1vbnRocyIpJiZhLm1vbnRoKCkhPWIuaW50ZXJ2YWxTdGFydC5tb250aCgpJiZlLnB1c2goImZjLW90aGVyLW1vbnRoIik7YS5pc1NhbWUoYywiZGF5Iik/ZS5wdXNoKCJmYy10b2RheSIsYi5oaWdobGlnaHRTdGF0ZUNsYXNzKTphPGM/ZS5wdXNoKCJmYy1wYXN0Iik6ZS5wdXNoKCJmYy1mdXR1cmUiKTtyZXR1cm4gZX19KTtBYS5taXhpbih7bW91c2VkT3ZlclNlZzpudWxsLGlzRHJhZ2dpbmdTZWc6ITEsCmlzUmVzaXppbmdTZWc6ITEsaXNEcmFnZ2luZ0V4dGVybmFsOiExLHNlZ3M6bnVsbCxyZW5kZXJFdmVudHM6ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXSxlO2ZvcihlPTA7ZTxhLmxlbmd0aDtlKyspKFNiKGFbZV0pP2I6YykucHVzaChhW2VdKTt0aGlzLnNlZ3M9W10uY29uY2F0KHRoaXMucmVuZGVyQmdFdmVudHMoYiksdGhpcy5yZW5kZXJGZ0V2ZW50cyhjKSl9LHJlbmRlckJnRXZlbnRzOmZ1bmN0aW9uKGEpe2E9dGhpcy5ldmVudHNUb1NlZ3MoYSk7cmV0dXJuIHRoaXMucmVuZGVyQmdTZWdzKGEpfHxhfSxyZW5kZXJGZ0V2ZW50czpmdW5jdGlvbihhKXthPXRoaXMuZXZlbnRzVG9TZWdzKGEpO3JldHVybiB0aGlzLnJlbmRlckZnU2VncyhhKXx8YX0sdW5yZW5kZXJFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZVNlZ01vdXNlb3V0KCk7dGhpcy5jbGVhckRyYWdMaXN0ZW5lcnMoKTt0aGlzLnVucmVuZGVyRmdTZWdzKCk7dGhpcy51bnJlbmRlckJnU2VncygpO3RoaXMuc2Vncz0KbnVsbH0sZ2V0RXZlbnRTZWdzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vnc3x8W119LHJlbmRlckZnU2VnczpmdW5jdGlvbihhKXt9LHVucmVuZGVyRmdTZWdzOmZ1bmN0aW9uKCl7fSxyZW5kZXJGZ1NlZ0VsczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMudmlldyxlPSIiLGQ9W10sZjtpZihhLmxlbmd0aCl7Zm9yKGY9MDtmPGEubGVuZ3RoO2YrKyllKz10aGlzLmZnU2VnSHRtbChhW2ZdLGIpO2coZSkuZWFjaChmdW5jdGlvbihiLGUpe2I9YVtiXTtpZihlPWMucmVzb2x2ZUV2ZW50RWwoYi5ldmVudCxnKGUpKSllLmRhdGEoImZjLXNlZyIsYiksYi5lbD1lLGQucHVzaChiKX0pfXJldHVybiBkfSxmZ1NlZ0h0bWw6ZnVuY3Rpb24oYSxiKXt9LHJlbmRlckJnU2VnczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW5kZXJGaWxsKCJiZ0V2ZW50IixhKX0sdW5yZW5kZXJCZ1NlZ3M6ZnVuY3Rpb24oKXt0aGlzLnVucmVuZGVyRmlsbCgiYmdFdmVudCIpfSxiZ0V2ZW50U2VnRWw6ZnVuY3Rpb24oYSwKYil7cmV0dXJuIHRoaXMudmlldy5yZXNvbHZlRXZlbnRFbChhLmV2ZW50LGIpfSxiZ0V2ZW50U2VnQ2xhc3NlczpmdW5jdGlvbihhKXthPWEuZXZlbnQ7cmV0dXJuWyJmYy1iZ2V2ZW50Il0uY29uY2F0KGEuY2xhc3NOYW1lLChhLnNvdXJjZXx8e30pLmNsYXNzTmFtZXx8W10pfSxiZ0V2ZW50U2VnQ3NzOmZ1bmN0aW9uKGEpe3JldHVybnsiYmFja2dyb3VuZC1jb2xvciI6dGhpcy5nZXRTZWdTa2luQ3NzKGEpWyJiYWNrZ3JvdW5kLWNvbG9yIl19fSxidXNpbmVzc0hvdXJzU2VnQ2xhc3NlczpmdW5jdGlvbihhKXtyZXR1cm5bImZjLW5vbmJ1c2luZXNzIiwiZmMtYmdldmVudCJdfSxidWlsZEJ1c2luZXNzSG91clNlZ3M6ZnVuY3Rpb24oYSl7YT10aGlzLnZpZXcuY2FsZW5kYXIuZ2V0Q3VycmVudEJ1c2luZXNzSG91ckV2ZW50cyhhKTshYS5sZW5ndGgmJnRoaXMudmlldy5jYWxlbmRhci5vcHRpb25zLmJ1c2luZXNzSG91cnMmJihhPVtnLmV4dGVuZCh7fSxOYix7c3RhcnQ6dGhpcy52aWV3LmVuZCwKZW5kOnRoaXMudmlldy5lbmQsZG93Om51bGx9KV0pO3JldHVybiB0aGlzLmV2ZW50c1RvU2VncyhhKX0sYmluZFNlZ0hhbmRsZXJzOmZ1bmN0aW9uKCl7dGhpcy5iaW5kU2VnSGFuZGxlcnNUb0VsKHRoaXMuZWwpfSxiaW5kU2VnSGFuZGxlcnNUb0VsOmZ1bmN0aW9uKGEpe3RoaXMuYmluZFNlZ0hhbmRsZXJUb0VsKGEsInRvdWNoc3RhcnQiLHRoaXMuaGFuZGxlU2VnVG91Y2hTdGFydCk7dGhpcy5iaW5kU2VnSGFuZGxlclRvRWwoYSwidG91Y2hlbmQiLHRoaXMuaGFuZGxlU2VnVG91Y2hFbmQpO3RoaXMuYmluZFNlZ0hhbmRsZXJUb0VsKGEsIm1vdXNlZW50ZXIiLHRoaXMuaGFuZGxlU2VnTW91c2VvdmVyKTt0aGlzLmJpbmRTZWdIYW5kbGVyVG9FbChhLCJtb3VzZWxlYXZlIix0aGlzLmhhbmRsZVNlZ01vdXNlb3V0KTt0aGlzLmJpbmRTZWdIYW5kbGVyVG9FbChhLCJtb3VzZWRvd24iLHRoaXMuaGFuZGxlU2VnTW91c2Vkb3duKTt0aGlzLmJpbmRTZWdIYW5kbGVyVG9FbChhLCJjbGljayIsCnRoaXMuaGFuZGxlU2VnQ2xpY2spfSxiaW5kU2VnSGFuZGxlclRvRWw6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXM7YS5vbihiLCIuZmMtZXZlbnQtY29udGFpbmVyID4gKiIsZnVuY3Rpb24oYSl7dmFyIGI9Zyh0aGlzKS5kYXRhKCJmYy1zZWciKTtpZihiJiYhZS5pc0RyYWdnaW5nU2VnJiYhZS5pc1Jlc2l6aW5nU2VnKXJldHVybiBjLmNhbGwoZSxiLGEpfSl9LGhhbmRsZVNlZ0NsaWNrOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMudmlldy50cmlnZ2VyKCJldmVudENsaWNrIixhLmVsWzBdLGEuZXZlbnQsYil9LGhhbmRsZVNlZ01vdXNlb3ZlcjpmdW5jdGlvbihhLGIpe3RoaXMuaXNJZ25vcmluZ01vdXNlfHx0aGlzLm1vdXNlZE92ZXJTZWd8fCh0aGlzLm1vdXNlZE92ZXJTZWc9YSxhLmVsLmFkZENsYXNzKCJmYy1hbGxvdy1tb3VzZS1yZXNpemUiKSx0aGlzLnZpZXcudHJpZ2dlcigiZXZlbnRNb3VzZW92ZXIiLGEuZWxbMF0sYS5ldmVudCxiKSl9LGhhbmRsZVNlZ01vdXNlb3V0OmZ1bmN0aW9uKGEsCmIpe2I9Ynx8e307dGhpcy5tb3VzZWRPdmVyU2VnJiYoYT1hfHx0aGlzLm1vdXNlZE92ZXJTZWcsdGhpcy5tb3VzZWRPdmVyU2VnPW51bGwsYS5lbC5yZW1vdmVDbGFzcygiZmMtYWxsb3ctbW91c2UtcmVzaXplIiksdGhpcy52aWV3LnRyaWdnZXIoImV2ZW50TW91c2VvdXQiLGEuZWxbMF0sYS5ldmVudCxiKSl9LGhhbmRsZVNlZ01vdXNlZG93bjpmdW5jdGlvbihhLGIpeyF0aGlzLnN0YXJ0U2VnUmVzaXplKGEsYix7ZGlzdGFuY2U6NX0pJiZ0aGlzLnZpZXcuaXNFdmVudERyYWdnYWJsZShhLmV2ZW50KSYmdGhpcy5idWlsZFNlZ0RyYWdMaXN0ZW5lcihhKS5zdGFydEludGVyYWN0aW9uKGIse2Rpc3RhbmNlOjV9KX0saGFuZGxlU2VnVG91Y2hTdGFydDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMudmlldyxlPWEuZXZlbnQsZD1jLmlzRXZlbnRTZWxlY3RlZChlKSxmPWMuaXNFdmVudERyYWdnYWJsZShlKSxjPWMuaXNFdmVudFJlc2l6YWJsZShlKSxlPSExO2QmJmMmJihlPXRoaXMuc3RhcnRTZWdSZXNpemUoYSwKYikpO2V8fCFmJiYhY3x8KGE9Zj90aGlzLmJ1aWxkU2VnRHJhZ0xpc3RlbmVyKGEpOnRoaXMuYnVpbGRTZWdTZWxlY3RMaXN0ZW5lcihhKSxhLnN0YXJ0SW50ZXJhY3Rpb24oYix7ZGVsYXk6ZD8wOnRoaXMudmlldy5vcHQoImxvbmdQcmVzc0RlbGF5Iil9KSk7dGhpcy50ZW1wSWdub3JlTW91c2UoKX0saGFuZGxlU2VnVG91Y2hFbmQ6ZnVuY3Rpb24oYSxiKXt0aGlzLnRlbXBJZ25vcmVNb3VzZSgpfSxzdGFydFNlZ1Jlc2l6ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGcoYi50YXJnZXQpLmlzKCIuZmMtcmVzaXplciIpPyh0aGlzLmJ1aWxkU2VnUmVzaXplTGlzdGVuZXIoYSxnKGIudGFyZ2V0KS5pcygiLmZjLXN0YXJ0LXJlc2l6ZXIiKSkuc3RhcnRJbnRlcmFjdGlvbihiLGMpLCEwKTohMX0sYnVpbGRTZWdEcmFnTGlzdGVuZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPXRoaXMudmlldyxlPWMuY2FsZW5kYXIsZD1hLmVsLGY9YS5ldmVudCxnLG0scDtpZih0aGlzLnNlZ0RyYWdMaXN0ZW5lcilyZXR1cm4gdGhpcy5zZWdEcmFnTGlzdGVuZXI7CnZhciBxPXRoaXMuc2VnRHJhZ0xpc3RlbmVyPW5ldyAkYShjLHtzY3JvbGw6Yy5vcHQoImRyYWdTY3JvbGwiKSxzdWJqZWN0RWw6ZCxzdWJqZWN0Q2VudGVyOiEwLGludGVyYWN0aW9uU3RhcnQ6ZnVuY3Rpb24oZSl7YS5jb21wb25lbnQ9YjtnPSExO209bmV3IGNjKGEuZWwse2FkZGl0aW9uYWxDbGFzczoiZmMtZHJhZ2dpbmciLHBhcmVudEVsOmMuZWwsb3BhY2l0eTpxLmlzVG91Y2g/bnVsbDpjLm9wdCgiZHJhZ09wYWNpdHkiKSxyZXZlcnREdXJhdGlvbjpjLm9wdCgiZHJhZ1JldmVydER1cmF0aW9uIiksekluZGV4OjJ9KTttLmhpZGUoKTttLnN0YXJ0KGUpfSxkcmFnU3RhcnQ6ZnVuY3Rpb24oZSl7cS5pc1RvdWNoJiYhYy5pc0V2ZW50U2VsZWN0ZWQoZikmJmMuc2VsZWN0RXZlbnQoZik7Zz0hMDtiLmhhbmRsZVNlZ01vdXNlb3V0KGEsZSk7Yi5zZWdEcmFnU3RhcnQoYSxlKTtjLmhpZGVFdmVudChmKX0saGl0T3ZlcjpmdW5jdGlvbihkLGgsZyl7dmFyIGs7YS5oaXQmJihnPWEuaGl0KTsKKHA9Yi5jb21wdXRlRXZlbnREcm9wKGcuY29tcG9uZW50LmdldEhpdFNwYW4oZyksZC5jb21wb25lbnQuZ2V0SGl0U3BhbihkKSxmKSkmJiFlLmlzRXZlbnRTcGFuQWxsb3dlZChiLmV2ZW50VG9TcGFuKHApLGYpJiYoUGEoKSxwPW51bGwpO3AmJihrPWMucmVuZGVyRHJhZyhwLGEpKT8oay5hZGRDbGFzcygiZmMtZHJhZ2dpbmciKSxxLmlzVG91Y2h8fGIuYXBwbHlEcmFnT3BhY2l0eShrKSxtLmhpZGUoKSk6bS5zaG93KCk7aCYmKHA9bnVsbCl9LGhpdE91dDpmdW5jdGlvbigpe2MudW5yZW5kZXJEcmFnKCk7bS5zaG93KCk7cD1udWxsfSxoaXREb25lOmZ1bmN0aW9uKCl7Y2IoKX0saW50ZXJhY3Rpb25FbmQ6ZnVuY3Rpb24oZSl7ZGVsZXRlIGEuY29tcG9uZW50O20uc3RvcCghcCxmdW5jdGlvbigpe2cmJihjLnVucmVuZGVyRHJhZygpLGMuc2hvd0V2ZW50KGYpLGIuc2VnRHJhZ1N0b3AoYSxlKSk7cCYmYy5yZXBvcnRFdmVudERyb3AoZixwLHRoaXMubGFyZ2VVbml0LGQsZSl9KTtiLnNlZ0RyYWdMaXN0ZW5lcj0KbnVsbH19KTtyZXR1cm4gcX0sYnVpbGRTZWdTZWxlY3RMaXN0ZW5lcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9dGhpcy52aWV3LGU9YS5ldmVudDtpZih0aGlzLnNlZ0RyYWdMaXN0ZW5lcilyZXR1cm4gdGhpcy5zZWdEcmFnTGlzdGVuZXI7dmFyIGQ9dGhpcy5zZWdEcmFnTGlzdGVuZXI9bmV3IGthKHtkcmFnU3RhcnQ6ZnVuY3Rpb24oYSl7ZC5pc1RvdWNoJiYhYy5pc0V2ZW50U2VsZWN0ZWQoZSkmJmMuc2VsZWN0RXZlbnQoZSl9LGludGVyYWN0aW9uRW5kOmZ1bmN0aW9uKGEpe2Iuc2VnRHJhZ0xpc3RlbmVyPW51bGx9fSk7cmV0dXJuIGR9LHNlZ0RyYWdTdGFydDpmdW5jdGlvbihhLGIpe3RoaXMuaXNEcmFnZ2luZ1NlZz0hMDt0aGlzLnZpZXcudHJpZ2dlcigiZXZlbnREcmFnU3RhcnQiLGEuZWxbMF0sYS5ldmVudCxiLHt9KX0sc2VnRHJhZ1N0b3A6ZnVuY3Rpb24oYSxiKXt0aGlzLmlzRHJhZ2dpbmdTZWc9ITE7dGhpcy52aWV3LnRyaWdnZXIoImV2ZW50RHJhZ1N0b3AiLGEuZWxbMF0sCmEuZXZlbnQsYix7fSl9LGNvbXB1dGVFdmVudERyb3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXMudmlldy5jYWxlbmRhcjthPWEuc3RhcnQ7Yj1iLnN0YXJ0O2EuaGFzVGltZSgpPT09Yi5oYXNUaW1lKCk/KGI9dGhpcy5kaWZmRGF0ZXMoYixhKSxjLmFsbERheSYmamEoYik/KGM9e3N0YXJ0OmMuc3RhcnQuY2xvbmUoKSxlbmQ6ZS5nZXRFdmVudEVuZChjKSxhbGxEYXk6ITF9LGUubm9ybWFsaXplRXZlbnRUaW1lcyhjKSk6Yz17c3RhcnQ6Yy5zdGFydC5jbG9uZSgpLGVuZDpjLmVuZD9jLmVuZC5jbG9uZSgpOm51bGwsYWxsRGF5OmMuYWxsRGF5fSxjLnN0YXJ0LmFkZChiKSxjLmVuZCYmYy5lbmQuYWRkKGIpKTpjPXtzdGFydDpiLmNsb25lKCksZW5kOm51bGwsYWxsRGF5OiFiLmhhc1RpbWUoKX07cmV0dXJuIGN9LGFwcGx5RHJhZ09wYWNpdHk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy52aWV3Lm9wdCgiZHJhZ09wYWNpdHkiKTtudWxsIT1iJiZhLmVhY2goZnVuY3Rpb24oYSxlKXtlLnN0eWxlLm9wYWNpdHk9CmJ9KX0sZXh0ZXJuYWxEcmFnU3RhcnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnZpZXcsZTtjLm9wdCgiZHJvcHBhYmxlIikmJihlPWcoKGI/Yi5pdGVtOm51bGwpfHxhLnRhcmdldCksYz1jLm9wdCgiZHJvcEFjY2VwdCIpLGcuaXNGdW5jdGlvbihjKT9jLmNhbGwoZVswXSxlKTplLmlzKGMpKSYmKHRoaXMuaXNEcmFnZ2luZ0V4dGVybmFsfHx0aGlzLmxpc3RlblRvRXh0ZXJuYWxEcmFnKGUsYSxiKSl9LGxpc3RlblRvRXh0ZXJuYWxEcmFnOmZ1bmN0aW9uKGEsYixjKXt2YXIgZT10aGlzLGQ9dGhpcy52aWV3LmNhbGVuZGFyLGY9YmMoYSksZzsoZS5leHRlcm5hbERyYWdMaXN0ZW5lcj1uZXcgJGEodGhpcyx7aW50ZXJhY3Rpb25TdGFydDpmdW5jdGlvbigpe2UuaXNEcmFnZ2luZ0V4dGVybmFsPSEwfSxoaXRPdmVyOmZ1bmN0aW9uKGEpeyhnPWUuY29tcHV0ZUV4dGVybmFsRHJvcChhLmNvbXBvbmVudC5nZXRIaXRTcGFuKGEpLGYpKSYmIWQuaXNFeHRlcm5hbFNwYW5BbGxvd2VkKGUuZXZlbnRUb1NwYW4oZyksCmcsZi5ldmVudFByb3BzKSYmKFBhKCksZz1udWxsKTtnJiZlLnJlbmRlckRyYWcoZyl9LGhpdE91dDpmdW5jdGlvbigpe2c9bnVsbH0saGl0RG9uZTpmdW5jdGlvbigpe2NiKCk7ZS51bnJlbmRlckRyYWcoKX0saW50ZXJhY3Rpb25FbmQ6ZnVuY3Rpb24oYil7ZyYmZS52aWV3LnJlcG9ydEV4dGVybmFsRHJvcChmLGcsYSxiLGMpO2UuaXNEcmFnZ2luZ0V4dGVybmFsPSExO2UuZXh0ZXJuYWxEcmFnTGlzdGVuZXI9bnVsbH19KSkuc3RhcnREcmFnKGIpfSxjb21wdXRlRXh0ZXJuYWxEcm9wOmZ1bmN0aW9uKGEsYil7YT17c3RhcnQ6dGhpcy52aWV3LmNhbGVuZGFyLmFwcGx5VGltZXpvbmUoYS5zdGFydCksZW5kOm51bGx9O2Iuc3RhcnRUaW1lJiYhYS5zdGFydC5oYXNUaW1lKCkmJmEuc3RhcnQudGltZShiLnN0YXJ0VGltZSk7Yi5kdXJhdGlvbiYmKGEuZW5kPWEuc3RhcnQuY2xvbmUoKS5hZGQoYi5kdXJhdGlvbikpO3JldHVybiBhfSxyZW5kZXJEcmFnOmZ1bmN0aW9uKGEsYil7fSx1bnJlbmRlckRyYWc6ZnVuY3Rpb24oKXt9LApidWlsZFNlZ1Jlc2l6ZUxpc3RlbmVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxlPXRoaXMudmlldyxkPWUuY2FsZW5kYXIsZj1hLmVsLGc9YS5ldmVudCxtPWQuZ2V0RXZlbnRFbmQoZykscCxxO3JldHVybiB0aGlzLnNlZ1Jlc2l6ZUxpc3RlbmVyPW5ldyAkYSh0aGlzLHtzY3JvbGw6ZS5vcHQoImRyYWdTY3JvbGwiKSxzdWJqZWN0RWw6ZixpbnRlcmFjdGlvblN0YXJ0OmZ1bmN0aW9uKCl7cD0hMX0sZHJhZ1N0YXJ0OmZ1bmN0aW9uKGIpe3A9ITA7Yy5oYW5kbGVTZWdNb3VzZW91dChhLGIpO2Muc2VnUmVzaXplU3RhcnQoYSxiKX0saGl0T3ZlcjpmdW5jdGlvbihmLHAscil7cD1jLmdldEhpdFNwYW4ocik7Zj1jLmdldEhpdFNwYW4oZik7aWYocT1iP2MuY29tcHV0ZUV2ZW50U3RhcnRSZXNpemUocCxmLGcpOmMuY29tcHV0ZUV2ZW50RW5kUmVzaXplKHAsZixnKSlkLmlzRXZlbnRTcGFuQWxsb3dlZChjLmV2ZW50VG9TcGFuKHEpLGcpP3Euc3RhcnQuaXNTYW1lKGcuc3RhcnQpJiYKcS5lbmQuaXNTYW1lKG0pJiYocT1udWxsKTooUGEoKSxxPW51bGwpO3EmJihlLmhpZGVFdmVudChnKSxjLnJlbmRlckV2ZW50UmVzaXplKHEsYSkpfSxoaXRPdXQ6ZnVuY3Rpb24oKXtxPW51bGx9LGhpdERvbmU6ZnVuY3Rpb24oKXtjLnVucmVuZGVyRXZlbnRSZXNpemUoKTtlLnNob3dFdmVudChnKTtjYigpfSxpbnRlcmFjdGlvbkVuZDpmdW5jdGlvbihiKXtwJiZjLnNlZ1Jlc2l6ZVN0b3AoYSxiKTtxJiZlLnJlcG9ydEV2ZW50UmVzaXplKGcscSx0aGlzLmxhcmdlVW5pdCxmLGIpO2Muc2VnUmVzaXplTGlzdGVuZXI9bnVsbH19KX0sc2VnUmVzaXplU3RhcnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmlzUmVzaXppbmdTZWc9ITA7dGhpcy52aWV3LnRyaWdnZXIoImV2ZW50UmVzaXplU3RhcnQiLGEuZWxbMF0sYS5ldmVudCxiLHt9KX0sc2VnUmVzaXplU3RvcDpmdW5jdGlvbihhLGIpe3RoaXMuaXNSZXNpemluZ1NlZz0hMTt0aGlzLnZpZXcudHJpZ2dlcigiZXZlbnRSZXNpemVTdG9wIixhLmVsWzBdLAphLmV2ZW50LGIse30pfSxjb21wdXRlRXZlbnRTdGFydFJlc2l6ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuY29tcHV0ZUV2ZW50UmVzaXplKCJzdGFydCIsYSxiLGMpfSxjb21wdXRlRXZlbnRFbmRSZXNpemU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmNvbXB1dGVFdmVudFJlc2l6ZSgiZW5kIixhLGIsYyl9LGNvbXB1dGVFdmVudFJlc2l6ZTpmdW5jdGlvbihhLGIsYyxlKXt2YXIgZD10aGlzLnZpZXcuY2FsZW5kYXI7Yz10aGlzLmRpZmZEYXRlcyhjW2FdLGJbYV0pO2I9e3N0YXJ0OmUuc3RhcnQuY2xvbmUoKSxlbmQ6ZC5nZXRFdmVudEVuZChlKSxhbGxEYXk6ZS5hbGxEYXl9O2IuYWxsRGF5JiZqYShjKSYmKGIuYWxsRGF5PSExLGQubm9ybWFsaXplRXZlbnRUaW1lcyhiKSk7YlthXS5hZGQoYyk7Yi5zdGFydC5pc0JlZm9yZShiLmVuZCl8fChlPXRoaXMubWluUmVzaXplRHVyYXRpb258fChlLmFsbERheT9kLmRlZmF1bHRBbGxEYXlFdmVudER1cmF0aW9uOmQuZGVmYXVsdFRpbWVkRXZlbnREdXJhdGlvbiksCiJzdGFydCI9PWE/Yi5zdGFydD1iLmVuZC5jbG9uZSgpLnN1YnRyYWN0KGUpOmIuZW5kPWIuc3RhcnQuY2xvbmUoKS5hZGQoZSkpO3JldHVybiBifSxyZW5kZXJFdmVudFJlc2l6ZTpmdW5jdGlvbihhLGIpe30sdW5yZW5kZXJFdmVudFJlc2l6ZTpmdW5jdGlvbigpe30sZ2V0RXZlbnRUaW1lVGV4dDpmdW5jdGlvbihhLGIsYyl7bnVsbD09YiYmKGI9dGhpcy5ldmVudFRpbWVGb3JtYXQpO251bGw9PWMmJihjPXRoaXMuZGlzcGxheUV2ZW50RW5kKTtyZXR1cm4gdGhpcy5kaXNwbGF5RXZlbnRUaW1lJiZhLnN0YXJ0Lmhhc1RpbWUoKT9jJiZhLmVuZD90aGlzLnZpZXcuZm9ybWF0UmFuZ2UoYSxiKTphLnN0YXJ0LmZvcm1hdChiKToiIn0sZ2V0U2VnQ2xhc3NlczpmdW5jdGlvbihhLGIsYyl7dmFyIGU9dGhpcy52aWV3LGQ9YS5ldmVudDthPVsiZmMtZXZlbnQiLGEuaXNTdGFydD8iZmMtc3RhcnQiOiJmYy1ub3Qtc3RhcnQiLGEuaXNFbmQ/ImZjLWVuZCI6ImZjLW5vdC1lbmQiXS5jb25jYXQoZC5jbGFzc05hbWUsCmQuc291cmNlP2Quc291cmNlLmNsYXNzTmFtZTpbXSk7YiYmYS5wdXNoKCJmYy1kcmFnZ2FibGUiKTtjJiZhLnB1c2goImZjLXJlc2l6YWJsZSIpO2UuaXNFdmVudFNlbGVjdGVkKGQpJiZhLnB1c2goImZjLXNlbGVjdGVkIik7cmV0dXJuIGF9LGdldFNlZ1NraW5Dc3M6ZnVuY3Rpb24oYSl7YT1hLmV2ZW50O3ZhciBiPXRoaXMudmlldyxjPWEuc291cmNlfHx7fSxlPWEuY29sb3IsZD1jLmNvbG9yLGY9Yi5vcHQoImV2ZW50Q29sb3IiKTtyZXR1cm57ImJhY2tncm91bmQtY29sb3IiOmEuYmFja2dyb3VuZENvbG9yfHxlfHxjLmJhY2tncm91bmRDb2xvcnx8ZHx8Yi5vcHQoImV2ZW50QmFja2dyb3VuZENvbG9yIil8fGYsImJvcmRlci1jb2xvciI6YS5ib3JkZXJDb2xvcnx8ZXx8Yy5ib3JkZXJDb2xvcnx8ZHx8Yi5vcHQoImV2ZW50Qm9yZGVyQ29sb3IiKXx8Zixjb2xvcjphLnRleHRDb2xvcnx8Yy50ZXh0Q29sb3J8fGIub3B0KCJldmVudFRleHRDb2xvciIpfX0sZXZlbnRUb1NlZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZXZlbnRzVG9TZWdzKFthXSl9LApldmVudFRvU3BhbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ldmVudFRvU3BhbnMoYSlbMF19LGV2ZW50VG9TcGFuczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmV2ZW50VG9SYW5nZShhKTtyZXR1cm4gdGhpcy5ldmVudFJhbmdlVG9TcGFucyhiLGEpfSxldmVudHNUb1NlZ3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2E9VGIoYSk7dmFyIGU9W107Zy5lYWNoKGEsZnVuY3Rpb24oYSxkKXthPVtdO3ZhciBnO2ZvcihnPTA7ZzxkLmxlbmd0aDtnKyspYS5wdXNoKGMuZXZlbnRUb1JhbmdlKGRbZ10pKTtpZigiaW52ZXJzZS1iYWNrZ3JvdW5kIj09PXphKGRbMF0pKWZvcihhPWMuaW52ZXJ0UmFuZ2VzKGEpLGc9MDtnPGEubGVuZ3RoO2crKyllLnB1c2guYXBwbHkoZSxjLmV2ZW50UmFuZ2VUb1NlZ3MoYVtnXSxkWzBdLGIpKTtlbHNlIGZvcihnPTA7ZzxhLmxlbmd0aDtnKyspZS5wdXNoLmFwcGx5KGUsYy5ldmVudFJhbmdlVG9TZWdzKGFbZ10sZFtnXSxiKSl9KTtyZXR1cm4gZX0sZXZlbnRUb1JhbmdlOmZ1bmN0aW9uKGEpe3JldHVybntzdGFydDphLnN0YXJ0LmNsb25lKCkuc3RyaXBab25lKCksCmVuZDooYS5lbmQ/YS5lbmQuY2xvbmUoKTp0aGlzLnZpZXcuY2FsZW5kYXIuZ2V0RGVmYXVsdEV2ZW50RW5kKG51bGwhPWEuYWxsRGF5P2EuYWxsRGF5OiFhLnN0YXJ0Lmhhc1RpbWUoKSxhLnN0YXJ0KSkuc3RyaXBab25lKCl9fSxldmVudFJhbmdlVG9TZWdzOmZ1bmN0aW9uKGEsYixjKXthPXRoaXMuZXZlbnRSYW5nZVRvU3BhbnMoYSxiKTt2YXIgZT1bXSxkO2ZvcihkPTA7ZDxhLmxlbmd0aDtkKyspZS5wdXNoLmFwcGx5KGUsdGhpcy5ldmVudFNwYW5Ub1NlZ3MoYVtkXSxiLGMpKTtyZXR1cm4gZX0sZXZlbnRSYW5nZVRvU3BhbnM6ZnVuY3Rpb24oYSxiKXtyZXR1cm5bZy5leHRlbmQoe30sYSldfSxldmVudFNwYW5Ub1NlZ3M6ZnVuY3Rpb24oYSxiLGMpe2M9Yz9jKGEpOnRoaXMuc3BhblRvU2VncyhhKTt2YXIgZSxkO2ZvcihlPTA7ZTxjLmxlbmd0aDtlKyspZD1jW2VdLGQuZXZlbnQ9YixkLmV2ZW50U3RhcnRNUz0rYS5zdGFydCxkLmV2ZW50RHVyYXRpb25NUz1hLmVuZC1hLnN0YXJ0OwpyZXR1cm4gY30saW52ZXJ0UmFuZ2VzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudmlldyxjPWIuc3RhcnQuY2xvbmUoKSxiPWIuZW5kLmNsb25lKCksZT1bXSxkLGY7YS5zb3J0KFViKTtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWY9YVtkXSxmLnN0YXJ0PmMmJmUucHVzaCh7c3RhcnQ6YyxlbmQ6Zi5zdGFydH0pLGM9Zi5lbmQ7YzxiJiZlLnB1c2goe3N0YXJ0OmMsZW5kOmJ9KTtyZXR1cm4gZX0sc29ydEV2ZW50U2VnczpmdW5jdGlvbihhKXthLnNvcnQoWCh0aGlzLCJjb21wYXJlRXZlbnRTZWdzIikpfSxjb21wYXJlRXZlbnRTZWdzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuZXZlbnRTdGFydE1TLWIuZXZlbnRTdGFydE1TfHxiLmV2ZW50RHVyYXRpb25NUy1hLmV2ZW50RHVyYXRpb25NU3x8Yi5ldmVudC5hbGxEYXktYS5ldmVudC5hbGxEYXl8fHViKGEuZXZlbnQsYi5ldmVudCx0aGlzLnZpZXcuZXZlbnRPcmRlclNwZWNzKX19KTt2LmlzQmdFdmVudD1TYjt2LmRhdGFBdHRyUHJlZml4PQoiIjt2YXIgVD12LkRheVRhYmxlTWl4aW49e2JyZWFrT25XZWVrczohMSxkYXlEYXRlczpudWxsLGRheUluZGljZXM6bnVsbCxkYXlzUGVyUm93Om51bGwscm93Q250Om51bGwsY29sQ250Om51bGwsY29sSGVhZEZvcm1hdDpudWxsLHVwZGF0ZURheVRhYmxlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMudmlldyxiPXRoaXMuc3RhcnQuY2xvbmUoKSxjPS0xLGU9W10sZD1bXTtiLmlzQmVmb3JlKHRoaXMuZW5kKTspYS5pc0hpZGRlbkRheShiKT9lLnB1c2goYysuNSk6KGMrKyxlLnB1c2goYyksZC5wdXNoKGIuY2xvbmUoKSkpLGIuYWRkKDEsImRheXMiKTtpZih0aGlzLmJyZWFrT25XZWVrcyl7Yj1kWzBdLmRheSgpO2ZvcihhPTE7YTxkLmxlbmd0aCYmZFthXS5kYXkoKSE9YjthKyspO2I9TWF0aC5jZWlsKGQubGVuZ3RoL2EpfWVsc2UgYj0xLGE9ZC5sZW5ndGg7dGhpcy5kYXlEYXRlcz1kO3RoaXMuZGF5SW5kaWNlcz1lO3RoaXMuZGF5c1BlclJvdz1hO3RoaXMucm93Q250PWI7dGhpcy51cGRhdGVEYXlUYWJsZUNvbHMoKX0sCnVwZGF0ZURheVRhYmxlQ29sczpmdW5jdGlvbigpe3RoaXMuY29sQ250PXRoaXMuY29tcHV0ZUNvbENudCgpO3RoaXMuY29sSGVhZEZvcm1hdD10aGlzLnZpZXcub3B0KCJjb2x1bW5Gb3JtYXQiKXx8dGhpcy5jb21wdXRlQ29sSGVhZEZvcm1hdCgpfSxjb21wdXRlQ29sQ250OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF5c1BlclJvd30sZ2V0Q2VsbERhdGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5kYXlEYXRlc1t0aGlzLmdldENlbGxEYXlJbmRleChhLGIpXS5jbG9uZSgpfSxnZXRDZWxsUmFuZ2U6ZnVuY3Rpb24oYSxiKXthPXRoaXMuZ2V0Q2VsbERhdGUoYSxiKTtiPWEuY2xvbmUoKS5hZGQoMSwiZGF5cyIpO3JldHVybntzdGFydDphLGVuZDpifX0sZ2V0Q2VsbERheUluZGV4OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEqdGhpcy5kYXlzUGVyUm93K3RoaXMuZ2V0Q29sRGF5SW5kZXgoYil9LGdldENvbERheUluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzUlRMP3RoaXMuY29sQ250LQoxLWE6YX0sZ2V0RGF0ZURheUluZGV4OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZGF5SW5kaWNlczthPWEuZGlmZih0aGlzLnN0YXJ0LCJkYXlzIik7cmV0dXJuIDA+YT9iWzBdLTE6YT49Yi5sZW5ndGg/YltiLmxlbmd0aC0xXSsxOmJbYV19LGNvbXB1dGVDb2xIZWFkRm9ybWF0OmZ1bmN0aW9uKCl7cmV0dXJuIDE8dGhpcy5yb3dDbnR8fDEwPHRoaXMuY29sQ250PyJkZGQiOjE8dGhpcy5jb2xDbnQ/dGhpcy52aWV3Lm9wdCgiZGF5T2ZNb250aEZvcm1hdCIpOiJkZGRkIn0sc2xpY2VSYW5nZUJ5Um93OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZGF5c1BlclJvdyxjPXRoaXMudmlldy5jb21wdXRlRGF5UmFuZ2UoYSk7YT10aGlzLmdldERhdGVEYXlJbmRleChjLnN0YXJ0KTt2YXIgYz10aGlzLmdldERhdGVEYXlJbmRleChjLmVuZC5jbG9uZSgpLnN1YnRyYWN0KDEsImRheXMiKSksZT1bXSxkLGYsZyxtO2ZvcihkPTA7ZDx0aGlzLnJvd0NudDtkKyspZj1kKmIsZz1mK2ItMSxtPU1hdGgubWF4KGEsCmYpLGc9TWF0aC5taW4oYyxnKSxtPU1hdGguY2VpbChtKSxnPU1hdGguZmxvb3IoZyksbTw9ZyYmZS5wdXNoKHtyb3c6ZCxmaXJzdFJvd0RheUluZGV4Om0tZixsYXN0Um93RGF5SW5kZXg6Zy1mLGlzU3RhcnQ6bT09PWEsaXNFbmQ6Zz09PWN9KTtyZXR1cm4gZX0sc2xpY2VSYW5nZUJ5RGF5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZGF5c1BlclJvdyxjPXRoaXMudmlldy5jb21wdXRlRGF5UmFuZ2UoYSk7YT10aGlzLmdldERhdGVEYXlJbmRleChjLnN0YXJ0KTt2YXIgYz10aGlzLmdldERhdGVEYXlJbmRleChjLmVuZC5jbG9uZSgpLnN1YnRyYWN0KDEsImRheXMiKSksZT1bXSxkLGYsZyxtLHAscTtmb3IoZD0wO2Q8dGhpcy5yb3dDbnQ7ZCsrKWZvcihmPWQqYixnPWYrYi0xLG09ZjttPD1nO20rKylwPU1hdGgubWF4KGEsbSkscT1NYXRoLm1pbihjLG0pLHA9TWF0aC5jZWlsKHApLHE9TWF0aC5mbG9vcihxKSxwPD1xJiZlLnB1c2goe3JvdzpkLGZpcnN0Um93RGF5SW5kZXg6cC1mLApsYXN0Um93RGF5SW5kZXg6cS1mLGlzU3RhcnQ6cD09PWEsaXNFbmQ6cT09PWN9KTtyZXR1cm4gZX0scmVuZGVySGVhZEh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4nPGRpdiBjbGFzcz0iZmMtcm93ICcrdGhpcy52aWV3LndpZGdldEhlYWRlckNsYXNzKyciPjx0YWJsZT48dGhlYWQ+Jyt0aGlzLnJlbmRlckhlYWRUckh0bWwoKSsiPC90aGVhZD48L3RhYmxlPjwvZGl2PiJ9LHJlbmRlckhlYWRJbnRyb0h0bWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJJbnRyb0h0bWwoKX0scmVuZGVySGVhZFRySHRtbDpmdW5jdGlvbigpe3JldHVybiI8dHI+IisodGhpcy5pc1JUTD8iIjp0aGlzLnJlbmRlckhlYWRJbnRyb0h0bWwoKSkrdGhpcy5yZW5kZXJIZWFkRGF0ZUNlbGxzSHRtbCgpKyh0aGlzLmlzUlRMP3RoaXMucmVuZGVySGVhZEludHJvSHRtbCgpOiIiKSsiPC90cj4ifSxyZW5kZXJIZWFkRGF0ZUNlbGxzSHRtbDpmdW5jdGlvbigpe3ZhciBhPVtdLGIsYztmb3IoYj0wO2I8dGhpcy5jb2xDbnQ7YisrKWM9CnRoaXMuZ2V0Q2VsbERhdGUoMCxiKSxhLnB1c2godGhpcy5yZW5kZXJIZWFkRGF0ZUNlbGxIdG1sKGMpKTtyZXR1cm4gYS5qb2luKCIiKX0scmVuZGVySGVhZERhdGVDZWxsSHRtbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuJzx0aCBjbGFzcz0iZmMtZGF5LWhlYWRlciAnK3RoaXMudmlldy53aWRnZXRIZWFkZXJDbGFzcysiIGZjLSIrUVthLmRheSgpXSsnIicrKDE9PXRoaXMucm93Q250PycgZGF0YS1kYXRlPSInK2EuZm9ybWF0KCJZWVlZLU1NLUREIikrJyInOiIiKSsoMTxiPycgY29sc3Bhbj0iJytiKyciJzoiIikrKGM/IiAiK2M6IiIpKyI+IitNKGEuZm9ybWF0KHRoaXMuY29sSGVhZEZvcm1hdCkpKyI8L3RoPiJ9LHJlbmRlckJnVHJIdG1sOmZ1bmN0aW9uKGEpe3JldHVybiI8dHI+IisodGhpcy5pc1JUTD8iIjp0aGlzLnJlbmRlckJnSW50cm9IdG1sKGEpKSt0aGlzLnJlbmRlckJnQ2VsbHNIdG1sKGEpKyh0aGlzLmlzUlRMP3RoaXMucmVuZGVyQmdJbnRyb0h0bWwoYSk6IiIpKwoiPC90cj4ifSxyZW5kZXJCZ0ludHJvSHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW5kZXJJbnRyb0h0bWwoKX0scmVuZGVyQmdDZWxsc0h0bWw6ZnVuY3Rpb24oYSl7dmFyIGI9W10sYyxlO2ZvcihjPTA7Yzx0aGlzLmNvbENudDtjKyspZT10aGlzLmdldENlbGxEYXRlKGEsYyksYi5wdXNoKHRoaXMucmVuZGVyQmdDZWxsSHRtbChlKSk7cmV0dXJuIGIuam9pbigiIil9LHJlbmRlckJnQ2VsbEh0bWw6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnZpZXcsZT10aGlzLmdldERheUNsYXNzZXMoYSk7ZS51bnNoaWZ0KCJmYy1kYXkiLGMud2lkZ2V0Q29udGVudENsYXNzKTtyZXR1cm4nPHRkIGNsYXNzPSInK2Uuam9pbigiICIpKyciIGRhdGEtZGF0ZT0iJythLmZvcm1hdCgiWVlZWS1NTS1ERCIpKyciJysoYj8iICIrYjoiIikrIj48L3RkPiJ9LHJlbmRlckludHJvSHRtbDpmdW5jdGlvbigpe30sYm9va2VuZENlbGxzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucmVuZGVySW50cm9IdG1sKCk7CmImJih0aGlzLmlzUlRMP2EuYXBwZW5kKGIpOmEucHJlcGVuZChiKSl9fSxLYT12LkRheUdyaWQ9QWEuZXh0ZW5kKFQse251bWJlcnNWaXNpYmxlOiExLGJvdHRvbUNvb3JkUGFkZGluZzowLHJvd0VsczpudWxsLGNlbGxFbHM6bnVsbCxoZWxwZXJFbHM6bnVsbCxyb3dDb29yZENhY2hlOm51bGwsY29sQ29vcmRDYWNoZTpudWxsLHJlbmRlckRhdGVzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudmlldyxjPXRoaXMucm93Q250LGU9dGhpcy5jb2xDbnQsZD0iIixmO2ZvcihmPTA7ZjxjO2YrKylkKz10aGlzLnJlbmRlckRheVJvd0h0bWwoZixhKTt0aGlzLmVsLmh0bWwoZCk7dGhpcy5yb3dFbHM9dGhpcy5lbC5maW5kKCIuZmMtcm93Iik7dGhpcy5jZWxsRWxzPXRoaXMuZWwuZmluZCgiLmZjLWRheSIpO3RoaXMucm93Q29vcmRDYWNoZT1uZXcgbWIoe2Vsczp0aGlzLnJvd0Vscyxpc1ZlcnRpY2FsOiEwfSk7dGhpcy5jb2xDb29yZENhY2hlPW5ldyBtYih7ZWxzOnRoaXMuY2VsbEVscy5zbGljZSgwLAp0aGlzLmNvbENudCksaXNIb3Jpem9udGFsOiEwfSk7Zm9yKGY9MDtmPGM7ZisrKWZvcihhPTA7YTxlO2ErKyliLnRyaWdnZXIoImRheVJlbmRlciIsbnVsbCx0aGlzLmdldENlbGxEYXRlKGYsYSksdGhpcy5nZXRDZWxsRWwoZixhKSl9LHVucmVuZGVyRGF0ZXM6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZVNlZ1BvcG92ZXIoKX0scmVuZGVyQnVzaW5lc3NIb3VyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuYnVpbGRCdXNpbmVzc0hvdXJTZWdzKCEwKTt0aGlzLnJlbmRlckZpbGwoImJ1c2luZXNzSG91cnMiLGEsImJnZXZlbnQiKX0sdW5yZW5kZXJCdXNpbmVzc0hvdXJzOmZ1bmN0aW9uKCl7dGhpcy51bnJlbmRlckZpbGwoImJ1c2luZXNzSG91cnMiKX0scmVuZGVyRGF5Um93SHRtbDpmdW5jdGlvbihhLGIpe3ZhciBjPVsiZmMtcm93IiwiZmMtd2VlayIsdGhpcy52aWV3LndpZGdldENvbnRlbnRDbGFzc107YiYmYy5wdXNoKCJmYy1yaWdpZCIpO3JldHVybic8ZGl2IGNsYXNzPSInK2Muam9pbigiICIpKwonIj48ZGl2IGNsYXNzPSJmYy1iZyI+PHRhYmxlPicrdGhpcy5yZW5kZXJCZ1RySHRtbChhKSsnPC90YWJsZT48L2Rpdj48ZGl2IGNsYXNzPSJmYy1jb250ZW50LXNrZWxldG9uIj48dGFibGU+JysodGhpcy5udW1iZXJzVmlzaWJsZT8iPHRoZWFkPiIrdGhpcy5yZW5kZXJOdW1iZXJUckh0bWwoYSkrIjwvdGhlYWQ+IjoiIikrIjwvdGFibGU+PC9kaXY+PC9kaXY+In0scmVuZGVyTnVtYmVyVHJIdG1sOmZ1bmN0aW9uKGEpe3JldHVybiI8dHI+IisodGhpcy5pc1JUTD8iIjp0aGlzLnJlbmRlck51bWJlckludHJvSHRtbChhKSkrdGhpcy5yZW5kZXJOdW1iZXJDZWxsc0h0bWwoYSkrKHRoaXMuaXNSVEw/dGhpcy5yZW5kZXJOdW1iZXJJbnRyb0h0bWwoYSk6IiIpKyI8L3RyPiJ9LHJlbmRlck51bWJlckludHJvSHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW5kZXJJbnRyb0h0bWwoKX0scmVuZGVyTnVtYmVyQ2VsbHNIdG1sOmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGMsZTtmb3IoYz0KMDtjPHRoaXMuY29sQ250O2MrKyllPXRoaXMuZ2V0Q2VsbERhdGUoYSxjKSxiLnB1c2godGhpcy5yZW5kZXJOdW1iZXJDZWxsSHRtbChlKSk7cmV0dXJuIGIuam9pbigiIil9LHJlbmRlck51bWJlckNlbGxIdG1sOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKCF0aGlzLnZpZXcuZGF5TnVtYmVyc1Zpc2libGUpcmV0dXJuIjx0ZC8+IjtiPXRoaXMuZ2V0RGF5Q2xhc3NlcyhhKTtiLnVuc2hpZnQoImZjLWRheS1udW1iZXIiKTtyZXR1cm4nPHRkIGNsYXNzPSInK2Iuam9pbigiICIpKyciIGRhdGEtZGF0ZT0iJythLmZvcm1hdCgpKyciPicrYS5kYXRlKCkrIjwvdGQ+In0sY29tcHV0ZUV2ZW50VGltZUZvcm1hdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXcub3B0KCJleHRyYVNtYWxsVGltZUZvcm1hdCIpfSxjb21wdXRlRGlzcGxheUV2ZW50RW5kOmZ1bmN0aW9uKCl7cmV0dXJuIDE9PXRoaXMuY29sQ250fSxyYW5nZVVwZGF0ZWQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZURheVRhYmxlKCl9LApzcGFuVG9TZWdzOmZ1bmN0aW9uKGEpe2E9dGhpcy5zbGljZVJhbmdlQnlSb3coYSk7dmFyIGIsYztmb3IoYj0wO2I8YS5sZW5ndGg7YisrKWM9YVtiXSx0aGlzLmlzUlRMPyhjLmxlZnRDb2w9dGhpcy5kYXlzUGVyUm93LTEtYy5sYXN0Um93RGF5SW5kZXgsYy5yaWdodENvbD10aGlzLmRheXNQZXJSb3ctMS1jLmZpcnN0Um93RGF5SW5kZXgpOihjLmxlZnRDb2w9Yy5maXJzdFJvd0RheUluZGV4LGMucmlnaHRDb2w9Yy5sYXN0Um93RGF5SW5kZXgpO3JldHVybiBhfSxwcmVwYXJlSGl0czpmdW5jdGlvbigpe3RoaXMuY29sQ29vcmRDYWNoZS5idWlsZCgpO3RoaXMucm93Q29vcmRDYWNoZS5idWlsZCgpO3RoaXMucm93Q29vcmRDYWNoZS5ib3R0b21zW3RoaXMucm93Q250LTFdKz10aGlzLmJvdHRvbUNvb3JkUGFkZGluZ30scmVsZWFzZUhpdHM6ZnVuY3Rpb24oKXt0aGlzLmNvbENvb3JkQ2FjaGUuY2xlYXIoKTt0aGlzLnJvd0Nvb3JkQ2FjaGUuY2xlYXIoKX0scXVlcnlIaXQ6ZnVuY3Rpb24oYSwKYil7aWYodGhpcy5jb2xDb29yZENhY2hlLmlzTGVmdEluQm91bmRzKGEpJiZ0aGlzLnJvd0Nvb3JkQ2FjaGUuaXNUb3BJbkJvdW5kcyhiKSYmKGE9dGhpcy5jb2xDb29yZENhY2hlLmdldEhvcml6b250YWxJbmRleChhKSxiPXRoaXMucm93Q29vcmRDYWNoZS5nZXRWZXJ0aWNhbEluZGV4KGIpLG51bGwhPWImJm51bGwhPWEpKXJldHVybiB0aGlzLmdldENlbGxIaXQoYixhKX0sZ2V0SGl0U3BhbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRDZWxsUmFuZ2UoYS5yb3csYS5jb2wpfSxnZXRIaXRFbDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRDZWxsRWwoYS5yb3csYS5jb2wpfSxnZXRDZWxsSGl0OmZ1bmN0aW9uKGEsYil7cmV0dXJue3JvdzphLGNvbDpiLGNvbXBvbmVudDp0aGlzLGxlZnQ6dGhpcy5jb2xDb29yZENhY2hlLmdldExlZnRPZmZzZXQoYikscmlnaHQ6dGhpcy5jb2xDb29yZENhY2hlLmdldFJpZ2h0T2Zmc2V0KGIpLHRvcDp0aGlzLnJvd0Nvb3JkQ2FjaGUuZ2V0VG9wT2Zmc2V0KGEpLApib3R0b206dGhpcy5yb3dDb29yZENhY2hlLmdldEJvdHRvbU9mZnNldChhKX19LGdldENlbGxFbDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNlbGxFbHMuZXEoYSp0aGlzLmNvbENudCtiKX0scmVuZGVyRHJhZzpmdW5jdGlvbihhLGIpe3RoaXMucmVuZGVySGlnaGxpZ2h0KHRoaXMuZXZlbnRUb1NwYW4oYSkpO2lmKGImJmIuY29tcG9uZW50IT09dGhpcylyZXR1cm4gdGhpcy5yZW5kZXJFdmVudExvY2F0aW9uSGVscGVyKGEsYil9LHVucmVuZGVyRHJhZzpmdW5jdGlvbigpe3RoaXMudW5yZW5kZXJIaWdobGlnaHQoKTt0aGlzLnVucmVuZGVySGVscGVyKCl9LHJlbmRlckV2ZW50UmVzaXplOmZ1bmN0aW9uKGEsYil7dGhpcy5yZW5kZXJIaWdobGlnaHQodGhpcy5ldmVudFRvU3BhbihhKSk7cmV0dXJuIHRoaXMucmVuZGVyRXZlbnRMb2NhdGlvbkhlbHBlcihhLGIpfSx1bnJlbmRlckV2ZW50UmVzaXplOmZ1bmN0aW9uKCl7dGhpcy51bnJlbmRlckhpZ2hsaWdodCgpO3RoaXMudW5yZW5kZXJIZWxwZXIoKX0sCnJlbmRlckhlbHBlcjpmdW5jdGlvbihhLGIpe3ZhciBjPVtdO2E9dGhpcy5ldmVudFRvU2VncyhhKTt2YXIgZTthPXRoaXMucmVuZGVyRmdTZWdFbHMoYSk7ZT10aGlzLnJlbmRlclNlZ1Jvd3MoYSk7dGhpcy5yb3dFbHMuZWFjaChmdW5jdGlvbihhLGQpe2Q9ZyhkKTt2YXIgaz1nKCc8ZGl2IGNsYXNzPSJmYy1oZWxwZXItc2tlbGV0b24iPjx0YWJsZS8+PC9kaXY+JyksbTttPWImJmIucm93PT09YT9iLmVsLnBvc2l0aW9uKCkudG9wOmQuZmluZCgiLmZjLWNvbnRlbnQtc2tlbGV0b24gdGJvZHkiKS5wb3NpdGlvbigpLnRvcDtrLmNzcygidG9wIixtKS5maW5kKCJ0YWJsZSIpLmFwcGVuZChlW2FdLnRib2R5RWwpO2QuYXBwZW5kKGspO2MucHVzaChrWzBdKX0pO3JldHVybiB0aGlzLmhlbHBlckVscz1nKGMpfSx1bnJlbmRlckhlbHBlcjpmdW5jdGlvbigpe3RoaXMuaGVscGVyRWxzJiYodGhpcy5oZWxwZXJFbHMucmVtb3ZlKCksdGhpcy5oZWxwZXJFbHM9bnVsbCl9LGZpbGxTZWdUYWc6InRkIiwKcmVuZGVyRmlsbDpmdW5jdGlvbihhLGIsYyl7dmFyIGU9W10sZCxmLGs7Yj10aGlzLnJlbmRlckZpbGxTZWdFbHMoYSxiKTtmb3IoZD0wO2Q8Yi5sZW5ndGg7ZCsrKWY9YltkXSxrPXRoaXMucmVuZGVyRmlsbFJvdyhhLGYsYyksdGhpcy5yb3dFbHMuZXEoZi5yb3cpLmFwcGVuZChrKSxlLnB1c2goa1swXSk7dGhpcy5lbHNCeUZpbGxbYV09ZyhlKTtyZXR1cm4gYn0scmVuZGVyRmlsbFJvdzpmdW5jdGlvbihhLGIsYyl7dmFyIGU9dGhpcy5jb2xDbnQsZD1iLmxlZnRDb2wsZj1iLnJpZ2h0Q29sKzE7Yz1jfHxhLnRvTG93ZXJDYXNlKCk7YT1nKCc8ZGl2IGNsYXNzPSJmYy0nK2MrJy1za2VsZXRvbiI+PHRhYmxlPjx0ci8+PC90YWJsZT48L2Rpdj4nKTtjPWEuZmluZCgidHIiKTswPGQmJmMuYXBwZW5kKCc8dGQgY29sc3Bhbj0iJytkKyciLz4nKTtjLmFwcGVuZChiLmVsLmF0dHIoImNvbHNwYW4iLGYtZCkpO2Y8ZSYmYy5hcHBlbmQoJzx0ZCBjb2xzcGFuPSInKyhlLWYpKyciLz4nKTt0aGlzLmJvb2tlbmRDZWxscyhjKTsKcmV0dXJuIGF9fSk7S2EubWl4aW4oe3Jvd1N0cnVjdHM6bnVsbCx1bnJlbmRlckV2ZW50czpmdW5jdGlvbigpe3RoaXMucmVtb3ZlU2VnUG9wb3ZlcigpO0FhLnByb3RvdHlwZS51bnJlbmRlckV2ZW50cy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGdldEV2ZW50U2VnczpmdW5jdGlvbigpe3JldHVybiBBYS5wcm90b3R5cGUuZ2V0RXZlbnRTZWdzLmNhbGwodGhpcykuY29uY2F0KHRoaXMucG9wb3ZlclNlZ3N8fFtdKX0scmVuZGVyQmdTZWdzOmZ1bmN0aW9uKGEpe2E9Zy5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEuZXZlbnQuYWxsRGF5fSk7cmV0dXJuIEFhLnByb3RvdHlwZS5yZW5kZXJCZ1NlZ3MuY2FsbCh0aGlzLGEpfSxyZW5kZXJGZ1NlZ3M6ZnVuY3Rpb24oYSl7dmFyIGI7YT10aGlzLnJlbmRlckZnU2VnRWxzKGEpO2I9dGhpcy5yb3dTdHJ1Y3RzPXRoaXMucmVuZGVyU2VnUm93cyhhKTt0aGlzLnJvd0Vscy5lYWNoKGZ1bmN0aW9uKGEsZSl7ZyhlKS5maW5kKCIuZmMtY29udGVudC1za2VsZXRvbiA+IHRhYmxlIikuYXBwZW5kKGJbYV0udGJvZHlFbCl9KTsKcmV0dXJuIGF9LHVucmVuZGVyRmdTZWdzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMucm93U3RydWN0c3x8W10sYjtiPWEucG9wKCk7KWIudGJvZHlFbC5yZW1vdmUoKTt0aGlzLnJvd1N0cnVjdHM9bnVsbH0scmVuZGVyU2VnUm93czpmdW5jdGlvbihhKXt2YXIgYj1bXSxjO2E9dGhpcy5ncm91cFNlZ1Jvd3MoYSk7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2godGhpcy5yZW5kZXJTZWdSb3coYyxhW2NdKSk7cmV0dXJuIGJ9LGZnU2VnSHRtbDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMudmlldyxlPWEuZXZlbnQsZD1jLmlzRXZlbnREcmFnZ2FibGUoZSksZj0hYiYmZS5hbGxEYXkmJmEuaXNTdGFydCYmYy5pc0V2ZW50UmVzaXphYmxlRnJvbVN0YXJ0KGUpO2I9IWImJmUuYWxsRGF5JiZhLmlzRW5kJiZjLmlzRXZlbnRSZXNpemFibGVGcm9tRW5kKGUpO3ZhciBkPXRoaXMuZ2V0U2VnQ2xhc3NlcyhhLGQsZnx8YiksYz1mYih0aGlzLmdldFNlZ1NraW5Dc3MoYSkpLGc9IiI7CmQudW5zaGlmdCgiZmMtZGF5LWdyaWQtZXZlbnQiLCJmYy1oLWV2ZW50Iik7YS5pc1N0YXJ0JiYoYT10aGlzLmdldEV2ZW50VGltZVRleHQoZSkpJiYoZz0nPHNwYW4gY2xhc3M9ImZjLXRpbWUiPicrTShhKSsiPC9zcGFuPiIpO2E9JzxzcGFuIGNsYXNzPSJmYy10aXRsZSI+JysoTShlLnRpdGxlfHwiIil8fCImbmJzcDsiKSsiPC9zcGFuPiI7cmV0dXJuJzxhIGNsYXNzPSInK2Quam9pbigiICIpKyciJysoZS51cmw/JyBocmVmPSInK00oZS51cmwpKyciJzoiIikrKGM/JyBzdHlsZT0iJytjKyciJzoiIikrJz48ZGl2IGNsYXNzPSJmYy1jb250ZW50Ij4nKyh0aGlzLmlzUlRMP2ErIiAiK2c6ZysiICIrYSkrIjwvZGl2PiIrKGY/JzxkaXYgY2xhc3M9ImZjLXJlc2l6ZXIgZmMtc3RhcnQtcmVzaXplciIgLz4nOiIiKSsoYj8nPGRpdiBjbGFzcz0iZmMtcmVzaXplciBmYy1lbmQtcmVzaXplciIgLz4nOiIiKSsiPC9hPiJ9LHJlbmRlclNlZ1JvdzpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7Zm9yKDtIPAphOykoRj0ocVtyLTFdfHxbXSlbSF0pP0YuYXR0cigicm93c3BhbiIscGFyc2VJbnQoRi5hdHRyKCJyb3dzcGFuIil8fDEsMTApKzEpOihGPWcoIjx0ZC8+IiksRy5hcHBlbmQoRikpLHBbcl1bSF09RixxW3JdW0hdPUYsSCsrfXZhciBlPXRoaXMuY29sQ250LGQ9dGhpcy5idWlsZFNlZ0xldmVscyhiKSxmPU1hdGgubWF4KDEsZC5sZW5ndGgpLGs9ZygiPHRib2R5Lz4iKSxtPVtdLHA9W10scT1bXSxyLHYsSCxHLE8sTixGO2ZvcihyPTA7cjxmO3IrKyl7dj1kW3JdO0g9MDtHPWcoIjx0ci8+Iik7bS5wdXNoKFtdKTtwLnB1c2goW10pO3EucHVzaChbXSk7aWYodilmb3IoTz0wO088di5sZW5ndGg7TysrKXtOPXZbT107YyhOLmxlZnRDb2wpO0Y9ZygnPHRkIGNsYXNzPSJmYy1ldmVudC1jb250YWluZXIiLz4nKS5hcHBlbmQoTi5lbCk7Zm9yKE4ubGVmdENvbCE9Ti5yaWdodENvbD9GLmF0dHIoImNvbHNwYW4iLE4ucmlnaHRDb2wtTi5sZWZ0Q29sKzEpOnFbcl1bSF09RjtIPD1OLnJpZ2h0Q29sOylwW3JdW0hdPQpGLG1bcl1bSF09TixIKys7Ry5hcHBlbmQoRil9YyhlKTt0aGlzLmJvb2tlbmRDZWxscyhHKTtrLmFwcGVuZChHKX1yZXR1cm57cm93OmEsdGJvZHlFbDprLGNlbGxNYXRyaXg6cCxzZWdNYXRyaXg6bSxzZWdMZXZlbHM6ZCxzZWdzOmJ9fSxidWlsZFNlZ0xldmVsczpmdW5jdGlvbihhKXt2YXIgYj1bXSxjLGUsZDt0aGlzLnNvcnRFdmVudFNlZ3MoYSk7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl7ZT1hW2NdO2ZvcihkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBmO2E6e2Y9YltkXTt2YXIgZyxtO2ZvcihnPTA7ZzxmLmxlbmd0aDtnKyspaWYobT1mW2ddLG0ubGVmdENvbDw9ZS5yaWdodENvbCYmbS5yaWdodENvbD49ZS5sZWZ0Q29sKXtmPSEwO2JyZWFrIGF9Zj0hMX1pZighZilicmVha31lLmxldmVsPWQ7KGJbZF18fChiW2RdPVtdKSkucHVzaChlKX1mb3IoZD0wO2Q8Yi5sZW5ndGg7ZCsrKWJbZF0uc29ydChZYSk7cmV0dXJuIGJ9LGdyb3VwU2VnUm93czpmdW5jdGlvbihhKXt2YXIgYj0KW10sYztmb3IoYz0wO2M8dGhpcy5yb3dDbnQ7YysrKWIucHVzaChbXSk7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyliW2FbY10ucm93XS5wdXNoKGFbY10pO3JldHVybiBifX0pO0thLm1peGluKHtzZWdQb3BvdmVyOm51bGwscG9wb3ZlclNlZ3M6bnVsbCxyZW1vdmVTZWdQb3BvdmVyOmZ1bmN0aW9uKCl7dGhpcy5zZWdQb3BvdmVyJiZ0aGlzLnNlZ1BvcG92ZXIuaGlkZSgpfSxsaW1pdFJvd3M6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yb3dTdHJ1Y3RzfHxbXSxjLGU7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKyl0aGlzLnVubGltaXRSb3coYyksZT1hPyJudW1iZXIiPT09dHlwZW9mIGE/YTp0aGlzLmNvbXB1dGVSb3dMZXZlbExpbWl0KGMpOiExLCExIT09ZSYmdGhpcy5saW1pdFJvdyhjLGUpfSxjb21wdXRlUm93TGV2ZWxMaW1pdDpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYil7Zj1NYXRoLm1heChmLGcoYikub3V0ZXJIZWlnaHQoKSl9dmFyIGM9dGhpcy5yb3dFbHMuZXEoYSkuaGVpZ2h0KCk7CmE9dGhpcy5yb3dTdHJ1Y3RzW2FdLnRib2R5RWwuY2hpbGRyZW4oKTt2YXIgZSxkLGY7Zm9yKGU9MDtlPGEubGVuZ3RoO2UrKylpZihkPWEuZXEoZSkucmVtb3ZlQ2xhc3MoImZjLWxpbWl0ZWQiKSxmPTAsZC5maW5kKCI+IHRkID4gOmZpcnN0LWNoaWxkIikuZWFjaChiKSxkLnBvc2l0aW9uKCkudG9wK2Y+YylyZXR1cm4gZTtyZXR1cm4hMX0sbGltaXRSb3c6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGMpe2Zvcig7azxjOylIPWUuZ2V0Q2VsbFNlZ3MoYSxrLGIpLEgubGVuZ3RoJiYoTj1wW2ItMV1ba10sSj1lLnJlbmRlck1vcmVMaW5rKGEsayxIKSxMPWcoIjxkaXYvPiIpLmFwcGVuZChKKSxOLmFwcGVuZChMKSxmLnB1c2goTFswXSkpLGsrK312YXIgZT10aGlzLGQ9dGhpcy5yb3dTdHJ1Y3RzW2FdLGY9W10saz0wLG0scCxxLHIsdixILEcsTyxOLEYsbixhYSxMLEo7aWYoYiYmYjxkLnNlZ0xldmVscy5sZW5ndGgpe209ZC5zZWdMZXZlbHNbYi0xXTtwPWQuY2VsbE1hdHJpeDtxPQpkLnRib2R5RWwuY2hpbGRyZW4oKS5zbGljZShiKS5hZGRDbGFzcygiZmMtbGltaXRlZCIpLmdldCgpO2ZvcihyPTA7cjxtLmxlbmd0aDtyKyspe3Y9bVtyXTtjKHYubGVmdENvbCk7Tz1bXTtmb3IoRz0wO2s8PXYucmlnaHRDb2w7KUg9dGhpcy5nZXRDZWxsU2VncyhhLGssYiksTy5wdXNoKEgpLEcrPUgubGVuZ3RoLGsrKztpZihHKXtOPXBbYi0xXVt2LmxlZnRDb2xdO0c9Ti5hdHRyKCJyb3dzcGFuIil8fDE7Rj1bXTtmb3Iobj0wO248Ty5sZW5ndGg7bisrKWFhPWcoJzx0ZCBjbGFzcz0iZmMtbW9yZS1jZWxsIi8+JykuYXR0cigicm93c3BhbiIsRyksSD1PW25dLEo9dGhpcy5yZW5kZXJNb3JlTGluayhhLHYubGVmdENvbCtuLFt2XS5jb25jYXQoSCkpLEw9ZygiPGRpdi8+IikuYXBwZW5kKEopLGFhLmFwcGVuZChMKSxGLnB1c2goYWFbMF0pLGYucHVzaChhYVswXSk7Ti5hZGRDbGFzcygiZmMtbGltaXRlZCIpLmFmdGVyKGcoRikpO3EucHVzaChOWzBdKX19Yyh0aGlzLmNvbENudCk7CmQubW9yZUVscz1nKGYpO2QubGltaXRlZEVscz1nKHEpfX0sdW5saW1pdFJvdzpmdW5jdGlvbihhKXthPXRoaXMucm93U3RydWN0c1thXTthLm1vcmVFbHMmJihhLm1vcmVFbHMucmVtb3ZlKCksYS5tb3JlRWxzPW51bGwpO2EubGltaXRlZEVscyYmKGEubGltaXRlZEVscy5yZW1vdmVDbGFzcygiZmMtbGltaXRlZCIpLGEubGltaXRlZEVscz1udWxsKX0scmVuZGVyTW9yZUxpbms6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXMsZD10aGlzLnZpZXc7cmV0dXJuIGcoJzxhIGNsYXNzPSJmYy1tb3JlIi8+JykudGV4dCh0aGlzLmdldE1vcmVMaW5rVGV4dChjLmxlbmd0aCkpLm9uKCJjbGljayIsZnVuY3Rpb24oZil7dmFyIGs9ZC5vcHQoImV2ZW50TGltaXRDbGljayIpLG09ZS5nZXRDZWxsRGF0ZShhLGIpLHA9Zyh0aGlzKSxxPWUuZ2V0Q2VsbEVsKGEsYikscj1lLmdldENlbGxTZWdzKGEsYikscj1lLnJlc2xpY2VEYXlTZWdzKHIsbSksdj1lLnJlc2xpY2VEYXlTZWdzKGMsbSk7ImZ1bmN0aW9uIj09PQp0eXBlb2YgayYmKGs9ZC50cmlnZ2VyKCJldmVudExpbWl0Q2xpY2siLG51bGwse2RhdGU6bSxkYXlFbDpxLG1vcmVFbDpwLHNlZ3M6cixoaWRkZW5TZWdzOnZ9LGYpKTsicG9wb3ZlciI9PT1rP2Uuc2hvd1NlZ1BvcG92ZXIoYSxiLHAscik6InN0cmluZyI9PT10eXBlb2YgayYmZC5jYWxlbmRhci56b29tVG8obSxrKX0pfSxzaG93U2VnUG9wb3ZlcjpmdW5jdGlvbihhLGIsYyxlKXt2YXIgZD10aGlzLGY9dGhpcy52aWV3O2M9Yy5wYXJlbnQoKTt2YXIgZztnPTE9PXRoaXMucm93Q250P2YuZWw6dGhpcy5yb3dFbHMuZXEoYSk7YT17Y2xhc3NOYW1lOiJmYy1tb3JlLXBvcG92ZXIiLGNvbnRlbnQ6dGhpcy5yZW5kZXJTZWdQb3BvdmVyQ29udGVudChhLGIsZSkscGFyZW50RWw6dGhpcy52aWV3LmVsLHRvcDpnLm9mZnNldCgpLnRvcCxhdXRvSGlkZTohMCx2aWV3cG9ydENvbnN0cmFpbjpmLm9wdCgicG9wb3ZlclZpZXdwb3J0Q29uc3RyYWluIiksaGlkZTpmdW5jdGlvbigpe2Quc2VnUG9wb3Zlci5yZW1vdmVFbGVtZW50KCk7CmQuc2VnUG9wb3Zlcj1udWxsO2QucG9wb3ZlclNlZ3M9bnVsbH19O3RoaXMuaXNSVEw/YS5yaWdodD1jLm9mZnNldCgpLmxlZnQrYy5vdXRlcldpZHRoKCkrMTphLmxlZnQ9Yy5vZmZzZXQoKS5sZWZ0LTE7dGhpcy5zZWdQb3BvdmVyPW5ldyBlYyhhKTt0aGlzLnNlZ1BvcG92ZXIuc2hvdygpO3RoaXMuYmluZFNlZ0hhbmRsZXJzVG9FbCh0aGlzLnNlZ1BvcG92ZXIuZWwpfSxyZW5kZXJTZWdQb3BvdmVyQ29udGVudDpmdW5jdGlvbihhLGIsYyl7dmFyIGU9dGhpcy52aWV3LGQ9ZS5vcHQoInRoZW1lIiksZj10aGlzLmdldENlbGxEYXRlKGEsYikuZm9ybWF0KGUub3B0KCJkYXlQb3BvdmVyRm9ybWF0IikpLGU9ZygnPGRpdiBjbGFzcz0iZmMtaGVhZGVyICcrZS53aWRnZXRIZWFkZXJDbGFzcysnIj48c3BhbiBjbGFzcz0iZmMtY2xvc2UgJysoZD8idWktaWNvbiB1aS1pY29uLWNsb3NldGhpY2siOiJmYy1pY29uIGZjLWljb24teCIpKyciPjwvc3Bhbj48c3BhbiBjbGFzcz0iZmMtdGl0bGUiPicrCk0oZikrJzwvc3Bhbj48ZGl2IGNsYXNzPSJmYy1jbGVhciIvPjwvZGl2PjxkaXYgY2xhc3M9ImZjLWJvZHkgJytlLndpZGdldENvbnRlbnRDbGFzcysnIj48ZGl2IGNsYXNzPSJmYy1ldmVudC1jb250YWluZXIiPjwvZGl2PjwvZGl2PicpLGQ9ZS5maW5kKCIuZmMtZXZlbnQtY29udGFpbmVyIik7dGhpcy5wb3BvdmVyU2Vncz1jPXRoaXMucmVuZGVyRmdTZWdFbHMoYywhMCk7Zm9yKGY9MDtmPGMubGVuZ3RoO2YrKyl0aGlzLnByZXBhcmVIaXRzKCksY1tmXS5oaXQ9dGhpcy5nZXRDZWxsSGl0KGEsYiksdGhpcy5yZWxlYXNlSGl0cygpLGQuYXBwZW5kKGNbZl0uZWwpO3JldHVybiBlfSxyZXNsaWNlRGF5U2VnczpmdW5jdGlvbihhLGIpe2E9Zy5tYXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYS5ldmVudH0pO2I9Yi5jbG9uZSgpO3ZhciBjPWIuY2xvbmUoKS5hZGQoMSwiZGF5cyIpLGU9e3N0YXJ0OmIsZW5kOmN9O2E9dGhpcy5ldmVudHNUb1NlZ3MoYSxmdW5jdGlvbihhKXtyZXR1cm4oYT0KU2EoYSxlKSk/W2FdOltdfSk7dGhpcy5zb3J0RXZlbnRTZWdzKGEpO3JldHVybiBhfSxnZXRNb3JlTGlua1RleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy52aWV3Lm9wdCgiZXZlbnRMaW1pdFRleHQiKTtyZXR1cm4iZnVuY3Rpb24iPT09dHlwZW9mIGI/YihhKToiKyIrYSsiICIrYn0sZ2V0Q2VsbFNlZ3M6ZnVuY3Rpb24oYSxiLGMpe2E9dGhpcy5yb3dTdHJ1Y3RzW2FdLnNlZ01hdHJpeDtjPWN8fDA7Zm9yKHZhciBlPVtdLGQ7YzxhLmxlbmd0aDspKGQ9YVtjXVtiXSkmJmUucHVzaChkKSxjKys7cmV0dXJuIGV9fSk7dmFyIEZhPXYuVGltZUdyaWQ9QWEuZXh0ZW5kKFQse3Nsb3REdXJhdGlvbjpudWxsLHNuYXBEdXJhdGlvbjpudWxsLHNuYXBzUGVyU2xvdDpudWxsLG1pblRpbWU6bnVsbCxtYXhUaW1lOm51bGwsbGFiZWxGb3JtYXQ6bnVsbCxsYWJlbEludGVydmFsOm51bGwsY29sRWxzOm51bGwsc2xhdENvbnRhaW5lckVsOm51bGwsc2xhdEVsczpudWxsLG5vd0luZGljYXRvckVsczpudWxsLApjb2xDb29yZENhY2hlOm51bGwsc2xhdENvb3JkQ2FjaGU6bnVsbCxjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe0FhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnByb2Nlc3NPcHRpb25zKCl9LHJlbmRlckRhdGVzOmZ1bmN0aW9uKCl7dGhpcy5lbC5odG1sKHRoaXMucmVuZGVySHRtbCgpKTt0aGlzLmNvbEVscz10aGlzLmVsLmZpbmQoIi5mYy1kYXkiKTt0aGlzLnNsYXRDb250YWluZXJFbD10aGlzLmVsLmZpbmQoIi5mYy1zbGF0cyIpO3RoaXMuc2xhdEVscz10aGlzLnNsYXRDb250YWluZXJFbC5maW5kKCJ0ciIpO3RoaXMuY29sQ29vcmRDYWNoZT1uZXcgbWIoe2Vsczp0aGlzLmNvbEVscyxpc0hvcml6b250YWw6ITB9KTt0aGlzLnNsYXRDb29yZENhY2hlPW5ldyBtYih7ZWxzOnRoaXMuc2xhdEVscyxpc1ZlcnRpY2FsOiEwfSk7dGhpcy5yZW5kZXJDb250ZW50U2tlbGV0b24oKX0scmVuZGVySHRtbDpmdW5jdGlvbigpe3JldHVybic8ZGl2IGNsYXNzPSJmYy1iZyI+PHRhYmxlPicrCnRoaXMucmVuZGVyQmdUckh0bWwoMCkrJzwvdGFibGU+PC9kaXY+PGRpdiBjbGFzcz0iZmMtc2xhdHMiPjx0YWJsZT4nK3RoaXMucmVuZGVyU2xhdFJvd0h0bWwoKSsiPC90YWJsZT48L2Rpdj4ifSxyZW5kZXJTbGF0Um93SHRtbDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLnZpZXcsYj10aGlzLmlzUlRMLGM9IiIsZT1xLmR1cmF0aW9uKCt0aGlzLm1pblRpbWUpLGQsZixnO2U8dGhpcy5tYXhUaW1lOylkPXRoaXMuc3RhcnQuY2xvbmUoKS50aW1lKGUpLGY9bmEoZWIoZSx0aGlzLmxhYmVsSW50ZXJ2YWwpKSxnPSc8dGQgY2xhc3M9ImZjLWF4aXMgZmMtdGltZSAnK2Eud2lkZ2V0Q29udGVudENsYXNzKyciICcrYS5heGlzU3R5bGVBdHRyKCkrIj4iKyhmPyI8c3Bhbj4iK00oZC5mb3JtYXQodGhpcy5sYWJlbEZvcm1hdCkpKyI8L3NwYW4+IjoiIikrIjwvdGQ+IixjKz0nPHRyIGRhdGEtdGltZT0iJytkLmZvcm1hdCgiSEg6bW06c3MiKSsnIicrKGY/IiI6JyBjbGFzcz0iZmMtbWlub3IiJykrCiI+IisoYj8iIjpnKSsnPHRkIGNsYXNzPSInK2Eud2lkZ2V0Q29udGVudENsYXNzKyciLz4nKyhiP2c6IiIpKyI8L3RyPiIsZS5hZGQodGhpcy5zbG90RHVyYXRpb24pO3JldHVybiBjfSxwcm9jZXNzT3B0aW9uczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudmlldyxiPWEub3B0KCJzbG90RHVyYXRpb24iKSxjPWEub3B0KCJzbmFwRHVyYXRpb24iKSxiPXEuZHVyYXRpb24oYiksYz1jP3EuZHVyYXRpb24oYyk6Yjt0aGlzLnNsb3REdXJhdGlvbj1iO3RoaXMuc25hcER1cmF0aW9uPWM7dGhpcy5zbmFwc1BlclNsb3Q9Yi9jO3RoaXMubWluUmVzaXplRHVyYXRpb249Yzt0aGlzLm1pblRpbWU9cS5kdXJhdGlvbihhLm9wdCgibWluVGltZSIpKTt0aGlzLm1heFRpbWU9cS5kdXJhdGlvbihhLm9wdCgibWF4VGltZSIpKTtjPWEub3B0KCJzbG90TGFiZWxGb3JtYXQiKTtnLmlzQXJyYXkoYykmJihjPWNbYy5sZW5ndGgtMV0pO3RoaXMubGFiZWxGb3JtYXQ9Y3x8YS5vcHQoImF4aXNGb3JtYXQiKXx8CmEub3B0KCJzbWFsbFRpbWVGb3JtYXQiKTt0aGlzLmxhYmVsSW50ZXJ2YWw9KGM9YS5vcHQoInNsb3RMYWJlbEludGVydmFsIikpP3EuZHVyYXRpb24oYyk6dGhpcy5jb21wdXRlTGFiZWxJbnRlcnZhbChiKX0sY29tcHV0ZUxhYmVsSW50ZXJ2YWw6ZnVuY3Rpb24oYSl7dmFyIGIsYyxlO2ZvcihiPUhiLmxlbmd0aC0xOzA8PWI7Yi0tKWlmKGM9cS5kdXJhdGlvbihIYltiXSksZT1lYihjLGEpLG5hKGUpJiYxPGUpcmV0dXJuIGM7cmV0dXJuIHEuZHVyYXRpb24oYSl9LGNvbXB1dGVFdmVudFRpbWVGb3JtYXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3Lm9wdCgibm9NZXJpZGllbVRpbWVGb3JtYXQiKX0sY29tcHV0ZURpc3BsYXlFdmVudEVuZDpmdW5jdGlvbigpe3JldHVybiEwfSxwcmVwYXJlSGl0czpmdW5jdGlvbigpe3RoaXMuY29sQ29vcmRDYWNoZS5idWlsZCgpO3RoaXMuc2xhdENvb3JkQ2FjaGUuYnVpbGQoKX0scmVsZWFzZUhpdHM6ZnVuY3Rpb24oKXt0aGlzLmNvbENvb3JkQ2FjaGUuY2xlYXIoKX0sCnF1ZXJ5SGl0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zbmFwc1BlclNsb3QsZT10aGlzLmNvbENvb3JkQ2FjaGUsZD10aGlzLnNsYXRDb29yZENhY2hlO2lmKGUuaXNMZWZ0SW5Cb3VuZHMoYSkmJmQuaXNUb3BJbkJvdW5kcyhiKSl7YT1lLmdldEhvcml6b250YWxJbmRleChhKTt2YXIgZj1kLmdldFZlcnRpY2FsSW5kZXgoYik7aWYobnVsbCE9YSYmbnVsbCE9Zil7dmFyIGc9ZC5nZXRUb3BPZmZzZXQoZiksZD1kLmdldEhlaWdodChmKTtiPU1hdGguZmxvb3IoKGItZykvZCpjKTt2YXIgbT1nK2IvYypkLGc9ZysoYisxKS9jKmQ7cmV0dXJue2NvbDphLHNuYXA6ZipjK2IsY29tcG9uZW50OnRoaXMsbGVmdDplLmdldExlZnRPZmZzZXQoYSkscmlnaHQ6ZS5nZXRSaWdodE9mZnNldChhKSx0b3A6bSxib3R0b206Z319fX0sZ2V0SGl0U3BhbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldENlbGxEYXRlKDAsYS5jb2wpO2E9dGhpcy5jb21wdXRlU25hcFRpbWUoYS5zbmFwKTtiLnRpbWUoYSk7CmE9Yi5jbG9uZSgpLmFkZCh0aGlzLnNuYXBEdXJhdGlvbik7cmV0dXJue3N0YXJ0OmIsZW5kOmF9fSxnZXRIaXRFbDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb2xFbHMuZXEoYS5jb2wpfSxyYW5nZVVwZGF0ZWQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZURheVRhYmxlKCl9LGNvbXB1dGVTbmFwVGltZTpmdW5jdGlvbihhKXtyZXR1cm4gcS5kdXJhdGlvbih0aGlzLm1pblRpbWUrdGhpcy5zbmFwRHVyYXRpb24qYSl9LHNwYW5Ub1NlZ3M6ZnVuY3Rpb24oYSl7YT10aGlzLnNsaWNlUmFuZ2VCeVRpbWVzKGEpO3ZhciBiO2ZvcihiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS5jb2w9dGhpcy5pc1JUTD90aGlzLmRheXNQZXJSb3ctMS1hW2JdLmRheUluZGV4OmFbYl0uZGF5SW5kZXg7cmV0dXJuIGF9LHNsaWNlUmFuZ2VCeVRpbWVzOmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGMsZTtmb3IoZT0wO2U8dGhpcy5kYXlzUGVyUm93O2UrKylpZihjPXRoaXMuZGF5RGF0ZXNbZV0uY2xvbmUoKSxjPXtzdGFydDpjLmNsb25lKCkudGltZSh0aGlzLm1pblRpbWUpLAplbmQ6Yy5jbG9uZSgpLnRpbWUodGhpcy5tYXhUaW1lKX0sYz1TYShhLGMpKWMuZGF5SW5kZXg9ZSxiLnB1c2goYyk7cmV0dXJuIGJ9LHVwZGF0ZVNpemU6ZnVuY3Rpb24oYSl7dGhpcy5zbGF0Q29vcmRDYWNoZS5idWlsZCgpO2EmJnRoaXMudXBkYXRlU2VnVmVydGljYWxzKFtdLmNvbmNhdCh0aGlzLmZnU2Vnc3x8W10sdGhpcy5iZ1NlZ3N8fFtdLHRoaXMuYnVzaW5lc3NTZWdzfHxbXSkpfSxnZXRUb3RhbFNsYXRIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zbGF0Q29udGFpbmVyRWwub3V0ZXJIZWlnaHQoKX0sY29tcHV0ZURhdGVUb3A6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jb21wdXRlVGltZVRvcChxLmR1cmF0aW9uKGEtYi5jbG9uZSgpLnN0cmlwVGltZSgpKSl9LGNvbXB1dGVUaW1lVG9wOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc2xhdEVscy5sZW5ndGgsYz0oYS10aGlzLm1pblRpbWUpL3RoaXMuc2xvdER1cmF0aW9uLGM9TWF0aC5tYXgoMCxjKSxjPU1hdGgubWluKGIsCmMpO2E9TWF0aC5mbG9vcihjKTthPU1hdGgubWluKGEsYi0xKTtiPWMtYTtyZXR1cm4gdGhpcy5zbGF0Q29vcmRDYWNoZS5nZXRUb3BQb3NpdGlvbihhKSt0aGlzLnNsYXRDb29yZENhY2hlLmdldEhlaWdodChhKSpifSxyZW5kZXJEcmFnOmZ1bmN0aW9uKGEsYil7aWYoYilyZXR1cm4gdGhpcy5yZW5kZXJFdmVudExvY2F0aW9uSGVscGVyKGEsYik7dGhpcy5yZW5kZXJIaWdobGlnaHQodGhpcy5ldmVudFRvU3BhbihhKSl9LHVucmVuZGVyRHJhZzpmdW5jdGlvbigpe3RoaXMudW5yZW5kZXJIZWxwZXIoKTt0aGlzLnVucmVuZGVySGlnaGxpZ2h0KCl9LHJlbmRlckV2ZW50UmVzaXplOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMucmVuZGVyRXZlbnRMb2NhdGlvbkhlbHBlcihhLGIpfSx1bnJlbmRlckV2ZW50UmVzaXplOmZ1bmN0aW9uKCl7dGhpcy51bnJlbmRlckhlbHBlcigpfSxyZW5kZXJIZWxwZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5yZW5kZXJIZWxwZXJTZWdzKHRoaXMuZXZlbnRUb1NlZ3MoYSksCmIpfSx1bnJlbmRlckhlbHBlcjpmdW5jdGlvbigpe3RoaXMudW5yZW5kZXJIZWxwZXJTZWdzKCl9LHJlbmRlckJ1c2luZXNzSG91cnM6ZnVuY3Rpb24oKXt0aGlzLnJlbmRlckJ1c2luZXNzU2Vncyh0aGlzLmJ1aWxkQnVzaW5lc3NIb3VyU2VncygpKX0sdW5yZW5kZXJCdXNpbmVzc0hvdXJzOmZ1bmN0aW9uKCl7dGhpcy51bnJlbmRlckJ1c2luZXNzU2VncygpfSxnZXROb3dJbmRpY2F0b3JVbml0OmZ1bmN0aW9uKCl7cmV0dXJuIm1pbnV0ZSJ9LHJlbmRlck5vd0luZGljYXRvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnNwYW5Ub1NlZ3Moe3N0YXJ0OmEsZW5kOmF9KTthPXRoaXMuY29tcHV0ZURhdGVUb3AoYSxhKTt2YXIgYz1bXSxlO2ZvcihlPTA7ZTxiLmxlbmd0aDtlKyspYy5wdXNoKGcoJzxkaXYgY2xhc3M9ImZjLW5vdy1pbmRpY2F0b3IgZmMtbm93LWluZGljYXRvci1saW5lIj48L2Rpdj4nKS5jc3MoInRvcCIsYSkuYXBwZW5kVG8odGhpcy5jb2xDb250YWluZXJFbHMuZXEoYltlXS5jb2wpKVswXSk7CjA8Yi5sZW5ndGgmJmMucHVzaChnKCc8ZGl2IGNsYXNzPSJmYy1ub3ctaW5kaWNhdG9yIGZjLW5vdy1pbmRpY2F0b3ItYXJyb3ciPjwvZGl2PicpLmNzcygidG9wIixhKS5hcHBlbmRUbyh0aGlzLmVsLmZpbmQoIi5mYy1jb250ZW50LXNrZWxldG9uIikpWzBdKTt0aGlzLm5vd0luZGljYXRvckVscz1nKGMpfSx1bnJlbmRlck5vd0luZGljYXRvcjpmdW5jdGlvbigpe3RoaXMubm93SW5kaWNhdG9yRWxzJiYodGhpcy5ub3dJbmRpY2F0b3JFbHMucmVtb3ZlKCksdGhpcy5ub3dJbmRpY2F0b3JFbHM9bnVsbCl9LHJlbmRlclNlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLnZpZXcub3B0KCJzZWxlY3RIZWxwZXIiKT90aGlzLnJlbmRlckV2ZW50TG9jYXRpb25IZWxwZXIoYSk6dGhpcy5yZW5kZXJIaWdobGlnaHQoYSl9LHVucmVuZGVyU2VsZWN0aW9uOmZ1bmN0aW9uKCl7dGhpcy51bnJlbmRlckhlbHBlcigpO3RoaXMudW5yZW5kZXJIaWdobGlnaHQoKX0scmVuZGVySGlnaGxpZ2h0OmZ1bmN0aW9uKGEpe3RoaXMucmVuZGVySGlnaGxpZ2h0U2Vncyh0aGlzLnNwYW5Ub1NlZ3MoYSkpfSwKdW5yZW5kZXJIaWdobGlnaHQ6ZnVuY3Rpb24oKXt0aGlzLnVucmVuZGVySGlnaGxpZ2h0U2VncygpfX0pO0ZhLm1peGluKHtjb2xDb250YWluZXJFbHM6bnVsbCxmZ0NvbnRhaW5lckVsczpudWxsLGJnQ29udGFpbmVyRWxzOm51bGwsaGVscGVyQ29udGFpbmVyRWxzOm51bGwsaGlnaGxpZ2h0Q29udGFpbmVyRWxzOm51bGwsYnVzaW5lc3NDb250YWluZXJFbHM6bnVsbCxmZ1NlZ3M6bnVsbCxiZ1NlZ3M6bnVsbCxoZWxwZXJTZWdzOm51bGwsaGlnaGxpZ2h0U2VnczpudWxsLGJ1c2luZXNzU2VnczpudWxsLHJlbmRlckNvbnRlbnRTa2VsZXRvbjpmdW5jdGlvbigpe3ZhciBhPSIiLGI7Zm9yKGI9MDtiPHRoaXMuY29sQ250O2IrKylhKz0nPHRkPjxkaXYgY2xhc3M9ImZjLWNvbnRlbnQtY29sIj48ZGl2IGNsYXNzPSJmYy1ldmVudC1jb250YWluZXIgZmMtaGVscGVyLWNvbnRhaW5lciI+PC9kaXY+PGRpdiBjbGFzcz0iZmMtZXZlbnQtY29udGFpbmVyIj48L2Rpdj48ZGl2IGNsYXNzPSJmYy1oaWdobGlnaHQtY29udGFpbmVyIj48L2Rpdj48ZGl2IGNsYXNzPSJmYy1iZ2V2ZW50LWNvbnRhaW5lciI+PC9kaXY+PGRpdiBjbGFzcz0iZmMtYnVzaW5lc3MtY29udGFpbmVyIj48L2Rpdj48L2Rpdj48L3RkPic7CmE9ZygnPGRpdiBjbGFzcz0iZmMtY29udGVudC1za2VsZXRvbiI+PHRhYmxlPjx0cj4nK2ErIjwvdHI+PC90YWJsZT48L2Rpdj4iKTt0aGlzLmNvbENvbnRhaW5lckVscz1hLmZpbmQoIi5mYy1jb250ZW50LWNvbCIpO3RoaXMuaGVscGVyQ29udGFpbmVyRWxzPWEuZmluZCgiLmZjLWhlbHBlci1jb250YWluZXIiKTt0aGlzLmZnQ29udGFpbmVyRWxzPWEuZmluZCgiLmZjLWV2ZW50LWNvbnRhaW5lcjpub3QoLmZjLWhlbHBlci1jb250YWluZXIpIik7dGhpcy5iZ0NvbnRhaW5lckVscz1hLmZpbmQoIi5mYy1iZ2V2ZW50LWNvbnRhaW5lciIpO3RoaXMuaGlnaGxpZ2h0Q29udGFpbmVyRWxzPWEuZmluZCgiLmZjLWhpZ2hsaWdodC1jb250YWluZXIiKTt0aGlzLmJ1c2luZXNzQ29udGFpbmVyRWxzPWEuZmluZCgiLmZjLWJ1c2luZXNzLWNvbnRhaW5lciIpO3RoaXMuYm9va2VuZENlbGxzKGEuZmluZCgidHIiKSk7dGhpcy5lbC5hcHBlbmQoYSl9LHJlbmRlckZnU2VnczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5mZ1NlZ3M9CmE9dGhpcy5yZW5kZXJGZ1NlZ3NJbnRvQ29udGFpbmVycyhhLHRoaXMuZmdDb250YWluZXJFbHMpfSx1bnJlbmRlckZnU2VnczpmdW5jdGlvbigpe3RoaXMudW5yZW5kZXJOYW1lZFNlZ3MoImZnU2VncyIpfSxyZW5kZXJIZWxwZXJTZWdzOmZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZSxkLGY7YT10aGlzLnJlbmRlckZnU2Vnc0ludG9Db250YWluZXJzKGEsdGhpcy5oZWxwZXJDb250YWluZXJFbHMpO2ZvcihlPTA7ZTxhLmxlbmd0aDtlKyspZD1hW2VdLGImJmIuY29sPT09ZC5jb2wmJihmPWIuZWwsZC5lbC5jc3Moe2xlZnQ6Zi5jc3MoImxlZnQiKSxyaWdodDpmLmNzcygicmlnaHQiKSwibWFyZ2luLWxlZnQiOmYuY3NzKCJtYXJnaW4tbGVmdCIpLCJtYXJnaW4tcmlnaHQiOmYuY3NzKCJtYXJnaW4tcmlnaHQiKX0pKSxjLnB1c2goZC5lbFswXSk7dGhpcy5oZWxwZXJTZWdzPWE7cmV0dXJuIGcoYyl9LHVucmVuZGVySGVscGVyU2VnczpmdW5jdGlvbigpe3RoaXMudW5yZW5kZXJOYW1lZFNlZ3MoImhlbHBlclNlZ3MiKX0sCnJlbmRlckJnU2VnczpmdW5jdGlvbihhKXthPXRoaXMucmVuZGVyRmlsbFNlZ0VscygiYmdFdmVudCIsYSk7dGhpcy51cGRhdGVTZWdWZXJ0aWNhbHMoYSk7dGhpcy5hdHRhY2hTZWdzQnlDb2wodGhpcy5ncm91cFNlZ3NCeUNvbChhKSx0aGlzLmJnQ29udGFpbmVyRWxzKTtyZXR1cm4gdGhpcy5iZ1NlZ3M9YX0sdW5yZW5kZXJCZ1NlZ3M6ZnVuY3Rpb24oKXt0aGlzLnVucmVuZGVyTmFtZWRTZWdzKCJiZ1NlZ3MiKX0scmVuZGVySGlnaGxpZ2h0U2VnczpmdW5jdGlvbihhKXthPXRoaXMucmVuZGVyRmlsbFNlZ0VscygiaGlnaGxpZ2h0IixhKTt0aGlzLnVwZGF0ZVNlZ1ZlcnRpY2FscyhhKTt0aGlzLmF0dGFjaFNlZ3NCeUNvbCh0aGlzLmdyb3VwU2Vnc0J5Q29sKGEpLHRoaXMuaGlnaGxpZ2h0Q29udGFpbmVyRWxzKTt0aGlzLmhpZ2hsaWdodFNlZ3M9YX0sdW5yZW5kZXJIaWdobGlnaHRTZWdzOmZ1bmN0aW9uKCl7dGhpcy51bnJlbmRlck5hbWVkU2VncygiaGlnaGxpZ2h0U2VncyIpfSwKcmVuZGVyQnVzaW5lc3NTZWdzOmZ1bmN0aW9uKGEpe2E9dGhpcy5yZW5kZXJGaWxsU2VnRWxzKCJidXNpbmVzc0hvdXJzIixhKTt0aGlzLnVwZGF0ZVNlZ1ZlcnRpY2FscyhhKTt0aGlzLmF0dGFjaFNlZ3NCeUNvbCh0aGlzLmdyb3VwU2Vnc0J5Q29sKGEpLHRoaXMuYnVzaW5lc3NDb250YWluZXJFbHMpO3RoaXMuYnVzaW5lc3NTZWdzPWF9LHVucmVuZGVyQnVzaW5lc3NTZWdzOmZ1bmN0aW9uKCl7dGhpcy51bnJlbmRlck5hbWVkU2VncygiYnVzaW5lc3NTZWdzIil9LGdyb3VwU2Vnc0J5Q29sOmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM7Zm9yKGM9MDtjPHRoaXMuY29sQ250O2MrKyliLnB1c2goW10pO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspYlthW2NdLmNvbF0ucHVzaChhW2NdKTtyZXR1cm4gYn0sYXR0YWNoU2Vnc0J5Q29sOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxkO2ZvcihjPTA7Yzx0aGlzLmNvbENudDtjKyspZm9yKGU9YVtjXSxkPTA7ZDxlLmxlbmd0aDtkKyspYi5lcShjKS5hcHBlbmQoZVtkXS5lbCl9LAp1bnJlbmRlck5hbWVkU2VnczpmdW5jdGlvbihhKXt2YXIgYj10aGlzW2FdLGM7aWYoYil7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKyliW2NdLmVsLnJlbW92ZSgpO3RoaXNbYV09bnVsbH19LHJlbmRlckZnU2Vnc0ludG9Db250YWluZXJzOmZ1bmN0aW9uKGEsYil7dmFyIGMsZTthPXRoaXMucmVuZGVyRmdTZWdFbHMoYSk7Yz10aGlzLmdyb3VwU2Vnc0J5Q29sKGEpO2ZvcihlPTA7ZTx0aGlzLmNvbENudDtlKyspdGhpcy51cGRhdGVGZ1NlZ0Nvb3JkcyhjW2VdKTt0aGlzLmF0dGFjaFNlZ3NCeUNvbChjLGIpO3JldHVybiBhfSxmZ1NlZ0h0bWw6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnZpZXcsZT1hLmV2ZW50LGQ9Yy5pc0V2ZW50RHJhZ2dhYmxlKGUpLGY9IWImJmEuaXNTdGFydCYmYy5pc0V2ZW50UmVzaXphYmxlRnJvbVN0YXJ0KGUpO2I9IWImJmEuaXNFbmQmJmMuaXNFdmVudFJlc2l6YWJsZUZyb21FbmQoZSk7dmFyIGQ9dGhpcy5nZXRTZWdDbGFzc2VzKGEsZCxmfHxiKSxmPWZiKHRoaXMuZ2V0U2VnU2tpbkNzcyhhKSksCmcsbSxwO2QudW5zaGlmdCgiZmMtdGltZS1ncmlkLWV2ZW50IiwiZmMtdi1ldmVudCIpO2lmKGMuaXNNdWx0aURheUV2ZW50KGUpKXtpZihhLmlzU3RhcnR8fGEuaXNFbmQpZz10aGlzLmdldEV2ZW50VGltZVRleHQoYSksbT10aGlzLmdldEV2ZW50VGltZVRleHQoYSwiTFQiKSxwPXRoaXMuZ2V0RXZlbnRUaW1lVGV4dChhLG51bGwsITEpfWVsc2UgZz10aGlzLmdldEV2ZW50VGltZVRleHQoZSksbT10aGlzLmdldEV2ZW50VGltZVRleHQoZSwiTFQiKSxwPXRoaXMuZ2V0RXZlbnRUaW1lVGV4dChlLG51bGwsITEpO3JldHVybic8YSBjbGFzcz0iJytkLmpvaW4oIiAiKSsnIicrKGUudXJsPycgaHJlZj0iJytNKGUudXJsKSsnIic6IiIpKyhmPycgc3R5bGU9IicrZisnIic6IiIpKyc+PGRpdiBjbGFzcz0iZmMtY29udGVudCI+JysoZz8nPGRpdiBjbGFzcz0iZmMtdGltZSIgZGF0YS1zdGFydD0iJytNKHApKyciIGRhdGEtZnVsbD0iJytNKG0pKyciPjxzcGFuPicrTShnKSsiPC9zcGFuPjwvZGl2PiI6CiIiKSsoZS50aXRsZT8nPGRpdiBjbGFzcz0iZmMtdGl0bGUiPicrTShlLnRpdGxlKSsiPC9kaXY+IjoiIikrJzwvZGl2PjxkaXYgY2xhc3M9ImZjLWJnIi8+JysoYj8nPGRpdiBjbGFzcz0iZmMtcmVzaXplciBmYy1lbmQtcmVzaXplciIgLz4nOiIiKSsiPC9hPiJ9LHVwZGF0ZVNlZ1ZlcnRpY2FsczpmdW5jdGlvbihhKXt0aGlzLmNvbXB1dGVTZWdWZXJ0aWNhbHMoYSk7dGhpcy5hc3NpZ25TZWdWZXJ0aWNhbHMoYSl9LGNvbXB1dGVTZWdWZXJ0aWNhbHM6ZnVuY3Rpb24oYSl7dmFyIGIsYztmb3IoYj0wO2I8YS5sZW5ndGg7YisrKWM9YVtiXSxjLnRvcD10aGlzLmNvbXB1dGVEYXRlVG9wKGMuc3RhcnQsYy5zdGFydCksYy5ib3R0b209dGhpcy5jb21wdXRlRGF0ZVRvcChjLmVuZCxjLnN0YXJ0KX0sYXNzaWduU2VnVmVydGljYWxzOmZ1bmN0aW9uKGEpe3ZhciBiLGM7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKyljPWFbYl0sYy5lbC5jc3ModGhpcy5nZW5lcmF0ZVNlZ1ZlcnRpY2FsQ3NzKGMpKX0sCmdlbmVyYXRlU2VnVmVydGljYWxDc3M6ZnVuY3Rpb24oYSl7cmV0dXJue3RvcDphLnRvcCxib3R0b206LWEuYm90dG9tfX0sdXBkYXRlRmdTZWdDb29yZHM6ZnVuY3Rpb24oYSl7dGhpcy5jb21wdXRlU2VnVmVydGljYWxzKGEpO3RoaXMuY29tcHV0ZUZnU2VnSG9yaXpvbnRhbHMoYSk7dGhpcy5hc3NpZ25TZWdWZXJ0aWNhbHMoYSk7dGhpcy5hc3NpZ25GZ1NlZ0hvcml6b250YWxzKGEpfSxjb21wdXRlRmdTZWdIb3Jpem9udGFsczpmdW5jdGlvbihhKXt2YXIgYjt0aGlzLnNvcnRFdmVudFNlZ3MoYSk7Yj1bXTt2YXIgYyxlLGQ7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl7ZT1hW2NdO2ZvcihkPTA7ZDxiLmxlbmd0aCYmVmIoZSxiW2RdKS5sZW5ndGg7ZCsrKTtlLmxldmVsPWQ7KGJbZF18fChiW2RdPVtdKSkucHVzaChlKX12YXIgZjtmb3IoYT0wO2E8Yi5sZW5ndGg7YSsrKWZvcihjPWJbYV0sZT0wO2U8Yy5sZW5ndGg7ZSsrKWZvcihkPWNbZV0sZC5mb3J3YXJkU2Vncz1bXSxmPWErMTtmPApiLmxlbmd0aDtmKyspVmIoZCxiW2ZdLGQuZm9yd2FyZFNlZ3MpO2lmKGI9YlswXSl7Zm9yKGE9MDthPGIubGVuZ3RoO2ErKylwKGJbYV0pO2ZvcihhPTA7YTxiLmxlbmd0aDthKyspdGhpcy5jb21wdXRlRmdTZWdGb3J3YXJkQmFjayhiW2FdLDAsMCl9fSxjb21wdXRlRmdTZWdGb3J3YXJkQmFjazpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5mb3J3YXJkU2VncztpZih2b2lkIDA9PT1hLmZvcndhcmRDb29yZClmb3IoZC5sZW5ndGg/KHRoaXMuc29ydEZvcndhcmRTZWdzKGQpLHRoaXMuY29tcHV0ZUZnU2VnRm9yd2FyZEJhY2soZFswXSxiKzEsYyksYS5mb3J3YXJkQ29vcmQ9ZFswXS5iYWNrd2FyZENvb3JkKTphLmZvcndhcmRDb29yZD0xLGEuYmFja3dhcmRDb29yZD1hLmZvcndhcmRDb29yZC0oYS5mb3J3YXJkQ29vcmQtYykvKGIrMSksYj0wO2I8ZC5sZW5ndGg7YisrKXRoaXMuY29tcHV0ZUZnU2VnRm9yd2FyZEJhY2soZFtiXSwwLGEuZm9yd2FyZENvb3JkKX0sc29ydEZvcndhcmRTZWdzOmZ1bmN0aW9uKGEpe2Euc29ydChYKHRoaXMsCiJjb21wYXJlRm9yd2FyZFNlZ3MiKSl9LGNvbXBhcmVGb3J3YXJkU2VnczpmdW5jdGlvbihhLGIpe3JldHVybiBiLmZvcndhcmRQcmVzc3VyZS1hLmZvcndhcmRQcmVzc3VyZXx8KGEuYmFja3dhcmRDb29yZHx8MCktKGIuYmFja3dhcmRDb29yZHx8MCl8fHRoaXMuY29tcGFyZUV2ZW50U2VncyhhLGIpfSxhc3NpZ25GZ1NlZ0hvcml6b250YWxzOmZ1bmN0aW9uKGEpe3ZhciBiLGM7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKyljPWFbYl0sYy5lbC5jc3ModGhpcy5nZW5lcmF0ZUZnU2VnSG9yaXpvbnRhbENzcyhjKSksMzA+Yy5ib3R0b20tYy50b3AmJmMuZWwuYWRkQ2xhc3MoImZjLXNob3J0Iil9LGdlbmVyYXRlRmdTZWdIb3Jpem9udGFsQ3NzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudmlldy5vcHQoInNsb3RFdmVudE92ZXJsYXAiKSxjPWEuYmFja3dhcmRDb29yZCxkPWEuZm9yd2FyZENvb3JkLGc9dGhpcy5nZW5lcmF0ZVNlZ1ZlcnRpY2FsQ3NzKGEpLGY7YiYmKGQ9TWF0aC5taW4oMSwKYysyKihkLWMpKSk7dGhpcy5pc1JUTD9mPTEtZDooZj1jLGM9MS1kKTtnLnpJbmRleD1hLmxldmVsKzE7Zy5sZWZ0PTEwMCpmKyIlIjtnLnJpZ2h0PTEwMCpjKyIlIjtiJiZhLmZvcndhcmRQcmVzc3VyZSYmKGdbdGhpcy5pc1JUTD8ibWFyZ2luTGVmdCI6Im1hcmdpblJpZ2h0Il09MjApO3JldHVybiBnfX0pO3ZhciB2YT12LlZpZXc9ZC5leHRlbmQoQ2IsSmEse3R5cGU6bnVsbCxuYW1lOm51bGwsdGl0bGU6bnVsbCxjYWxlbmRhcjpudWxsLG9wdGlvbnM6bnVsbCxlbDpudWxsLGRpc3BsYXlpbmc6bnVsbCxpc1NrZWxldG9uUmVuZGVyZWQ6ITEsaXNFdmVudHNSZW5kZXJlZDohMSxzdGFydDpudWxsLGVuZDpudWxsLGludGVydmFsU3RhcnQ6bnVsbCxpbnRlcnZhbEVuZDpudWxsLGludGVydmFsRHVyYXRpb246bnVsbCxpbnRlcnZhbFVuaXQ6bnVsbCxpc1JUTDohMSxpc1NlbGVjdGVkOiExLHNlbGVjdGVkRXZlbnQ6bnVsbCxldmVudE9yZGVyU3BlY3M6bnVsbCx3aWRnZXRIZWFkZXJDbGFzczpudWxsLAp3aWRnZXRDb250ZW50Q2xhc3M6bnVsbCxoaWdobGlnaHRTdGF0ZUNsYXNzOm51bGwsbmV4dERheVRocmVzaG9sZDpudWxsLGlzSGlkZGVuRGF5SGFzaDpudWxsLGlzTm93SW5kaWNhdG9yUmVuZGVyZWQ6bnVsbCxpbml0aWFsTm93RGF0ZTpudWxsLGluaXRpYWxOb3dRdWVyaWVkTXM6bnVsbCxub3dJbmRpY2F0b3JUaW1lb3V0SUQ6bnVsbCxub3dJbmRpY2F0b3JJbnRlcnZhbElEOm51bGwsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5jYWxlbmRhcj1hO3RoaXMudHlwZT10aGlzLm5hbWU9Yjt0aGlzLm9wdGlvbnM9Yzt0aGlzLmludGVydmFsRHVyYXRpb249ZHx8cS5kdXJhdGlvbigxLCJkYXkiKTt0aGlzLm5leHREYXlUaHJlc2hvbGQ9cS5kdXJhdGlvbih0aGlzLm9wdCgibmV4dERheVRocmVzaG9sZCIpKTt0aGlzLmluaXRUaGVtaW5nUHJvcHMoKTt0aGlzLmluaXRIaWRkZW5EYXlzKCk7dGhpcy5pc1JUTD10aGlzLm9wdCgiaXNSVEwiKTt0aGlzLmV2ZW50T3JkZXJTcGVjcz0KTGIodGhpcy5vcHQoImV2ZW50T3JkZXIiKSk7dGhpcy5pbml0aWFsaXplKCl9LGluaXRpYWxpemU6ZnVuY3Rpb24oKXt9LG9wdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zW2FdfSx0cmlnZ2VyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jYWxlbmRhcjtyZXR1cm4gYy50cmlnZ2VyLmFwcGx5KGMsW2EsYnx8dGhpc10uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSxbdGhpc10pKX0sc2V0RGF0ZTpmdW5jdGlvbihhKXt0aGlzLnNldFJhbmdlKHRoaXMuY29tcHV0ZVJhbmdlKGEpKX0sc2V0UmFuZ2U6ZnVuY3Rpb24oYSl7Zy5leHRlbmQodGhpcyxhKTt0aGlzLnVwZGF0ZVRpdGxlKCl9LGNvbXB1dGVSYW5nZTpmdW5jdGlvbihhKXt2YXIgYj1FYSh0aGlzLmludGVydmFsRHVyYXRpb24pO2E9YS5jbG9uZSgpLnN0YXJ0T2YoYik7dmFyIGM9YS5jbG9uZSgpLmFkZCh0aGlzLmludGVydmFsRHVyYXRpb24pLGQsZzsveWVhcnxtb250aHx3ZWVrfGRheS8udGVzdChiKT8KKGEuc3RyaXBUaW1lKCksYy5zdHJpcFRpbWUoKSk6KGEuaGFzVGltZSgpfHwoYT10aGlzLmNhbGVuZGFyLnRpbWUoMCkpLGMuaGFzVGltZSgpfHwoYz10aGlzLmNhbGVuZGFyLnRpbWUoMCkpKTtkPWEuY2xvbmUoKTtkPXRoaXMuc2tpcEhpZGRlbkRheXMoZCk7Zz1jLmNsb25lKCk7Zz10aGlzLnNraXBIaWRkZW5EYXlzKGcsLTEsITApO3JldHVybntpbnRlcnZhbFVuaXQ6YixpbnRlcnZhbFN0YXJ0OmEsaW50ZXJ2YWxFbmQ6YyxzdGFydDpkLGVuZDpnfX0sY29tcHV0ZVByZXZEYXRlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hc3NhZ2VDdXJyZW50RGF0ZShhLmNsb25lKCkuc3RhcnRPZih0aGlzLmludGVydmFsVW5pdCkuc3VidHJhY3QodGhpcy5pbnRlcnZhbER1cmF0aW9uKSwtMSl9LGNvbXB1dGVOZXh0RGF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYXNzYWdlQ3VycmVudERhdGUoYS5jbG9uZSgpLnN0YXJ0T2YodGhpcy5pbnRlcnZhbFVuaXQpLmFkZCh0aGlzLmludGVydmFsRHVyYXRpb24pKX0sCm1hc3NhZ2VDdXJyZW50RGF0ZTpmdW5jdGlvbihhLGIpezE+PXRoaXMuaW50ZXJ2YWxEdXJhdGlvbi5hcygiZGF5cyIpJiZ0aGlzLmlzSGlkZGVuRGF5KGEpJiYoYT10aGlzLnNraXBIaWRkZW5EYXlzKGEsYiksYS5zdGFydE9mKCJkYXkiKSk7cmV0dXJuIGF9LHVwZGF0ZVRpdGxlOmZ1bmN0aW9uKCl7dGhpcy50aXRsZT10aGlzLmNvbXB1dGVUaXRsZSgpfSxjb21wdXRlVGl0bGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb3JtYXRSYW5nZSh7c3RhcnQ6dGhpcy5jYWxlbmRhci5hcHBseVRpbWV6b25lKHRoaXMuaW50ZXJ2YWxTdGFydCksZW5kOnRoaXMuY2FsZW5kYXIuYXBwbHlUaW1lem9uZSh0aGlzLmludGVydmFsRW5kKX0sdGhpcy5vcHQoInRpdGxlRm9ybWF0Iil8fHRoaXMuY29tcHV0ZVRpdGxlRm9ybWF0KCksdGhpcy5vcHQoInRpdGxlUmFuZ2VTZXBhcmF0b3IiKSl9LGNvbXB1dGVUaXRsZUZvcm1hdDpmdW5jdGlvbigpe3JldHVybiJ5ZWFyIj09dGhpcy5pbnRlcnZhbFVuaXQ/CiJZWVlZIjoibW9udGgiPT10aGlzLmludGVydmFsVW5pdD90aGlzLm9wdCgibW9udGhZZWFyRm9ybWF0Iik6MTx0aGlzLmludGVydmFsRHVyYXRpb24uYXMoImRheXMiKT8ibGwiOiJMTCJ9LGZvcm1hdFJhbmdlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmVuZDtkLmhhc1RpbWUoKXx8KGQ9ZC5jbG9uZSgpLnN1YnRyYWN0KDEpKTtyZXR1cm4gWGEoYS5zdGFydCxkLGIsYyx0aGlzLm9wdCgiaXNSVEwiKSl9LHNldEVsZW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5lbD1hO3RoaXMuYmluZEdsb2JhbEhhbmRsZXJzKCl9LHJlbW92ZUVsZW1lbnQ6ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCk7dGhpcy5pc1NrZWxldG9uUmVuZGVyZWQmJih0aGlzLnVucmVuZGVyU2tlbGV0b24oKSx0aGlzLmlzU2tlbGV0b25SZW5kZXJlZD0hMSk7dGhpcy51bmJpbmRHbG9iYWxIYW5kbGVycygpO3RoaXMuZWwucmVtb3ZlKCl9LGRpc3BsYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9bnVsbDtudWxsIT1iJiYKdGhpcy5kaXNwbGF5aW5nJiYoZD10aGlzLnF1ZXJ5U2Nyb2xsKCkpO3RoaXMuY2FsZW5kYXIuZnJlZXplQ29udGVudEhlaWdodCgpO3JldHVybiBXYSh0aGlzLmNsZWFyKCksZnVuY3Rpb24oKXtyZXR1cm4gYy5kaXNwbGF5aW5nPVdhKGMuZGlzcGxheVZpZXcoYSksZnVuY3Rpb24oKXtudWxsIT1iP2Muc2V0U2Nyb2xsKGIpOmMuZm9yY2VTY3JvbGwoYy5jb21wdXRlSW5pdGlhbFNjcm9sbChkKSk7Yy5jYWxlbmRhci51bmZyZWV6ZUNvbnRlbnRIZWlnaHQoKTtjLnRyaWdnZXJSZW5kZXIoKX0pfSl9LGNsZWFyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPXRoaXMuZGlzcGxheWluZztyZXR1cm4gYj9XYShiLGZ1bmN0aW9uKCl7YS5kaXNwbGF5aW5nPW51bGw7YS5jbGVhckV2ZW50cygpO3JldHVybiBhLmNsZWFyVmlldygpfSk6Zy53aGVuKCl9LGRpc3BsYXlWaWV3OmZ1bmN0aW9uKGEpe3RoaXMuaXNTa2VsZXRvblJlbmRlcmVkfHwodGhpcy5yZW5kZXJTa2VsZXRvbigpLHRoaXMuaXNTa2VsZXRvblJlbmRlcmVkPQohMCk7YSYmdGhpcy5zZXREYXRlKGEpO3RoaXMucmVuZGVyJiZ0aGlzLnJlbmRlcigpO3RoaXMucmVuZGVyRGF0ZXMoKTt0aGlzLnVwZGF0ZVNpemUoKTt0aGlzLnJlbmRlckJ1c2luZXNzSG91cnMoKTt0aGlzLnN0YXJ0Tm93SW5kaWNhdG9yKCl9LGNsZWFyVmlldzpmdW5jdGlvbigpe3RoaXMudW5zZWxlY3QoKTt0aGlzLnN0b3BOb3dJbmRpY2F0b3IoKTt0aGlzLnRyaWdnZXJVbnJlbmRlcigpO3RoaXMudW5yZW5kZXJCdXNpbmVzc0hvdXJzKCk7dGhpcy51bnJlbmRlckRhdGVzKCk7dGhpcy5kZXN0cm95JiZ0aGlzLmRlc3Ryb3koKX0scmVuZGVyU2tlbGV0b246ZnVuY3Rpb24oKXt9LHVucmVuZGVyU2tlbGV0b246ZnVuY3Rpb24oKXt9LHJlbmRlckRhdGVzOmZ1bmN0aW9uKCl7fSx1bnJlbmRlckRhdGVzOmZ1bmN0aW9uKCl7fSx0cmlnZ2VyUmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyKCJ2aWV3UmVuZGVyIix0aGlzLHRoaXMsdGhpcy5lbCl9LHRyaWdnZXJVbnJlbmRlcjpmdW5jdGlvbigpe3RoaXMudHJpZ2dlcigidmlld0Rlc3Ryb3kiLAp0aGlzLHRoaXMsdGhpcy5lbCl9LGJpbmRHbG9iYWxIYW5kbGVyczpmdW5jdGlvbigpe3RoaXMubGlzdGVuVG8oZyhkb2N1bWVudCksIm1vdXNlZG93biIsdGhpcy5oYW5kbGVEb2N1bWVudE1vdXNlZG93bik7dGhpcy5saXN0ZW5UbyhnKGRvY3VtZW50KSwidG91Y2hzdGFydCIsdGhpcy5wcm9jZXNzVW5zZWxlY3QpfSx1bmJpbmRHbG9iYWxIYW5kbGVyczpmdW5jdGlvbigpe3RoaXMuc3RvcExpc3RlbmluZ1RvKGcoZG9jdW1lbnQpKX0saW5pdFRoZW1pbmdQcm9wczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0KCJ0aGVtZSIpPyJ1aSI6ImZjIjt0aGlzLndpZGdldEhlYWRlckNsYXNzPWErIi13aWRnZXQtaGVhZGVyIjt0aGlzLndpZGdldENvbnRlbnRDbGFzcz1hKyItd2lkZ2V0LWNvbnRlbnQiO3RoaXMuaGlnaGxpZ2h0U3RhdGVDbGFzcz1hKyItc3RhdGUtaGlnaGxpZ2h0In0scmVuZGVyQnVzaW5lc3NIb3VyczpmdW5jdGlvbigpe30sdW5yZW5kZXJCdXNpbmVzc0hvdXJzOmZ1bmN0aW9uKCl7fSwKc3RhcnROb3dJbmRpY2F0b3I6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGIsYyxkO3RoaXMub3B0KCJub3dJbmRpY2F0b3IiKSYmKGI9dGhpcy5nZXROb3dJbmRpY2F0b3JVbml0KCkpJiYoYz1YKHRoaXMsInVwZGF0ZU5vd0luZGljYXRvciIpLHRoaXMuaW5pdGlhbE5vd0RhdGU9dGhpcy5jYWxlbmRhci5nZXROb3coKSx0aGlzLmluaXRpYWxOb3dRdWVyaWVkTXM9K25ldyBEYXRlLHRoaXMucmVuZGVyTm93SW5kaWNhdG9yKHRoaXMuaW5pdGlhbE5vd0RhdGUpLHRoaXMuaXNOb3dJbmRpY2F0b3JSZW5kZXJlZD0hMCxkPXRoaXMuaW5pdGlhbE5vd0RhdGUuY2xvbmUoKS5zdGFydE9mKGIpLmFkZCgxLGIpLXRoaXMuaW5pdGlhbE5vd0RhdGUsdGhpcy5ub3dJbmRpY2F0b3JUaW1lb3V0SUQ9c2V0VGltZW91dChmdW5jdGlvbigpe2Eubm93SW5kaWNhdG9yVGltZW91dElEPW51bGw7YygpO2Q9K3EuZHVyYXRpb24oMSxiKTtkPU1hdGgubWF4KDEwMCxkKTthLm5vd0luZGljYXRvckludGVydmFsSUQ9CnNldEludGVydmFsKGMsZCl9LGQpKX0sdXBkYXRlTm93SW5kaWNhdG9yOmZ1bmN0aW9uKCl7dGhpcy5pc05vd0luZGljYXRvclJlbmRlcmVkJiYodGhpcy51bnJlbmRlck5vd0luZGljYXRvcigpLHRoaXMucmVuZGVyTm93SW5kaWNhdG9yKHRoaXMuaW5pdGlhbE5vd0RhdGUuY2xvbmUoKS5hZGQobmV3IERhdGUtdGhpcy5pbml0aWFsTm93UXVlcmllZE1zKSkpfSxzdG9wTm93SW5kaWNhdG9yOmZ1bmN0aW9uKCl7dGhpcy5pc05vd0luZGljYXRvclJlbmRlcmVkJiYodGhpcy5ub3dJbmRpY2F0b3JUaW1lb3V0SUQmJihjbGVhclRpbWVvdXQodGhpcy5ub3dJbmRpY2F0b3JUaW1lb3V0SUQpLHRoaXMubm93SW5kaWNhdG9yVGltZW91dElEPW51bGwpLHRoaXMubm93SW5kaWNhdG9ySW50ZXJ2YWxJRCYmKGNsZWFyVGltZW91dCh0aGlzLm5vd0luZGljYXRvckludGVydmFsSUQpLHRoaXMubm93SW5kaWNhdG9ySW50ZXJ2YWxJRD1udWxsKSx0aGlzLnVucmVuZGVyTm93SW5kaWNhdG9yKCksdGhpcy5pc05vd0luZGljYXRvclJlbmRlcmVkPQohMSl9LGdldE5vd0luZGljYXRvclVuaXQ6ZnVuY3Rpb24oKXt9LHJlbmRlck5vd0luZGljYXRvcjpmdW5jdGlvbihhKXt9LHVucmVuZGVyTm93SW5kaWNhdG9yOmZ1bmN0aW9uKCl7fSx1cGRhdGVTaXplOmZ1bmN0aW9uKGEpe3ZhciBiO2EmJihiPXRoaXMucXVlcnlTY3JvbGwoKSk7dGhpcy51cGRhdGVIZWlnaHQoYSk7dGhpcy51cGRhdGVXaWR0aChhKTt0aGlzLnVwZGF0ZU5vd0luZGljYXRvcigpO2EmJnRoaXMuc2V0U2Nyb2xsKGIpfSx1cGRhdGVXaWR0aDpmdW5jdGlvbihhKXt9LHVwZGF0ZUhlaWdodDpmdW5jdGlvbihhKXthPXRoaXMuY2FsZW5kYXI7dGhpcy5zZXRIZWlnaHQoYS5nZXRTdWdnZXN0ZWRWaWV3SGVpZ2h0KCksYS5pc0hlaWdodEF1dG8oKSl9LHNldEhlaWdodDpmdW5jdGlvbihhLGIpe30sY29tcHV0ZUluaXRpYWxTY3JvbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIDB9LHF1ZXJ5U2Nyb2xsOmZ1bmN0aW9uKCl7fSxzZXRTY3JvbGw6ZnVuY3Rpb24oYSl7fSxmb3JjZVNjcm9sbDpmdW5jdGlvbihhKXt2YXIgYj0KdGhpczt0aGlzLnNldFNjcm9sbChhKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zZXRTY3JvbGwoYSl9LDApfSxkaXNwbGF5RXZlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucXVlcnlTY3JvbGwoKTt0aGlzLmNsZWFyRXZlbnRzKCk7dGhpcy5yZW5kZXJFdmVudHMoYSk7dGhpcy5pc0V2ZW50c1JlbmRlcmVkPSEwO3RoaXMuc2V0U2Nyb2xsKGIpO3RoaXMudHJpZ2dlckV2ZW50UmVuZGVyKCl9LGNsZWFyRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE7dGhpcy5pc0V2ZW50c1JlbmRlcmVkJiYoYT10aGlzLnF1ZXJ5U2Nyb2xsKCksdGhpcy50cmlnZ2VyRXZlbnRVbnJlbmRlcigpLHRoaXMuZGVzdHJveUV2ZW50cyYmdGhpcy5kZXN0cm95RXZlbnRzKCksdGhpcy51bnJlbmRlckV2ZW50cygpLHRoaXMuc2V0U2Nyb2xsKGEpLHRoaXMuaXNFdmVudHNSZW5kZXJlZD0hMSl9LHJlbmRlckV2ZW50czpmdW5jdGlvbihhKXt9LHVucmVuZGVyRXZlbnRzOmZ1bmN0aW9uKCl7fSx0cmlnZ2VyRXZlbnRSZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVkRXZlbnRTZWdFYWNoKGZ1bmN0aW9uKGEpe3RoaXMudHJpZ2dlcigiZXZlbnRBZnRlclJlbmRlciIsCmEuZXZlbnQsYS5ldmVudCxhLmVsKX0pO3RoaXMudHJpZ2dlcigiZXZlbnRBZnRlckFsbFJlbmRlciIpfSx0cmlnZ2VyRXZlbnRVbnJlbmRlcjpmdW5jdGlvbigpe3RoaXMucmVuZGVyZWRFdmVudFNlZ0VhY2goZnVuY3Rpb24oYSl7dGhpcy50cmlnZ2VyKCJldmVudERlc3Ryb3kiLGEuZXZlbnQsYS5ldmVudCxhLmVsKX0pfSxyZXNvbHZlRXZlbnRFbDpmdW5jdGlvbihhLGIpe2E9dGhpcy50cmlnZ2VyKCJldmVudFJlbmRlciIsYSxhLGIpOyExPT09YT9iPW51bGw6YSYmITAhPT1hJiYoYj1nKGEpKTtyZXR1cm4gYn0sc2hvd0V2ZW50OmZ1bmN0aW9uKGEpe3RoaXMucmVuZGVyZWRFdmVudFNlZ0VhY2goZnVuY3Rpb24oYSl7YS5lbC5jc3MoInZpc2liaWxpdHkiLCIiKX0sYSl9LGhpZGVFdmVudDpmdW5jdGlvbihhKXt0aGlzLnJlbmRlcmVkRXZlbnRTZWdFYWNoKGZ1bmN0aW9uKGEpe2EuZWwuY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIil9LGEpfSxyZW5kZXJlZEV2ZW50U2VnRWFjaDpmdW5jdGlvbihhLApiKXt2YXIgYz10aGlzLmdldEV2ZW50U2VncygpLGQ7Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKyliJiZjW2RdLmV2ZW50Ll9pZCE9PWIuX2lkfHxjW2RdLmVsJiZhLmNhbGwodGhpcyxjW2RdKX0sZ2V0RXZlbnRTZWdzOmZ1bmN0aW9uKCl7cmV0dXJuW119LGlzRXZlbnREcmFnZ2FibGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zb3VyY2V8fHt9O3JldHVybiBVKGEuc3RhcnRFZGl0YWJsZSxiLnN0YXJ0RWRpdGFibGUsdGhpcy5vcHQoImV2ZW50U3RhcnRFZGl0YWJsZSIpLGEuZWRpdGFibGUsYi5lZGl0YWJsZSx0aGlzLm9wdCgiZWRpdGFibGUiKSl9LHJlcG9ydEV2ZW50RHJvcDpmdW5jdGlvbihhLGIsYyxkLGcpe3ZhciBmPXRoaXMuY2FsZW5kYXIsaz1mLm11dGF0ZUV2ZW50KGEsYixjKTt0aGlzLnRyaWdnZXJFdmVudERyb3AoYSxrLmRhdGVEZWx0YSxmdW5jdGlvbigpe2sudW5kbygpO2YucmVwb3J0RXZlbnRDaGFuZ2UoKX0sZCxnKTtmLnJlcG9ydEV2ZW50Q2hhbmdlKCl9LHRyaWdnZXJFdmVudERyb3A6ZnVuY3Rpb24oYSwKYixjLGQsZyl7dGhpcy50cmlnZ2VyKCJldmVudERyb3AiLGRbMF0sYSxiLGMsZyx7fSl9LHJlcG9ydEV4dGVybmFsRHJvcDpmdW5jdGlvbihhLGIsYyxkLGgpe3ZhciBmPWEuZXZlbnRQcm9wcyxrO2YmJihmPWcuZXh0ZW5kKHt9LGYsYiksaz10aGlzLmNhbGVuZGFyLnJlbmRlckV2ZW50KGYsYS5zdGljaylbMF0pO3RoaXMudHJpZ2dlckV4dGVybmFsRHJvcChrLGIsYyxkLGgpfSx0cmlnZ2VyRXh0ZXJuYWxEcm9wOmZ1bmN0aW9uKGEsYixjLGQsZyl7dGhpcy50cmlnZ2VyKCJkcm9wIixjWzBdLGIuc3RhcnQsZCxnKTthJiZ0aGlzLnRyaWdnZXIoImV2ZW50UmVjZWl2ZSIsbnVsbCxhKX0scmVuZGVyRHJhZzpmdW5jdGlvbihhLGIpe30sdW5yZW5kZXJEcmFnOmZ1bmN0aW9uKCl7fSxpc0V2ZW50UmVzaXphYmxlRnJvbVN0YXJ0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9wdCgiZXZlbnRSZXNpemFibGVGcm9tU3RhcnQiKSYmdGhpcy5pc0V2ZW50UmVzaXphYmxlKGEpfSxpc0V2ZW50UmVzaXphYmxlRnJvbUVuZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0V2ZW50UmVzaXphYmxlKGEpfSwKaXNFdmVudFJlc2l6YWJsZTpmdW5jdGlvbihhKXt2YXIgYj1hLnNvdXJjZXx8e307cmV0dXJuIFUoYS5kdXJhdGlvbkVkaXRhYmxlLGIuZHVyYXRpb25FZGl0YWJsZSx0aGlzLm9wdCgiZXZlbnREdXJhdGlvbkVkaXRhYmxlIiksYS5lZGl0YWJsZSxiLmVkaXRhYmxlLHRoaXMub3B0KCJlZGl0YWJsZSIpKX0scmVwb3J0RXZlbnRSZXNpemU6ZnVuY3Rpb24oYSxiLGMsZCxnKXt2YXIgZj10aGlzLmNhbGVuZGFyLGs9Zi5tdXRhdGVFdmVudChhLGIsYyk7dGhpcy50cmlnZ2VyRXZlbnRSZXNpemUoYSxrLmR1cmF0aW9uRGVsdGEsZnVuY3Rpb24oKXtrLnVuZG8oKTtmLnJlcG9ydEV2ZW50Q2hhbmdlKCl9LGQsZyk7Zi5yZXBvcnRFdmVudENoYW5nZSgpfSx0cmlnZ2VyRXZlbnRSZXNpemU6ZnVuY3Rpb24oYSxiLGMsZCxnKXt0aGlzLnRyaWdnZXIoImV2ZW50UmVzaXplIixkWzBdLGEsYixjLGcse30pfSxzZWxlY3Q6ZnVuY3Rpb24oYSxiKXt0aGlzLnVuc2VsZWN0KGIpO3RoaXMucmVuZGVyU2VsZWN0aW9uKGEpOwp0aGlzLnJlcG9ydFNlbGVjdGlvbihhLGIpfSxyZW5kZXJTZWxlY3Rpb246ZnVuY3Rpb24oYSl7fSxyZXBvcnRTZWxlY3Rpb246ZnVuY3Rpb24oYSxiKXt0aGlzLmlzU2VsZWN0ZWQ9ITA7dGhpcy50cmlnZ2VyU2VsZWN0KGEsYil9LHRyaWdnZXJTZWxlY3Q6ZnVuY3Rpb24oYSxiKXt0aGlzLnRyaWdnZXIoInNlbGVjdCIsbnVsbCx0aGlzLmNhbGVuZGFyLmFwcGx5VGltZXpvbmUoYS5zdGFydCksdGhpcy5jYWxlbmRhci5hcHBseVRpbWV6b25lKGEuZW5kKSxiKX0sdW5zZWxlY3Q6ZnVuY3Rpb24oYSl7dGhpcy5pc1NlbGVjdGVkJiYodGhpcy5pc1NlbGVjdGVkPSExLHRoaXMuZGVzdHJveVNlbGVjdGlvbiYmdGhpcy5kZXN0cm95U2VsZWN0aW9uKCksdGhpcy51bnJlbmRlclNlbGVjdGlvbigpLHRoaXMudHJpZ2dlcigidW5zZWxlY3QiLG51bGwsYSkpfSx1bnJlbmRlclNlbGVjdGlvbjpmdW5jdGlvbigpe30sc2VsZWN0RXZlbnQ6ZnVuY3Rpb24oYSl7dGhpcy5zZWxlY3RlZEV2ZW50JiYKdGhpcy5zZWxlY3RlZEV2ZW50PT09YXx8KHRoaXMudW5zZWxlY3RFdmVudCgpLHRoaXMucmVuZGVyZWRFdmVudFNlZ0VhY2goZnVuY3Rpb24oYSl7YS5lbC5hZGRDbGFzcygiZmMtc2VsZWN0ZWQiKX0sYSksdGhpcy5zZWxlY3RlZEV2ZW50PWEpfSx1bnNlbGVjdEV2ZW50OmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZEV2ZW50JiYodGhpcy5yZW5kZXJlZEV2ZW50U2VnRWFjaChmdW5jdGlvbihhKXthLmVsLnJlbW92ZUNsYXNzKCJmYy1zZWxlY3RlZCIpfSx0aGlzLnNlbGVjdGVkRXZlbnQpLHRoaXMuc2VsZWN0ZWRFdmVudD1udWxsKX0saXNFdmVudFNlbGVjdGVkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNlbGVjdGVkRXZlbnQmJnRoaXMuc2VsZWN0ZWRFdmVudC5faWQ9PT1hLl9pZH0saGFuZGxlRG9jdW1lbnRNb3VzZWRvd246ZnVuY3Rpb24oYSl7MSE9YS53aGljaHx8YS5jdHJsS2V5fHx0aGlzLnByb2Nlc3NVbnNlbGVjdChhKX0scHJvY2Vzc1Vuc2VsZWN0OmZ1bmN0aW9uKGEpe3RoaXMucHJvY2Vzc1JhbmdlVW5zZWxlY3QoYSk7CnRoaXMucHJvY2Vzc0V2ZW50VW5zZWxlY3QoYSl9LHByb2Nlc3NSYW5nZVVuc2VsZWN0OmZ1bmN0aW9uKGEpe3ZhciBiO3RoaXMuaXNTZWxlY3RlZCYmdGhpcy5vcHQoInVuc2VsZWN0QXV0byIpJiYoKGI9dGhpcy5vcHQoInVuc2VsZWN0Q2FuY2VsIikpJiZnKGEudGFyZ2V0KS5jbG9zZXN0KGIpLmxlbmd0aHx8dGhpcy51bnNlbGVjdChhKSl9LHByb2Nlc3NFdmVudFVuc2VsZWN0OmZ1bmN0aW9uKGEpe3RoaXMuc2VsZWN0ZWRFdmVudCYmKGcoYS50YXJnZXQpLmNsb3Nlc3QoIi5mYy1zZWxlY3RlZCIpLmxlbmd0aHx8dGhpcy51bnNlbGVjdEV2ZW50KCkpfSx0cmlnZ2VyRGF5Q2xpY2s6ZnVuY3Rpb24oYSxiLGMpe3RoaXMudHJpZ2dlcigiZGF5Q2xpY2siLGIsdGhpcy5jYWxlbmRhci5hcHBseVRpbWV6b25lKGEuc3RhcnQpLGMpfSxpbml0SGlkZGVuRGF5czpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0KCJoaWRkZW5EYXlzIil8fFtdLGI9W10sYz0wLGQ7ITE9PT10aGlzLm9wdCgid2Vla2VuZHMiKSYmCmEucHVzaCgwLDYpO2ZvcihkPTA7Nz5kO2QrKykoYltkXT0tMSE9PWcuaW5BcnJheShkLGEpKXx8YysrO2lmKCFjKXRocm93ImludmFsaWQgaGlkZGVuRGF5cyI7dGhpcy5pc0hpZGRlbkRheUhhc2g9Yn0saXNIaWRkZW5EYXk6ZnVuY3Rpb24oYSl7cS5pc01vbWVudChhKSYmKGE9YS5kYXkoKSk7cmV0dXJuIHRoaXMuaXNIaWRkZW5EYXlIYXNoW2FdfSxza2lwSGlkZGVuRGF5czpmdW5jdGlvbihhLGIsYyl7YT1hLmNsb25lKCk7Zm9yKGI9Ynx8MTt0aGlzLmlzSGlkZGVuRGF5SGFzaFsoYS5kYXkoKSsoYz9iOjApKzcpJTddOylhLmFkZChiLCJkYXlzIik7cmV0dXJuIGF9LGNvbXB1dGVEYXlSYW5nZTpmdW5jdGlvbihhKXt2YXIgYj1hLnN0YXJ0LmNsb25lKCkuc3RyaXBUaW1lKCk7YT1hLmVuZDt2YXIgYz1udWxsLGQ7YSYmKGM9YS5jbG9uZSgpLnN0cmlwVGltZSgpLChkPSthLnRpbWUoKSkmJmQ+PXRoaXMubmV4dERheVRocmVzaG9sZCYmYy5hZGQoMSwiZGF5cyIpKTtpZighYXx8Yzw9CmIpYz1iLmNsb25lKCkuYWRkKDEsImRheXMiKTtyZXR1cm57c3RhcnQ6YixlbmQ6Y319LGlzTXVsdGlEYXlFdmVudDpmdW5jdGlvbihhKXthPXRoaXMuY29tcHV0ZURheVJhbmdlKGEpO3JldHVybiAxPGEuZW5kLmRpZmYoYS5zdGFydCwiZGF5cyIpfX0pLEViPXYuU2Nyb2xsZXI9ZC5leHRlbmQoe2VsOm51bGwsc2Nyb2xsRWw6bnVsbCxvdmVyZmxvd1g6bnVsbCxvdmVyZmxvd1k6bnVsbCxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXthPWF8fHt9O3RoaXMub3ZlcmZsb3dYPWEub3ZlcmZsb3dYfHxhLm92ZXJmbG93fHwiYXV0byI7dGhpcy5vdmVyZmxvd1k9YS5vdmVyZmxvd1l8fGEub3ZlcmZsb3d8fCJhdXRvIn0scmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5lbD10aGlzLnJlbmRlckVsKCk7dGhpcy5hcHBseU92ZXJmbG93KCl9LHJlbmRlckVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Nyb2xsRWw9ZygnPGRpdiBjbGFzcz0iZmMtc2Nyb2xsZXIiPjwvZGl2PicpfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuc2V0SGVpZ2h0KCJhdXRvIik7CnRoaXMuYXBwbHlPdmVyZmxvdygpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbC5yZW1vdmUoKX0sYXBwbHlPdmVyZmxvdzpmdW5jdGlvbigpe3RoaXMuc2Nyb2xsRWwuY3NzKHsib3ZlcmZsb3cteCI6dGhpcy5vdmVyZmxvd1gsIm92ZXJmbG93LXkiOnRoaXMub3ZlcmZsb3dZfSl9LGxvY2tPdmVyZmxvdzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm92ZXJmbG93WCxjPXRoaXMub3ZlcmZsb3dZO2E9YXx8dGhpcy5nZXRTY3JvbGxiYXJXaWR0aHMoKTsiYXV0byI9PT1iJiYoYj1hLnRvcHx8YS5ib3R0b218fHRoaXMuc2Nyb2xsRWxbMF0uc2Nyb2xsV2lkdGgtMT50aGlzLnNjcm9sbEVsWzBdLmNsaWVudFdpZHRoPyJzY3JvbGwiOiJoaWRkZW4iKTsiYXV0byI9PT1jJiYoYz1hLmxlZnR8fGEucmlnaHR8fHRoaXMuc2Nyb2xsRWxbMF0uc2Nyb2xsSGVpZ2h0LTE+dGhpcy5zY3JvbGxFbFswXS5jbGllbnRIZWlnaHQ/InNjcm9sbCI6ImhpZGRlbiIpO3RoaXMuc2Nyb2xsRWwuY3NzKHsib3ZlcmZsb3cteCI6YiwKIm92ZXJmbG93LXkiOmN9KX0sc2V0SGVpZ2h0OmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsRWwuaGVpZ2h0KGEpfSxnZXRTY3JvbGxUb3A6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY3JvbGxFbC5zY3JvbGxUb3AoKX0sc2V0U2Nyb2xsVG9wOmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsRWwuc2Nyb2xsVG9wKGEpfSxnZXRDbGllbnRXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNjcm9sbEVsWzBdLmNsaWVudFdpZHRofSxnZXRDbGllbnRIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY3JvbGxFbFswXS5jbGllbnRIZWlnaHR9LGdldFNjcm9sbGJhcldpZHRoczpmdW5jdGlvbigpe3JldHVybiBEYSh0aGlzLnNjcm9sbEVsKX19KSxHPXYuQ2FsZW5kYXI9ZC5leHRlbmQoe2RpckRlZmF1bHRzOm51bGwsbGFuZ0RlZmF1bHRzOm51bGwsb3ZlcnJpZGVzOm51bGwsZHluYW1pY092ZXJyaWRlczpudWxsLG9wdGlvbnM6bnVsbCx2aWV3U3BlY0NhY2hlOm51bGwsdmlldzpudWxsLGhlYWRlcjpudWxsLApsb2FkaW5nTGV2ZWw6MCxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7Il9sb2NhbGUiaW4gYT9hLl9sb2NhbGU9SjphLl9sYW5nPUp9ZnVuY3Rpb24gZCgpe2EuYWRkQ2xhc3MoImZjIik7bi5iaW5kT3B0aW9uKCJ0aGVtZSIsZnVuY3Rpb24oYil7YS50b2dnbGVDbGFzcygidWktd2lkZ2V0IixiKTthLnRvZ2dsZUNsYXNzKCJmYy11bnRoZW1lZCIsIWIpfSk7bi5iaW5kT3B0aW9ucyhbImlzUlRMIiwibGFuZyJdLGZ1bmN0aW9uKGIpe2EudG9nZ2xlQ2xhc3MoImZjLWx0ciIsIWIpO2EudG9nZ2xlQ2xhc3MoImZjLXJ0bCIsYil9KTtRPWcoIjxkaXYgY2xhc3M9J2ZjLXZpZXctY29udGFpbmVyJy8+IikucHJlcGVuZFRvKGEpO009bi5oZWFkZXI9bmV3IGxhKG4pO2goKTtrKG4ub3B0aW9ucy5kZWZhdWx0Vmlldyk7bi5vcHRpb25zLmhhbmRsZVdpbmRvd1Jlc2l6ZSYmKFc9SGEoRyxuLm9wdGlvbnMud2luZG93UmVzaXplRGVsYXkpLGcod2luZG93KS5yZXNpemUoVykpfQpmdW5jdGlvbiBoKCl7TS5yZW5kZXIoKTtNLmVsJiZhLnByZXBlbmQoTS5lbCl9ZnVuY3Rpb24gZigpe3JldHVybiBhLmlzKCI6dmlzaWJsZSIpfWZ1bmN0aW9uIGsoYSxiKXtJKys7RCYmYSYmRC50eXBlIT09YSYmKE8oKSxtKCkpOyFEJiZhJiYoRD1uLnZpZXc9VVthXXx8KFVbYV09bi5pbnN0YW50aWF0ZVZpZXcoYSkpLEQuc2V0RWxlbWVudChnKCI8ZGl2IGNsYXNzPSdmYy12aWV3IGZjLSIrYSsiLXZpZXcnIC8+IikuYXBwZW5kVG8oUSkpLE0uYWN0aXZhdGVCdXR0b24oYSkpO0QmJihBPUQubWFzc2FnZUN1cnJlbnREYXRlKEEpLEQuZGlzcGxheWluZyYmQS5pc1dpdGhpbihELmludGVydmFsU3RhcnQsRC5pbnRlcnZhbEVuZCl8fCFmKCl8fChELmRpc3BsYXkoQSxiKSxOKCksTS51cGRhdGVUaXRsZShELnRpdGxlKSxuLmdldE5vdygpLmlzV2l0aGluKEQuaW50ZXJ2YWxTdGFydCxELmludGVydmFsRW5kKT9NLmRpc2FibGVCdXR0b24oInRvZGF5Iik6TS5lbmFibGVCdXR0b24oInRvZGF5IiksCiFuLm9wdGlvbnMubGF6eUZldGNoaW5nfHxSKEQuc3RhcnQsRC5lbmQpP0woKTpIKCkpKTtOKCk7SS0tfWZ1bmN0aW9uIG0oKXtNLmRlYWN0aXZhdGVCdXR0b24oRC50eXBlKTtELnJlbW92ZUVsZW1lbnQoKTtEPW4udmlldz1udWxsfWZ1bmN0aW9uIHAoYSl7aWYoZigpKXJldHVybiBhJiZyKCksSSsrLEQudXBkYXRlU2l6ZSghMCksSS0tLCEwfWZ1bmN0aW9uIHIoKXt2YXIgYj1uLm9wdGlvbnMuY29udGVudEhlaWdodCxjPW4ub3B0aW9ucy5oZWlnaHQ7WD0ibnVtYmVyIj09PXR5cGVvZiBiP2I6ImZ1bmN0aW9uIj09PXR5cGVvZiBiP2IoKToibnVtYmVyIj09PXR5cGVvZiBjP2MtRSgpOiJmdW5jdGlvbiI9PT10eXBlb2YgYz9jKCktRSgpOiJwYXJlbnQiPT09Yz9hLnBhcmVudCgpLmhlaWdodCgpLUUoKTpNYXRoLnJvdW5kKFEud2lkdGgoKS9NYXRoLm1heChuLm9wdGlvbnMuYXNwZWN0UmF0aW8sLjUpKX1mdW5jdGlvbiBFKCl7cmV0dXJuIE0uZWw/TS5lbC5vdXRlckhlaWdodCghMCk6CjB9ZnVuY3Rpb24gRyhhKXshSSYmYS50YXJnZXQ9PT13aW5kb3cmJkQuc3RhcnQmJnAoITApJiZELnRyaWdnZXIoIndpbmRvd1Jlc2l6ZSIseil9ZnVuY3Rpb24gSCgpe2YoKSYmKE8oKSxELmRpc3BsYXlFdmVudHModCksTigpKX1mdW5jdGlvbiBMKCl7UyhELnN0YXJ0LEQuZW5kKX1mdW5jdGlvbiBPKCl7US5jc3Moe3dpZHRoOiIxMDAlIixoZWlnaHQ6US5oZWlnaHQoKSxvdmVyZmxvdzoiaGlkZGVuIn0pfWZ1bmN0aW9uIE4oKXtRLmNzcyh7d2lkdGg6IiIsaGVpZ2h0OiIiLG92ZXJmbG93OiIifSl9ZnVuY3Rpb24gRihhKXt2YXIgYj0wLGM7Zm9yKGMgaW4gYSluLmR5bmFtaWNPdmVycmlkZXNbY109YVtjXTtuLnZpZXdTcGVjQ2FjaGU9e307bi5wb3B1bGF0ZU9wdGlvbnNIYXNoKCk7Zm9yKGMgaW4gYSluLnRyaWdnZXJPcHRpb25IYW5kbGVycyhjKSxiKys7aWYoMT09PWIpe2lmKCJoZWlnaHQiPT09Y3x8ImNvbnRlbnRIZWlnaHQiPT09Y3x8ImFzcGVjdFJhdGlvIj09PWMpe3AoITApOwpyZXR1cm59aWYoImRlZmF1bHREYXRlIj09PWMpcmV0dXJuO2lmKCJidXNpbmVzc0hvdXJzIj09PWMpe0QmJihELnVucmVuZGVyQnVzaW5lc3NIb3VycygpLEQucmVuZGVyQnVzaW5lc3NIb3VycygpKTtyZXR1cm59aWYoInRpbWV6b25lIj09PWMpe24ucmV6b25lQXJyYXlFdmVudFNvdXJjZXMoKTtMKCk7cmV0dXJufX1oKCk7VT17fTtJKys7TygpO2E9RC50eXBlO2I9RC5xdWVyeVNjcm9sbCgpO20oKTtrKGEsYik7TigpO0ktLX12YXIgbj10aGlzO24ucmVuZGVyPWZ1bmN0aW9uKCl7UT9mKCkmJihmKCkmJnIoKSxrKCkpOmQoKX07bi5kZXN0cm95PWZ1bmN0aW9uKCl7RCYmRC5yZW1vdmVFbGVtZW50KCk7TS5yZW1vdmVFbGVtZW50KCk7US5yZW1vdmUoKTthLnJlbW92ZUNsYXNzKCJmYyBmYy1sdHIgZmMtcnRsIGZjLXVudGhlbWVkIHVpLXdpZGdldCIpO1cmJmcod2luZG93KS51bmJpbmQoInJlc2l6ZSIsVyl9O24ucmVmZXRjaEV2ZW50cz1mdW5jdGlvbigpe0woKX07bi5yZWZldGNoRXZlbnRTb3VyY2VzPQpmdW5jdGlvbihhKXtUKG4uZ2V0RXZlbnRTb3VyY2VzQnlNYXRjaEFycmF5KGEpKX07bi5yZXBvcnRFdmVudHM9ZnVuY3Rpb24oYSl7dD1hO0goKX07bi5yZXBvcnRFdmVudENoYW5nZT1mdW5jdGlvbigpe0goKX07bi5yZXJlbmRlckV2ZW50cz1IO24uY2hhbmdlVmlldz1rO24uc2VsZWN0PWZ1bmN0aW9uKGEsYil7RC5zZWxlY3Qobi5idWlsZFNlbGVjdFNwYW4uYXBwbHkobixhcmd1bWVudHMpKX07bi51bnNlbGVjdD1mdW5jdGlvbigpe0QmJkQudW5zZWxlY3QoKX07bi5wcmV2PWZ1bmN0aW9uKCl7QT1ELmNvbXB1dGVQcmV2RGF0ZShBKTtrKCl9O24ubmV4dD1mdW5jdGlvbigpe0E9RC5jb21wdXRlTmV4dERhdGUoQSk7aygpfTtuLnByZXZZZWFyPWZ1bmN0aW9uKCl7QS5hZGQoLTEsInllYXJzIik7aygpfTtuLm5leHRZZWFyPWZ1bmN0aW9uKCl7QS5hZGQoMSwieWVhcnMiKTtrKCl9O24udG9kYXk9ZnVuY3Rpb24oKXtBPW4uZ2V0Tm93KCk7aygpfTtuLmdvdG9EYXRlPWZ1bmN0aW9uKGEpe0E9Cm4ubW9tZW50KGEpLnN0cmlwWm9uZSgpO2soKX07bi5pbmNyZW1lbnREYXRlPWZ1bmN0aW9uKGEpe0EuYWRkKHEuZHVyYXRpb24oYSkpO2soKX07bi56b29tVG89ZnVuY3Rpb24oYSxiKXtiPWJ8fCJkYXkiO2I9bi5nZXRWaWV3U3BlYyhiKXx8bi5nZXRVbml0Vmlld1NwZWMoYik7QT1hLmNsb25lKCk7ayhiP2IudHlwZTpudWxsKX07bi5nZXREYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHlUaW1lem9uZShBKX07bi5nZXRDYWxlbmRhcj1mdW5jdGlvbigpe3JldHVybiBufTtuLmdldFZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gRH07bi5vcHRpb249ZnVuY3Rpb24oYSxiKXt2YXIgYztpZigic3RyaW5nIj09PXR5cGVvZiBhKXtpZih2b2lkIDA9PT1iKXJldHVybiBuLm9wdGlvbnNbYV07Yz17fTtjW2FdPWI7RihjKX1lbHNlIm9iamVjdCI9PT10eXBlb2YgYSYmRihhKX07bi50cmlnZ2VyPWZ1bmN0aW9uKGEsYil7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLAoyKTtiPWJ8fHo7dGhpcy50cmlnZ2VyV2l0aChhLGIsYyk7aWYobi5vcHRpb25zW2FdKXJldHVybiBuLm9wdGlvbnNbYV0uYXBwbHkoYixjKX07bi5keW5hbWljT3ZlcnJpZGVzPXt9O24udmlld1NwZWNDYWNoZT17fTtuLm9wdGlvbkhhbmRsZXJzPXt9O24ub3ZlcnJpZGVzPU9hKGJ8fHt9KTtuLnBvcHVsYXRlT3B0aW9uc0hhc2goKTt2YXIgSjtuLmJpbmRPcHRpb25zKCJsYW5nIG1vbnRoTmFtZXMgbW9udGhOYW1lc1Nob3J0IGRheU5hbWVzIGRheU5hbWVzU2hvcnQgZmlyc3REYXkgd2Vla051bWJlckNhbGN1bGF0aW9uIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYixkLGUsZixnLGgpe0o9VGEoWGIoYSkpO2ImJihKLl9tb250aHM9Yik7ZCYmKEouX21vbnRoc1Nob3J0PWQpO2UmJihKLl93ZWVrZGF5cz1lKTtmJiYoSi5fd2Vla2RheXNTaG9ydD1mKTtudWxsIT1nJiYoYT1UYShKLl93ZWVrKSxhLmRvdz1nLEouX3dlZWs9YSk7ImlzbyI9PT1oJiYoaD0iSVNPIik7aWYoIklTTyI9PT0KaHx8ImxvY2FsIj09PWh8fCJmdW5jdGlvbiI9PT10eXBlb2YgaClKLl9mdWxsQ2FsZW5kYXJfd2Vla0NhbGM9aDtBJiZjKEEpfSk7bi5kZWZhdWx0QWxsRGF5RXZlbnREdXJhdGlvbj1xLmR1cmF0aW9uKG4ub3B0aW9ucy5kZWZhdWx0QWxsRGF5RXZlbnREdXJhdGlvbik7bi5kZWZhdWx0VGltZWRFdmVudER1cmF0aW9uPXEuZHVyYXRpb24obi5vcHRpb25zLmRlZmF1bHRUaW1lZEV2ZW50RHVyYXRpb24pO24ubW9tZW50PWZ1bmN0aW9uKCl7dmFyIGE7ImxvY2FsIj09PW4ub3B0aW9ucy50aW1lem9uZT8oYT12Lm1vbWVudC5hcHBseShudWxsLGFyZ3VtZW50cyksYS5oYXNUaW1lKCkmJmEubG9jYWwoKSk6YT0iVVRDIj09PW4ub3B0aW9ucy50aW1lem9uZT92Lm1vbWVudC51dGMuYXBwbHkobnVsbCxhcmd1bWVudHMpOnYubW9tZW50LnBhcnNlWm9uZS5hcHBseShudWxsLGFyZ3VtZW50cyk7YyhhKTtyZXR1cm4gYX07bi5nZXRJc0FtYmlnVGltZXpvbmU9ZnVuY3Rpb24oKXtyZXR1cm4ibG9jYWwiIT09Cm4ub3B0aW9ucy50aW1lem9uZSYmIlVUQyIhPT1uLm9wdGlvbnMudGltZXpvbmV9O24uYXBwbHlUaW1lem9uZT1mdW5jdGlvbihhKXtpZighYS5oYXNUaW1lKCkpcmV0dXJuIGEuY2xvbmUoKTt2YXIgYj1uLm1vbWVudChhLnRvQXJyYXkoKSksYz1hLnRpbWUoKS1iLnRpbWUoKTtjJiYoYz1iLmNsb25lKCkuYWRkKGMpLDA9PT1hLnRpbWUoKS1jLnRpbWUoKSYmKGI9YykpO3JldHVybiBifTtuLmdldE5vdz1mdW5jdGlvbigpe3ZhciBhPW4ub3B0aW9ucy5ub3c7ImZ1bmN0aW9uIj09PXR5cGVvZiBhJiYoYT1hKCkpO3JldHVybiBuLm1vbWVudChhKS5zdHJpcFpvbmUoKX07bi5nZXRFdmVudEVuZD1mdW5jdGlvbihhKXtyZXR1cm4gYS5lbmQ/YS5lbmQuY2xvbmUoKTpuLmdldERlZmF1bHRFdmVudEVuZChhLmFsbERheSxhLnN0YXJ0KX07bi5nZXREZWZhdWx0RXZlbnRFbmQ9ZnVuY3Rpb24oYSxiKXtiPWIuY2xvbmUoKTthP2Iuc3RyaXBUaW1lKCkuYWRkKG4uZGVmYXVsdEFsbERheUV2ZW50RHVyYXRpb24pOgpiLmFkZChuLmRlZmF1bHRUaW1lZEV2ZW50RHVyYXRpb24pO24uZ2V0SXNBbWJpZ1RpbWV6b25lKCkmJmIuc3RyaXBab25lKCk7cmV0dXJuIGJ9O24uaHVtYW5pemVEdXJhdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4oYS5sb2NhbGV8fGEubGFuZykuY2FsbChhLG4ub3B0aW9ucy5sYW5nKS5odW1hbml6ZSgpfTtLYi5jYWxsKG4pO3ZhciBSPW4uaXNGZXRjaE5lZWRlZCxTPW4uZmV0Y2hFdmVudHMsVD1uLmZldGNoRXZlbnRTb3VyY2VzLHo9YVswXSxNLFEsRCxVPXt9LFgsVyxJPTAsdD1bXSxBO0E9bnVsbCE9bi5vcHRpb25zLmRlZmF1bHREYXRlP24ubW9tZW50KG4ub3B0aW9ucy5kZWZhdWx0RGF0ZSkuc3RyaXBab25lKCk6bi5nZXROb3coKTtuLmdldFN1Z2dlc3RlZFZpZXdIZWlnaHQ9ZnVuY3Rpb24oKXt2b2lkIDA9PT1YJiZmKCkmJnIoKTtyZXR1cm4gWH07bi5pc0hlaWdodEF1dG89ZnVuY3Rpb24oKXtyZXR1cm4iYXV0byI9PT1uLm9wdGlvbnMuY29udGVudEhlaWdodHx8ImF1dG8iPT09Cm4ub3B0aW9ucy5oZWlnaHR9O24uZnJlZXplQ29udGVudEhlaWdodD1PO24udW5mcmVlemVDb250ZW50SGVpZ2h0PU47bi5pbml0aWFsaXplKCl9LGluaXRpYWxpemU6ZnVuY3Rpb24oKXt9LHBvcHVsYXRlT3B0aW9uc0hhc2g6ZnVuY3Rpb24oKXt2YXIgYSxiO2E9VSh0aGlzLmR5bmFtaWNPdmVycmlkZXMubGFuZyx0aGlzLm92ZXJyaWRlcy5sYW5nKTthPWRhW2FdO2F8fChhPUcuZGVmYXVsdHMubGFuZyxhPWRhW2FdfHx7fSk7dGhpcy5kaXJEZWZhdWx0cz1iPVUodGhpcy5keW5hbWljT3ZlcnJpZGVzLmlzUlRMLHRoaXMub3ZlcnJpZGVzLmlzUlRMLGEuaXNSVEwsRy5kZWZhdWx0cy5pc1JUTCk/Ry5ydGxEZWZhdWx0czp7fTt0aGlzLmxhbmdEZWZhdWx0cz1hO3RoaXMub3B0aW9ucz1xYShbRy5kZWZhdWx0cyxiLGEsdGhpcy5vdmVycmlkZXMsdGhpcy5keW5hbWljT3ZlcnJpZGVzXSxDYSk7V2IodGhpcy5vcHRpb25zKX0sZ2V0Vmlld1NwZWM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy52aWV3U3BlY0NhY2hlOwpyZXR1cm4gYlthXXx8KGJbYV09dGhpcy5idWlsZFZpZXdTcGVjKGEpKX0sZ2V0VW5pdFZpZXdTcGVjOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZDtpZigtMSE9Zy5pbkFycmF5KGEsd2EpKWZvcihiPXRoaXMuaGVhZGVyLmdldFZpZXdzV2l0aEJ1dHRvbnMoKSxnLmVhY2godi52aWV3cyxmdW5jdGlvbihhKXtiLnB1c2goYSl9KSxjPTA7YzxiLmxlbmd0aDtjKyspaWYoKGQ9dGhpcy5nZXRWaWV3U3BlYyhiW2NdKSkmJmQuc2luZ2xlVW5pdD09YSlyZXR1cm4gZH0sYnVpbGRWaWV3U3BlYzpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5vdmVycmlkZXMudmlld3N8fHt9LGM9W10sZD1bXSxnPVtdLGY9YSxrLG0scDtmOylrPXBhW2ZdLG09YltmXSxmPW51bGwsImZ1bmN0aW9uIj09PXR5cGVvZiBrJiYoaz17ImNsYXNzIjprfSksayYmKGMudW5zaGlmdChrKSxkLnVuc2hpZnQoay5kZWZhdWx0c3x8e30pLHA9cHx8ay5kdXJhdGlvbixmPWZ8fGsudHlwZSksbSYmKGcudW5zaGlmdChtKSxwPXB8fAptLmR1cmF0aW9uLGY9Znx8bS50eXBlKTtrPXFhKGMpO2sudHlwZT1hO2lmKCFrWyJjbGFzcyJdKXJldHVybiExO3AmJihwPXEuZHVyYXRpb24ocCkscC52YWx1ZU9mKCkmJihrLmR1cmF0aW9uPXAsYz1FYShwKSwxPT09cC5hcyhjKSYmKGsuc2luZ2xlVW5pdD1jLGcudW5zaGlmdChiW2NdfHx7fSkpKSk7ay5kZWZhdWx0cz1xYShkLENhKTtrLm92ZXJyaWRlcz1xYShnLENhKTt0aGlzLmJ1aWxkVmlld1NwZWNPcHRpb25zKGspO3RoaXMuYnVpbGRWaWV3U3BlY0J1dHRvblRleHQoayxhKTtyZXR1cm4ga30sYnVpbGRWaWV3U3BlY09wdGlvbnM6ZnVuY3Rpb24oYSl7YS5vcHRpb25zPXFhKFtHLmRlZmF1bHRzLGEuZGVmYXVsdHMsdGhpcy5kaXJEZWZhdWx0cyx0aGlzLmxhbmdEZWZhdWx0cyx0aGlzLm92ZXJyaWRlcyxhLm92ZXJyaWRlcyx0aGlzLmR5bmFtaWNPdmVycmlkZXNdLENhKTtXYihhLm9wdGlvbnMpfSxidWlsZFZpZXdTcGVjQnV0dG9uVGV4dDpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYyl7Yz0KYy5idXR0b25UZXh0fHx7fTtyZXR1cm4gY1tiXXx8KGEuc2luZ2xlVW5pdD9jW2Euc2luZ2xlVW5pdF06bnVsbCl9YS5idXR0b25UZXh0T3ZlcnJpZGU9Yyh0aGlzLmR5bmFtaWNPdmVycmlkZXMpfHxjKHRoaXMub3ZlcnJpZGVzKXx8YS5vdmVycmlkZXMuYnV0dG9uVGV4dDthLmJ1dHRvblRleHREZWZhdWx0PWModGhpcy5sYW5nRGVmYXVsdHMpfHxjKHRoaXMuZGlyRGVmYXVsdHMpfHxhLmRlZmF1bHRzLmJ1dHRvblRleHR8fGMoRy5kZWZhdWx0cyl8fChhLmR1cmF0aW9uP3RoaXMuaHVtYW5pemVEdXJhdGlvbihhLmR1cmF0aW9uKTpudWxsKXx8Yn0saW5zdGFudGlhdGVWaWV3OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0Vmlld1NwZWMoYSk7cmV0dXJuIG5ldyBiWyJjbGFzcyJdKHRoaXMsYSxiLm9wdGlvbnMsYi5kdXJhdGlvbil9LGlzVmFsaWRWaWV3VHlwZTpmdW5jdGlvbihhKXtyZXR1cm4hIXRoaXMuZ2V0Vmlld1NwZWMoYSl9LHB1c2hMb2FkaW5nOmZ1bmN0aW9uKCl7dGhpcy5sb2FkaW5nTGV2ZWwrK3x8CnRoaXMudHJpZ2dlcigibG9hZGluZyIsbnVsbCwhMCx0aGlzLnZpZXcpfSxwb3BMb2FkaW5nOmZ1bmN0aW9uKCl7LS10aGlzLmxvYWRpbmdMZXZlbHx8dGhpcy50cmlnZ2VyKCJsb2FkaW5nIixudWxsLCExLHRoaXMudmlldyl9LGJ1aWxkU2VsZWN0U3BhbjpmdW5jdGlvbihhLGIpe2E9dGhpcy5tb21lbnQoYSkuc3RyaXBab25lKCk7Yj1iP3RoaXMubW9tZW50KGIpLnN0cmlwWm9uZSgpOmEuaGFzVGltZSgpP2EuY2xvbmUoKS5hZGQodGhpcy5kZWZhdWx0VGltZWRFdmVudER1cmF0aW9uKTphLmNsb25lKCkuYWRkKHRoaXMuZGVmYXVsdEFsbERheUV2ZW50RHVyYXRpb24pO3JldHVybntzdGFydDphLGVuZDpifX19KTtHLm1peGluKENiKTtHLm1peGluKHtvcHRpb25IYW5kbGVyczpudWxsLGJpbmRPcHRpb246ZnVuY3Rpb24oYSxiKXt0aGlzLmJpbmRPcHRpb25zKFthXSxiKX0sYmluZE9wdGlvbnM6ZnVuY3Rpb24oYSxiKXtiPXtmdW5jOmIsbmFtZXM6YX07dmFyIGM7Zm9yKGM9MDtjPAphLmxlbmd0aDtjKyspdGhpcy5yZWdpc3Rlck9wdGlvbkhhbmRsZXJPYmooYVtjXSxiKTt0aGlzLnRyaWdnZXJPcHRpb25IYW5kbGVyT2JqKGIpfSxyZWdpc3Rlck9wdGlvbkhhbmRsZXJPYmo6ZnVuY3Rpb24oYSxiKXsodGhpcy5vcHRpb25IYW5kbGVyc1thXXx8KHRoaXMub3B0aW9uSGFuZGxlcnNbYV09W10pKS5wdXNoKGIpfSx0cmlnZ2VyT3B0aW9uSGFuZGxlcnM6ZnVuY3Rpb24oYSl7YT10aGlzLm9wdGlvbkhhbmRsZXJzW2FdfHxbXTt2YXIgYjtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMudHJpZ2dlck9wdGlvbkhhbmRsZXJPYmooYVtiXSl9LHRyaWdnZXJPcHRpb25IYW5kbGVyT2JqOmZ1bmN0aW9uKGEpe3ZhciBiPWEubmFtZXMsYz1bXSxkO2ZvcihkPTA7ZDxiLmxlbmd0aDtkKyspYy5wdXNoKHRoaXMub3B0aW9uc1tiW2RdXSk7YS5mdW5jLmFwcGx5KHRoaXMsYyl9fSk7Ry5kZWZhdWx0cz17dGl0bGVSYW5nZVNlcGFyYXRvcjoiIFx1MjAxMyAiLG1vbnRoWWVhckZvcm1hdDoiTU1NTSBZWVlZIiwKZGVmYXVsdFRpbWVkRXZlbnREdXJhdGlvbjoiMDI6MDA6MDAiLGRlZmF1bHRBbGxEYXlFdmVudER1cmF0aW9uOntkYXlzOjF9LGZvcmNlRXZlbnREdXJhdGlvbjohMSxuZXh0RGF5VGhyZXNob2xkOiIwOTowMDowMCIsZGVmYXVsdFZpZXc6Im1vbnRoIixhc3BlY3RSYXRpbzoxLjM1LGhlYWRlcjp7bGVmdDoidGl0bGUiLGNlbnRlcjoiIixyaWdodDoidG9kYXkgcHJldixuZXh0In0sd2Vla2VuZHM6ITAsd2Vla051bWJlcnM6ITEsd2Vla051bWJlclRpdGxlOiJXIix3ZWVrTnVtYmVyQ2FsY3VsYXRpb246ImxvY2FsIixzY3JvbGxUaW1lOiIwNjowMDowMCIsbGF6eUZldGNoaW5nOiEwLHN0YXJ0UGFyYW06InN0YXJ0IixlbmRQYXJhbToiZW5kIix0aW1lem9uZVBhcmFtOiJ0aW1lem9uZSIsdGltZXpvbmU6ITEsaXNSVEw6ITEsYnV0dG9uVGV4dDp7cHJldjoicHJldiIsbmV4dDoibmV4dCIscHJldlllYXI6InByZXYgeWVhciIsbmV4dFllYXI6Im5leHQgeWVhciIseWVhcjoieWVhciIsCnRvZGF5OiJ0b2RheSIsbW9udGg6Im1vbnRoIix3ZWVrOiJ3ZWVrIixkYXk6ImRheSJ9LGJ1dHRvbkljb25zOntwcmV2OiJsZWZ0LXNpbmdsZS1hcnJvdyIsbmV4dDoicmlnaHQtc2luZ2xlLWFycm93IixwcmV2WWVhcjoibGVmdC1kb3VibGUtYXJyb3ciLG5leHRZZWFyOiJyaWdodC1kb3VibGUtYXJyb3cifSx0aGVtZTohMSx0aGVtZUJ1dHRvbkljb25zOntwcmV2OiJjaXJjbGUtdHJpYW5nbGUtdyIsbmV4dDoiY2lyY2xlLXRyaWFuZ2xlLWUiLHByZXZZZWFyOiJzZWVrLXByZXYiLG5leHRZZWFyOiJzZWVrLW5leHQifSxkcmFnT3BhY2l0eTouNzUsZHJhZ1JldmVydER1cmF0aW9uOjUwMCxkcmFnU2Nyb2xsOiEwLHVuc2VsZWN0QXV0bzohMCxkcm9wQWNjZXB0OiIqIixldmVudE9yZGVyOiJ0aXRsZSIsZXZlbnRMaW1pdDohMSxldmVudExpbWl0VGV4dDoibW9yZSIsZXZlbnRMaW1pdENsaWNrOiJwb3BvdmVyIixkYXlQb3BvdmVyRm9ybWF0OiJMTCIsaGFuZGxlV2luZG93UmVzaXplOiEwLAp3aW5kb3dSZXNpemVEZWxheToxMDAsbG9uZ1ByZXNzRGVsYXk6MUUzfTtHLmVuZ2xpc2hEZWZhdWx0cz17ZGF5UG9wb3ZlckZvcm1hdDoiZGRkZCwgTU1NTSBEIn07Ry5ydGxEZWZhdWx0cz17aGVhZGVyOntsZWZ0OiJuZXh0LHByZXYgdG9kYXkiLGNlbnRlcjoiIixyaWdodDoidGl0bGUifSxidXR0b25JY29uczp7cHJldjoicmlnaHQtc2luZ2xlLWFycm93IixuZXh0OiJsZWZ0LXNpbmdsZS1hcnJvdyIscHJldlllYXI6InJpZ2h0LWRvdWJsZS1hcnJvdyIsbmV4dFllYXI6ImxlZnQtZG91YmxlLWFycm93In0sdGhlbWVCdXR0b25JY29uczp7cHJldjoiY2lyY2xlLXRyaWFuZ2xlLWUiLG5leHQ6ImNpcmNsZS10cmlhbmdsZS13IixuZXh0WWVhcjoic2Vlay1wcmV2IixwcmV2WWVhcjoic2Vlay1uZXh0In19O3ZhciBkYT12LmxhbmdzPXt9O3YuZGF0ZXBpY2tlckxhbmc9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWRhW2FdfHwoZGFbYV09e30pO2QuaXNSVEw9Yy5pc1JUTDtkLndlZWtOdW1iZXJUaXRsZT0KYy53ZWVrSGVhZGVyO2cuZWFjaCh4YSxmdW5jdGlvbihhLGIpe2RbYV09YihjKX0pO2cuZGF0ZXBpY2tlciYmKGcuZGF0ZXBpY2tlci5yZWdpb25hbFtiXT1nLmRhdGVwaWNrZXIucmVnaW9uYWxbYV09YyxnLmRhdGVwaWNrZXIucmVnaW9uYWwuZW49Zy5kYXRlcGlja2VyLnJlZ2lvbmFsWyIiXSxnLmRhdGVwaWNrZXIuc2V0RGVmYXVsdHMoYykpfTt2Lmxhbmc9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO2M9ZGFbYV18fChkYVthXT17fSk7YiYmKGM9ZGFbYV09cWEoW2MsYl0sQ2EpKTtkPVhiKGEpO2cuZWFjaChmYyxmdW5jdGlvbihhLGIpe251bGw9PWNbYV0mJihjW2FdPWIoZCxjKSl9KTtHLmRlZmF1bHRzLmxhbmc9YX07dmFyIHhhPXtidXR0b25UZXh0OmZ1bmN0aW9uKGEpe3JldHVybntwcmV2OmEucHJldlRleHQucmVwbGFjZSgvJi4qPzsvZywiIiksbmV4dDphLm5leHRUZXh0LnJlcGxhY2UoLyYuKj87L2csIiIpLHRvZGF5OmEuY3VycmVudFRleHQucmVwbGFjZSgvJi4qPzsvZywiIil9fSwKbW9udGhZZWFyRm9ybWF0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnNob3dNb250aEFmdGVyWWVhcj8iWVlZWVsiK2EueWVhclN1ZmZpeCsiXSBNTU1NIjoiTU1NTSBZWVlZWyIrYS55ZWFyU3VmZml4KyJdIn19LGZjPXtkYXlPZk1vbnRoRm9ybWF0OmZ1bmN0aW9uKGEsYil7YT1hLmxvbmdEYXRlRm9ybWF0KCJsIik7YT1hLnJlcGxhY2UoL15ZK1teXHdcc10qfFteXHdcc10qWSskL2csIiIpO3JldHVybiBhPWIuaXNSVEw/YSsiIGRkZCI6ImRkZCAiK2F9LG1lZGl1bVRpbWVGb3JtYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubG9uZ0RhdGVGb3JtYXQoIkxUIikucmVwbGFjZSgvXHMqYSQvaSwiYSIpfSxzbWFsbFRpbWVGb3JtYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubG9uZ0RhdGVGb3JtYXQoIkxUIikucmVwbGFjZSgiOm1tIiwiKDptbSkiKS5yZXBsYWNlKC8oXFdtbSkkLywiKCQxKSIpLnJlcGxhY2UoL1xzKmEkL2ksImEiKX0sZXh0cmFTbWFsbFRpbWVGb3JtYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubG9uZ0RhdGVGb3JtYXQoIkxUIikucmVwbGFjZSgiOm1tIiwKIig6bW0pIikucmVwbGFjZSgvKFxXbW0pJC8sIigkMSkiKS5yZXBsYWNlKC9ccyphJC9pLCJ0Iil9LGhvdXJGb3JtYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubG9uZ0RhdGVGb3JtYXQoIkxUIikucmVwbGFjZSgiOm1tIiwiIikucmVwbGFjZSgvKFxXbW0pJC8sIiIpLnJlcGxhY2UoL1xzKmEkL2ksImEiKX0sbm9NZXJpZGllbVRpbWVGb3JtYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubG9uZ0RhdGVGb3JtYXQoIkxUIikucmVwbGFjZSgvXHMqYSQvaSwiIil9fSxGYj17c21hbGxEYXlEYXRlRm9ybWF0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmlzUlRMPyJEIGRkIjoiZGQgRCJ9LHdlZWtGb3JtYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaXNSVEw/IndbICIrYS53ZWVrTnVtYmVyVGl0bGUrIl0iOiJbIithLndlZWtOdW1iZXJUaXRsZSsiIF13In0sc21hbGxXZWVrRm9ybWF0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmlzUlRMPyJ3WyIrYS53ZWVrTnVtYmVyVGl0bGUrIl0iOiJbIithLndlZWtOdW1iZXJUaXRsZSsKIl13In19O3YubGFuZygiZW4iLEcuZW5nbGlzaERlZmF1bHRzKTt2LnNvdXJjZU5vcm1hbGl6ZXJzPVtdO3Yuc291cmNlRmV0Y2hlcnM9W107dmFyIGdjPXtkYXRhVHlwZToianNvbiIsY2FjaGU6ITF9LGhjPTE7Ry5wcm90b3R5cGUubm9ybWFsaXplRXZlbnQ9ZnVuY3Rpb24oYSl7fTtHLnByb3RvdHlwZS5zcGFuQ29udGFpbnNTcGFuPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zdGFydC5jbG9uZSgpLnN0cmlwWm9uZSgpO2E9dGhpcy5nZXRFdmVudEVuZChhKS5zdHJpcFpvbmUoKTtyZXR1cm4gYi5zdGFydD49YyYmYi5lbmQ8PWF9O0cucHJvdG90eXBlLmdldFBlZXJFdmVudHM9ZnVuY3Rpb24oYSxiKXthPXRoaXMuZ2V0RXZlbnRDYWNoZSgpO3ZhciBjPVtdLGQsZztmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWc9YVtkXSxiJiZiLl9pZD09PWcuX2lkfHxjLnB1c2goZyk7cmV0dXJuIGN9O3ZhciBOYj17aWQ6Il9mY0J1c2luZXNzSG91cnMiLHN0YXJ0OiIwOTowMCIsZW5kOiIxNzowMCIsCmRvdzpbMSwyLDMsNCw1XSxyZW5kZXJpbmc6ImludmVyc2UtYmFja2dyb3VuZCJ9O0cucHJvdG90eXBlLmdldEN1cnJlbnRCdXNpbmVzc0hvdXJFdmVudHM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29tcHV0ZUJ1c2luZXNzSG91ckV2ZW50cyhhLHRoaXMub3B0aW9ucy5idXNpbmVzc0hvdXJzKX07Ry5wcm90b3R5cGUuY29tcHV0ZUJ1c2luZXNzSG91ckV2ZW50cz1mdW5jdGlvbihhLGIpe3JldHVybiEwPT09Yj90aGlzLmV4cGFuZEJ1c2luZXNzSG91ckV2ZW50cyhhLFt7fV0pOmcuaXNQbGFpbk9iamVjdChiKT90aGlzLmV4cGFuZEJ1c2luZXNzSG91ckV2ZW50cyhhLFtiXSk6Zy5pc0FycmF5KGIpP3RoaXMuZXhwYW5kQnVzaW5lc3NIb3VyRXZlbnRzKGEsYiwhMCk6W119O0cucHJvdG90eXBlLmV4cGFuZEJ1c2luZXNzSG91ckV2ZW50cz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5nZXRWaWV3KCksaD1bXSxmLGs7Zm9yKGY9MDtmPGIubGVuZ3RoO2YrKylpZihrPWJbZl0sIWN8fAprLmRvdylrPWcuZXh0ZW5kKHt9LE5iLGspLGEmJihrLnN0YXJ0PW51bGwsay5lbmQ9bnVsbCksaC5wdXNoLmFwcGx5KGgsdGhpcy5leHBhbmRFdmVudCh0aGlzLmJ1aWxkRXZlbnRGcm9tSW5wdXQoayksZC5zdGFydCxkLmVuZCkpO3JldHVybiBofTt2YXIgR2I9di5CYXNpY1ZpZXc9dmEuZXh0ZW5kKHtzY3JvbGxlcjpudWxsLGRheUdyaWRDbGFzczpLYSxkYXlHcmlkOm51bGwsZGF5TnVtYmVyc1Zpc2libGU6ITEsd2Vla051bWJlcnNWaXNpYmxlOiExLHdlZWtOdW1iZXJXaWR0aDpudWxsLGhlYWRDb250YWluZXJFbDpudWxsLGhlYWRSb3dFbDpudWxsLGluaXRpYWxpemU6ZnVuY3Rpb24oKXt0aGlzLmRheUdyaWQ9dGhpcy5pbnN0YW50aWF0ZURheUdyaWQoKTt0aGlzLnNjcm9sbGVyPW5ldyBFYih7b3ZlcmZsb3dYOiJoaWRkZW4iLG92ZXJmbG93WToiYXV0byJ9KX0saW5zdGFudGlhdGVEYXlHcmlkOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyAodGhpcy5kYXlHcmlkQ2xhc3MuZXh0ZW5kKGljKSkodGhpcyl9LApzZXRSYW5nZTpmdW5jdGlvbihhKXt2YS5wcm90b3R5cGUuc2V0UmFuZ2UuY2FsbCh0aGlzLGEpO3RoaXMuZGF5R3JpZC5icmVha09uV2Vla3M9L3llYXJ8bW9udGh8d2Vlay8udGVzdCh0aGlzLmludGVydmFsVW5pdCk7dGhpcy5kYXlHcmlkLnNldFJhbmdlKGEpfSxjb21wdXRlUmFuZ2U6ZnVuY3Rpb24oYSl7YT12YS5wcm90b3R5cGUuY29tcHV0ZVJhbmdlLmNhbGwodGhpcyxhKTsveWVhcnxtb250aC8udGVzdChhLmludGVydmFsVW5pdCkmJihhLnN0YXJ0LnN0YXJ0T2YoIndlZWsiKSxhLnN0YXJ0PXRoaXMuc2tpcEhpZGRlbkRheXMoYS5zdGFydCksYS5lbmQud2Vla2RheSgpJiYoYS5lbmQuYWRkKDEsIndlZWsiKS5zdGFydE9mKCJ3ZWVrIiksYS5lbmQ9dGhpcy5za2lwSGlkZGVuRGF5cyhhLmVuZCwtMSwhMCkpKTtyZXR1cm4gYX0scmVuZGVyRGF0ZXM6ZnVuY3Rpb24oKXt0aGlzLmRheU51bWJlcnNWaXNpYmxlPTE8dGhpcy5kYXlHcmlkLnJvd0NudDt0aGlzLndlZWtOdW1iZXJzVmlzaWJsZT0KdGhpcy5vcHQoIndlZWtOdW1iZXJzIik7dGhpcy5kYXlHcmlkLm51bWJlcnNWaXNpYmxlPXRoaXMuZGF5TnVtYmVyc1Zpc2libGV8fHRoaXMud2Vla051bWJlcnNWaXNpYmxlO3RoaXMuZWwuYWRkQ2xhc3MoImZjLWJhc2ljLXZpZXciKS5odG1sKHRoaXMucmVuZGVyU2tlbGV0b25IdG1sKCkpO3RoaXMucmVuZGVySGVhZCgpO3RoaXMuc2Nyb2xsZXIucmVuZGVyKCk7dmFyIGE9dGhpcy5zY3JvbGxlci5lbC5hZGRDbGFzcygiZmMtZGF5LWdyaWQtY29udGFpbmVyIiksYj1nKCc8ZGl2IGNsYXNzPSJmYy1kYXktZ3JpZCIgLz4nKS5hcHBlbmRUbyhhKTt0aGlzLmVsLmZpbmQoIi5mYy1ib2R5ID4gdHIgPiB0ZCIpLmFwcGVuZChhKTt0aGlzLmRheUdyaWQuc2V0RWxlbWVudChiKTt0aGlzLmRheUdyaWQucmVuZGVyRGF0ZXModGhpcy5oYXNSaWdpZFJvd3MoKSl9LHJlbmRlckhlYWQ6ZnVuY3Rpb24oKXt0aGlzLmhlYWRDb250YWluZXJFbD10aGlzLmVsLmZpbmQoIi5mYy1oZWFkLWNvbnRhaW5lciIpLmh0bWwodGhpcy5kYXlHcmlkLnJlbmRlckhlYWRIdG1sKCkpOwp0aGlzLmhlYWRSb3dFbD10aGlzLmhlYWRDb250YWluZXJFbC5maW5kKCIuZmMtcm93Iil9LHVucmVuZGVyRGF0ZXM6ZnVuY3Rpb24oKXt0aGlzLmRheUdyaWQudW5yZW5kZXJEYXRlcygpO3RoaXMuZGF5R3JpZC5yZW1vdmVFbGVtZW50KCk7dGhpcy5zY3JvbGxlci5kZXN0cm95KCl9LHJlbmRlckJ1c2luZXNzSG91cnM6ZnVuY3Rpb24oKXt0aGlzLmRheUdyaWQucmVuZGVyQnVzaW5lc3NIb3VycygpfSx1bnJlbmRlckJ1c2luZXNzSG91cnM6ZnVuY3Rpb24oKXt0aGlzLmRheUdyaWQudW5yZW5kZXJCdXNpbmVzc0hvdXJzKCl9LHJlbmRlclNrZWxldG9uSHRtbDpmdW5jdGlvbigpe3JldHVybic8dGFibGU+PHRoZWFkIGNsYXNzPSJmYy1oZWFkIj48dHI+PHRkIGNsYXNzPSJmYy1oZWFkLWNvbnRhaW5lciAnK3RoaXMud2lkZ2V0SGVhZGVyQ2xhc3MrJyI+PC90ZD48L3RyPjwvdGhlYWQ+PHRib2R5IGNsYXNzPSJmYy1ib2R5Ij48dHI+PHRkIGNsYXNzPSInK3RoaXMud2lkZ2V0Q29udGVudENsYXNzKwonIj48L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPid9LHdlZWtOdW1iZXJTdHlsZUF0dHI6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMud2Vla051bWJlcldpZHRoPydzdHlsZT0id2lkdGg6Jyt0aGlzLndlZWtOdW1iZXJXaWR0aCsncHgiJzoiIn0saGFzUmlnaWRSb3dzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHQoImV2ZW50TGltaXQiKTtyZXR1cm4gYSYmIm51bWJlciIhPT10eXBlb2YgYX0sdXBkYXRlV2lkdGg6ZnVuY3Rpb24oKXt0aGlzLndlZWtOdW1iZXJzVmlzaWJsZSYmKHRoaXMud2Vla051bWJlcldpZHRoPW1hKHRoaXMuZWwuZmluZCgiLmZjLXdlZWstbnVtYmVyIikpKX0sc2V0SGVpZ2h0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5vcHQoImV2ZW50TGltaXQiKSxkO3RoaXMuc2Nyb2xsZXIuY2xlYXIoKTtiYih0aGlzLmhlYWRSb3dFbCk7dGhpcy5kYXlHcmlkLnJlbW92ZVNlZ1BvcG92ZXIoKTtjJiYibnVtYmVyIj09PXR5cGVvZiBjJiZ0aGlzLmRheUdyaWQubGltaXRSb3dzKGMpOwpkPXRoaXMuY29tcHV0ZVNjcm9sbGVySGVpZ2h0KGEpO3RoaXMuc2V0R3JpZEhlaWdodChkLGIpO2MmJiJudW1iZXIiIT09dHlwZW9mIGMmJnRoaXMuZGF5R3JpZC5saW1pdFJvd3MoYyk7aWYoIWIpe3RoaXMuc2Nyb2xsZXIuc2V0SGVpZ2h0KGQpO2I9dGhpcy5zY3JvbGxlci5nZXRTY3JvbGxiYXJXaWR0aHMoKTtpZihiLmxlZnR8fGIucmlnaHQpYWIodGhpcy5oZWFkUm93RWwsYiksZD10aGlzLmNvbXB1dGVTY3JvbGxlckhlaWdodChhKSx0aGlzLnNjcm9sbGVyLnNldEhlaWdodChkKTt0aGlzLnNjcm9sbGVyLmxvY2tPdmVyZmxvdyhiKX19LGNvbXB1dGVTY3JvbGxlckhlaWdodDpmdW5jdGlvbihhKXtyZXR1cm4gYS1wYih0aGlzLmVsLHRoaXMuc2Nyb2xsZXIuZWwpfSxzZXRHcmlkSGVpZ2h0OmZ1bmN0aW9uKGEsYil7Yj90aGlzLmRheUdyaWQucm93RWxzLmhlaWdodCgiIik6b2IodGhpcy5kYXlHcmlkLnJvd0VscyxhLCEwKX0scXVlcnlTY3JvbGw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY3JvbGxlci5nZXRTY3JvbGxUb3AoKX0sCnNldFNjcm9sbDpmdW5jdGlvbihhKXt0aGlzLnNjcm9sbGVyLnNldFNjcm9sbFRvcChhKX0scHJlcGFyZUhpdHM6ZnVuY3Rpb24oKXt0aGlzLmRheUdyaWQucHJlcGFyZUhpdHMoKX0scmVsZWFzZUhpdHM6ZnVuY3Rpb24oKXt0aGlzLmRheUdyaWQucmVsZWFzZUhpdHMoKX0scXVlcnlIaXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5kYXlHcmlkLnF1ZXJ5SGl0KGEsYil9LGdldEhpdFNwYW46ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZGF5R3JpZC5nZXRIaXRTcGFuKGEpfSxnZXRIaXRFbDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kYXlHcmlkLmdldEhpdEVsKGEpfSxyZW5kZXJFdmVudHM6ZnVuY3Rpb24oYSl7dGhpcy5kYXlHcmlkLnJlbmRlckV2ZW50cyhhKTt0aGlzLnVwZGF0ZUhlaWdodCgpfSxnZXRFdmVudFNlZ3M6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXlHcmlkLmdldEV2ZW50U2VncygpfSx1bnJlbmRlckV2ZW50czpmdW5jdGlvbigpe3RoaXMuZGF5R3JpZC51bnJlbmRlckV2ZW50cygpfSwKcmVuZGVyRHJhZzpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmRheUdyaWQucmVuZGVyRHJhZyhhLGIpfSx1bnJlbmRlckRyYWc6ZnVuY3Rpb24oKXt0aGlzLmRheUdyaWQudW5yZW5kZXJEcmFnKCl9LHJlbmRlclNlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLmRheUdyaWQucmVuZGVyU2VsZWN0aW9uKGEpfSx1bnJlbmRlclNlbGVjdGlvbjpmdW5jdGlvbigpe3RoaXMuZGF5R3JpZC51bnJlbmRlclNlbGVjdGlvbigpfX0pLGljPXtyZW5kZXJIZWFkSW50cm9IdG1sOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52aWV3O3JldHVybiBhLndlZWtOdW1iZXJzVmlzaWJsZT8nPHRoIGNsYXNzPSJmYy13ZWVrLW51bWJlciAnK2Eud2lkZ2V0SGVhZGVyQ2xhc3MrJyIgJythLndlZWtOdW1iZXJTdHlsZUF0dHIoKSsiPjxzcGFuPiIrTShhLm9wdCgid2Vla051bWJlclRpdGxlIikpKyI8L3NwYW4+PC90aD4iOiIifSxyZW5kZXJOdW1iZXJJbnRyb0h0bWw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy52aWV3OwpyZXR1cm4gYi53ZWVrTnVtYmVyc1Zpc2libGU/Jzx0ZCBjbGFzcz0iZmMtd2Vlay1udW1iZXIiICcrYi53ZWVrTnVtYmVyU3R5bGVBdHRyKCkrIj48c3Bhbj4iK3RoaXMuZ2V0Q2VsbERhdGUoYSwwKS5mb3JtYXQoInciKSsiPC9zcGFuPjwvdGQ+IjoiIn0scmVuZGVyQmdJbnRyb0h0bWw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnZpZXc7cmV0dXJuIGEud2Vla051bWJlcnNWaXNpYmxlPyc8dGQgY2xhc3M9ImZjLXdlZWstbnVtYmVyICcrYS53aWRnZXRDb250ZW50Q2xhc3MrJyIgJythLndlZWtOdW1iZXJTdHlsZUF0dHIoKSsiPjwvdGQ+IjoiIn0scmVuZGVySW50cm9IdG1sOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52aWV3O3JldHVybiBhLndlZWtOdW1iZXJzVmlzaWJsZT8nPHRkIGNsYXNzPSJmYy13ZWVrLW51bWJlciIgJythLndlZWtOdW1iZXJTdHlsZUF0dHIoKSsiPjwvdGQ+IjoiIn19LCRiPXYuTW9udGhWaWV3PUdiLmV4dGVuZCh7Y29tcHV0ZVJhbmdlOmZ1bmN0aW9uKGEpe2E9CkdiLnByb3RvdHlwZS5jb21wdXRlUmFuZ2UuY2FsbCh0aGlzLGEpO3ZhciBiO3RoaXMuaXNGaXhlZFdlZWtzKCkmJihiPU1hdGguY2VpbChhLmVuZC5kaWZmKGEuc3RhcnQsIndlZWtzIiwhMCkpLGEuZW5kLmFkZCg2LWIsIndlZWtzIikpO3JldHVybiBhfSxzZXRHcmlkSGVpZ2h0OmZ1bmN0aW9uKGEsYil7KGI9Ynx8InZhcmlhYmxlIj09PXRoaXMub3B0KCJ3ZWVrTW9kZSIpKSYmKGEqPXRoaXMucm93Q250LzYpO29iKHRoaXMuZGF5R3JpZC5yb3dFbHMsYSwhYil9LGlzRml4ZWRXZWVrczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0KCJ3ZWVrTW9kZSIpO3JldHVybiBhPyJmaXhlZCI9PT1hOnRoaXMub3B0KCJmaXhlZFdlZWtDb3VudCIpfX0pO3BhLmJhc2ljPXsiY2xhc3MiOkdifTtwYS5iYXNpY0RheT17dHlwZToiYmFzaWMiLGR1cmF0aW9uOntkYXlzOjF9fTtwYS5iYXNpY1dlZWs9e3R5cGU6ImJhc2ljIixkdXJhdGlvbjp7d2Vla3M6MX19O3BhLm1vbnRoPXsiY2xhc3MiOiRiLApkdXJhdGlvbjp7bW9udGhzOjF9LGRlZmF1bHRzOntmaXhlZFdlZWtDb3VudDohMH19O3ZhciBNYj12LkFnZW5kYVZpZXc9dmEuZXh0ZW5kKHtzY3JvbGxlcjpudWxsLHRpbWVHcmlkQ2xhc3M6RmEsdGltZUdyaWQ6bnVsbCxkYXlHcmlkQ2xhc3M6S2EsZGF5R3JpZDpudWxsLGF4aXNXaWR0aDpudWxsLGhlYWRDb250YWluZXJFbDpudWxsLG5vU2Nyb2xsUm93RWxzOm51bGwsYm90dG9tUnVsZUVsOm51bGwsaW5pdGlhbGl6ZTpmdW5jdGlvbigpe3RoaXMudGltZUdyaWQ9dGhpcy5pbnN0YW50aWF0ZVRpbWVHcmlkKCk7dGhpcy5vcHQoImFsbERheVNsb3QiKSYmKHRoaXMuZGF5R3JpZD10aGlzLmluc3RhbnRpYXRlRGF5R3JpZCgpKTt0aGlzLnNjcm9sbGVyPW5ldyBFYih7b3ZlcmZsb3dYOiJoaWRkZW4iLG92ZXJmbG93WToiYXV0byJ9KX0saW5zdGFudGlhdGVUaW1lR3JpZDpmdW5jdGlvbigpe3JldHVybiBuZXcgKHRoaXMudGltZUdyaWRDbGFzcy5leHRlbmQoR2EpKSh0aGlzKX0saW5zdGFudGlhdGVEYXlHcmlkOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyAodGhpcy5kYXlHcmlkQ2xhc3MuZXh0ZW5kKG5iKSkodGhpcyl9LApzZXRSYW5nZTpmdW5jdGlvbihhKXt2YS5wcm90b3R5cGUuc2V0UmFuZ2UuY2FsbCh0aGlzLGEpO3RoaXMudGltZUdyaWQuc2V0UmFuZ2UoYSk7dGhpcy5kYXlHcmlkJiZ0aGlzLmRheUdyaWQuc2V0UmFuZ2UoYSl9LHJlbmRlckRhdGVzOmZ1bmN0aW9uKCl7dGhpcy5lbC5hZGRDbGFzcygiZmMtYWdlbmRhLXZpZXciKS5odG1sKHRoaXMucmVuZGVyU2tlbGV0b25IdG1sKCkpO3RoaXMucmVuZGVySGVhZCgpO3RoaXMuc2Nyb2xsZXIucmVuZGVyKCk7dmFyIGE9dGhpcy5zY3JvbGxlci5lbC5hZGRDbGFzcygiZmMtdGltZS1ncmlkLWNvbnRhaW5lciIpLGI9ZygnPGRpdiBjbGFzcz0iZmMtdGltZS1ncmlkIiAvPicpLmFwcGVuZFRvKGEpO3RoaXMuZWwuZmluZCgiLmZjLWJvZHkgPiB0ciA+IHRkIikuYXBwZW5kKGEpO3RoaXMudGltZUdyaWQuc2V0RWxlbWVudChiKTt0aGlzLnRpbWVHcmlkLnJlbmRlckRhdGVzKCk7dGhpcy5ib3R0b21SdWxlRWw9ZygnPGhyIGNsYXNzPSJmYy1kaXZpZGVyICcrCnRoaXMud2lkZ2V0SGVhZGVyQ2xhc3MrJyIvPicpLmFwcGVuZFRvKHRoaXMudGltZUdyaWQuZWwpO3RoaXMuZGF5R3JpZCYmKHRoaXMuZGF5R3JpZC5zZXRFbGVtZW50KHRoaXMuZWwuZmluZCgiLmZjLWRheS1ncmlkIikpLHRoaXMuZGF5R3JpZC5yZW5kZXJEYXRlcygpLHRoaXMuZGF5R3JpZC5ib3R0b21Db29yZFBhZGRpbmc9dGhpcy5kYXlHcmlkLmVsLm5leHQoImhyIikub3V0ZXJIZWlnaHQoKSk7dGhpcy5ub1Njcm9sbFJvd0Vscz10aGlzLmVsLmZpbmQoIi5mYy1yb3c6bm90KC5mYy1zY3JvbGxlciAqKSIpfSxyZW5kZXJIZWFkOmZ1bmN0aW9uKCl7dGhpcy5oZWFkQ29udGFpbmVyRWw9dGhpcy5lbC5maW5kKCIuZmMtaGVhZC1jb250YWluZXIiKS5odG1sKHRoaXMudGltZUdyaWQucmVuZGVySGVhZEh0bWwoKSl9LHVucmVuZGVyRGF0ZXM6ZnVuY3Rpb24oKXt0aGlzLnRpbWVHcmlkLnVucmVuZGVyRGF0ZXMoKTt0aGlzLnRpbWVHcmlkLnJlbW92ZUVsZW1lbnQoKTt0aGlzLmRheUdyaWQmJgoodGhpcy5kYXlHcmlkLnVucmVuZGVyRGF0ZXMoKSx0aGlzLmRheUdyaWQucmVtb3ZlRWxlbWVudCgpKTt0aGlzLnNjcm9sbGVyLmRlc3Ryb3koKX0scmVuZGVyU2tlbGV0b25IdG1sOmZ1bmN0aW9uKCl7cmV0dXJuJzx0YWJsZT48dGhlYWQgY2xhc3M9ImZjLWhlYWQiPjx0cj48dGQgY2xhc3M9ImZjLWhlYWQtY29udGFpbmVyICcrdGhpcy53aWRnZXRIZWFkZXJDbGFzcysnIj48L3RkPjwvdHI+PC90aGVhZD48dGJvZHkgY2xhc3M9ImZjLWJvZHkiPjx0cj48dGQgY2xhc3M9IicrdGhpcy53aWRnZXRDb250ZW50Q2xhc3MrJyI+JysodGhpcy5kYXlHcmlkPyc8ZGl2IGNsYXNzPSJmYy1kYXktZ3JpZCIvPjxociBjbGFzcz0iZmMtZGl2aWRlciAnK3RoaXMud2lkZ2V0SGVhZGVyQ2xhc3MrJyIvPic6IiIpKyI8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPiJ9LGF4aXNTdHlsZUF0dHI6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuYXhpc1dpZHRoPydzdHlsZT0id2lkdGg6Jyt0aGlzLmF4aXNXaWR0aCsKJ3B4Iic6IiJ9LHJlbmRlckJ1c2luZXNzSG91cnM6ZnVuY3Rpb24oKXt0aGlzLnRpbWVHcmlkLnJlbmRlckJ1c2luZXNzSG91cnMoKTt0aGlzLmRheUdyaWQmJnRoaXMuZGF5R3JpZC5yZW5kZXJCdXNpbmVzc0hvdXJzKCl9LHVucmVuZGVyQnVzaW5lc3NIb3VyczpmdW5jdGlvbigpe3RoaXMudGltZUdyaWQudW5yZW5kZXJCdXNpbmVzc0hvdXJzKCk7dGhpcy5kYXlHcmlkJiZ0aGlzLmRheUdyaWQudW5yZW5kZXJCdXNpbmVzc0hvdXJzKCl9LGdldE5vd0luZGljYXRvclVuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lR3JpZC5nZXROb3dJbmRpY2F0b3JVbml0KCl9LHJlbmRlck5vd0luZGljYXRvcjpmdW5jdGlvbihhKXt0aGlzLnRpbWVHcmlkLnJlbmRlck5vd0luZGljYXRvcihhKX0sdW5yZW5kZXJOb3dJbmRpY2F0b3I6ZnVuY3Rpb24oKXt0aGlzLnRpbWVHcmlkLnVucmVuZGVyTm93SW5kaWNhdG9yKCl9LHVwZGF0ZVNpemU6ZnVuY3Rpb24oYSl7dGhpcy50aW1lR3JpZC51cGRhdGVTaXplKGEpOwp2YS5wcm90b3R5cGUudXBkYXRlU2l6ZS5jYWxsKHRoaXMsYSl9LHVwZGF0ZVdpZHRoOmZ1bmN0aW9uKCl7dGhpcy5heGlzV2lkdGg9bWEodGhpcy5lbC5maW5kKCIuZmMtYXhpcyIpKX0sc2V0SGVpZ2h0OmZ1bmN0aW9uKGEsYil7dmFyIGM7dGhpcy5ib3R0b21SdWxlRWwuaGlkZSgpO3RoaXMuc2Nyb2xsZXIuY2xlYXIoKTtiYih0aGlzLm5vU2Nyb2xsUm93RWxzKTt0aGlzLmRheUdyaWQmJih0aGlzLmRheUdyaWQucmVtb3ZlU2VnUG9wb3ZlcigpLChjPXRoaXMub3B0KCJldmVudExpbWl0IikpJiYibnVtYmVyIiE9PXR5cGVvZiBjJiYoYz1qYyksYyYmdGhpcy5kYXlHcmlkLmxpbWl0Um93cyhjKSk7aWYoIWIpe2I9dGhpcy5jb21wdXRlU2Nyb2xsZXJIZWlnaHQoYSk7dGhpcy5zY3JvbGxlci5zZXRIZWlnaHQoYik7Yz10aGlzLnNjcm9sbGVyLmdldFNjcm9sbGJhcldpZHRocygpO2lmKGMubGVmdHx8Yy5yaWdodClhYih0aGlzLm5vU2Nyb2xsUm93RWxzLGMpLGI9dGhpcy5jb21wdXRlU2Nyb2xsZXJIZWlnaHQoYSksCnRoaXMuc2Nyb2xsZXIuc2V0SGVpZ2h0KGIpO3RoaXMuc2Nyb2xsZXIubG9ja092ZXJmbG93KGMpO3RoaXMudGltZUdyaWQuZ2V0VG90YWxTbGF0SGVpZ2h0KCk8YiYmdGhpcy5ib3R0b21SdWxlRWwuc2hvdygpfX0sY29tcHV0ZVNjcm9sbGVySGVpZ2h0OmZ1bmN0aW9uKGEpe3JldHVybiBhLXBiKHRoaXMuZWwsdGhpcy5zY3JvbGxlci5lbCl9LGNvbXB1dGVJbml0aWFsU2Nyb2xsOmZ1bmN0aW9uKCl7dmFyIGE9cS5kdXJhdGlvbih0aGlzLm9wdCgic2Nyb2xsVGltZSIpKSxhPXRoaXMudGltZUdyaWQuY29tcHV0ZVRpbWVUb3AoYSk7KGE9TWF0aC5jZWlsKGEpKSYmYSsrO3JldHVybiBhfSxxdWVyeVNjcm9sbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNjcm9sbGVyLmdldFNjcm9sbFRvcCgpfSxzZXRTY3JvbGw6ZnVuY3Rpb24oYSl7dGhpcy5zY3JvbGxlci5zZXRTY3JvbGxUb3AoYSl9LHByZXBhcmVIaXRzOmZ1bmN0aW9uKCl7dGhpcy50aW1lR3JpZC5wcmVwYXJlSGl0cygpO3RoaXMuZGF5R3JpZCYmCnRoaXMuZGF5R3JpZC5wcmVwYXJlSGl0cygpfSxyZWxlYXNlSGl0czpmdW5jdGlvbigpe3RoaXMudGltZUdyaWQucmVsZWFzZUhpdHMoKTt0aGlzLmRheUdyaWQmJnRoaXMuZGF5R3JpZC5yZWxlYXNlSGl0cygpfSxxdWVyeUhpdDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMudGltZUdyaWQucXVlcnlIaXQoYSxiKTshYyYmdGhpcy5kYXlHcmlkJiYoYz10aGlzLmRheUdyaWQucXVlcnlIaXQoYSxiKSk7cmV0dXJuIGN9LGdldEhpdFNwYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29tcG9uZW50LmdldEhpdFNwYW4oYSl9LGdldEhpdEVsOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbXBvbmVudC5nZXRIaXRFbChhKX0scmVuZGVyRXZlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZDtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWFbZF0uYWxsRGF5P2IucHVzaChhW2RdKTpjLnB1c2goYVtkXSk7dGhpcy50aW1lR3JpZC5yZW5kZXJFdmVudHMoYyk7dGhpcy5kYXlHcmlkJiZ0aGlzLmRheUdyaWQucmVuZGVyRXZlbnRzKGIpOwp0aGlzLnVwZGF0ZUhlaWdodCgpfSxnZXRFdmVudFNlZ3M6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lR3JpZC5nZXRFdmVudFNlZ3MoKS5jb25jYXQodGhpcy5kYXlHcmlkP3RoaXMuZGF5R3JpZC5nZXRFdmVudFNlZ3MoKTpbXSl9LHVucmVuZGVyRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy50aW1lR3JpZC51bnJlbmRlckV2ZW50cygpO3RoaXMuZGF5R3JpZCYmdGhpcy5kYXlHcmlkLnVucmVuZGVyRXZlbnRzKCl9LHJlbmRlckRyYWc6ZnVuY3Rpb24oYSxiKXtpZihhLnN0YXJ0Lmhhc1RpbWUoKSlyZXR1cm4gdGhpcy50aW1lR3JpZC5yZW5kZXJEcmFnKGEsYik7aWYodGhpcy5kYXlHcmlkKXJldHVybiB0aGlzLmRheUdyaWQucmVuZGVyRHJhZyhhLGIpfSx1bnJlbmRlckRyYWc6ZnVuY3Rpb24oKXt0aGlzLnRpbWVHcmlkLnVucmVuZGVyRHJhZygpO3RoaXMuZGF5R3JpZCYmdGhpcy5kYXlHcmlkLnVucmVuZGVyRHJhZygpfSxyZW5kZXJTZWxlY3Rpb246ZnVuY3Rpb24oYSl7YS5zdGFydC5oYXNUaW1lKCl8fAphLmVuZC5oYXNUaW1lKCk/dGhpcy50aW1lR3JpZC5yZW5kZXJTZWxlY3Rpb24oYSk6dGhpcy5kYXlHcmlkJiZ0aGlzLmRheUdyaWQucmVuZGVyU2VsZWN0aW9uKGEpfSx1bnJlbmRlclNlbGVjdGlvbjpmdW5jdGlvbigpe3RoaXMudGltZUdyaWQudW5yZW5kZXJTZWxlY3Rpb24oKTt0aGlzLmRheUdyaWQmJnRoaXMuZGF5R3JpZC51bnJlbmRlclNlbGVjdGlvbigpfX0pLEdhPXtyZW5kZXJIZWFkSW50cm9IdG1sOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52aWV3LGI7cmV0dXJuIGEub3B0KCJ3ZWVrTnVtYmVycyIpPyhiPXRoaXMuc3RhcnQuZm9ybWF0KGEub3B0KCJzbWFsbFdlZWtGb3JtYXQiKSksJzx0aCBjbGFzcz0iZmMtYXhpcyBmYy13ZWVrLW51bWJlciAnK2Eud2lkZ2V0SGVhZGVyQ2xhc3MrJyIgJythLmF4aXNTdHlsZUF0dHIoKSsiPjxzcGFuPiIrTShiKSsiPC9zcGFuPjwvdGg+Iik6Jzx0aCBjbGFzcz0iZmMtYXhpcyAnK2Eud2lkZ2V0SGVhZGVyQ2xhc3MrJyIgJythLmF4aXNTdHlsZUF0dHIoKSsKIj48L3RoPiJ9LHJlbmRlckJnSW50cm9IdG1sOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52aWV3O3JldHVybic8dGQgY2xhc3M9ImZjLWF4aXMgJythLndpZGdldENvbnRlbnRDbGFzcysnIiAnK2EuYXhpc1N0eWxlQXR0cigpKyI+PC90ZD4ifSxyZW5kZXJJbnRyb0h0bWw6ZnVuY3Rpb24oKXtyZXR1cm4nPHRkIGNsYXNzPSJmYy1heGlzIiAnK3RoaXMudmlldy5heGlzU3R5bGVBdHRyKCkrIj48L3RkPiJ9fSxuYj17cmVuZGVyQmdJbnRyb0h0bWw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnZpZXc7cmV0dXJuJzx0ZCBjbGFzcz0iZmMtYXhpcyAnK2Eud2lkZ2V0Q29udGVudENsYXNzKyciICcrYS5heGlzU3R5bGVBdHRyKCkrIj48c3Bhbj4iKyhhLm9wdCgiYWxsRGF5SHRtbCIpfHxNKGEub3B0KCJhbGxEYXlUZXh0IikpKSsiPC9zcGFuPjwvdGQ+In0scmVuZGVySW50cm9IdG1sOmZ1bmN0aW9uKCl7cmV0dXJuJzx0ZCBjbGFzcz0iZmMtYXhpcyIgJyt0aGlzLnZpZXcuYXhpc1N0eWxlQXR0cigpKwoiPjwvdGQ+In19LGpjPTUsSGI9W3tob3VyczoxfSx7bWludXRlczozMH0se21pbnV0ZXM6MTV9LHtzZWNvbmRzOjMwfSx7c2Vjb25kczoxNX1dO3BhLmFnZW5kYT17ImNsYXNzIjpNYixkZWZhdWx0czp7YWxsRGF5U2xvdDohMCxhbGxEYXlUZXh0OiJhbGwtZGF5IixzbG90RHVyYXRpb246IjAwOjMwOjAwIixtaW5UaW1lOiIwMDowMDowMCIsbWF4VGltZToiMjQ6MDA6MDAiLHNsb3RFdmVudE92ZXJsYXA6ITB9fTtwYS5hZ2VuZGFEYXk9e3R5cGU6ImFnZW5kYSIsZHVyYXRpb246e2RheXM6MX19O3BhLmFnZW5kYVdlZWs9e3R5cGU6ImFnZW5kYSIsZHVyYXRpb246e3dlZWtzOjF9fTtyZXR1cm4gdn0pOw==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="549738265" offset="0" length="16384" />
        <PacketInfo time="549738265" offset="16384" length="16384" />
        <PacketInfo time="549738265" offset="32768" length="24" />
        <PacketInfo time="549738531" offset="32792" length="16384" />
        <PacketInfo time="549738546" offset="49176" length="16384" />
        <PacketInfo time="549738546" offset="65560" length="2561" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>