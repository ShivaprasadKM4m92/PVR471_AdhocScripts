//# sourceMappingURL=customise-jquery-idleTimeout.js.map
(function(b){b.fn.idleTimeout=function(C){var a=b.extend({redirectUrl:"/logout",idleTimeLimit:1200,idleCheckHeartbeat:2,customCallback:!1,activityEvents:"click keypress scroll wheel mousewheel mousemove",enableDialog:!0,dialogDisplayLimit:180,dialogTitle:"Session Expiration Warning",dialogText:"Because you have been inactive, your session is about to expire.",dialogTimeRemaining:"Time remaining",dialogStayLoggedInButton:"Stay Logged In",dialogLogOutNowButton:"Log Out Now",errorAlertMessage:'Please disable "Private Mode", or upgrade to a modern browser. Or perhaps a dependent file missing. Please see: https://github.com/marcuswestin/store.js',
sessionKeepAliveTimer:600,sessionKeepAliveUrl:window.location.href},C),D=document.title,p,f,k,q,r,t,u,v,l,g,w,x,y,z,A,m,h,n,B,c;this.logout=function(){store.set("idleTimerLoggedOut",!0)};f=function(){q=function(){b.get(a.sessionKeepAliveUrl);f()};r=setTimeout(q,1E3*a.sessionKeepAliveTimer)};k=function(){clearTimeout(r)};p=function(){b("body").on(a.activityEvents,function(){(!a.enableDialog||a.enableDialog&&!0!==h())&&g()})};v=function(){var d=store.get("idleTimerLastActivity")+1E3*a.idleTimeLimit;
b.now()>d?a.enableDialog?a.enableDialog&&!0!==h()&&(x(),A()):c():!0===store.get("idleTimerLoggedOut")?c():a.enableDialog&&!0===h()&&(n(),m())};g=function(){w();store.set("idleTimerLastActivity",b.now());l()};l=function(){v();t=setTimeout(l,1E3*a.idleCheckHeartbeat)};w=function(){clearTimeout(t)};x=function(){b("<div id='idletimer_warning_dialog'><p>"+a.dialogText+"</p><p style='display:inline'>"+a.dialogTimeRemaining+": <div style='display:inline' id='countdownDisplay'></div></p></div>").dialog({buttons:[{text:a.dialogStayLoggedInButton,
click:function(){n();m();g()}},{text:a.dialogLogOutNowButton,click:function(){c()}}],closeOnEscape:!1,modal:!0,title:a.dialogTitle,open:function(){b(this).closest(".ui-dialog").find(".ui-dialog-titlebar-close").hide()}});B();document.title=a.dialogTitle;a.sessionKeepAliveTimer&&k()};z=function(){var d=store.get("idleTimerLastActivity")+1E3*a.idleTimeLimit+1E3*a.dialogDisplayLimit;(b.now()>d||!0===store.get("idleTimerLoggedOut"))&&c()};A=function(){y=setInterval(z,1E3*a.idleCheckHeartbeat)};m=function(){clearInterval(y);
clearInterval(u)};h=function(){return!0===b("#idletimer_warning_dialog").is(":visible")?!0:!1};n=function(){b("#idletimer_warning_dialog").dialog("destroy").remove();document.title=D;a.sessionKeepAliveTimer&&f()};B=function(){var d=a.dialogDisplayLimit,e,c;u=setInterval(function(){e=Math.floor(d/60);10>e&&(e="0"+e);c=d-60*e;10>c&&(c="0"+c);b("#countdownDisplay").html(e+":"+c);--d;0>=d&&(d=0)},1E3)};c=function(){store.set("idleTimerLoggedOut",!0);a.sessionKeepAliveTimer&&k();a.customCallback&&a.customCallback();
a.redirectUrl&&(window.location.href=a.redirectUrl)};return this.each(function(){store.enabled?(store.set("idleTimerLastActivity",b.now()),store.set("idleTimerLoggedOut",!1),p(),a.sessionKeepAliveTimer&&f(),g()):alert(a.errorAlertMessage)})}})(jQuery);