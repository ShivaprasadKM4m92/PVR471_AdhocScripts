//# sourceMappingURL=periodicReport.js.map
$(document).ready(function(){function a(){$(document).find("select[name='globalDateRangeInformation.dateRangeEnum']").on("change",function(a){globalDateRangeChangedAction(document)}).select2().change();bindQuerySelect2($("#globalQuery")).on("change",function(a){selectGlobalQueryOnChange(this)});$(".globalQueryWrapper").find(".expressionField,.expressionOp,.expressionValueSelect").select2();buildReportingDestinationsSelectBox($("input[name='reportingDestinations']"),reportingDestinationsUrl,$("input[name='primaryReportingDestination']"),
!0);$(document).find("select[name='periodReportType']").select2();$("input[name='reportName']").val()||($(document).on("click",".addAllProducts",function(){autoFillReportName()}),$("#productSelection").change(function(){autoFillReportName()}),$("select[name='periodicReportType']").change(function(){autoFillReportName()}),$("input[name='reportName']").change(function(){$(this).data("changed",!0)}),autoFillReportName())}function b(){$("#generateCaseSeries").is(":checked")?$(".generateDraft").show():
$(".generateDraft").hide()}1==$("#configurationForm").length&&a();$("#generateCaseSeries").click(function(){b()});b()});
function selectGlobalQueryOnChange(a){var b=$(".globalQueryWrapper"),b=getExpressionValues(b),c=getQueryWrapperRow(a);$(b).empty();-1==getAJAXCount()?(""!=$(a).val()?($(c).find(".queryViewButton").attr("href",queryViewUrl+"/"+$(a).val()),$(c).find(".globalQueryDiv").addClass("col-xs-11"),$(c).find(".queryViewButton").removeClass("hide")):($(c).find(".queryViewButton").addClass("hide"),$(c).find(".globalQueryDiv").removeClass("col-xs-11").addClass("col-xs-12")),getBlankValuesForQueryAJAX($(a).val(),
b,""),getCustomSQLValuesForQueryAJAX($(a).val(),b,""),getBlankValuesForQuerySetAJAX($(a).val(),b,"")):$(a).select2("val","")}
function globalDateRangeChangedAction(a){var b=$(a).find("#globalDateRangeInformation\\.dateRangeEnum").val();b===DATE_RANGE_ENUM.CUSTOM?($(a).find("#datePickerFromDiv").show(),$(a).find("#datePickerToDiv").show(),$(a).find("#globalDateRangeInformation\\.relativeDateRangeValue").hide(),initializeGlobalDatePickersForEdit(a)):b===DATE_RANGE_ENUM.CUMULATIVE?($(a).find("#datePickerFromDiv").hide(),$(a).find("#datePickerToDiv").hide(),$(a).find("#globalDateRangeInformation\\.relativeDateRangeValue").hide()):
(_.contains(X_OPERATOR_ENUMS,b)?$(a).find("#globalDateRangeInformation\\.relativeDateRangeValue").show():$(a).find("#globalDateRangeInformation\\.relativeDateRangeValue").hide(),$(a).find("#datePickerFromDiv").hide(),$(a).find("#datePickerToDiv").hide())}
function initializeGlobalDatePickersForEdit(a){var b=null,c=null;$(a).find("#globalDateRangeInformation\\.dateRangeStartAbsolute").val()&&(b=$(a).find("#globalDateRangeInformation\\.dateRangeStartAbsolute").val());$(a).find("#globalDateRangeInformation\\.dateRangeEndAbsolute").val()&&(c=$(a).find("#globalDateRangeInformation\\.dateRangeEndAbsolute").val());$($(a).find("#datePickerFromDiv")).datepicker({allowPastDates:!0,date:b,twoDigitYearProtection:!0,momentConfig:{culture:userLocale,format:DEFAULT_DATE_DISPLAY_FORMAT}});
$($(a).find("#datePickerToDiv")).datepicker({allowPastDates:!0,date:c,twoDigitYearProtection:!0,momentConfig:{culture:userLocale,format:DEFAULT_DATE_DISPLAY_FORMAT}})}
function autoFillReportName(){if("true"!=$("input[name='editable']").val()&&!$("input[name='reportName']").data("changed")){var a=$("select[name='periodicReportType']").val();if($("#productSelection").val()){var b=JSON.parse($("#productSelection").val()),c;for(c in b)b.hasOwnProperty(c)&&_.each(b[c],function(b){a+=" "+b.name})}a=a.substr(0,200);$("input[name='reportName']").val(a)}};