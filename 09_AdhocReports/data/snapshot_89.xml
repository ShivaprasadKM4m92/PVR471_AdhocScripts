<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="89">
  <HTTPTask id="550" hostname="pvr-perf.rxlogix.com" path="/reports/assets/tinymce/tinymce.min-8913ae2d8b5e63961b59cb681291410b.js" url="https://pvr-perf.rxlogix.com/reports/assets/tinymce/tinymce.min-8913ae2d8b5e63961b59cb681291410b.js" ip="10.100.6.109" port="443" connectionId="10" origin="Primary" frame="1" startDateTime="2020-09-10T18:33:15.491+05:30" startTime="549765343" endTime="549766031">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHZyLXBlcmYucnhsb2dpeC5jb20=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg1LjAuNDE4My4xMDIgU2FmYXJpLzUzNy4zNg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Site" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c2FtZS1vcmlnaW4=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Mode" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY29ycw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Dest" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9wdnItcGVyZi5yeGxvZ2l4LmNvbS9yZXBvcnRzL2NvbmZpZ3VyYXRpb24vY3JlYXRl</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U0VTU0lPTj0yYjMyOTkzYS0zZGNjLTRhMDAtOTUxMC1mYTBhZTkyZTE0NTA7IGNjX2Nvb2tpZV9kZWNsaW5lPW51bGw7IGNjX2Nvb2tpZV9hY2NlcHQ9Y2NfY29va2llX2FjY2VwdA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9yZXBvcnRzL2Fzc2V0cy90aW55bWNlL3RpbnltY2UubWluLTg5MTNhZTJkOGI1ZTYzOTYxYjU5Y2I2ODEyOTE0MTBiLmpzIEhUVFAvMS4xDQpIb3N0OiBwdnItcGVyZi5yeGxvZ2l4LmNvbQ0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg1LjAuNDE4My4xMDIgU2FmYXJpLzUzNy4zNg0KQWNjZXB0OiAqLyoNClNlYy1GZXRjaC1TaXRlOiBzYW1lLW9yaWdpbg0KU2VjLUZldGNoLU1vZGU6IG5vLWNvcnMNClNlYy1GZXRjaC1EZXN0OiBzY3JpcHQNClJlZmVyZXI6IGh0dHBzOi8vcHZyLXBlcmYucnhsb2dpeC5jb20vcmVwb3J0cy9jb25maWd1cmF0aW9uL2NyZWF0ZQ0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBicg0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUyxlbjtxPTAuOQ0KQ29va2llOiBTRVNTSU9OPTJiMzI5OTNhLTNkY2MtNGEwMC05NTEwLWZhMGFlOTJlMTQ1MDsgY2NfY29va2llX2RlY2xpbmU9bnVsbDsgY2NfY29va2llX2FjY2VwdD1jY19jb29raWVfYWNjZXB0DQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="SESSION" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MmIzMjk5M2EtM2RjYy00YTAwLTk1MTAtZmEwYWU5MmUxNDUw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="cc_cookie_decline" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bnVsbA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="cc_cookie_accept" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Y2NfY29va2llX2FjY2VwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>118854</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Date" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAxMCBTZXAgMjAyMCAxMjo1Njo1OCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdDtjaGFyc2V0PVVURi04</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTE4ODU0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Frame-Options" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>REVOWQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAwOCBTZXAgMjAyMCAwOTowMDo1MiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>InRpbnltY2UvdGlueW1jZS5taW4tODkxM2FlMmQ4YjVlNjM5NjFiNTljYjY4MTI5MTQxMGIuanMi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHVibGljLCBtYXgtYWdlPTMxNTM2MDAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIA0KRGF0ZTogVGh1LCAxMCBTZXAgMjAyMCAxMjo1Njo1OCBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdDtjaGFyc2V0PVVURi04DQpDb250ZW50LUxlbmd0aDogMTE4ODU0DQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpYLUZyYW1lLU9wdGlvbnM6IERFTlkNCkxhc3QtTW9kaWZpZWQ6IFR1ZSwgMDggU2VwIDIwMjAgMDk6MDA6NTIgR01UDQpFVGFnOiAidGlueW1jZS90aW55bWNlLm1pbi04OTEzYWUyZDhiNWU2Mzk2MWI1OWNiNjgxMjkxNDEwYi5qcyINClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KQ2FjaGUtQ29udHJvbDogcHVibGljLCBtYXgtYWdlPTMxNTM2MDAwDQpDb250ZW50LUVuY29kaW5nOiBnemlwDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>Ly8gNC43LjEzICgyMDE4LTA1LTE2KQohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dmFyIGUsdCxuLHIsbyxpLGEsdSxzLGMsbCxmLGQsbSxwLGcsaCx2PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlfX0seT12KCExKSxiPXYoITApLFY9e25vb3A6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF19LG5vYXJnOmZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gbigpfX0sY29tcG9zZTpmdW5jdGlvbihuLHIpe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gbihyLmFwcGx5KG51bGwsYXJndW1lbnRzKSl9fSxjb25zdGFudDp2LGlkZW50aXR5OmZ1bmN0aW9uKGUpe3JldHVybiBlfSx0cmlwbGVFcXVhbHM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR9LGN1cnJ5OmZ1bmN0aW9uKGkpe2Zvcih2YXIgZT1bXSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3QtMV09YXJndW1lbnRzW3RdO2Zvcih2YXIgYT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKylhW24tMV09YXJndW1lbnRzW25dO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtmb3IodmFyIG49bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdPWFyZ3VtZW50c1tyXTt2YXIgbz1hLmNvbmNhdChuKTtyZXR1cm4gaS5hcHBseShudWxsLG8pfX0sbm90OmZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4hbi5hcHBseShudWxsLGFyZ3VtZW50cyl9fSxkaWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKGUpfX0sYXBwbHk6ZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0sY2FsbDpmdW5jdGlvbihlKXtlKCl9LG5ldmVyOnksYWx3YXlzOmJ9LEM9Vi5uZXZlcix4PVYuYWx3YXlzLHc9ZnVuY3Rpb24oKXtyZXR1cm4gTn0sTj0ocj17Zm9sZDpmdW5jdGlvbihlLHQpe3JldHVybiBlKCl9LGlzOkMsaXNTb21lOkMsaXNOb25lOngsZ2V0T3I6bj1mdW5jdGlvbihlKXtyZXR1cm4gZX0sZ2V0T3JUaHVuazp0PWZ1bmN0aW9uKGUpe3JldHVybiBlKCl9LGdldE9yRGllOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlfHwiZXJyb3I6IGdldE9yRGllIGNhbGxlZCBvbiBub25lLiIpfSxvcjpuLG9yVGh1bms6dCxtYXA6dyxhcDp3LGVhY2g6ZnVuY3Rpb24oKXt9LGJpbmQ6dyxmbGF0dGVuOncsZXhpc3RzOkMsZm9yYWxsOngsZmlsdGVyOncsZXF1YWxzOmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNOb25lKCl9LGVxdWFsc186ZSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuW119LHRvU3RyaW5nOlYuY29uc3RhbnQoIm5vbmUoKSIpfSxPYmplY3QuZnJlZXplJiZPYmplY3QuZnJlZXplKHIpLHIpLEU9ZnVuY3Rpb24obil7dmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4gbn0sdD1mdW5jdGlvbigpe3JldHVybiBvfSxyPWZ1bmN0aW9uKGUpe3JldHVybiBlKG4pfSxvPXtmb2xkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQobil9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiBuPT09ZX0saXNTb21lOngsaXNOb25lOkMsZ2V0T3I6ZSxnZXRPclRodW5rOmUsZ2V0T3JEaWU6ZSxvcjp0LG9yVGh1bms6dCxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIEUoZShuKSl9LGFwOmZ1bmN0aW9uKGUpe3JldHVybiBlLmZvbGQodyxmdW5jdGlvbihlKXtyZXR1cm4gRShlKG4pKX0pfSxlYWNoOmZ1bmN0aW9uKGUpe2Uobil9LGJpbmQ6cixmbGF0dGVuOmUsZXhpc3RzOnIsZm9yYWxsOnIsZmlsdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBlKG4pP286Tn0sZXF1YWxzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlzKG4pfSxlcXVhbHNfOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZm9sZChDLGZ1bmN0aW9uKGUpe3JldHVybiB0KG4sZSl9KX0sdG9BcnJheTpmdW5jdGlvbigpe3JldHVybltuXX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4ic29tZSgiK24rIikifX07cmV0dXJuIG99LEE9e3NvbWU6RSxub25lOncsZnJvbTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09PWV8fGU9PT11bmRlZmluZWQ/TjpFKGUpfX0sUz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKG51bGw9PT1lKXJldHVybiJudWxsIjt2YXIgdD10eXBlb2YgZTtyZXR1cm4ib2JqZWN0Ij09PXQmJkFycmF5LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpPyJhcnJheSI6Im9iamVjdCI9PT10JiZTdHJpbmcucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZSk/InN0cmluZyI6dH0oZSk9PT10fX0saz17aXNTdHJpbmc6Uygic3RyaW5nIiksaXNPYmplY3Q6Uygib2JqZWN0IiksaXNBcnJheTpTKCJhcnJheSIpLGlzTnVsbDpTKCJudWxsIiksaXNCb29sZWFuOlMoImJvb2xlYW4iKSxpc1VuZGVmaW5lZDpTKCJ1bmRlZmluZWQiKSxpc0Z1bmN0aW9uOlMoImZ1bmN0aW9uIiksaXNOdW1iZXI6UygibnVtYmVyIil9LFQ9KG89QXJyYXkucHJvdG90eXBlLmluZGV4T2YpPT09dW5kZWZpbmVkP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIEwoZSx0KX06ZnVuY3Rpb24oZSx0KXtyZXR1cm4gby5jYWxsKGUsdCl9LFI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4tMTxUKGUsdCl9LF89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5sZW5ndGgscj1uZXcgQXJyYXkobiksbz0wO288bjtvKyspe3ZhciBpPWVbb107cltvXT10KGksbyxlKX1yZXR1cm4gcn0sQj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKyl0KGVbbl0sbixlKX0sRD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aC0xOzA8PW47bi0tKXQoZVtuXSxuLGUpfSxPPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MCxvPWUubGVuZ3RoO3I8bztyKyspe3ZhciBpPWVbcl07dChpLHIsZSkmJm4ucHVzaChpKX1yZXR1cm4gbn0sUD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyO24rKylpZih0KGVbbl0sbixlKSlyZXR1cm4gQS5zb21lKG4pO3JldHVybiBBLm5vbmUoKX0sTD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyOysrbilpZihlW25dPT09dClyZXR1cm4gbjtyZXR1cm4tMX0sST1BcnJheS5wcm90b3R5cGUucHVzaCxNPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTAscj1lLmxlbmd0aDtuPHI7KytuKXtpZighQXJyYXkucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZVtuXSkpdGhyb3cgbmV3IEVycm9yKCJBcnIuZmxhdHRlbiBpdGVtICIrbisiIHdhcyBub3QgYW4gYXJyYXksIGlucHV0OiAiK2UpO0kuYXBwbHkodCxlW25dKX1yZXR1cm4gdH0sRj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7bjxyOysrbilpZighMCE9PXQoZVtuXSxuLGUpKXJldHVybiExO3JldHVybiEwfSx6PUFycmF5LnByb3RvdHlwZS5zbGljZSxVPWsuaXNGdW5jdGlvbihBcnJheS5mcm9tKT9BcnJheS5mcm9tOmZ1bmN0aW9uKGUpe3JldHVybiB6LmNhbGwoZSl9LEg9e21hcDpfLGVhY2g6QixlYWNocjpELHBhcnRpdGlvbjpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPVtdLG89MCxpPWUubGVuZ3RoO288aTtvKyspe3ZhciBhPWVbb107KHQoYSxvLGUpP246cikucHVzaChhKX1yZXR1cm57cGFzczpuLGZhaWw6cn19LGZpbHRlcjpPLGdyb3VwQnk6ZnVuY3Rpb24oZSx0KXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuW107Zm9yKHZhciBuPXQoZVswXSkscj1bXSxvPVtdLGk9MCxhPWUubGVuZ3RoO2k8YTtpKyspe3ZhciB1PWVbaV0scz10KHUpO3MhPT1uJiYoci5wdXNoKG8pLG89W10pLG49cyxvLnB1c2godSl9cmV0dXJuIDAhPT1vLmxlbmd0aCYmci5wdXNoKG8pLHJ9LGluZGV4T2Y6ZnVuY3Rpb24oZSx0KXt2YXIgbj1UKGUsdCk7cmV0dXJuLTE9PT1uP0Eubm9uZSgpOkEuc29tZShuKX0sZm9sZHI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBEKGUsZnVuY3Rpb24oZSl7bj10KG4sZSl9KSxufSxmb2xkbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEIoZSxmdW5jdGlvbihlKXtuPXQobixlKX0pLG59LGZpbmQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspe3ZhciBvPWVbbl07aWYodChvLG4sZSkpcmV0dXJuIEEuc29tZShvKX1yZXR1cm4gQS5ub25lKCl9LGZpbmRJbmRleDpQLGZsYXR0ZW46TSxiaW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG49XyhlLHQpO3JldHVybiBNKG4pfSxmb3JhbGw6RixleGlzdHM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gUChlLHQpLmlzU29tZSgpfSxjb250YWluczpSLGVxdWFsOmZ1bmN0aW9uKGUsbil7cmV0dXJuIGUubGVuZ3RoPT09bi5sZW5ndGgmJkYoZSxmdW5jdGlvbihlLHQpe3JldHVybiBlPT09blt0XX0pfSxyZXZlcnNlOmZ1bmN0aW9uKGUpe3ZhciB0PXouY2FsbChlLDApO3JldHVybiB0LnJldmVyc2UoKSx0fSxjaHVuazpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPTA7cjxlLmxlbmd0aDtyKz10KXt2YXIgbz1lLnNsaWNlKHIscit0KTtuLnB1c2gobyl9cmV0dXJuIG59LGRpZmZlcmVuY2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTyhlLGZ1bmN0aW9uKGUpe3JldHVybiFSKHQsZSl9KX0sbWFwVG9PYmplY3Q6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49e30scj0wLG89ZS5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9ZVtyXTtuW1N0cmluZyhpKV09dChpLHIpfXJldHVybiBufSxwdXJlOmZ1bmN0aW9uKGUpe3JldHVybltlXX0sc29ydDpmdW5jdGlvbihlLHQpe3ZhciBuPXouY2FsbChlLDApO3JldHVybiBuLnNvcnQodCksbn0scmFuZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wO3I8ZTtyKyspbi5wdXNoKHQocikpO3JldHVybiBufSxoZWFkOmZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5sZW5ndGg/QS5ub25lKCk6QS5zb21lKGVbMF0pfSxsYXN0OmZ1bmN0aW9uKGUpe3JldHVybiAwPT09ZS5sZW5ndGg/QS5ub25lKCk6QS5zb21lKGVbZS5sZW5ndGgtMV0pfSxmcm9tOlV9LHE9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OkZ1bmN0aW9uKCJyZXR1cm4gdGhpczsiKSgpLGo9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dCE9PXVuZGVmaW5lZCYmbnVsbCE9PXQ/dDpxLHI9MDtyPGUubGVuZ3RoJiZuIT09dW5kZWZpbmVkJiZudWxsIT09bjsrK3Ipbj1uW2Vbcl1dO3JldHVybiBufSwkPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5zcGxpdCgiLiIpO3JldHVybiBqKG4sdCl9LFc9e2dldE9yRGllOmZ1bmN0aW9uKGUsdCl7dmFyIG49JChlLHQpO2lmKG49PT11bmRlZmluZWR8fG51bGw9PT1uKXRocm93IGUrIiBub3QgYXZhaWxhYmxlIG9uIHRoaXMgYnJvd3NlciI7cmV0dXJuIG59fSxLPWZ1bmN0aW9uKCl7cmV0dXJuIFcuZ2V0T3JEaWUoIlVSTCIpfSxYPXtjcmVhdGVPYmplY3RVUkw6ZnVuY3Rpb24oZSl7cmV0dXJuIEsoKS5jcmVhdGVPYmplY3RVUkwoZSl9LHJldm9rZU9iamVjdFVSTDpmdW5jdGlvbihlKXtLKCkucmV2b2tlT2JqZWN0VVJMKGUpfX0sWT1uYXZpZ2F0b3IsRz1ZLnVzZXJBZ2VudCxKPWZ1bmN0aW9uKGUpe3JldHVybiJtYXRjaE1lZGlhImluIHdpbmRvdyYmbWF0Y2hNZWRpYShlKS5tYXRjaGVzfTtkPS9BbmRyb2lkLy50ZXN0KEcpLGE9KGE9IShpPS9XZWJLaXQvLnRlc3QoRykpJiYvTVNJRS9naS50ZXN0KEcpJiYvRXhwbG9yZXIvZ2kudGVzdChZLmFwcE5hbWUpKSYmL01TSUUgKFx3KylcLi8uZXhlYyhHKVsxXSx1PS0xIT09Ry5pbmRleE9mKCJUcmlkZW50LyIpJiYoLTEhPT1HLmluZGV4T2YoInJ2OiIpfHwtMSE9PVkuYXBwTmFtZS5pbmRleE9mKCJOZXRzY2FwZSIpKSYmMTEscz0tMSE9PUcuaW5kZXhPZigiRWRnZS8iKSYmIWEmJiF1JiYxMixhPWF8fHV8fHMsYz0haSYmIXUmJi9HZWNrby8udGVzdChHKSxsPS0xIT09Ry5pbmRleE9mKCJNYWMiKSxmPS8oaVBhZHxpUGhvbmUpLy50ZXN0KEcpLG09IkZvcm1EYXRhImluIHdpbmRvdyYmIkZpbGVSZWFkZXIiaW4gd2luZG93JiYiVVJMImluIHdpbmRvdyYmISFYLmNyZWF0ZU9iamVjdFVSTCxwPUooIm9ubHkgc2NyZWVuIGFuZCAobWF4LWRldmljZS13aWR0aDogNDgwcHgpIikmJihkfHxmKSxnPUooIm9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA4MDBweCkiKSYmKGR8fGYpLGg9LTEhPT1HLmluZGV4T2YoIldpbmRvd3MgUGhvbmUiKSxzJiYoaT0hMSk7dmFyIFEsWixlZSx0ZSxuZSxyZSxvZSxpZSxhZSx1ZSxzZSxjZSxsZSxmZSxkZSxtZSxwZSxnZSxoZSx2ZT17b3BlcmE6ITEsd2Via2l0OmksaWU6YSxnZWNrbzpjLG1hYzpsLGlPUzpmLGFuZHJvaWQ6ZCxjb250ZW50RWRpdGFibGU6IWZ8fG18fDUzNDw9cGFyc2VJbnQoRy5tYXRjaCgvQXBwbGVXZWJLaXRcLyhcZCopLylbMV0sMTApLHRyYW5zcGFyZW50U3JjOiJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTciLGNhcmV0QWZ0ZXI6OCE9PWEscmFuZ2U6d2luZG93LmdldFNlbGVjdGlvbiYmIlJhbmdlImluIHdpbmRvdyxkb2N1bWVudE1vZGU6YSYmIXM/ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw3OjEwLGZpbGVBcGk6bSxjZUZhbHNlOiExPT09YXx8ODxhLGNhY2hlU3VmZml4Om51bGwsY29udGFpbmVyOm51bGwsb3ZlcnJpZGVWaWV3UG9ydDpudWxsLGV4cGVyaW1lbnRhbFNoYWRvd0RvbTohMSxjYW5IYXZlQ1NQOiExPT09YXx8MTE8YSxkZXNrdG9wOiFwJiYhZyx3aW5kb3dzUGhvbmU6aH0seWU9d2luZG93LlByb21pc2U/d2luZG93LlByb21pc2U6ZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7ZS5hcHBseSh0LGFyZ3VtZW50cyl9fXZhciBlPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9LGk9ZnVuY3Rpb24oZSl7aWYoIm9iamVjdCIhPXR5cGVvZiB0aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoIlByb21pc2VzIG11c3QgYmUgY29uc3RydWN0ZWQgdmlhIG5ldyIpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoIm5vdCBhIGZ1bmN0aW9uIik7dGhpcy5fc3RhdGU9bnVsbCx0aGlzLl92YWx1ZT1udWxsLHRoaXMuX2RlZmVycmVkcz1bXSxsKGUscihvLHRoaXMpLHIodSx0aGlzKSl9LHQ9aS5pbW1lZGlhdGVGbnx8ImZ1bmN0aW9uIj09dHlwZW9mIHNldEltbWVkaWF0ZSYmc2V0SW1tZWRpYXRlfHxmdW5jdGlvbihlKXtzZXRUaW1lb3V0KGUsMSl9O2Z1bmN0aW9uIGEocil7dmFyIG89dGhpcztudWxsIT09dGhpcy5fc3RhdGU/dChmdW5jdGlvbigpe3ZhciBlPW8uX3N0YXRlP3Iub25GdWxmaWxsZWQ6ci5vblJlamVjdGVkO2lmKG51bGwhPT1lKXt2YXIgdDt0cnl7dD1lKG8uX3ZhbHVlKX1jYXRjaChuKXtyZXR1cm4gdm9pZCByLnJlamVjdChuKX1yLnJlc29sdmUodCl9ZWxzZShvLl9zdGF0ZT9yLnJlc29sdmU6ci5yZWplY3QpKG8uX3ZhbHVlKX0pOnRoaXMuX2RlZmVycmVkcy5wdXNoKHIpfWZ1bmN0aW9uIG8oZSl7dHJ5e2lmKGU9PT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoIkEgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuIik7aWYoZSYmKCJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUpKXt2YXIgdD1lLnRoZW47aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpcmV0dXJuIHZvaWQgbChyKHQsZSkscihvLHRoaXMpLHIodSx0aGlzKSl9dGhpcy5fc3RhdGU9ITAsdGhpcy5fdmFsdWU9ZSxzLmNhbGwodGhpcyl9Y2F0Y2gobil7dS5jYWxsKHRoaXMsbil9fWZ1bmN0aW9uIHUoZSl7dGhpcy5fc3RhdGU9ITEsdGhpcy5fdmFsdWU9ZSxzLmNhbGwodGhpcyl9ZnVuY3Rpb24gcygpe2Zvcih2YXIgZT0wLHQ9dGhpcy5fZGVmZXJyZWRzLmxlbmd0aDtlPHQ7ZSsrKWEuY2FsbCh0aGlzLHRoaXMuX2RlZmVycmVkc1tlXSk7dGhpcy5fZGVmZXJyZWRzPW51bGx9ZnVuY3Rpb24gYyhlLHQsbixyKXt0aGlzLm9uRnVsZmlsbGVkPSJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6bnVsbCx0aGlzLm9uUmVqZWN0ZWQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpudWxsLHRoaXMucmVzb2x2ZT1uLHRoaXMucmVqZWN0PXJ9ZnVuY3Rpb24gbChlLHQsbil7dmFyIHI9ITE7dHJ5e2UoZnVuY3Rpb24oZSl7cnx8KHI9ITAsdChlKSl9LGZ1bmN0aW9uKGUpe3J8fChyPSEwLG4oZSkpfSl9Y2F0Y2gobyl7aWYocilyZXR1cm47cj0hMCxuKG8pfX1yZXR1cm4gaS5wcm90b3R5cGVbImNhdGNoIl09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGUpfSxpLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKG4scil7dmFyIG89dGhpcztyZXR1cm4gbmV3IGkoZnVuY3Rpb24oZSx0KXthLmNhbGwobyxuZXcgYyhuLHIsZSx0KSl9KX0saS5hbGw9ZnVuY3Rpb24oKXt2YXIgcz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCgxPT09YXJndW1lbnRzLmxlbmd0aCYmZShhcmd1bWVudHNbMF0pP2FyZ3VtZW50c1swXTphcmd1bWVudHMpO3JldHVybiBuZXcgaShmdW5jdGlvbihvLGkpe2lmKDA9PT1zLmxlbmd0aClyZXR1cm4gbyhbXSk7dmFyIGE9cy5sZW5ndGg7ZnVuY3Rpb24gdSh0LGUpe3RyeXtpZihlJiYoIm9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZSkpe3ZhciBuPWUudGhlbjtpZigiZnVuY3Rpb24iPT10eXBlb2YgbilyZXR1cm4gdm9pZCBuLmNhbGwoZSxmdW5jdGlvbihlKXt1KHQsZSl9LGkpfXNbdF09ZSwwPT0tLWEmJm8ocyl9Y2F0Y2gocil7aShyKX19Zm9yKHZhciBlPTA7ZTxzLmxlbmd0aDtlKyspdShlLHNbZV0pfSl9LGkucmVzb2x2ZT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmIm9iamVjdCI9PXR5cGVvZiB0JiZ0LmNvbnN0cnVjdG9yPT09aT90Om5ldyBpKGZ1bmN0aW9uKGUpe2UodCl9KX0saS5yZWplY3Q9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBpKGZ1bmN0aW9uKGUsdCl7dChuKX0pfSxpLnJhY2U9ZnVuY3Rpb24obyl7cmV0dXJuIG5ldyBpKGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1vLmxlbmd0aDtuPHI7bisrKW9bbl0udGhlbihlLHQpfSl9LGl9KCksYmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHQmJih0PTApLHNldFRpbWVvdXQoZSx0KX0sQ2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIHQmJih0PTEpLHNldEludGVydmFsKGUsdCl9LHhlPWZ1bmN0aW9uKHQsbil7dmFyIHIsZTtyZXR1cm4oZT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztjbGVhclRpbWVvdXQocikscj1iZShmdW5jdGlvbigpe3QuYXBwbHkodGhpcyxlKX0sbil9KS5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHIpfSxlfSx3ZT17cmVxdWVzdEFuaW1hdGlvbkZyYW1lOmZ1bmN0aW9uKGUsdCl7UT9RLnRoZW4oZSk6UT1uZXcgeWUoZnVuY3Rpb24oZSl7dHx8KHQ9ZG9jdW1lbnQuYm9keSksZnVuY3Rpb24oZSx0KXt2YXIgbixyPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsbz1bIm1zIiwibW96Iiwid2Via2l0Il07Zm9yKG49MDtuPG8ubGVuZ3RoJiYhcjtuKyspcj13aW5kb3dbb1tuXSsiUmVxdWVzdEFuaW1hdGlvbkZyYW1lIl07cnx8KHI9ZnVuY3Rpb24oZSl7d2luZG93LnNldFRpbWVvdXQoZSwwKX0pLHIoZSx0KX0oZSx0KX0pLnRoZW4oZSl9LHNldFRpbWVvdXQ6YmUsc2V0SW50ZXJ2YWw6Q2Usc2V0RWRpdG9yVGltZW91dDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGJlKGZ1bmN0aW9uKCl7ZS5yZW1vdmVkfHx0KCl9LG4pfSxzZXRFZGl0b3JJbnRlcnZhbDpmdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIHI9Q2UoZnVuY3Rpb24oKXtlLnJlbW92ZWQ/Y2xlYXJJbnRlcnZhbChyKTp0KCl9LG4pfSxkZWJvdW5jZTp4ZSx0aHJvdHRsZTp4ZSxjbGVhckludGVydmFsOmZ1bmN0aW9uKGUpe3JldHVybiBjbGVhckludGVydmFsKGUpfSxjbGVhclRpbWVvdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGNsZWFyVGltZW91dChlKX19LE5lPS9eKD86bW91c2V8Y29udGV4dG1lbnUpfGNsaWNrLyxFZT17a2V5TG9jYXRpb246MSxsYXllclg6MSxsYXllclk6MSxyZXR1cm5WYWx1ZToxLHdlYmtpdE1vdmVtZW50WDoxLHdlYmtpdE1vdmVtZW50WToxLGtleUlkZW50aWZpZXI6MX0sU2U9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sa2U9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sVGU9ZnVuY3Rpb24oZSx0LG4scil7ZS5hZGRFdmVudExpc3RlbmVyP2UuYWRkRXZlbnRMaXN0ZW5lcih0LG4scnx8ITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoIm9uIit0LG4pfSxBZT1mdW5jdGlvbihlLHQsbixyKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbixyfHwhMSk6ZS5kZXRhY2hFdmVudCYmZS5kZXRhY2hFdmVudCgib24iK3Qsbil9LFJlPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1LHM9dHx8e307Zm9yKG4gaW4gZSlFZVtuXXx8KHNbbl09ZVtuXSk7aWYocy50YXJnZXR8fChzLnRhcmdldD1zLnNyY0VsZW1lbnR8fGRvY3VtZW50KSx2ZS5leHBlcmltZW50YWxTaGFkb3dEb20mJihzLnRhcmdldD0ocj1lLG89cy50YXJnZXQsYT1vLChpPXIucGF0aCkmJjA8aS5sZW5ndGgmJihhPWlbMF0pLHIuY29tcG9zZWRQYXRoJiYoaT1yLmNvbXBvc2VkUGF0aCgpKSYmMDxpLmxlbmd0aCYmKGE9aVswXSksYSkpLGUmJk5lLnRlc3QoZS50eXBlKSYmZS5wYWdlWD09PXVuZGVmaW5lZCYmZS5jbGllbnRYIT09dW5kZWZpbmVkKXt2YXIgYz1zLnRhcmdldC5vd25lckRvY3VtZW50fHxkb2N1bWVudCxsPWMuZG9jdW1lbnRFbGVtZW50LGY9Yy5ib2R5O3MucGFnZVg9ZS5jbGllbnRYKyhsJiZsLnNjcm9sbExlZnR8fGYmJmYuc2Nyb2xsTGVmdHx8MCktKGwmJmwuY2xpZW50TGVmdHx8ZiYmZi5jbGllbnRMZWZ0fHwwKSxzLnBhZ2VZPWUuY2xpZW50WSsobCYmbC5zY3JvbGxUb3B8fGYmJmYuc2Nyb2xsVG9wfHwwKS0obCYmbC5jbGllbnRUb3B8fGYmJmYuY2xpZW50VG9wfHwwKX1yZXR1cm4gcy5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe3MuaXNEZWZhdWx0UHJldmVudGVkPWtlLGUmJihlLnByZXZlbnREZWZhdWx0P2UucHJldmVudERlZmF1bHQoKTplLnJldHVyblZhbHVlPSExKX0scy5zdG9wUHJvcGFnYXRpb249ZnVuY3Rpb24oKXtzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWtlLGUmJihlLnN0b3BQcm9wYWdhdGlvbj9lLnN0b3BQcm9wYWdhdGlvbigpOmUuY2FuY2VsQnViYmxlPSEwKX0sIShzLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3MuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9a2Uscy5zdG9wUHJvcGFnYXRpb24oKX0pPT0oKHU9cykuaXNEZWZhdWx0UHJldmVudGVkPT09a2V8fHUuaXNEZWZhdWx0UHJldmVudGVkPT09U2UpJiYocy5pc0RlZmF1bHRQcmV2ZW50ZWQ9U2Uscy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1TZSxzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPVNlKSwidW5kZWZpbmVkIj09dHlwZW9mIHMubWV0YUtleSYmKHMubWV0YUtleT0hMSksc30sX2U9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZG9jdW1lbnQsbz17dHlwZToicmVhZHkifTtpZihuLmRvbUxvYWRlZCl0KG8pO2Vsc2V7dmFyIGk9ZnVuY3Rpb24oKXtyZXR1cm4iY29tcGxldGUiPT09ci5yZWFkeVN0YXRlfHwiaW50ZXJhY3RpdmUiPT09ci5yZWFkeVN0YXRlJiZyLmJvZHl9LGE9ZnVuY3Rpb24oKXtuLmRvbUxvYWRlZHx8KG4uZG9tTG9hZGVkPSEwLHQobykpfSx1PWZ1bmN0aW9uKCl7aSgpJiYoQWUociwicmVhZHlzdGF0ZWNoYW5nZSIsdSksYSgpKX0scz1mdW5jdGlvbigpe3RyeXtyLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCgibGVmdCIpfWNhdGNoKGUpe3JldHVybiB2b2lkIHdlLnNldFRpbWVvdXQocyl9YSgpfTshci5hZGRFdmVudExpc3RlbmVyfHx2ZS5pZSYmdmUuaWU8MTE/KFRlKHIsInJlYWR5c3RhdGVjaGFuZ2UiLHUpLHIuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsJiZlLnNlbGY9PT1lLnRvcCYmcygpKTppKCk/YSgpOlRlKGUsIkRPTUNvbnRlbnRMb2FkZWQiLGEpLFRlKGUsImxvYWQiLGEpfX0sQmU9ZnVuY3Rpb24oKXt2YXIgbSxwLGcsaCx2LHk9dGhpcyxiPXt9O3A9Im1jZS1kYXRhLSIrKCtuZXcgRGF0ZSkudG9TdHJpbmcoMzIpLGg9Im9ubW91c2VlbnRlciJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsZz0ib25mb2N1c2luImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx2PXttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0In0sbT0xLHkuZG9tTG9hZGVkPSExLHkuZXZlbnRzPWI7dmFyIEM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhPWJbdF07aWYobj1hJiZhW2UudHlwZV0pZm9yKHI9MCxvPW4ubGVuZ3RoO3I8bztyKyspaWYoKGk9bltyXSkmJiExPT09aS5mdW5jLmNhbGwoaS5zY29wZSxlKSYmZS5wcmV2ZW50RGVmYXVsdCgpLGUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSlyZXR1cm59O3kuYmluZD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzLGMsbCxmPXdpbmRvdyxkPWZ1bmN0aW9uKGUpe0MoUmUoZXx8Zi5ldmVudCksbyl9O2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSl7Zm9yKGVbcF0/bz1lW3BdOihvPW0rKyxlW3BdPW8sYltvXT17fSkscj1yfHxlLGE9KHQ9dC5zcGxpdCgiICIpKS5sZW5ndGg7YS0tOyljPWQscz1sPSExLCJET01Db250ZW50TG9hZGVkIj09PSh1PXRbYV0pJiYodT0icmVhZHkiKSx5LmRvbUxvYWRlZCYmInJlYWR5Ij09PXUmJiJjb21wbGV0ZSI9PT1lLnJlYWR5U3RhdGU/bi5jYWxsKHIsUmUoe3R5cGU6dX0pKTooaHx8KHM9dlt1XSkmJihjPWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYodD1lLmN1cnJlbnRUYXJnZXQsKG49ZS5yZWxhdGVkVGFyZ2V0KSYmdC5jb250YWlucyluPXQuY29udGFpbnMobik7ZWxzZSBmb3IoO24mJm4hPT10OyluPW4ucGFyZW50Tm9kZTtufHwoKGU9UmUoZXx8Zi5ldmVudCkpLnR5cGU9Im1vdXNlb3V0Ij09PWUudHlwZT8ibW91c2VsZWF2ZSI6Im1vdXNlZW50ZXIiLGUudGFyZ2V0PXQsQyhlLG8pKX0pLGd8fCJmb2N1c2luIiE9PXUmJiJmb2N1c291dCIhPT11fHwobD0hMCxzPSJmb2N1c2luIj09PXU/ImZvY3VzIjoiYmx1ciIsYz1mdW5jdGlvbihlKXsoZT1SZShlfHxmLmV2ZW50KSkudHlwZT0iZm9jdXMiPT09ZS50eXBlPyJmb2N1c2luIjoiZm9jdXNvdXQiLEMoZSxvKX0pLChpPWJbb11bdV0pPyJyZWFkeSI9PT11JiZ5LmRvbUxvYWRlZD9uKHt0eXBlOnV9KTppLnB1c2goe2Z1bmM6bixzY29wZTpyfSk6KGJbb11bdV09aT1be2Z1bmM6bixzY29wZTpyfV0saS5mYWtlTmFtZT1zLGkuY2FwdHVyZT1sLGkubmF0aXZlSGFuZGxlcj1jLCJyZWFkeSI9PT11P19lKGUsYyx5KTpUZShlLHN8fHUsYyxsKSkpO3JldHVybiBlPWk9MCxufX0seS51bmJpbmQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscztpZighZXx8Mz09PWUubm9kZVR5cGV8fDg9PT1lLm5vZGVUeXBlKXJldHVybiB5O2lmKHI9ZVtwXSl7aWYocz1iW3JdLHQpe2ZvcihpPSh0PXQuc3BsaXQoIiAiKSkubGVuZ3RoO2ktLTspaWYobz1zW3U9dFtpXV0pe2lmKG4pZm9yKGE9by5sZW5ndGg7YS0tOylpZihvW2FdLmZ1bmM9PT1uKXt2YXIgYz1vLm5hdGl2ZUhhbmRsZXIsbD1vLmZha2VOYW1lLGY9by5jYXB0dXJlOyhvPW8uc2xpY2UoMCxhKS5jb25jYXQoby5zbGljZShhKzEpKSkubmF0aXZlSGFuZGxlcj1jLG8uZmFrZU5hbWU9bCxvLmNhcHR1cmU9ZixzW3VdPW99biYmMCE9PW8ubGVuZ3RofHwoZGVsZXRlIHNbdV0sQWUoZSxvLmZha2VOYW1lfHx1LG8ubmF0aXZlSGFuZGxlcixvLmNhcHR1cmUpKX19ZWxzZXtmb3IodSBpbiBzKW89c1t1XSxBZShlLG8uZmFrZU5hbWV8fHUsby5uYXRpdmVIYW5kbGVyLG8uY2FwdHVyZSk7cz17fX1mb3IodSBpbiBzKXJldHVybiB5O2RlbGV0ZSBiW3JdO3RyeXtkZWxldGUgZVtwXX1jYXRjaChkKXtlW3BdPW51bGx9fXJldHVybiB5fSx5LmZpcmU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKCFlfHwzPT09ZS5ub2RlVHlwZXx8OD09PWUubm9kZVR5cGUpcmV0dXJuIHk7Zm9yKChuPVJlKG51bGwsbikpLnR5cGU9dCxuLnRhcmdldD1lOyhyPWVbcF0pJiZDKG4sciksKGU9ZS5wYXJlbnROb2RlfHxlLm93bmVyRG9jdW1lbnR8fGUuZGVmYXVsdFZpZXd8fGUucGFyZW50V2luZG93KSYmIW4uaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspO3JldHVybiB5fSx5LmNsZWFuPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj15LnVuYmluZDtpZighZXx8Mz09PWUubm9kZVR5cGV8fDg9PT1lLm5vZGVUeXBlKXJldHVybiB5O2lmKGVbcF0mJnIoZSksZS5nZXRFbGVtZW50c0J5VGFnTmFtZXx8KGU9ZS5kb2N1bWVudCksZSYmZS5nZXRFbGVtZW50c0J5VGFnTmFtZSlmb3IocihlKSx0PShuPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSkubGVuZ3RoO3QtLTspKGU9blt0XSlbcF0mJnIoZSk7cmV0dXJuIHl9LHkuZGVzdHJveT1mdW5jdGlvbigpe2I9e319LHkuY2FuY2VsPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpLCExfX07QmUuRXZlbnQ9bmV3IEJlLEJlLkV2ZW50LmJpbmQod2luZG93LCJyZWFkeSIsZnVuY3Rpb24oKXt9KTt2YXIgRGU9InNpenpsZSIrLW5ldyBEYXRlLE9lPXdpbmRvdy5kb2N1bWVudCxQZT0wLExlPTAsSWU9cHQoKSxNZT1wdCgpLEZlPXB0KCksemU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJihjZT0hMCksMH0sVWU9dHlwZW9mIHVuZGVmaW5lZCxxZT17fS5oYXNPd25Qcm9wZXJ0eSxWZT1bXSxIZT1WZS5wb3AsamU9VmUucHVzaCwkZT1WZS5wdXNoLFdlPVZlLnNsaWNlLEtlPVZlLmluZGV4T2Z8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49dGhpcy5sZW5ndGg7dDxuO3QrKylpZih0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX0sWGU9IltcXHgyMFxcdFxcclxcblxcZl0iLFllPSIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIsR2U9IlxcWyIrWGUrIiooIitZZSsiKSg/OiIrWGUrIiooWypeJHwhfl0/PSkiK1hlKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrWWUrIikpfCkiK1hlKyIqXFxdIixKZT0iOigiK1llKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitHZSsiKSopfC4qKVxcKXwpIixRZT1uZXcgUmVnRXhwKCJeIitYZSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitYZSsiKyQiLCJnIiksWmU9bmV3IFJlZ0V4cCgiXiIrWGUrIiosIitYZSsiKiIpLGV0PW5ldyBSZWdFeHAoIl4iK1hlKyIqKFs+K35dfCIrWGUrIikiK1hlKyIqIiksdHQ9bmV3IFJlZ0V4cCgiPSIrWGUrIiooW15cXF0nXCJdKj8pIitYZSsiKlxcXSIsImciKSxudD1uZXcgUmVnRXhwKEplKSxydD1uZXcgUmVnRXhwKCJeIitZZSsiJCIpLG90PXtJRDpuZXcgUmVnRXhwKCJeIygiK1llKyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK1llKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitZZSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK0dlKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrSmUpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrWGUrIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK1hlKyIqKD86KFsrLV18KSIrWGUrIiooXFxkKyl8KSkiK1hlKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86Y2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrWGUrIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0KSg/OlxcKCIrWGUrIiooKD86LVxcZCk/XFxkKikiK1hlKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxpdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGF0PS9eaFxkJC9pLHV0PS9eW157XStce1xzKlxbbmF0aXZlIFx3LyxzdD0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLGN0PS9bK35dLyxsdD0vJ3xcXC9nLGZ0PW5ldyBSZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIrWGUrIj98KCIrWGUrIil8LikiLCJpZyIpLGR0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0iMHgiK3QtNjU1MzY7cmV0dXJuIHIhPXJ8fG4/dDpyPDA/U3RyaW5nLmZyb21DaGFyQ29kZShyKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKHI+PjEwfDU1Mjk2LDEwMjMmcnw1NjMyMCl9O3RyeXskZS5hcHBseShWZT1XZS5jYWxsKE9lLmNoaWxkTm9kZXMpLE9lLmNoaWxkTm9kZXMpLFZlW09lLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChEdyl7JGU9e2FwcGx5OlZlLmxlbmd0aD9mdW5jdGlvbihlLHQpe2plLmFwcGx5KGUsV2UuY2FsbCh0KSl9OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUubGVuZ3RoLHI9MDtlW24rK109dFtyKytdOyk7ZS5sZW5ndGg9bi0xfX19dmFyIG10PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYyxsLGYsZCxtO2lmKCh0P3Qub3duZXJEb2N1bWVudHx8dDpPZSkhPT1mZSYmbGUodCksbj1ufHxbXSwhZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBuO2lmKDEhPT0odT0odD10fHxmZSkubm9kZVR5cGUpJiY5IT09dSlyZXR1cm5bXTtpZihtZSYmIXIpe2lmKG89c3QuZXhlYyhlKSlpZihhPW9bMV0pe2lmKDk9PT11KXtpZighKGk9dC5nZXRFbGVtZW50QnlJZChhKSl8fCFpLnBhcmVudE5vZGUpcmV0dXJuIG47aWYoaS5pZD09PWEpcmV0dXJuIG4ucHVzaChpKSxufWVsc2UgaWYodC5vd25lckRvY3VtZW50JiYoaT10Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkpJiZoZSh0LGkpJiZpLmlkPT09YSlyZXR1cm4gbi5wdXNoKGkpLG59ZWxzZXtpZihvWzJdKXJldHVybiAkZS5hcHBseShuLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSkpLG47aWYoKGE9b1szXSkmJmVlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuICRlLmFwcGx5KG4sdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpKSxufWlmKGVlLnFzYSYmKCFwZXx8IXBlLnRlc3QoZSkpKXtpZihmPWw9RGUsZD10LG09OT09PXUmJmUsMT09PXUmJiJvYmplY3QiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXtmb3IoYz1vZShlKSwobD10LmdldEF0dHJpYnV0ZSgiaWQiKSk/Zj1sLnJlcGxhY2UobHQsIlxcJCYiKTp0LnNldEF0dHJpYnV0ZSgiaWQiLGYpLGY9IltpZD0nIitmKyInXSAiLHM9Yy5sZW5ndGg7cy0tOyljW3NdPWYrd3QoY1tzXSk7ZD1jdC50ZXN0KGUpJiZDdCh0LnBhcmVudE5vZGUpfHx0LG09Yy5qb2luKCIsIil9aWYobSl0cnl7cmV0dXJuICRlLmFwcGx5KG4sZC5xdWVyeVNlbGVjdG9yQWxsKG0pKSxufWNhdGNoKHApe31maW5hbGx5e2x8fHQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGFlKGUucmVwbGFjZShRZSwiJDEiKSx0LG4scil9O2Z1bmN0aW9uIHB0KCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT50ZS5jYWNoZUxlbmd0aCYmZGVsZXRlIGVbci5zaGlmdCgpXSxlW3QrIiAiXT1ufX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZVtEZV09ITAsZX1mdW5jdGlvbiBodChlLHQpe3ZhciBuPXQmJmUscj1uJiYxPT09ZS5ub2RlVHlwZSYmMT09PXQubm9kZVR5cGUmJih+dC5zb3VyY2VJbmRleHx8MTw8MzEpLSh+ZS5zb3VyY2VJbmRleHx8MTw8MzEpO2lmKHIpcmV0dXJuIHI7aWYobilmb3IoO249bi5uZXh0U2libGluZzspaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiB2dCh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24geXQobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGJ0KGEpe3JldHVybiBndChmdW5jdGlvbihpKXtyZXR1cm4gaT0raSxndChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPWEoW10sZS5sZW5ndGgsaSksbz1yLmxlbmd0aDtvLS07KWVbbj1yW29dXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24gQ3QoZSl7cmV0dXJuIGUmJnR5cGVvZiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09VWUmJmV9Zm9yKFogaW4gZWU9bXQuc3VwcG9ydD17fSxyZT1tdC5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiYoZS5vd25lckRvY3VtZW50fHxlKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuISF0JiYiSFRNTCIhPT10Lm5vZGVOYW1lfSxsZT1tdC5zZXREb2N1bWVudD1mdW5jdGlvbihlKXt2YXIgdCxzPWU/ZS5vd25lckRvY3VtZW50fHxlOk9lLG49cy5kZWZhdWx0VmlldztyZXR1cm4gcyE9PWZlJiY5PT09cy5ub2RlVHlwZSYmcy5kb2N1bWVudEVsZW1lbnQ/KGRlPShmZT1zKS5kb2N1bWVudEVsZW1lbnQsbWU9IXJlKHMpLG4mJm4hPT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIGUudG9wfWNhdGNoKHQpe31yZXR1cm4gbnVsbH0obikmJihuLmFkZEV2ZW50TGlzdGVuZXI/bi5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7bGUoKX0sITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixmdW5jdGlvbigpe2xlKCl9KSksZWUuYXR0cmlidXRlcz0hMCxlZS5nZXRFbGVtZW50c0J5VGFnTmFtZT0hMCxlZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPXV0LnRlc3Qocy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxlZS5nZXRCeUlkPSEwLHRlLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgdC5nZXRFbGVtZW50QnlJZCE9PVVlJiZtZSl7dmFyIG49dC5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gbiYmbi5wYXJlbnROb2RlP1tuXTpbXX19LHRlLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UoZnQsZHQpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sdGUuZmluZC5UQUc9ZWUuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZSE9PVVlKXJldHVybiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpfTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9W10sbz0wLGk9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTtpZigiKiI9PT1lKXtmb3IoO249aVtvKytdOykxPT09bi5ub2RlVHlwZSYmci5wdXNoKG4pO3JldHVybiByfXJldHVybiBpfSx0ZS5maW5kLkNMQVNTPWVlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYobWUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0sZ2U9W10scGU9W10sZWUuZGlzY29ubmVjdGVkTWF0Y2g9ITAscGU9cGUubGVuZ3RoJiZuZXcgUmVnRXhwKHBlLmpvaW4oInwiKSksZ2U9Z2UubGVuZ3RoJiZuZXcgUmVnRXhwKGdlLmpvaW4oInwiKSksdD11dC50ZXN0KGRlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxoZT10fHx1dC50ZXN0KGRlLmNvbnRhaW5zKT9mdW5jdGlvbihlLHQpe3ZhciBuPTk9PT1lLm5vZGVUeXBlP2UuZG9jdW1lbnRFbGVtZW50OmUscj10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIGU9PT1yfHwhKCFyfHwxIT09ci5ub2RlVHlwZXx8IShuLmNvbnRhaW5zP24uY29udGFpbnMocik6ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihyKSkpfTpmdW5jdGlvbihlLHQpe2lmKHQpZm9yKDt0PXQucGFyZW50Tm9kZTspaWYodD09PWUpcmV0dXJuITA7cmV0dXJuITF9LHplPXQ/ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gY2U9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PT0odC5vd25lckRvY3VtZW50fHx0KT9lLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpOjEpfHwhZWUuc29ydERldGFjaGVkJiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGUpPT09bj9lPT09c3x8ZS5vd25lckRvY3VtZW50PT09T2UmJmhlKE9lLGUpPy0xOnQ9PT1zfHx0Lm93bmVyRG9jdW1lbnQ9PT1PZSYmaGUoT2UsdCk/MTpzZT9LZS5jYWxsKHNlLGUpLUtlLmNhbGwoc2UsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGNlPSEwLDA7dmFyIG4scj0wLG89ZS5wYXJlbnROb2RlLGk9dC5wYXJlbnROb2RlLGE9W2VdLHU9W3RdO2lmKCFvfHwhaSlyZXR1cm4gZT09PXM/LTE6dD09PXM/MTpvPy0xOmk/MTpzZT9LZS5jYWxsKHNlLGUpLUtlLmNhbGwoc2UsdCk6MDtpZihvPT09aSlyZXR1cm4gaHQoZSx0KTtmb3Iobj1lO249bi5wYXJlbnROb2RlOylhLnVuc2hpZnQobik7Zm9yKG49dDtuPW4ucGFyZW50Tm9kZTspdS51bnNoaWZ0KG4pO2Zvcig7YVtyXT09PXVbcl07KXIrKztyZXR1cm4gcj9odChhW3JdLHVbcl0pOmFbcl09PT1PZT8tMTp1W3JdPT09T2U/MTowfSxzKTpmZX0sbXQubWF0Y2hlcz1mdW5jdGlvbihlLHQpe3JldHVybiBtdChlLG51bGwsbnVsbCx0KX0sbXQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGUsdCl7aWYoKGUub3duZXJEb2N1bWVudHx8ZSkhPT1mZSYmbGUoZSksdD10LnJlcGxhY2UodHQsIj0nJDEnXSIpLGVlLm1hdGNoZXNTZWxlY3RvciYmbWUmJighZ2V8fCFnZS50ZXN0KHQpKSYmKCFwZXx8IXBlLnRlc3QodCkpKXRyeXt2YXIgbj0odm9pZCAwKS5jYWxsKGUsdCk7aWYobnx8ZWUuZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gbn1jYXRjaChEdyl7fXJldHVybiAwPG10KHQsZmUsbnVsbCxbZV0pLmxlbmd0aH0sbXQuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oZS5vd25lckRvY3VtZW50fHxlKSE9PWZlJiZsZShlKSxoZShlLHQpfSxtdC5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPT1mZSYmbGUoZSk7dmFyIG49dGUuYXR0ckhhbmRsZVt0LnRvTG93ZXJDYXNlKCldLHI9biYmcWUuY2FsbCh0ZS5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIW1lKTp1bmRlZmluZWQ7cmV0dXJuIHIhPT11bmRlZmluZWQ/cjplZS5hdHRyaWJ1dGVzfHwhbWU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxtdC5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LG10LnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsbz0wO2lmKGNlPSFlZS5kZXRlY3REdXBsaWNhdGVzLHNlPSFlZS5zb3J0U3RhYmxlJiZlLnNsaWNlKDApLGUuc29ydCh6ZSksY2Upe2Zvcig7dD1lW28rK107KXQ9PT1lW29dJiYocj1uLnB1c2gobykpO2Zvcig7ci0tOyllLnNwbGljZShuW3JdLDEpfXJldHVybiBzZT1udWxsLGV9LG5lPW10LmdldFRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj0iIixyPTAsbz1lLm5vZGVUeXBlO2lmKG8pe2lmKDE9PT1vfHw5PT09b3x8MTE9PT1vKXtpZigic3RyaW5nIj09dHlwZW9mIGUudGV4dENvbnRlbnQpcmV0dXJuIGUudGV4dENvbnRlbnQ7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKW4rPW5lKGUpfWVsc2UgaWYoMz09PW98fDQ9PT1vKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIGZvcig7dD1lW3IrK107KW4rPW5lKHQpO3JldHVybiBufSwodGU9bXQuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86Z3QsbWF0Y2g6b3QsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZShmdCxkdCksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UoZnQsZHQpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxtdC5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZtdC5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gb3QuQ0hJTEQudGVzdChlWzBdKT9udWxsOihlWzNdP2VbMl09ZVs0XXx8ZVs1XXx8IiI6biYmbnQudGVzdChuKSYmKHQ9b2UobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKGZ0LGR0KS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1JZVtlKyIgIl07cmV0dXJuIHR8fCh0PW5ldyBSZWdFeHAoIihefCIrWGUrIikiK2UrIigiK1hlKyJ8JCkiKSkmJkllKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdCgic3RyaW5nIj09dHlwZW9mIGUuY2xhc3NOYW1lJiZlLmNsYXNzTmFtZXx8dHlwZW9mIGUuZ2V0QXR0cmlidXRlIT09VWUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihuLHIsbyl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PW10LmF0dHIoZSxuKTtyZXR1cm4gbnVsbD09dD8iIT0iPT09cjohcnx8KHQrPSIiLCI9Ij09PXI/dD09PW86IiE9Ij09PXI/dCE9PW86Il49Ij09PXI/byYmMD09PXQuaW5kZXhPZihvKToiKj0iPT09cj9vJiYtMTx0LmluZGV4T2Yobyk6IiQ9Ij09PXI/byYmdC5zbGljZSgtby5sZW5ndGgpPT09bzoifj0iPT09cj8tMTwoIiAiK3QrIiAiKS5pbmRleE9mKG8pOiJ8PSI9PT1yJiYodD09PW98fHQuc2xpY2UoMCxvLmxlbmd0aCsxKT09PW8rIi0iKSl9fSxDSElMRDpmdW5jdGlvbihtLGUsdCxwLGcpe3ZhciBoPSJudGgiIT09bS5zbGljZSgwLDMpLHY9Imxhc3QiIT09bS5zbGljZSgtNCkseT0ib2YtdHlwZSI9PT1lO3JldHVybiAxPT09cCYmMD09PWc/ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYz1oIT09dj8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLGw9ZS5wYXJlbnROb2RlLGY9eSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGQ9IW4mJiF5O2lmKGwpe2lmKGgpe2Zvcig7Yzspe2ZvcihpPWU7aT1pW2NdOylpZih5P2kubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWY6MT09PWkubm9kZVR5cGUpcmV0dXJuITE7cz1jPSJvbmx5Ij09PW0mJiFzJiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKHM9W3Y/bC5maXJzdENoaWxkOmwubGFzdENoaWxkXSx2JiZkKXtmb3IodT0ocj0obz1sW0RlXXx8KGxbRGVdPXt9KSlbbV18fFtdKVswXT09PVBlJiZyWzFdLGE9clswXT09PVBlJiZyWzJdLGk9dSYmbC5jaGlsZE5vZGVzW3VdO2k9Kyt1JiZpJiZpW2NdfHwoYT11PTApfHxzLnBvcCgpOylpZigxPT09aS5ub2RlVHlwZSYmKythJiZpPT09ZSl7b1ttXT1bUGUsdSxhXTticmVha319ZWxzZSBpZihkJiYocj0oZVtEZV18fChlW0RlXT17fSkpW21dKSYmclswXT09PVBlKWE9clsxXTtlbHNlIGZvcig7KGk9Kyt1JiZpJiZpW2NdfHwoYT11PTApfHxzLnBvcCgpKSYmKCh5P2kubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9PWY6MSE9PWkubm9kZVR5cGUpfHwhKythfHwoZCYmKChpW0RlXXx8KGlbRGVdPXt9KSlbbV09W1BlLGFdKSxpIT09ZSkpOyk7cmV0dXJuKGEtPWcpPT09cHx8YSVwPT0wJiYwPD1hL3B9fX0sUFNFVURPOmZ1bmN0aW9uKGUsaSl7dmFyIHQsYT10ZS5wc2V1ZG9zW2VdfHx0ZS5zZXRGaWx0ZXJzW2UudG9Mb3dlckNhc2UoKV18fG10LmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrZSk7cmV0dXJuIGFbRGVdP2EoaSk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLGldLHRlLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoZS50b0xvd2VyQ2FzZSgpKT9ndChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPWEoZSxpKSxvPXIubGVuZ3RoO28tLTspZVtuPUtlLmNhbGwoZSxyW29dKV09ISh0W25dPXJbb10pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpndChmdW5jdGlvbihlKXt2YXIgcj1bXSxvPVtdLHU9aWUoZS5yZXBsYWNlKFFlLCIkMSIpKTtyZXR1cm4gdVtEZV0/Z3QoZnVuY3Rpb24oZSx0LG4scil7Zm9yKHZhciBvLGk9dShlLG51bGwscixbXSksYT1lLmxlbmd0aDthLS07KShvPWlbYV0pJiYoZVthXT0hKHRbYV09bykpfSk6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByWzBdPWUsdShyLG51bGwsbixvKSwhby5wb3AoKX19KSxoYXM6Z3QoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiAwPG10KHQsZSkubGVuZ3RofX0pLGNvbnRhaW5zOmd0KGZ1bmN0aW9uKHQpe3JldHVybiB0PXQucmVwbGFjZShmdCxkdCksZnVuY3Rpb24oZSl7cmV0dXJuLTE8KGUudGV4dENvbnRlbnR8fGUuaW5uZXJUZXh0fHxuZShlKSkuaW5kZXhPZih0KX19KSxsYW5nOmd0KGZ1bmN0aW9uKG4pe3JldHVybiBydC50ZXN0KG58fCIiKXx8bXQuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrbiksbj1uLnJlcGxhY2UoZnQsZHQpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24oZSl7dmFyIHQ7ZG97aWYodD1tZT9lLmxhbmc6ZS5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fGUuZ2V0QXR0cmlidXRlKCJsYW5nIikpcmV0dXJuKHQ9dC50b0xvd2VyQ2FzZSgpKT09PW58fDA9PT10LmluZGV4T2YobisiLSIpfXdoaWxlKChlPWUucGFyZW50Tm9kZSkmJjE9PT1lLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LmxvY2F0aW9uJiZ3aW5kb3cubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1kZX0sZm9jdXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1mZS5hY3RpdmVFbGVtZW50JiYoIWZlLmhhc0ZvY3VzfHxmZS5oYXNGb2N1cygpKSYmISEoZS50eXBlfHxlLmhyZWZ8fH5lLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihlKXtyZXR1cm4hMT09PWUuZGlzYWJsZWR9LGRpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZS5kaXNhYmxlZH0sY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIXRlLnBzZXVkb3MuZW1wdHkoZSl9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gYXQudGVzdChlLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGl0LnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OmJ0KGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpidChmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6YnQoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjpidChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDpidChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OmJ0KGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6YnQoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPXRlLnBzZXVkb3MuZXEse3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KXRlLnBzZXVkb3NbWl09dnQoWik7Zm9yKFogaW57c3VibWl0OiEwLHJlc2V0OiEwfSl0ZS5wc2V1ZG9zW1pdPXl0KFopO2Z1bmN0aW9uIHh0KCl7fWZ1bmN0aW9uIHd0KGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gTnQoYSxlLHQpe3ZhciB1PWUuZGlyLHM9dCYmInBhcmVudE5vZGUiPT09dSxjPUxlKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe2Zvcig7ZT1lW3VdOylpZigxPT09ZS5ub2RlVHlwZXx8cylyZXR1cm4gYShlLHQsbil9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9W1BlLGNdO2lmKG4pe2Zvcig7ZT1lW3VdOylpZigoMT09PWUubm9kZVR5cGV8fHMpJiZhKGUsdCxuKSlyZXR1cm4hMH1lbHNlIGZvcig7ZT1lW3VdOylpZigxPT09ZS5ub2RlVHlwZXx8cyl7aWYoKHI9KG89ZVtEZV18fChlW0RlXT17fSkpW3VdKSYmclswXT09PVBlJiZyWzFdPT09YylyZXR1cm4gaVsyXT1yWzJdO2lmKChvW3VdPWkpWzJdPWEoZSx0LG4pKXJldHVybiEwfX19ZnVuY3Rpb24gRXQobyl7cmV0dXJuIDE8by5sZW5ndGg/ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1vLmxlbmd0aDtyLS07KWlmKCFvW3JdKGUsdCxuKSlyZXR1cm4hMTtyZXR1cm4hMH06b1swXX1mdW5jdGlvbiBTdChlLHQsbixyLG8pe2Zvcih2YXIgaSxhPVtdLHU9MCxzPWUubGVuZ3RoLGM9bnVsbCE9dDt1PHM7dSsrKShpPWVbdV0pJiYobiYmIW4oaSxyLG8pfHwoYS5wdXNoKGkpLGMmJnQucHVzaCh1KSkpO3JldHVybiBhfWZ1bmN0aW9uIGt0KG0scCxnLGgsdixlKXtyZXR1cm4gaCYmIWhbRGVdJiYoaD1rdChoKSksdiYmIXZbRGVdJiYodj1rdCh2LGUpKSxndChmdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdT1bXSxzPVtdLGM9dC5sZW5ndGgsbD1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsbz10Lmxlbmd0aDtyPG87cisrKW10KGUsdFtyXSxuKTtyZXR1cm4gbn0ocHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IW18fCFlJiZwP2w6U3QobCx1LG0sbixyKSxkPWc/dnx8KGU/bTpjfHxoKT9bXTp0OmY7aWYoZyYmZyhmLGQsbixyKSxoKWZvcihvPVN0KGQscyksaChvLFtdLG4sciksaT1vLmxlbmd0aDtpLS07KShhPW9baV0pJiYoZFtzW2ldXT0hKGZbc1tpXV09YSkpO2lmKGUpe2lmKHZ8fG0pe2lmKHYpe2ZvcihvPVtdLGk9ZC5sZW5ndGg7aS0tOykoYT1kW2ldKSYmby5wdXNoKGZbaV09YSk7dihudWxsLGQ9W10sbyxyKX1mb3IoaT1kLmxlbmd0aDtpLS07KShhPWRbaV0pJiYtMTwobz12P0tlLmNhbGwoZSxhKTp1W2ldKSYmKGVbb109ISh0W29dPWEpKX19ZWxzZSBkPVN0KGQ9PT10P2Quc3BsaWNlKGMsZC5sZW5ndGgpOmQpLHY/dihudWxsLHQsZCxyKTokZS5hcHBseSh0LGQpfSl9ZnVuY3Rpb24gVHQoZSl7Zm9yKHZhciByLHQsbixvPWUubGVuZ3RoLGk9dGUucmVsYXRpdmVbZVswXS50eXBlXSxhPWl8fHRlLnJlbGF0aXZlWyIgIl0sdT1pPzE6MCxzPU50KGZ1bmN0aW9uKGUpe3JldHVybiBlPT09cn0sYSwhMCksYz1OdChmdW5jdGlvbihlKXtyZXR1cm4tMTxLZS5jYWxsKHIsZSl9LGEsITApLGw9W2Z1bmN0aW9uKGUsdCxuKXtyZXR1cm4haSYmKG58fHQhPT11ZSl8fCgocj10KS5ub2RlVHlwZT9zKGUsdCxuKTpjKGUsdCxuKSl9XTt1PG87dSsrKWlmKHQ9dGUucmVsYXRpdmVbZVt1XS50eXBlXSlsPVtOdChFdChsKSx0KV07ZWxzZXtpZigodD10ZS5maWx0ZXJbZVt1XS50eXBlXS5hcHBseShudWxsLGVbdV0ubWF0Y2hlcykpW0RlXSl7Zm9yKG49Kyt1O248byYmIXRlLnJlbGF0aXZlW2Vbbl0udHlwZV07bisrKTtyZXR1cm4ga3QoMTx1JiZFdChsKSwxPHUmJnd0KGUuc2xpY2UoMCx1LTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVt1LTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoUWUsIiQxIiksdCx1PG4mJlR0KGUuc2xpY2UodSxuKSksbjxvJiZUdChlPWUuc2xpY2UobikpLG48byYmd3QoZSkpfWwucHVzaCh0KX1yZXR1cm4gRXQobCl9eHQucHJvdG90eXBlPXRlLmZpbHRlcnM9dGUucHNldWRvcyx0ZS5zZXRGaWx0ZXJzPW5ldyB4dCxvZT1tdC50b2tlbml6ZT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEsdSxzLGM9TWVbZSsiICJdO2lmKGMpcmV0dXJuIHQ/MDpjLnNsaWNlKDApO2ZvcihhPWUsdT1bXSxzPXRlLnByZUZpbHRlcjthOyl7Zm9yKGkgaW4gbiYmIShyPVplLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHUucHVzaChvPVtdKSksbj0hMSwocj1ldC5leGVjKGEpKSYmKG49ci5zaGlmdCgpLG8ucHVzaCh7dmFsdWU6bix0eXBlOnJbMF0ucmVwbGFjZShRZSwiICIpfSksYT1hLnNsaWNlKG4ubGVuZ3RoKSksdGUuZmlsdGVyKSEocj1vdFtpXS5leGVjKGEpKXx8c1tpXSYmIShyPXNbaV0ocikpfHwobj1yLnNoaWZ0KCksby5wdXNoKHt2YWx1ZTpuLHR5cGU6aSxtYXRjaGVzOnJ9KSxhPWEuc2xpY2Uobi5sZW5ndGgpKTtpZighbilicmVha31yZXR1cm4gdD9hLmxlbmd0aDphP210LmVycm9yKGUpOk1lKGUsdSkuc2xpY2UoMCl9LGllPW10LmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbixoLHYseSxiLHIsbz1bXSxpPVtdLGE9RmVbZSsiICJdO2lmKCFhKXtmb3IodHx8KHQ9b2UoZSkpLG49dC5sZW5ndGg7bi0tOykoYT1UdCh0W25dKSlbRGVdP28ucHVzaChhKTppLnB1c2goYSk7KGE9RmUoZSwoaD1pLHk9MDwodj1vKS5sZW5ndGgsYj0wPGgubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHUscz0wLGM9IjAiLGw9ZSYmW10sZj1bXSxkPXVlLG09ZXx8YiYmdGUuZmluZC5UQUcoIioiLG8pLHA9UGUrPW51bGw9PWQ/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPW0ubGVuZ3RoO2ZvcihvJiYodWU9dCE9PWZlJiZ0KTtjIT09ZyYmbnVsbCE9KGk9bVtjXSk7YysrKXtpZihiJiZpKXtmb3IoYT0wO3U9aFthKytdOylpZih1KGksdCxuKSl7ci5wdXNoKGkpO2JyZWFrfW8mJihQZT1wKX15JiYoKGk9IXUmJmkpJiZzLS0sZSYmbC5wdXNoKGkpKX1pZihzKz1jLHkmJmMhPT1zKXtmb3IoYT0wO3U9dlthKytdOyl1KGwsZix0LG4pO2lmKGUpe2lmKDA8cylmb3IoO2MtLTspbFtjXXx8ZltjXXx8KGZbY109SGUuY2FsbChyKSk7Zj1TdChmKX0kZS5hcHBseShyLGYpLG8mJiFlJiYwPGYubGVuZ3RoJiYxPHMrdi5sZW5ndGgmJm10LnVuaXF1ZVNvcnQocil9cmV0dXJuIG8mJihQZT1wLHVlPWQpLGx9LHk/Z3Qocik6cikpKS5zZWxlY3Rvcj1lfXJldHVybiBhfSxhZT1tdC5zZWxlY3Q9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscyxjPSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLGw9IXImJm9lKGU9Yy5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09bC5sZW5ndGgpe2lmKDI8KGk9bFswXT1sWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1pWzBdKS50eXBlJiZlZS5nZXRCeUlkJiY5PT09dC5ub2RlVHlwZSYmbWUmJnRlLnJlbGF0aXZlW2lbMV0udHlwZV0pe2lmKCEodD0odGUuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZShmdCxkdCksdCl8fFtdKVswXSkpcmV0dXJuIG47YyYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2UoaS5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9Zm9yKG89b3QubmVlZHNDb250ZXh0LnRlc3QoZSk/MDppLmxlbmd0aDtvLS0mJihhPWlbb10sIXRlLnJlbGF0aXZlW3U9YS50eXBlXSk7KWlmKChzPXRlLmZpbmRbdV0pJiYocj1zKGEubWF0Y2hlc1swXS5yZXBsYWNlKGZ0LGR0KSxjdC50ZXN0KGlbMF0udHlwZSkmJkN0KHQucGFyZW50Tm9kZSl8fHQpKSl7aWYoaS5zcGxpY2UobywxKSwhKGU9ci5sZW5ndGgmJnd0KGkpKSlyZXR1cm4gJGUuYXBwbHkobixyKSxuO2JyZWFrfX1yZXR1cm4oY3x8aWUoZSxsKSkocix0LCFtZSxuLGN0LnRlc3QoZSkmJkN0KHQucGFyZW50Tm9kZSl8fHQpLG59LGVlLnNvcnRTdGFibGU9RGUuc3BsaXQoIiIpLnNvcnQoemUpLmpvaW4oIiIpPT09RGUsZWUuZGV0ZWN0RHVwbGljYXRlcz0hIWNlLGxlKCksZWUuc29ydERldGFjaGVkPSEwO3ZhciBBdD1BcnJheS5pc0FycmF5LFJ0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvO2lmKCFlKXJldHVybiAwO2lmKG49bnx8ZSxlLmxlbmd0aCE9PXVuZGVmaW5lZCl7Zm9yKHI9MCxvPWUubGVuZ3RoO3I8bztyKyspaWYoITE9PT10LmNhbGwobixlW3JdLHIsZSkpcmV0dXJuIDB9ZWxzZSBmb3IociBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikmJiExPT09dC5jYWxsKG4sZVtyXSxyLGUpKXJldHVybiAwO3JldHVybiAxfSxfdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsbztmb3Iocj0wLG89ZS5sZW5ndGg7cjxvO3IrKylpZih0LmNhbGwobixlW3JdLHIsZSkpcmV0dXJuIHI7cmV0dXJuLTF9LEJ0PXtpc0FycmF5OkF0LHRvQXJyYXk6ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU7aWYoIUF0KGUpKWZvcihyPVtdLHQ9MCxuPWUubGVuZ3RoO3Q8bjt0Kyspclt0XT1lW3RdO3JldHVybiByfSxlYWNoOlJ0LG1hcDpmdW5jdGlvbihuLHIpe3ZhciBvPVtdO3JldHVybiBSdChuLGZ1bmN0aW9uKGUsdCl7by5wdXNoKHIoZSx0LG4pKX0pLG99LGZpbHRlcjpmdW5jdGlvbihuLHIpe3ZhciBvPVtdO3JldHVybiBSdChuLGZ1bmN0aW9uKGUsdCl7ciYmIXIoZSx0LG4pfHxvLnB1c2goZSl9KSxvfSxpbmRleE9mOmZ1bmN0aW9uKGUsdCl7dmFyIG4scjtpZihlKWZvcihuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxyZWR1Y2U6ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89MDtmb3IoYXJndW1lbnRzLmxlbmd0aDwzJiYobj1lWzBdKTtvPGUubGVuZ3RoO28rKyluPXQuY2FsbChyLG4sZVtvXSxvKTtyZXR1cm4gbn0sZmluZEluZGV4Ol90LGZpbmQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPV90KGUsdCxuKTtyZXR1cm4tMSE9PXI/ZVtyXTp1bmRlZmluZWR9LGxhc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5sZW5ndGgtMV19fSxEdD0vXlxzKnxccyokL2csT3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHxlPT09dW5kZWZpbmVkPyIiOigiIitlKS5yZXBsYWNlKER0LCIiKX0sUHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8hKCJhcnJheSIhPT10fHwhQnQuaXNBcnJheShlKSl8fHR5cGVvZiBlPT09dDplIT09dW5kZWZpbmVkfSxMdD1mdW5jdGlvbihlLG4scixvKXtvPW98fHRoaXMsZSYmKHImJihlPWVbcl0pLEJ0LmVhY2goZSxmdW5jdGlvbihlLHQpe2lmKCExPT09bi5jYWxsKG8sZSx0LHIpKXJldHVybiExO0x0KGUsbixyLG8pfSkpfSxJdD17dHJpbTpPdCxpc0FycmF5OkJ0LmlzQXJyYXksaXM6UHQsdG9BcnJheTpCdC50b0FycmF5LG1ha2VNYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2Zvcih0PXR8fCIsIiwic3RyaW5nIj09dHlwZW9mKGU9ZXx8W10pJiYoZT1lLnNwbGl0KHQpKSxuPW58fHt9LHI9ZS5sZW5ndGg7ci0tOyluW2Vbcl1dPXt9O3JldHVybiBufSxlYWNoOkJ0LmVhY2gsbWFwOkJ0Lm1hcCxncmVwOkJ0LmZpbHRlcixpbkFycmF5OkJ0LmluZGV4T2YsaGFzT3duOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxleHRlbmQ6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scixvLGk9W10sYT0yO2E8YXJndW1lbnRzLmxlbmd0aDthKyspaVthLTJdPWFyZ3VtZW50c1thXTt2YXIgdSxzPWFyZ3VtZW50cztmb3Iobj0xLHI9cy5sZW5ndGg7bjxyO24rKylmb3IobyBpbiB0PXNbbl0pdC5oYXNPd25Qcm9wZXJ0eShvKSYmKHU9dFtvXSkhPT11bmRlZmluZWQmJihlW29dPXUpO3JldHVybiBlfSxjcmVhdGU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscz10aGlzLGM9MDtpZihlPS9eKChzdGF0aWMpICk/KFtcdy5dKykoOihbXHcuXSspKT8vLmV4ZWMoZSksaT1lWzNdLm1hdGNoKC8oXnxcLikoXHcrKSQvaSlbMl0sIShvPXMuY3JlYXRlTlMoZVszXS5yZXBsYWNlKC9cLlx3KyQvLCIiKSxuKSlbaV0pe2lmKCJzdGF0aWMiPT09ZVsyXSlyZXR1cm4gb1tpXT10LHZvaWQodGhpcy5vbkNyZWF0ZSYmdGhpcy5vbkNyZWF0ZShlWzJdLGVbM10sb1tpXSkpO3RbaV18fCh0W2ldPWZ1bmN0aW9uKCl7fSxjPTEpLG9baV09dFtpXSxzLmV4dGVuZChvW2ldLnByb3RvdHlwZSx0KSxlWzVdJiYocj1zLnJlc29sdmUoZVs1XSkucHJvdG90eXBlLGE9ZVs1XS5tYXRjaCgvXC4oXHcrKSQvaSlbMV0sdT1vW2ldLG9baV09Yz9mdW5jdGlvbigpe3JldHVybiByW2FdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQ9clthXSx1LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sb1tpXS5wcm90b3R5cGVbaV09b1tpXSxzLmVhY2gocixmdW5jdGlvbihlLHQpe29baV0ucHJvdG90eXBlW3RdPXJbdF19KSxzLmVhY2godCxmdW5jdGlvbihlLHQpe3JbdF0/b1tpXS5wcm90b3R5cGVbdF09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQ9clt0XSxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX06dCE9PWkmJihvW2ldLnByb3RvdHlwZVt0XT1lKX0pKSxzLmVhY2godFsic3RhdGljIl0sZnVuY3Rpb24oZSx0KXtvW2ldW3RdPWV9KX19LHdhbGs6THQsY3JlYXRlTlM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyO2Zvcih0PXR8fHdpbmRvdyxlPWUuc3BsaXQoIi4iKSxuPTA7bjxlLmxlbmd0aDtuKyspdFtyPWVbbl1dfHwodFtyXT17fSksdD10W3JdO3JldHVybiB0fSxyZXNvbHZlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scjtmb3IodD10fHx3aW5kb3csbj0wLHI9KGU9ZS5zcGxpdCgiLiIpKS5sZW5ndGg7bjxyJiYodD10W2Vbbl1dKTtuKyspO3JldHVybiB0fSxleHBsb2RlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIWV8fFB0KGUsImFycmF5Iik/ZTpCdC5tYXAoZS5zcGxpdCh0fHwiLCIpLE90KX0sX2FkZENhY2hlU3VmZml4OmZ1bmN0aW9uKGUpe3ZhciB0PXZlLmNhY2hlU3VmZml4O3JldHVybiB0JiYoZSs9KC0xPT09ZS5pbmRleE9mKCI/Iik/Ij8iOiImIikrdCksZX19LE10PWRvY3VtZW50LEZ0PUFycmF5LnByb3RvdHlwZS5wdXNoLHp0PUFycmF5LnByb3RvdHlwZS5zbGljZSxVdD0vXig/OlteIzxdKig8W1x3XFddKz4pW14+XSokfCMoW1x3XC1dKikkKS8scXQ9QmUuRXZlbnQsVnQ9SXQubWFrZU1hcCgiY2hpbGRyZW4sY29udGVudHMsbmV4dCxwcmV2IiksSHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWV9LGp0PWZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZX0sJHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG87Zm9yKG89KHQ9dHx8TXQpLmNyZWF0ZUVsZW1lbnQoImRpdiIpLG49dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksby5pbm5lckhUTUw9ZTtyPW8uZmlyc3RDaGlsZDspbi5hcHBlbmRDaGlsZChyKTtyZXR1cm4gbn0sV3Q9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG87aWYoanQodCkpdD0kdCh0LHVuKGVbMF0pKTtlbHNlIGlmKHQubGVuZ3RoJiYhdC5ub2RlVHlwZSl7aWYodD10bi5tYWtlQXJyYXkodCkscilmb3Iobz10Lmxlbmd0aC0xOzA8PW87by0tKVd0KGUsdFtvXSxuLHIpO2Vsc2UgZm9yKG89MDtvPHQubGVuZ3RoO28rKylXdChlLHRbb10sbixyKTtyZXR1cm4gZX1pZih0Lm5vZGVUeXBlKWZvcihvPWUubGVuZ3RoO28tLTspbi5jYWxsKGVbb10sdCk7cmV0dXJuIGV9LEt0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnQmJi0xIT09KCIgIitlLmNsYXNzTmFtZSsiICIpLmluZGV4T2YoIiAiK3QrIiAiKX0sWHQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87cmV0dXJuIHQ9dG4odClbMF0sZS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcztuJiZyPT09ZS5wYXJlbnROb2RlfHwocj1lLnBhcmVudE5vZGUsbz10LmNsb25lTm9kZSghMSksZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShvLGUpKSxvLmFwcGVuZENoaWxkKGUpfSksZX0sWXQ9SXQubWFrZU1hcCgiZmlsbE9wYWNpdHkgZm9udFdlaWdodCBsaW5lSGVpZ2h0IG9wYWNpdHkgb3JwaGFucyB3aWRvd3MgekluZGV4IHpvb20iLCIgIiksR3Q9SXQubWFrZU1hcCgiY2hlY2tlZCBjb21wYWN0IGRlY2xhcmUgZGVmZXIgZGlzYWJsZWQgaXNtYXAgbXVsdGlwbGUgbm9ocmVmIG5vc2hhZGUgbm93cmFwIHJlYWRvbmx5IHNlbGVjdGVkIiwiICIpLEp0PXsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIixyZWFkb25seToicmVhZE9ubHkifSxRdD17ImZsb2F0IjoiY3NzRmxvYXQifSxadD17fSxlbj17fSx0bj1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgdG4uZm4uaW5pdChlLHQpfSxubj0vXlxzKnxccyokL2cscm49ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHxlPT09dW5kZWZpbmVkPyIiOigiIitlKS5yZXBsYWNlKG5uLCIiKX0sb249ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saTtpZihlKWlmKChuPWUubGVuZ3RoKT09PXVuZGVmaW5lZCl7Zm9yKHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpJiYoaT1lW3JdLCExPT09dC5jYWxsKGkscixpKSkpYnJlYWt9ZWxzZSBmb3Iobz0wO288biYmKGk9ZVtvXSwhMSE9PXQuY2FsbChpLG8saSkpO28rKyk7cmV0dXJuIGV9LGFuPWZ1bmN0aW9uKGUsbil7dmFyIHI9W107cmV0dXJuIG9uKGUsZnVuY3Rpb24oZSx0KXtuKHQsZSkmJnIucHVzaCh0KX0pLHJ9LHVuPWZ1bmN0aW9uKGUpe3JldHVybiBlPzk9PT1lLm5vZGVUeXBlP2U6ZS5vd25lckRvY3VtZW50Ok10fTt0bi5mbj10bi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnRuLHNlbGVjdG9yOiIiLGNvbnRleHQ6bnVsbCxsZW5ndGg6MCxpbml0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPXRoaXM7aWYoIWUpcmV0dXJuIG87aWYoZS5ub2RlVHlwZSlyZXR1cm4gby5jb250ZXh0PW9bMF09ZSxvLmxlbmd0aD0xLG87aWYodCYmdC5ub2RlVHlwZSlvLmNvbnRleHQ9dDtlbHNle2lmKHQpcmV0dXJuIHRuKGUpLmF0dHIodCk7by5jb250ZXh0PXQ9ZG9jdW1lbnR9aWYoanQoZSkpe2lmKCEobj0iPCI9PT0oby5zZWxlY3Rvcj1lKS5jaGFyQXQoMCkmJiI+Ij09PWUuY2hhckF0KGUubGVuZ3RoLTEpJiYzPD1lLmxlbmd0aD9bbnVsbCxlLG51bGxdOlV0LmV4ZWMoZSkpKXJldHVybiB0bih0KS5maW5kKGUpO2lmKG5bMV0pZm9yKHI9JHQoZSx1bih0KSkuZmlyc3RDaGlsZDtyOylGdC5jYWxsKG8scikscj1yLm5leHRTaWJsaW5nO2Vsc2V7aWYoIShyPXVuKHQpLmdldEVsZW1lbnRCeUlkKG5bMl0pKSlyZXR1cm4gbztpZihyLmlkIT09blsyXSlyZXR1cm4gby5maW5kKGUpO28ubGVuZ3RoPTEsb1swXT1yfX1lbHNlIHRoaXMuYWRkKGUsITEpO3JldHVybiBvfSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIEl0LnRvQXJyYXkodGhpcyl9LGFkZDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbz10aGlzO2lmKGp0KGUpKXJldHVybiBvLmFkZCh0bihlKSk7aWYoITEhPT10KWZvcihuPXRuLnVuaXF1ZShvLnRvQXJyYXkoKS5jb25jYXQodG4ubWFrZUFycmF5KGUpKSksby5sZW5ndGg9bi5sZW5ndGgscj0wO3I8bi5sZW5ndGg7cisrKW9bcl09bltyXTtlbHNlIEZ0LmFwcGx5KG8sdG4ubWFrZUFycmF5KGUpKTtyZXR1cm4gb30sYXR0cjpmdW5jdGlvbih0LG4pe3ZhciBlLHI9dGhpcztpZigib2JqZWN0Ij09dHlwZW9mIHQpb24odCxmdW5jdGlvbihlLHQpe3IuYXR0cihlLHQpfSk7ZWxzZXtpZighSHQobikpe2lmKHJbMF0mJjE9PT1yWzBdLm5vZGVUeXBlKXtpZigoZT1adFt0XSkmJmUuZ2V0KXJldHVybiBlLmdldChyWzBdLHQpO2lmKEd0W3RdKXJldHVybiByLnByb3AodCk/dDp1bmRlZmluZWQ7bnVsbD09PShuPXJbMF0uZ2V0QXR0cmlidXRlKHQsMikpJiYobj11bmRlZmluZWQpfXJldHVybiBufXRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlO2lmKDE9PT10aGlzLm5vZGVUeXBlKXtpZigoZT1adFt0XSkmJmUuc2V0KXJldHVybiB2b2lkIGUuc2V0KHRoaXMsbik7bnVsbD09PW4/dGhpcy5yZW1vdmVBdHRyaWJ1dGUodCwyKTp0aGlzLnNldEF0dHJpYnV0ZSh0LG4sMil9fSl9cmV0dXJuIHJ9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXR0cihlLG51bGwpfSxwcm9wOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztpZigib2JqZWN0Ij09dHlwZW9mKGU9SnRbZV18fGUpKW9uKGUsZnVuY3Rpb24oZSx0KXtuLnByb3AoZSx0KX0pO2Vsc2V7aWYoIUh0KHQpKXJldHVybiBuWzBdJiZuWzBdLm5vZGVUeXBlJiZlIGluIG5bMF0/blswXVtlXTp0O3RoaXMuZWFjaChmdW5jdGlvbigpezE9PT10aGlzLm5vZGVUeXBlJiYodGhpc1tlXT10KX0pfXJldHVybiBufSxjc3M6ZnVuY3Rpb24obixyKXt2YXIgZSxvLGk9dGhpcyx0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLy0oXEQpL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9LGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvW0EtWl0vZyxmdW5jdGlvbihlKXtyZXR1cm4iLSIrZX0pfTtpZigib2JqZWN0Ij09dHlwZW9mIG4pb24obixmdW5jdGlvbihlLHQpe2kuY3NzKGUsdCl9KTtlbHNlIGlmKEh0KHIpKW49dChuKSwibnVtYmVyIiE9dHlwZW9mIHJ8fFl0W25dfHwocj1yLnRvU3RyaW5nKCkrInB4IiksaS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdHlsZTtpZigobz1lbltuXSkmJm8uc2V0KW8uc2V0KHRoaXMscik7ZWxzZXt0cnl7dGhpcy5zdHlsZVtRdFtuXXx8bl09cn1jYXRjaCh0KXt9bnVsbCE9PXImJiIiIT09cnx8KGUucmVtb3ZlUHJvcGVydHk/ZS5yZW1vdmVQcm9wZXJ0eShhKG4pKTplLnJlbW92ZUF0dHJpYnV0ZShuKSl9fSk7ZWxzZXtpZihlPWlbMF0sKG89ZW5bbl0pJiZvLmdldClyZXR1cm4gby5nZXQoZSk7aWYoIWUub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldylyZXR1cm4gZS5jdXJyZW50U3R5bGU/ZS5jdXJyZW50U3R5bGVbdChuKV06IiI7dHJ5e3JldHVybiBlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpLmdldFByb3BlcnR5VmFsdWUoYShuKSl9Y2F0Y2godSl7cmV0dXJuIHVuZGVmaW5lZH19cmV0dXJuIGl9LHJlbW92ZTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PXRoaXMubGVuZ3RoO3QtLTspZT10aGlzW3RdLHF0LmNsZWFuKGUpLGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PXRoaXMubGVuZ3RoO3QtLTspZm9yKGU9dGhpc1t0XTtlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKTtyZXR1cm4gdGhpc30saHRtbDpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXM7aWYoSHQoZSkpe3Q9bi5sZW5ndGg7dHJ5e2Zvcig7dC0tOyluW3RdLmlubmVySFRNTD1lfWNhdGNoKHIpe3RuKG5bdF0pLmVtcHR5KCkuYXBwZW5kKGUpfXJldHVybiBufXJldHVybiBuWzBdP25bMF0uaW5uZXJIVE1MOiIifSx0ZXh0OmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcztpZihIdChlKSl7Zm9yKHQ9bi5sZW5ndGg7dC0tOykiaW5uZXJUZXh0ImluIG5bdF0/blt0XS5pbm5lclRleHQ9ZTpuWzBdLnRleHRDb250ZW50PWU7cmV0dXJuIG59cmV0dXJuIG5bMF0/blswXS5pbm5lclRleHR8fG5bMF0udGV4dENvbnRlbnQ6IiJ9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiBXdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXsoMT09PXRoaXMubm9kZVR5cGV8fHRoaXMuaG9zdCYmMT09PXRoaXMuaG9zdC5ub2RlVHlwZSkmJnRoaXMuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBXdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXsoMT09PXRoaXMubm9kZVR5cGV8fHRoaXMuaG9zdCYmMT09PXRoaXMuaG9zdC5ub2RlVHlwZSkmJnRoaXMuaW5zZXJ0QmVmb3JlKGUsdGhpcy5maXJzdENoaWxkKX0sITApfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP1d0KHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3RoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pOnRoaXN9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT9XdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9LCEwKTp0aGlzfSxhcHBlbmRUbzpmdW5jdGlvbihlKXtyZXR1cm4gdG4oZSkuYXBwZW5kKHRoaXMpLHRoaXN9LHByZXBlbmRUbzpmdW5jdGlvbihlKXtyZXR1cm4gdG4oZSkucHJlcGVuZCh0aGlzKSx0aGlzfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5iZWZvcmUoZSkucmVtb3ZlKCl9LHdyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIFh0KHRoaXMsZSl9LHdyYXBBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIFh0KHRoaXMsZSwhMCl9LHdyYXBJbm5lcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dG4odGhpcykuY29udGVudHMoKS53cmFwQWxsKGUpfSksdGhpc30sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe3RuKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZS5wdXNoKHRoaXMuY2xvbmVOb2RlKCEwKSl9KSx0bihlKX0sYWRkQ2xhc3M6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudG9nZ2xlQ2xhc3MoZSwhMCl9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRvZ2dsZUNsYXNzKGUsITEpfSx0b2dnbGVDbGFzczpmdW5jdGlvbihvLGkpe3ZhciBlPXRoaXM7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBvfHwoLTEhPT1vLmluZGV4T2YoIiAiKT9vbihvLnNwbGl0KCIgIiksZnVuY3Rpb24oKXtlLnRvZ2dsZUNsYXNzKHRoaXMsaSl9KTplLmVhY2goZnVuY3Rpb24oZSx0KXt2YXIgbixyOyhyPUt0KHQsbykpIT09aSYmKG49dC5jbGFzc05hbWUscj90LmNsYXNzTmFtZT1ybigoIiAiK24rIiAiKS5yZXBsYWNlKCIgIitvKyIgIiwiICIpKTp0LmNsYXNzTmFtZSs9bj8iICIrbzpvKX0pKSxlfSxoYXNDbGFzczpmdW5jdGlvbihlKXtyZXR1cm4gS3QodGhpc1swXSxlKX0sZWFjaDpmdW5jdGlvbihlKXtyZXR1cm4gb24odGhpcyxlKX0sb246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7cXQuYmluZCh0aGlzLGUsdCl9KX0sb2ZmOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3F0LnVuYmluZCh0aGlzLGUsdCl9KX0sdHJpZ2dlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Im9iamVjdCI9PXR5cGVvZiBlP3F0LmZpcmUodGhpcyxlLnR5cGUsZSk6cXQuZmlyZSh0aGlzLGUpfSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jc3MoImRpc3BsYXkiLCIiKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNzcygiZGlzcGxheSIsIm5vbmUiKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRuKHp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGVxOmZ1bmN0aW9uKGUpe3JldHVybi0xPT09ZT90aGlzLnNsaWNlKGUpOnRoaXMuc2xpY2UoZSwrZSsxKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9W107Zm9yKHQ9MCxuPXRoaXMubGVuZ3RoO3Q8bjt0KyspdG4uZmluZChlLHRoaXNbdF0scik7cmV0dXJuIHRuKHIpfSxmaWx0ZXI6ZnVuY3Rpb24obil7cmV0dXJuIHRuKCJmdW5jdGlvbiI9PXR5cGVvZiBuP2FuKHRoaXMudG9BcnJheSgpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4odCxlKX0pOnRuLmZpbHRlcihuLHRoaXMudG9BcnJheSgpKSl9LGNsb3Nlc3Q6ZnVuY3Rpb24obil7dmFyIHI9W107cmV0dXJuIG4gaW5zdGFuY2VvZiB0biYmKG49blswXSksdGhpcy5lYWNoKGZ1bmN0aW9uKGUsdCl7Zm9yKDt0Oyl7aWYoInN0cmluZyI9PXR5cGVvZiBuJiZ0bih0KS5pcyhuKSl7ci5wdXNoKHQpO2JyZWFrfWlmKHQ9PT1uKXtyLnB1c2godCk7YnJlYWt9dD10LnBhcmVudE5vZGV9fSksdG4ocil9LG9mZnNldDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpPTAsYT0wO3JldHVybiBlP3RoaXMuY3NzKGUpOigodD10aGlzWzBdKSYmKHI9KG49dC5vd25lckRvY3VtZW50KS5kb2N1bWVudEVsZW1lbnQsdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJihpPShvPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLmxlZnQrKHIuc2Nyb2xsTGVmdHx8bi5ib2R5LnNjcm9sbExlZnQpLXIuY2xpZW50TGVmdCxhPW8udG9wKyhyLnNjcm9sbFRvcHx8bi5ib2R5LnNjcm9sbFRvcCktci5jbGllbnRUb3ApKSx7bGVmdDppLHRvcDphfSl9LHB1c2g6RnQsc29ydDpbXS5zb3J0LHNwbGljZTpbXS5zcGxpY2V9LEl0LmV4dGVuZCh0bix7ZXh0ZW5kOkl0LmV4dGVuZCxtYWtlQXJyYXk6ZnVuY3Rpb24oZSl7cmV0dXJuKHQ9ZSkmJnQ9PT10LndpbmRvd3x8ZS5ub2RlVHlwZT9bZV06SXQudG9BcnJheShlKTt2YXIgdH0saW5BcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuO2lmKHQuaW5kZXhPZilyZXR1cm4gdC5pbmRleE9mKGUpO2ZvcihuPXQubGVuZ3RoO24tLTspaWYodFtuXT09PWUpcmV0dXJuIG47cmV0dXJuLTF9LGlzQXJyYXk6SXQuaXNBcnJheSxlYWNoOm9uLHRyaW06cm4sZ3JlcDphbixmaW5kOm10LGV4cHI6bXQuc2VsZWN0b3JzLHVuaXF1ZTptdC51bmlxdWVTb3J0LHRleHQ6bXQuZ2V0VGV4dCxjb250YWluczptdC5jb250YWlucyxmaWx0ZXI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQubGVuZ3RoO2ZvcihuJiYoZT0iOm5vdCgiK2UrIikiKTtyLS07KTEhPT10W3JdLm5vZGVUeXBlJiZ0LnNwbGljZShyLDEpO3JldHVybiB0PTE9PT10Lmxlbmd0aD90bi5maW5kLm1hdGNoZXNTZWxlY3Rvcih0WzBdLGUpP1t0WzBdXTpbXTp0bi5maW5kLm1hdGNoZXMoZSx0KX19KTt2YXIgc249ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLG89ZVt0XTtmb3IoInN0cmluZyIhPXR5cGVvZiBuJiZuIGluc3RhbmNlb2YgdG4mJihuPW5bMF0pO28mJjkhPT1vLm5vZGVUeXBlOyl7aWYobiE9PXVuZGVmaW5lZCl7aWYobz09PW4pYnJlYWs7aWYoInN0cmluZyI9PXR5cGVvZiBuJiZ0bihvKS5pcyhuKSlicmVha30xPT09by5ub2RlVHlwZSYmci5wdXNoKG8pLG89b1t0XX1yZXR1cm4gcn0sY249ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89W107Zm9yKHIgaW5zdGFuY2VvZiB0biYmKHI9clswXSk7ZTtlPWVbdF0paWYoIW58fGUubm9kZVR5cGU9PT1uKXtpZihyIT09dW5kZWZpbmVkKXtpZihlPT09cilicmVhaztpZigic3RyaW5nIj09dHlwZW9mIHImJnRuKGUpLmlzKHIpKWJyZWFrfW8ucHVzaChlKX1yZXR1cm4gb30sbG49ZnVuY3Rpb24oZSx0LG4pe2ZvcihlPWVbdF07ZTtlPWVbdF0paWYoZS5ub2RlVHlwZT09PW4pcmV0dXJuIGU7cmV0dXJuIG51bGx9O29uKHtwYXJlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiYxMSE9PXQubm9kZVR5cGU/dDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiBzbihlLCJwYXJlbnROb2RlIil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGxuKGUsIm5leHRTaWJsaW5nIiwxKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gbG4oZSwicHJldmlvdXNTaWJsaW5nIiwxKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIGNuKGUuZmlyc3RDaGlsZCwibmV4dFNpYmxpbmciLDEpfSxjb250ZW50czpmdW5jdGlvbihlKXtyZXR1cm4gSXQudG9BcnJheSgoImlmcmFtZSI9PT1lLm5vZGVOYW1lP2UuY29udGVudERvY3VtZW50fHxlLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6ZSkuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihlLHIpe3RuLmZuW2VdPWZ1bmN0aW9uKHQpe3ZhciBuPVtdO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1yLmNhbGwobix0aGlzLHQsbik7ZSYmKHRuLmlzQXJyYXkoZSk/bi5wdXNoLmFwcGx5KG4sZSk6bi5wdXNoKGUpKX0pLDE8dGhpcy5sZW5ndGgmJihWdFtlXXx8KG49dG4udW5pcXVlKG4pKSwwPT09ZS5pbmRleE9mKCJwYXJlbnRzIikmJihuPW4ucmV2ZXJzZSgpKSksbj10bihuKSx0P24uZmlsdGVyKHQpOm59fSksb24oe3BhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQpe3JldHVybiBzbihlLCJwYXJlbnROb2RlIix0KX0sbmV4dFVudGlsOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNuKGUsIm5leHRTaWJsaW5nIiwxLHQpLnNsaWNlKDEpfSxwcmV2VW50aWw6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY24oZSwicHJldmlvdXNTaWJsaW5nIiwxLHQpLnNsaWNlKDEpfX0sZnVuY3Rpb24ocixvKXt0bi5mbltyXT1mdW5jdGlvbih0LGUpe3ZhciBuPVtdO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1vLmNhbGwobix0aGlzLHQsbik7ZSYmKHRuLmlzQXJyYXkoZSk/bi5wdXNoLmFwcGx5KG4sZSk6bi5wdXNoKGUpKX0pLDE8dGhpcy5sZW5ndGgmJihuPXRuLnVuaXF1ZShuKSwwIT09ci5pbmRleE9mKCJwYXJlbnRzIikmJiJwcmV2VW50aWwiIT09cnx8KG49bi5yZXZlcnNlKCkpKSxuPXRuKG4pLGU/bi5maWx0ZXIoZSk6bn19KSx0bi5mbi5pcz1mdW5jdGlvbihlKXtyZXR1cm4hIWUmJjA8dGhpcy5maWx0ZXIoZSkubGVuZ3RofSx0bi5mbi5pbml0LnByb3RvdHlwZT10bi5mbix0bi5vdmVycmlkZURlZmF1bHRzPWZ1bmN0aW9uKG4pe3ZhciByLG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcj1yfHxuKCksMD09PWFyZ3VtZW50cy5sZW5ndGgmJihlPXIuZWxlbWVudCksdHx8KHQ9ci5jb250ZXh0KSxuZXcgby5mbi5pbml0KGUsdCl9O3JldHVybiB0bi5leHRlbmQobyx0aGlzKSxvfTt2YXIgZm49ZnVuY3Rpb24obixyLGUpe29uKGUsZnVuY3Rpb24oZSx0KXtuW2VdPW5bZV18fHt9LG5bZV1bcl09dH0pfTt2ZS5pZSYmdmUuaWU8OCYmKGZuKFp0LCJnZXQiLHttYXhsZW5ndGg6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXhMZW5ndGg7cmV0dXJuIDIxNDc0ODM2NDc9PT10P3VuZGVmaW5lZDp0fSxzaXplOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2l6ZTtyZXR1cm4gMjA9PT10P3VuZGVmaW5lZDp0fSwiY2xhc3MiOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNsYXNzTmFtZX0sc3R5bGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdHlsZS5jc3NUZXh0O3JldHVybiAwPT09dC5sZW5ndGg/dW5kZWZpbmVkOnR9fSksZm4oWnQsInNldCIseyJjbGFzcyI6ZnVuY3Rpb24oZSx0KXtlLmNsYXNzTmFtZT10fSxzdHlsZTpmdW5jdGlvbihlLHQpe2Uuc3R5bGUuY3NzVGV4dD10fX0pKSx2ZS5pZSYmdmUuaWU8OSYmKFF0WyJmbG9hdCJdPSJzdHlsZUZsb2F0Iixmbihlbiwic2V0Iix7b3BhY2l0eTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuc3R5bGU7bnVsbD09PXR8fCIiPT09dD9uLnJlbW92ZUF0dHJpYnV0ZSgiZmlsdGVyIik6KG4uem9vbT0xLG4uZmlsdGVyPSJhbHBoYShvcGFjaXR5PSIrMTAwKnQrIikiKX19KSksdG4uYXR0ckhvb2tzPVp0LHRuLmNzc0hvb2tzPWVuO3ZhciBkbixtbj1mdW5jdGlvbihlKXt2YXIgdCxuPSExO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBufHwobj0hMCx0PWUuYXBwbHkobnVsbCxhcmd1bWVudHMpKSx0fX0scG49ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO2lmKHIudGVzdCh0KSlyZXR1cm4gcn1yZXR1cm4gdW5kZWZpbmVkfShlLHQpO2lmKCFuKXJldHVybnttYWpvcjowLG1pbm9yOjB9O3ZhciByPWZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIodC5yZXBsYWNlKG4sIiQiK2UpKX07cmV0dXJuIGhuKHIoMSkscigyKSl9LGduPWZ1bmN0aW9uKCl7cmV0dXJuIGhuKDAsMCl9LGhuPWZ1bmN0aW9uKGUsdCl7cmV0dXJue21ham9yOmUsbWlub3I6dH19LHZuPXtudTpobixkZXRlY3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbj1TdHJpbmcodCkudG9Mb3dlckNhc2UoKTtyZXR1cm4gMD09PWUubGVuZ3RoP2duKCk6cG4oZSxuKX0sdW5rbm93bjpnbn0seW49IkZpcmVmb3giLGJuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQ9PT1lfX0sQ249ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jdXJyZW50O3JldHVybntjdXJyZW50OnQsdmVyc2lvbjplLnZlcnNpb24saXNFZGdlOmJuKCJFZGdlIix0KSxpc0Nocm9tZTpibigiQ2hyb21lIix0KSxpc0lFOmJuKCJJRSIsdCksaXNPcGVyYTpibigiT3BlcmEiLHQpLGlzRmlyZWZveDpibih5bix0KSxpc1NhZmFyaTpibigiU2FmYXJpIix0KX19LHhuPXt1bmtub3duOmZ1bmN0aW9uKCl7cmV0dXJuIENuKHtjdXJyZW50OnVuZGVmaW5lZCx2ZXJzaW9uOnZuLnVua25vd24oKX0pfSxudTpDbixlZGdlOlYuY29uc3RhbnQoIkVkZ2UiKSxjaHJvbWU6Vi5jb25zdGFudCgiQ2hyb21lIiksaWU6Vi5jb25zdGFudCgiSUUiKSxvcGVyYTpWLmNvbnN0YW50KCJPcGVyYSIpLGZpcmVmb3g6Vi5jb25zdGFudCh5biksc2FmYXJpOlYuY29uc3RhbnQoIlNhZmFyaSIpfSx3bj0iV2luZG93cyIsTm49IkFuZHJvaWQiLEVuPSJTb2xhcmlzIixTbj0iRnJlZUJTRCIsa249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdD09PWV9fSxUbj1mdW5jdGlvbihlKXt2YXIgdD1lLmN1cnJlbnQ7cmV0dXJue2N1cnJlbnQ6dCx2ZXJzaW9uOmUudmVyc2lvbixpc1dpbmRvd3M6a24od24sdCksaXNpT1M6a24oImlPUyIsdCksaXNBbmRyb2lkOmtuKE5uLHQpLGlzT1NYOmtuKCJPU1giLHQpLGlzTGludXg6a24oIkxpbnV4Iix0KSxpc1NvbGFyaXM6a24oRW4sdCksaXNGcmVlQlNEOmtuKFNuLHQpfX0sQW49e3Vua25vd246ZnVuY3Rpb24oKXtyZXR1cm4gVG4oe2N1cnJlbnQ6dW5kZWZpbmVkLHZlcnNpb246dm4udW5rbm93bigpfSl9LG51OlRuLHdpbmRvd3M6Vi5jb25zdGFudCh3biksaW9zOlYuY29uc3RhbnQoImlPUyIpLGFuZHJvaWQ6Vi5jb25zdGFudChObiksbGludXg6Vi5jb25zdGFudCgiTGludXgiKSxvc3g6Vi5jb25zdGFudCgiT1NYIiksc29sYXJpczpWLmNvbnN0YW50KEVuKSxmcmVlYnNkOlYuY29uc3RhbnQoU24pfSxSbj1mdW5jdGlvbihlLHQpe3ZhciBuPVN0cmluZyh0KS50b0xvd2VyQ2FzZSgpO3JldHVybiBILmZpbmQoZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5zZWFyY2gobil9KX0sX249ZnVuY3Rpb24oZSxuKXtyZXR1cm4gUm4oZSxuKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9dm4uZGV0ZWN0KGUudmVyc2lvblJlZ2V4ZXMsbik7cmV0dXJue2N1cnJlbnQ6ZS5uYW1lLHZlcnNpb246dH19KX0sQm49ZnVuY3Rpb24oZSxuKXtyZXR1cm4gUm4oZSxuKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9dm4uZGV0ZWN0KGUudmVyc2lvblJlZ2V4ZXMsbik7cmV0dXJue2N1cnJlbnQ6ZS5uYW1lLHZlcnNpb246dH19KX0sRG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4tMSE9PWUuaW5kZXhPZih0KX0sT249ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXlxzK3xccyskL2csIiIpfSxQbj0vLio/dmVyc2lvblwvXCA/KFswLTldKylcLihbMC05XSspLiovLExuPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gRG4oZSx0KX19LEluPVt7bmFtZToiRWRnZSIsdmVyc2lvblJlZ2V4ZXM6Wy8uKj9lZGdlXC8gPyhbMC05XSspXC4oWzAtOV0rKSQvXSxzZWFyY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIERuKGUsImVkZ2UvIikmJkRuKGUsImNocm9tZSIpJiZEbihlLCJzYWZhcmkiKSYmRG4oZSwiYXBwbGV3ZWJraXQiKX19LHtuYW1lOiJDaHJvbWUiLHZlcnNpb25SZWdleGVzOlsvLio/Y2hyb21lXC8oWzAtOV0rKVwuKFswLTldKykuKi8sUG5dLHNlYXJjaDpmdW5jdGlvbihlKXtyZXR1cm4gRG4oZSwiY2hyb21lIikmJiFEbihlLCJjaHJvbWVmcmFtZSIpfX0se25hbWU6IklFIix2ZXJzaW9uUmVnZXhlczpbLy4qP21zaWVcID8oWzAtOV0rKVwuKFswLTldKykuKi8sLy4qP3J2OihbMC05XSspXC4oWzAtOV0rKS4qL10sc2VhcmNoOmZ1bmN0aW9uKGUpe3JldHVybiBEbihlLCJtc2llIil8fERuKGUsInRyaWRlbnQiKX19LHtuYW1lOiJPcGVyYSIsdmVyc2lvblJlZ2V4ZXM6W1BuLC8uKj9vcGVyYVwvKFswLTldKylcLihbMC05XSspLiovXSxzZWFyY2g6TG4oIm9wZXJhIil9LHtuYW1lOiJGaXJlZm94Iix2ZXJzaW9uUmVnZXhlczpbLy4qP2ZpcmVmb3hcL1wgPyhbMC05XSspXC4oWzAtOV0rKS4qL10sc2VhcmNoOkxuKCJmaXJlZm94Iil9LHtuYW1lOiJTYWZhcmkiLHZlcnNpb25SZWdleGVzOltQbiwvLio/Y3B1IG9zIChbMC05XSspXyhbMC05XSspLiovXSxzZWFyY2g6ZnVuY3Rpb24oZSl7cmV0dXJuKERuKGUsInNhZmFyaSIpfHxEbihlLCJtb2JpbGUvIikpJiZEbihlLCJhcHBsZXdlYmtpdCIpfX1dLE1uPVt7bmFtZToiV2luZG93cyIsc2VhcmNoOkxuKCJ3aW4iKSx2ZXJzaW9uUmVnZXhlczpbLy4qP3dpbmRvd3NcIG50XCA/KFswLTldKylcLihbMC05XSspLiovXX0se25hbWU6ImlPUyIsc2VhcmNoOmZ1bmN0aW9uKGUpe3JldHVybiBEbihlLCJpcGhvbmUiKXx8RG4oZSwiaXBhZCIpfSx2ZXJzaW9uUmVnZXhlczpbLy4qP3ZlcnNpb25cL1wgPyhbMC05XSspXC4oWzAtOV0rKS4qLywvLipjcHUgb3MgKFswLTldKylfKFswLTldKykuKi8sLy4qY3B1IGlwaG9uZSBvcyAoWzAtOV0rKV8oWzAtOV0rKS4qL119LHtuYW1lOiJBbmRyb2lkIixzZWFyY2g6TG4oImFuZHJvaWQiKSx2ZXJzaW9uUmVnZXhlczpbLy4qP2FuZHJvaWRcID8oWzAtOV0rKVwuKFswLTldKykuKi9dfSx7bmFtZToiT1NYIixzZWFyY2g6TG4oIm9zIHgiKSx2ZXJzaW9uUmVnZXhlczpbLy4qP29zXCB4XCA/KFswLTldKylfKFswLTldKykuKi9dfSx7bmFtZToiTGludXgiLHNlYXJjaDpMbigibGludXgiKSx2ZXJzaW9uUmVnZXhlczpbXX0se25hbWU6IlNvbGFyaXMiLHNlYXJjaDpMbigic3Vub3MiKSx2ZXJzaW9uUmVnZXhlczpbXX0se25hbWU6IkZyZWVCU0QiLHNlYXJjaDpMbigiZnJlZWJzZCIpLHZlcnNpb25SZWdleGVzOltdfV0sRm49e2Jyb3dzZXJzOlYuY29uc3RhbnQoSW4pLG9zZXM6Vi5jb25zdGFudChNbil9LHpuPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYSx1LHMsYyxsLGYsZD1Gbi5icm93c2VycygpLG09Rm4ub3NlcygpLHA9X24oZCxlKS5mb2xkKHhuLnVua25vd24seG4ubnUpLGc9Qm4obSxlKS5mb2xkKEFuLnVua25vd24sQW4ubnUpO3JldHVybnticm93c2VyOnAsb3M6ZyxkZXZpY2VUeXBlOihuPXAscj1lLG89KHQ9ZykuaXNpT1MoKSYmITA9PT0vaXBhZC9pLnRlc3QociksaT10LmlzaU9TKCkmJiFvLGE9dC5pc0FuZHJvaWQoKSYmMz09PXQudmVyc2lvbi5tYWpvcix1PXQuaXNBbmRyb2lkKCkmJjQ9PT10LnZlcnNpb24ubWFqb3Iscz1vfHxhfHx1JiYhMD09PS9tb2JpbGUvaS50ZXN0KHIpLGM9dC5pc2lPUygpfHx0LmlzQW5kcm9pZCgpLGw9YyYmIXMsZj1uLmlzU2FmYXJpKCkmJnQuaXNpT1MoKSYmITE9PT0vc2FmYXJpL2kudGVzdChyKSx7aXNpUGFkOlYuY29uc3RhbnQobyksaXNpUGhvbmU6Vi5jb25zdGFudChpKSxpc1RhYmxldDpWLmNvbnN0YW50KHMpLGlzUGhvbmU6Vi5jb25zdGFudChsKSxpc1RvdWNoOlYuY29uc3RhbnQoYyksaXNBbmRyb2lkOnQuaXNBbmRyb2lkLGlzaU9TOnQuaXNpT1MsaXNXZWJWaWV3OlYuY29uc3RhbnQoZil9KX19LFVuPXtkZXRlY3Q6bW4oZnVuY3Rpb24oKXt2YXIgZT1uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiB6bihlKX0pfSxxbj1mdW5jdGlvbihlKXtpZihudWxsPT09ZXx8ZT09PXVuZGVmaW5lZCl0aHJvdyBuZXcgRXJyb3IoIk5vZGUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkIik7cmV0dXJue2RvbTpWLmNvbnN0YW50KGUpfX0sVm49e2Zyb21IdG1sOmZ1bmN0aW9uKGUsdCl7dmFyIG49KHR8fGRvY3VtZW50KS5jcmVhdGVFbGVtZW50KCJkaXYiKTtpZihuLmlubmVySFRNTD1lLCFuLmhhc0NoaWxkTm9kZXMoKXx8MTxuLmNoaWxkTm9kZXMubGVuZ3RoKXRocm93IGNvbnNvbGUuZXJyb3IoIkhUTUwgZG9lcyBub3QgaGF2ZSBhIHNpbmdsZSByb290IG5vZGUiLGUpLCJIVE1MIG11c3QgaGF2ZSBhIHNpbmdsZSByb290IG5vZGUiO3JldHVybiBxbihuLmNoaWxkTm9kZXNbMF0pfSxmcm9tVGFnOmZ1bmN0aW9uKGUsdCl7dmFyIG49KHR8fGRvY3VtZW50KS5jcmVhdGVFbGVtZW50KGUpO3JldHVybiBxbihuKX0sZnJvbVRleHQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj0odHx8ZG9jdW1lbnQpLmNyZWF0ZVRleHROb2RlKGUpO3JldHVybiBxbihuKX0sZnJvbURvbTpxbixmcm9tUG9pbnQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBBLmZyb20oZS5kb20oKS5lbGVtZW50RnJvbVBvaW50KHQsbikpLm1hcChxbil9fSxIbj04LGpuPTksJG49MSxXbj0zLEtuPWZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbSgpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCl9LFhuPWZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbSgpLm5vZGVUeXBlfSxZbj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIFhuKGUpPT09dH19LEduPVluKCRuKSxKbj1ZbihXbiksUW49WW4oam4pLFpuPXtuYW1lOktuLHR5cGU6WG4sdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tKCkubm9kZVZhbHVlfSxpc0VsZW1lbnQ6R24saXNUZXh0OkpuLGlzRG9jdW1lbnQ6UW4saXNDb21tZW50OmZ1bmN0aW9uKGUpe3JldHVybiBYbihlKT09PUhufHwiI2NvbW1lbnQiPT09S24oZSl9fSxlcj0oZG49T2JqZWN0LmtleXMpPT09dW5kZWZpbmVkP2Z1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJnQucHVzaChuKTtyZXR1cm4gdH06ZG4sdHI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZXIoZSkscj0wLG89bi5sZW5ndGg7cjxvO3IrKyl7dmFyIGk9bltyXTt0KGVbaV0saSxlKX19LG5yPWZ1bmN0aW9uKHIsbyl7dmFyIGk9e307cmV0dXJuIHRyKHIsZnVuY3Rpb24oZSx0KXt2YXIgbj1vKGUsdCxyKTtpW24ua109bi52fSksaX0scnI9ZnVuY3Rpb24oZSxuKXt2YXIgcj1bXTtyZXR1cm4gdHIoZSxmdW5jdGlvbihlLHQpe3IucHVzaChuKGUsdCkpfSkscn0sb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHJyKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGV9KX0saXI9e2JpZmlsdGVyOmZ1bmN0aW9uKGUsbil7dmFyIHI9e30sbz17fTtyZXR1cm4gdHIoZSxmdW5jdGlvbihlLHQpeyhuKGUsdCk/cjpvKVt0XT1lfSkse3Q6cixmOm99fSxlYWNoOnRyLG1hcDpmdW5jdGlvbihlLHIpe3JldHVybiBucihlLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm57azp0LHY6cihlLHQsbil9fSl9LG1hcFRvQXJyYXk6cnIsdHVwbGVNYXA6bnIsZmluZDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lcihlKSxyPTAsbz1uLmxlbmd0aDtyPG87cisrKXt2YXIgaT1uW3JdLGE9ZVtpXTtpZih0KGEsaSxlKSlyZXR1cm4gQS5zb21lKGEpfXJldHVybiBBLm5vbmUoKX0sa2V5czplcix2YWx1ZXM6b3Isc2l6ZTpmdW5jdGlvbihlKXtyZXR1cm4gb3IoZSkubGVuZ3RofX0sYXI9ZnVuY3Rpb24oZSx0LG4pe2lmKCEoay5pc1N0cmluZyhuKXx8ay5pc0Jvb2xlYW4obil8fGsuaXNOdW1iZXIobikpKXRocm93IGNvbnNvbGUuZXJyb3IoIkludmFsaWQgY2FsbCB0byBBdHRyLnNldC4gS2V5ICIsdCwiOjogVmFsdWUgIixuLCI6OiBFbGVtZW50ICIsZSksbmV3IEVycm9yKCJBdHRyaWJ1dGUgdmFsdWUgd2FzIG5vdCBzaW1wbGUiKTtlLnNldEF0dHJpYnV0ZSh0LG4rIiIpfSx1cj1mdW5jdGlvbihlLHQsbil7YXIoZS5kb20oKSx0LG4pfSxzcj1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZG9tKCkuZ2V0QXR0cmlidXRlKHQpO3JldHVybiBudWxsPT09bj91bmRlZmluZWQ6bn0sY3I9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbSgpO3JldHVybiEoIW58fCFuLmhhc0F0dHJpYnV0ZSkmJm4uaGFzQXR0cmlidXRlKHQpfSxscj17Y2xvbmU6ZnVuY3Rpb24oZSl7cmV0dXJuIEguZm9sZGwoZS5kb20oKS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdC5uYW1lXT10LnZhbHVlLGV9LHt9KX0sc2V0OnVyLHNldEFsbDpmdW5jdGlvbihlLHQpe3ZhciBuPWUuZG9tKCk7aXIuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7YXIobix0LGUpfSl9LGdldDpzcixoYXM6Y3IscmVtb3ZlOmZ1bmN0aW9uKGUsdCl7ZS5kb20oKS5yZW1vdmVBdHRyaWJ1dGUodCl9LGhhc05vbmU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb20oKS5hdHRyaWJ1dGVzO3JldHVybiB0PT09dW5kZWZpbmVkfHxudWxsPT09dHx8MD09PXQubGVuZ3RofSx0cmFuc2ZlcjpmdW5jdGlvbihvLGksZSl7Wm4uaXNFbGVtZW50KG8pJiZabi5pc0VsZW1lbnQoaSkmJkguZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciB0LG4scjtuPWksY3IodD1vLHI9ZSkmJiFjcihuLHIpJiZ1cihuLHIsc3IodCxyKSl9KX19LGZyPW1uKGZ1bmN0aW9uKCl7cmV0dXJuIGRyKFZuLmZyb21Eb20oZG9jdW1lbnQpKX0pLGRyPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tKCkuYm9keTtpZihudWxsPT09dHx8dD09PXVuZGVmaW5lZCl0aHJvdyJCb2R5IGlzIG5vdCBhdmFpbGFibGUgeWV0IjtyZXR1cm4gVm4uZnJvbURvbSh0KX0sbXI9e2JvZHk6ZnIsZ2V0Qm9keTpkcixpbkJvZHk6ZnVuY3Rpb24oZSl7dmFyIHQ9Wm4uaXNUZXh0KGUpP2UuZG9tKCkucGFyZW50Tm9kZTplLmRvbSgpO3JldHVybiB0IT09dW5kZWZpbmVkJiZudWxsIT09dCYmdC5vd25lckRvY3VtZW50LmJvZHkuY29udGFpbnModCl9fSxwcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5zdHlsZSE9PXVuZGVmaW5lZH0sZ3I9ZnVuY3Rpb24oZSx0LG4pe2lmKCFrLmlzU3RyaW5nKG4pKXRocm93IGNvbnNvbGUuZXJyb3IoIkludmFsaWQgY2FsbCB0byBDU1Muc2V0LiBQcm9wZXJ0eSAiLHQsIjo6IFZhbHVlICIsbiwiOjogRWxlbWVudCAiLGUpLG5ldyBFcnJvcigiQ1NTIHZhbHVlIG11c3QgYmUgYSBzdHJpbmc6ICIrbik7cHIoZSkmJmUuc3R5bGUuc2V0UHJvcGVydHkodCxuKX0saHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcHIoZSk/ZS5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHQpOiIifSx2cj1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZG9tKCkscj1ocihuLHQpO3JldHVybiBBLmZyb20ocikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwPGUubGVuZ3RofSl9LHlyPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5kb20oKTtpci5lYWNoKHQsZnVuY3Rpb24oZSx0KXtncihuLHQsZSl9KX0sYnI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbSgpLHI9d2luZG93LmdldENvbXB1dGVkU3R5bGUobikuZ2V0UHJvcGVydHlWYWx1ZSh0KSxvPSIiIT09cnx8bXIuaW5Cb2R5KGUpP3I6aHIobix0KTtyZXR1cm4gbnVsbD09PW8/dW5kZWZpbmVkOm99LENyPXZyLHhyPWZ1bmN0aW9uKGUpe3JldHVybiBlLnNsaWNlKDApLnNvcnQoKX0sd3I9ZnVuY3Rpb24oZSx0KXt0aHJvdyBuZXcgRXJyb3IoIkFsbCByZXF1aXJlZCBrZXlzICgiK3hyKGUpLmpvaW4oIiwgIikrIikgd2VyZSBub3Qgc3BlY2lmaWVkLiBTcGVjaWZpZWQga2V5cyB3ZXJlOiAiK3hyKHQpLmpvaW4oIiwgIikrIi4iKX0sTnI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJVbnN1cHBvcnRlZCBrZXlzIGZvciBvYmplY3Q6ICIreHIoZSkuam9pbigiLCAiKSl9LEVyPWZ1bmN0aW9uKHQsZSl7aWYoIWsuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSAiK3QrIiBmaWVsZHMgbXVzdCBiZSBhbiBhcnJheS4gV2FzOiAiK2UrIi4iKTtILmVhY2goZSxmdW5jdGlvbihlKXtpZighay5pc1N0cmluZyhlKSl0aHJvdyBuZXcgRXJyb3IoIlRoZSB2YWx1ZSAiK2UrIiBpbiB0aGUgIit0KyIgZmllbGRzIHdhcyBub3QgYSBzdHJpbmcuIil9KX0sU3I9ZnVuY3Rpb24oZSl7dmFyIG49eHIoZSk7SC5maW5kKG4sZnVuY3Rpb24oZSx0KXtyZXR1cm4gdDxuLmxlbmd0aC0xJiZlPT09blt0KzFdfSkuZWFjaChmdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlRoZSBmaWVsZDogIitlKyIgb2NjdXJzIG1vcmUgdGhhbiBvbmNlIGluIHRoZSBjb21iaW5lZCBmaWVsZHM6IFsiK24uam9pbigiLCAiKSsiXS4iKX0pfSxrcj17aW1tdXRhYmxlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgbj1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyluW2VdPWFyZ3VtZW50c1tlXTtpZih0Lmxlbmd0aCE9PW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcignV3JvbmcgbnVtYmVyIG9mIGFyZ3VtZW50cyB0byBzdHJ1Y3QuIEV4cGVjdGVkICJbJyt0Lmxlbmd0aCsnXSIsIGdvdCAnK24ubGVuZ3RoKyIgYXJndW1lbnRzIik7dmFyIHI9e307cmV0dXJuIEguZWFjaCh0LGZ1bmN0aW9uKGUsdCl7cltlXT1WLmNvbnN0YW50KG5bdF0pfSkscn19LGltbXV0YWJsZUJhZzpmdW5jdGlvbihvLGkpe3ZhciBhPW8uY29uY2F0KGkpO2lmKDA9PT1hLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIllvdSBtdXN0IHNwZWNpZnkgYXQgbGVhc3Qgb25lIHJlcXVpcmVkIG9yIG9wdGlvbmFsIGZpZWxkLiIpO3JldHVybiBFcigicmVxdWlyZWQiLG8pLEVyKCJvcHRpb25hbCIsaSksU3IoYSksZnVuY3Rpb24odCl7dmFyIG49aXIua2V5cyh0KTtILmZvcmFsbChvLGZ1bmN0aW9uKGUpe3JldHVybiBILmNvbnRhaW5zKG4sZSl9KXx8d3IobyxuKTt2YXIgZT1ILmZpbHRlcihuLGZ1bmN0aW9uKGUpe3JldHVybiFILmNvbnRhaW5zKGEsZSl9KTswPGUubGVuZ3RoJiZOcihlKTt2YXIgcj17fTtyZXR1cm4gSC5lYWNoKG8sZnVuY3Rpb24oZSl7cltlXT1WLmNvbnN0YW50KHRbZV0pfSksSC5lYWNoKGksZnVuY3Rpb24oZSl7cltlXT1WLmNvbnN0YW50KE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpP0Euc29tZSh0W2VdKTpBLm5vbmUoKSl9KSxyfX19LFRyPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIG4ucHVzaChlKSx0KGUpfSxvPXQoZSk7KG89by5iaW5kKHIpKS5pc1NvbWUoKTspO3JldHVybiBufSxBcj1mdW5jdGlvbigpe3JldHVybiBXLmdldE9yRGllKCJOb2RlIil9LFJyPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMCE9KGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCkmbil9LF9yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFJyKGUsdCxBcigpLkRPQ1VNRU5UX1BPU0lUSU9OX0NPTlRBSU5FRF9CWSl9LEJyPSRuLERyPWpuLE9yPWZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVUeXBlIT09QnImJmUubm9kZVR5cGUhPT1Ecnx8MD09PWUuY2hpbGRFbGVtZW50Q291bnR9LFByPXthbGw6ZnVuY3Rpb24oZSx0KXt2YXIgbj10PT09dW5kZWZpbmVkP2RvY3VtZW50OnQuZG9tKCk7cmV0dXJuIE9yKG4pP1tdOkgubWFwKG4ucXVlcnlTZWxlY3RvckFsbChlKSxWbi5mcm9tRG9tKX0saXM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbSgpO2lmKG4ubm9kZVR5cGUhPT1CcilyZXR1cm4hMTtpZihuLm1hdGNoZXMhPT11bmRlZmluZWQpcmV0dXJuIG4ubWF0Y2hlcyh0KTtpZihuLm1zTWF0Y2hlc1NlbGVjdG9yIT09dW5kZWZpbmVkKXJldHVybiBuLm1zTWF0Y2hlc1NlbGVjdG9yKHQpO2lmKG4ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIT09dW5kZWZpbmVkKXJldHVybiBuLndlYmtpdE1hdGNoZXNTZWxlY3Rvcih0KTtpZihuLm1vek1hdGNoZXNTZWxlY3RvciE9PXVuZGVmaW5lZClyZXR1cm4gbi5tb3pNYXRjaGVzU2VsZWN0b3IodCk7dGhyb3cgbmV3IEVycm9yKCJCcm93c2VyIGxhY2tzIG5hdGl2ZSBzZWxlY3RvcnMiKX0sb25lOmZ1bmN0aW9uKGUsdCl7dmFyIG49dD09PXVuZGVmaW5lZD9kb2N1bWVudDp0LmRvbSgpO3JldHVybiBPcihuKT9BLm5vbmUoKTpBLmZyb20obi5xdWVyeVNlbGVjdG9yKGUpKS5tYXAoVm4uZnJvbURvbSl9fSxMcj1mdW5jdGlvbihlLHQpe3JldHVybiBlLmRvbSgpPT09dC5kb20oKX0sSXI9VW4uZGV0ZWN0KCkuYnJvd3Nlci5pc0lFKCk/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gX3IoZS5kb20oKSx0LmRvbSgpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbSgpLHI9dC5kb20oKTtyZXR1cm4gbiE9PXImJm4uY29udGFpbnMocil9LE1yPXtlcTpMcixpc0VxdWFsTm9kZTpmdW5jdGlvbihlLHQpe3JldHVybiBlLmRvbSgpLmlzRXF1YWxOb2RlKHQuZG9tKCkpfSxtZW1iZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSC5leGlzdHModCxWLmN1cnJ5KExyLGUpKX0sY29udGFpbnM6SXIsaXM6UHIuaXN9LEZyPWZ1bmN0aW9uKGUpe3JldHVybiBWbi5mcm9tRG9tKGUuZG9tKCkub3duZXJEb2N1bWVudCl9LHpyPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tKCk7cmV0dXJuIEEuZnJvbSh0LnBhcmVudE5vZGUpLm1hcChWbi5mcm9tRG9tKX0sVXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb20oKTtyZXR1cm4gQS5mcm9tKHQucHJldmlvdXNTaWJsaW5nKS5tYXAoVm4uZnJvbURvbSl9LHFyPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tKCk7cmV0dXJuIEEuZnJvbSh0Lm5leHRTaWJsaW5nKS5tYXAoVm4uZnJvbURvbSl9LFZyPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tKCk7cmV0dXJuIEgubWFwKHQuY2hpbGROb2RlcyxWbi5mcm9tRG9tKX0sSHI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbSgpLmNoaWxkTm9kZXM7cmV0dXJuIEEuZnJvbShuW3RdKS5tYXAoVm4uZnJvbURvbSl9LGpyPWtyLmltbXV0YWJsZSgiZWxlbWVudCIsIm9mZnNldCIpLCRyPXtvd25lcjpGcixkZWZhdWx0VmlldzpmdW5jdGlvbihlKXt2YXIgdD1lLmRvbSgpLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7cmV0dXJuIFZuLmZyb21Eb20odCl9LGRvY3VtZW50RWxlbWVudDpmdW5jdGlvbihlKXt2YXIgdD1GcihlKTtyZXR1cm4gVm4uZnJvbURvbSh0LmRvbSgpLmRvY3VtZW50RWxlbWVudCl9LHBhcmVudDp6cixmaW5kSW5kZXg6ZnVuY3Rpb24obil7cmV0dXJuIHpyKG4pLmJpbmQoZnVuY3Rpb24oZSl7dmFyIHQ9VnIoZSk7cmV0dXJuIEguZmluZEluZGV4KHQsZnVuY3Rpb24oZSl7cmV0dXJuIE1yLmVxKG4sZSl9KX0pfSxwYXJlbnRzOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWsuaXNGdW5jdGlvbih0KT90OlYuY29uc3RhbnQoITEpLHI9ZS5kb20oKSxvPVtdO251bGwhPT1yLnBhcmVudE5vZGUmJnIucGFyZW50Tm9kZSE9PXVuZGVmaW5lZDspe3ZhciBpPXIucGFyZW50Tm9kZSxhPVZuLmZyb21Eb20oaSk7aWYoby5wdXNoKGEpLCEwPT09bihhKSlicmVhaztyPWl9cmV0dXJuIG99LHNpYmxpbmdzOmZ1bmN0aW9uKHQpe3JldHVybiB6cih0KS5tYXAoVnIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gSC5maWx0ZXIoZSxmdW5jdGlvbihlKXtyZXR1cm4hTXIuZXEodCxlKX0pfSkuZ2V0T3IoW10pfSxwcmV2U2libGluZzpVcixvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb20oKTtyZXR1cm4gQS5mcm9tKHQub2Zmc2V0UGFyZW50KS5tYXAoVm4uZnJvbURvbSl9LHByZXZTaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gSC5yZXZlcnNlKFRyKGUsVXIpKX0sbmV4dFNpYmxpbmc6cXIsbmV4dFNpYmxpbmdzOmZ1bmN0aW9uKGUpe3JldHVybiBUcihlLHFyKX0sY2hpbGRyZW46VnIsY2hpbGQ6SHIsZmlyc3RDaGlsZDpmdW5jdGlvbihlKXtyZXR1cm4gSHIoZSwwKX0sbGFzdENoaWxkOmZ1bmN0aW9uKGUpe3JldHVybiBIcihlLGUuZG9tKCkuY2hpbGROb2Rlcy5sZW5ndGgtMSl9LGNoaWxkTm9kZXNDb3VudDpmdW5jdGlvbihlKXtyZXR1cm4gZS5kb20oKS5jaGlsZE5vZGVzLmxlbmd0aH0saGFzQ2hpbGROb2RlczpmdW5jdGlvbihlKXtyZXR1cm4gZS5kb20oKS5oYXNDaGlsZE5vZGVzKCl9LGxlYWY6ZnVuY3Rpb24oZSx0KXt2YXIgbj1WcihlKTtyZXR1cm4gMDxuLmxlbmd0aCYmdDxuLmxlbmd0aD9qcihuW3RdLDApOmpyKGUsdCl9fSxXcj1Vbi5kZXRlY3QoKS5icm93c2VyLEtyPWZ1bmN0aW9uKGUpe3JldHVybiBILmZpbmQoZSxabi5pc0VsZW1lbnQpfSxYcj17Z2V0UG9zOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYT0wLHU9MCxzPWUub3duZXJEb2N1bWVudDtpZihuPW58fGUsdCl7aWYobj09PWUmJnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiYic3RhdGljIj09PWJyKFZuLmZyb21Eb20oZSksInBvc2l0aW9uIikpcmV0dXJue3g6YT0obz10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKS5sZWZ0KyhzLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxlLnNjcm9sbExlZnQpLXMuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnQseTp1PW8udG9wKyhzLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGUuc2Nyb2xsVG9wKS1zLmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3B9O2ZvcihyPXQ7ciYmciE9PW4mJnIubm9kZVR5cGU7KWErPXIub2Zmc2V0TGVmdHx8MCx1Kz1yLm9mZnNldFRvcHx8MCxyPXIub2Zmc2V0UGFyZW50O2ZvcihyPXQucGFyZW50Tm9kZTtyJiZyIT09biYmci5ub2RlVHlwZTspYS09ci5zY3JvbGxMZWZ0fHwwLHUtPXIuc2Nyb2xsVG9wfHwwLHI9ci5wYXJlbnROb2RlO3UrPShpPVZuLmZyb21Eb20odCksV3IuaXNGaXJlZm94KCkmJiJ0YWJsZSI9PT1abi5uYW1lKGkpP0tyKCRyLmNoaWxkcmVuKGkpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuImNhcHRpb24iPT09Wm4ubmFtZShlKX0pLmJpbmQoZnVuY3Rpb24obyl7cmV0dXJuIEtyKCRyLm5leHRTaWJsaW5ncyhvKSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PWUuZG9tKCkub2Zmc2V0VG9wLG49by5kb20oKS5vZmZzZXRUb3Ascj1vLmRvbSgpLm9mZnNldEhlaWdodDtyZXR1cm4gdDw9bj8tcjowfSl9KS5nZXRPcigwKTowKX1yZXR1cm57eDphLHk6dX19fSxZcj1mdW5jdGlvbihlKXt2YXIgbj1BLm5vbmUoKSx0PVtdLHI9ZnVuY3Rpb24oZSl7bygpP2EoZSk6dC5wdXNoKGUpfSxvPWZ1bmN0aW9uKCl7cmV0dXJuIG4uaXNTb21lKCl9LGk9ZnVuY3Rpb24oZSl7SC5lYWNoKGUsYSl9LGE9ZnVuY3Rpb24odCl7bi5lYWNoKGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0KGUpfSwwKX0pfTtyZXR1cm4gZShmdW5jdGlvbihlKXtuPUEuc29tZShlKSxpKHQpLHQ9W119KSx7Z2V0OnIsbWFwOmZ1bmN0aW9uKG4pe3JldHVybiBZcihmdW5jdGlvbih0KXtyKGZ1bmN0aW9uKGUpe3QobihlKSl9KX0pfSxpc1JlYWR5Om99fSxHcj17bnU6WXIscHVyZTpmdW5jdGlvbih0KXtyZXR1cm4gWXIoZnVuY3Rpb24oZSl7ZSh0KX0pfX0sSnI9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSx0PXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe24uYXBwbHkodCxlKX0sMCl9fSxRcj1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlKXt0KEpyKGUpKX07cmV0dXJue21hcDpmdW5jdGlvbihyKXtyZXR1cm4gUXIoZnVuY3Rpb24obil7ZShmdW5jdGlvbihlKXt2YXIgdD1yKGUpO24odCl9KX0pfSxiaW5kOmZ1bmN0aW9uKG4pe3JldHVybiBRcihmdW5jdGlvbih0KXtlKGZ1bmN0aW9uKGUpe24oZSkuZ2V0KHQpfSl9KX0sYW5vbkJpbmQ6ZnVuY3Rpb24obil7cmV0dXJuIFFyKGZ1bmN0aW9uKHQpe2UoZnVuY3Rpb24oZSl7bi5nZXQodCl9KX0pfSx0b0xhenk6ZnVuY3Rpb24oKXtyZXR1cm4gR3IubnUoZSl9LGdldDplfX0sWnI9e251OlFyLHB1cmU6ZnVuY3Rpb24odCl7cmV0dXJuIFFyKGZ1bmN0aW9uKGUpe2UodCl9KX19LGVvPWZ1bmN0aW9uKGEsZSl7cmV0dXJuIGUoZnVuY3Rpb24ocil7dmFyIG89W10saT0wOzA9PT1hLmxlbmd0aD9yKFtdKTpILmVhY2goYSxmdW5jdGlvbihlLHQpe3ZhciBuO2UuZ2V0KChuPXQsZnVuY3Rpb24oZSl7b1tuXT1lLCsraT49YS5sZW5ndGgmJnIobyl9KSl9KX0pfSx0bz1mdW5jdGlvbihlKXtyZXR1cm4gZW8oZSxaci5udSl9LG5vPXtwYXI6dG8sbWFwTTpmdW5jdGlvbihlLHQpe3ZhciBuPUgubWFwKGUsdCk7cmV0dXJuIHRvKG4pfSxjb21wb3NlOmZ1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpLmJpbmQodCl9fX0scm89ZnVuY3Rpb24obil7cmV0dXJue2lzOmZ1bmN0aW9uKGUpe3JldHVybiBuPT09ZX0saXNWYWx1ZTpWLmFsd2F5cyxpc0Vycm9yOlYubmV2ZXIsZ2V0T3I6Vi5jb25zdGFudChuKSxnZXRPclRodW5rOlYuY29uc3RhbnQobiksZ2V0T3JEaWU6Vi5jb25zdGFudChuKSxvcjpmdW5jdGlvbihlKXtyZXR1cm4gcm8obil9LG9yVGh1bms6ZnVuY3Rpb24oZSl7cmV0dXJuIHJvKG4pfSxmb2xkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQobil9LG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gcm8oZShuKSl9LGVhY2g6ZnVuY3Rpb24oZSl7ZShuKX0sYmluZDpmdW5jdGlvbihlKXtyZXR1cm4gZShuKX0sZXhpc3RzOmZ1bmN0aW9uKGUpe3JldHVybiBlKG4pfSxmb3JhbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIGUobil9LHRvT3B0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIEEuc29tZShuKX19fSxvbz1mdW5jdGlvbihuKXtyZXR1cm57aXM6Vi5uZXZlcixpc1ZhbHVlOlYubmV2ZXIsaXNFcnJvcjpWLmFsd2F5cyxnZXRPcjpWLmlkZW50aXR5LGdldE9yVGh1bms6ZnVuY3Rpb24oZSl7cmV0dXJuIGUoKX0sZ2V0T3JEaWU6ZnVuY3Rpb24oKXtyZXR1cm4gVi5kaWUoU3RyaW5nKG4pKSgpfSxvcjpmdW5jdGlvbihlKXtyZXR1cm4gZX0sb3JUaHVuazpmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSxmb2xkOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUobil9LG1hcDpmdW5jdGlvbihlKXtyZXR1cm4gb28obil9LGVhY2g6Vi5ub29wLGJpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG9vKG4pfSxleGlzdHM6Vi5uZXZlcixmb3JhbGw6Vi5hbHdheXMsdG9PcHRpb246QS5ub25lfX0saW89e3ZhbHVlOnJvLGVycm9yOm9vfTtmdW5jdGlvbiBhbyhlLHUpe3ZhciB0PWUsbj1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpO2lmKGUpe2lmKCFyJiZlW3RdKXJldHVybiBlW3RdO2lmKGUhPT11KXtpZihvPWVbbl0pcmV0dXJuIG87Zm9yKGk9ZS5wYXJlbnROb2RlO2kmJmkhPT11O2k9aS5wYXJlbnROb2RlKWlmKG89aVtuXSlyZXR1cm4gb319fTt0aGlzLmN1cnJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdH0sdGhpcy5uZXh0PWZ1bmN0aW9uKGUpe3JldHVybiB0PW4odCwiZmlyc3RDaGlsZCIsIm5leHRTaWJsaW5nIixlKX0sdGhpcy5wcmV2PWZ1bmN0aW9uKGUpe3JldHVybiB0PW4odCwibGFzdENoaWxkIiwicHJldmlvdXNTaWJsaW5nIixlKX0sdGhpcy5wcmV2Mj1mdW5jdGlvbihlKXtyZXR1cm4gdD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGE7aWYoZSl7aWYobz1lW25dLHUmJm89PT11KXJldHVybjtpZihvKXtpZighcilmb3IoYT1vW3RdO2E7YT1hW3RdKWlmKCFhW3RdKXJldHVybiBhO3JldHVybiBvfWlmKChpPWUucGFyZW50Tm9kZSkmJmkhPT11KXJldHVybiBpfX0odCwibGFzdENoaWxkIiwicHJldmlvdXNTaWJsaW5nIixlKX19dmFyIHVvLHNvLGNvLGxvPWZ1bmN0aW9uKHQpe3ZhciBuO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4obj1ufHxILm1hcFRvT2JqZWN0KHQsVi5jb25zdGFudCghMCkpKS5oYXNPd25Qcm9wZXJ0eShabi5uYW1lKGUpKX19LGZvPWxvKFsiaDEiLCJoMiIsImgzIiwiaDQiLCJoNSIsImg2Il0pLG1vPWxvKFsiYXJ0aWNsZSIsImFzaWRlIiwiZGV0YWlscyIsImRpdiIsImR0IiwiZmlnY2FwdGlvbiIsImZvb3RlciIsImZvcm0iLCJmaWVsZHNldCIsImhlYWRlciIsImhncm91cCIsImh0bWwiLCJtYWluIiwibmF2Iiwic2VjdGlvbiIsInN1bW1hcnkiLCJib2R5IiwicCIsImRsIiwibXVsdGljb2wiLCJkZCIsImZpZ3VyZSIsImFkZHJlc3MiLCJjZW50ZXIiLCJibG9ja3F1b3RlIiwiaDEiLCJoMiIsImgzIiwiaDQiLCJoNSIsImg2IiwibGlzdGluZyIsInhtcCIsInByZSIsInBsYWludGV4dCIsIm1lbnUiLCJkaXIiLCJ1bCIsIm9sIiwibGkiLCJociIsInRhYmxlIiwidGJvZHkiLCJ0aGVhZCIsInRmb290IiwidGgiLCJ0ciIsInRkIiwiY2FwdGlvbiJdKSxwbz1mdW5jdGlvbihlKXtyZXR1cm4gWm4uaXNFbGVtZW50KGUpJiYhbW8oZSl9LGdvPWZ1bmN0aW9uKGUpe3JldHVybiBabi5pc0VsZW1lbnQoZSkmJiJiciI9PT1abi5uYW1lKGUpfSxobz1sbyhbImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsInAiLCJkaXYiLCJhZGRyZXNzIiwicHJlIiwiZm9ybSIsImJsb2NrcXVvdGUiLCJjZW50ZXIiLCJkaXIiLCJmaWVsZHNldCIsImhlYWRlciIsImZvb3RlciIsImFydGljbGUiLCJzZWN0aW9uIiwiaGdyb3VwIiwiYXNpZGUiLCJuYXYiLCJmaWd1cmUiXSksdm89bG8oWyJ1bCIsIm9sIiwiZGwiXSkseW89bG8oWyJsaSIsImRkIiwiZHQiXSksYm89bG8oWyJhcmVhIiwiYmFzZSIsImJhc2Vmb250IiwiYnIiLCJjb2wiLCJmcmFtZSIsImhyIiwiaW1nIiwiaW5wdXQiLCJpc2luZGV4IiwibGluayIsIm1ldGEiLCJwYXJhbSIsImVtYmVkIiwic291cmNlIiwid2JyIiwidHJhY2siXSksQ289bG8oWyJ0aGVhZCIsInRib2R5IiwidGZvb3QiXSkseG89bG8oWyJ0ZCIsInRoIl0pLHdvPWxvKFsicHJlIiwic2NyaXB0IiwidGV4dGFyZWEiLCJzdHlsZSJdKSxObz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZlLm5vZGVUeXBlPT09dH19LEVvPU5vKDEpLFNvPWZ1bmN0aW9uKGUpe3ZhciByPWUudG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgdCxuO2lmKGUmJmUubm9kZVR5cGUpZm9yKG49ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHQ9MDt0PHIubGVuZ3RoO3QrKylpZihuPT09clt0XSlyZXR1cm4hMDtyZXR1cm4hMX19LGtvPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihFbyhlKSl7aWYoZS5jb250ZW50RWRpdGFibGU9PT10KXJldHVybiEwO2lmKGUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1jb250ZW50ZWRpdGFibGUiKT09PXQpcmV0dXJuITB9cmV0dXJuITF9fSxUbz1ObygzKSxBbz1Obyg4KSxSbz1Obyg5KSxfbz1TbygiYnIiKSxCbz1rbygidHJ1ZSIpLERvPWtvKCJmYWxzZSIpLE9vPXtpc1RleHQ6VG8saXNFbGVtZW50OkVvLGlzQ29tbWVudDpBbyxpc0RvY3VtZW50OlJvLGlzQnI6X28saXNDb250ZW50RWRpdGFibGVUcnVlOkJvLGlzQ29udGVudEVkaXRhYmxlRmFsc2U6RG8sbWF0Y2hOb2RlTmFtZXM6U28saGFzUHJvcFZhbHVlOmZ1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBFbyhlKSYmZVt0XT09PW59fSxoYXNBdHRyaWJ1dGU6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIEVvKGUpJiZlLmhhc0F0dHJpYnV0ZSh0KX19LGhhc0F0dHJpYnV0ZVZhbHVlOmZ1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBFbyhlKSYmZS5nZXRBdHRyaWJ1dGUodCk9PT1ufX0sbWF0Y2hTdHlsZVZhbHVlczpmdW5jdGlvbihyLGUpe3ZhciBvPWUudG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpO3JldHVybiBmdW5jdGlvbihlKXt2YXIgdDtpZihFbyhlKSlmb3IodD0wO3Q8by5sZW5ndGg7dCsrKXt2YXIgbj1lLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpO2lmKChuP24uZ2V0UHJvcGVydHlWYWx1ZShyKTpudWxsKT09PW9bdF0pcmV0dXJuITB9cmV0dXJuITF9fSxpc0JvZ3VzOmZ1bmN0aW9uKGUpe3JldHVybiBFbyhlKSYmZS5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIil9LGlzQm9ndXNBbGw6ZnVuY3Rpb24oZSl7cmV0dXJuIEVvKGUpJiYiYWxsIj09PWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpfSxpc1RhYmxlOmZ1bmN0aW9uKGUpe3JldHVybiBFbyhlKSYmIlRBQkxFIj09PWUudGFnTmFtZX19LFBvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYiU1BBTiI9PT1lLnRhZ05hbWUmJiJib29rbWFyayI9PT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtdHlwZSIpfSxMbz1mdW5jdGlvbihlLHQpe3ZhciBuLHI9dC5jaGlsZE5vZGVzO2lmKCFPby5pc0VsZW1lbnQodCl8fCFQbyh0KSl7Zm9yKG49ci5sZW5ndGgtMTswPD1uO24tLSlMbyhlLHJbbl0pO2lmKCExPT09T28uaXNEb2N1bWVudCh0KSl7aWYoT28uaXNUZXh0KHQpJiYwPHQubm9kZVZhbHVlLmxlbmd0aCl7dmFyIG89SXQudHJpbSh0Lm5vZGVWYWx1ZSkubGVuZ3RoO2lmKGUuaXNCbG9jayh0LnBhcmVudE5vZGUpfHwwPG8pcmV0dXJuO2lmKDA9PT1vJiYoYT0oaT10KS5wcmV2aW91c1NpYmxpbmcmJiJTUEFOIj09PWkucHJldmlvdXNTaWJsaW5nLm5vZGVOYW1lLHU9aS5uZXh0U2libGluZyYmIlNQQU4iPT09aS5uZXh0U2libGluZy5ub2RlTmFtZSxhJiZ1KSlyZXR1cm59ZWxzZSBpZihPby5pc0VsZW1lbnQodCkmJigxPT09KHI9dC5jaGlsZE5vZGVzKS5sZW5ndGgmJlBvKHJbMF0pJiZ0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHJbMF0sdCksci5sZW5ndGh8fGJvKFZuLmZyb21Eb20odCkpKSlyZXR1cm47ZS5yZW1vdmUodCl9dmFyIGksYSx1O3JldHVybiB0fX0sSW89e3RyaW1Ob2RlOkxvfSxNbz1JdC5tYWtlTWFwLEZvPS9bJjw+XCJcdTAwNjBcdTAwN0UtXHVEN0ZGXHVFMDAwLVx1RkZFRl18W1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2csem89L1s8PiZcdTAwN0UtXHVEN0ZGXHVFMDAwLVx1RkZFRl18W1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2csVW89L1s8PiZcIlwnXS9nLHFvPS8mIyhbYS16MC05XSspOz98JihbYS16MC05XSspOy9naSxWbz17MTI4OiJcdTIwYWMiLDEzMDoiXHUyMDFhIiwxMzE6Ilx1MDE5MiIsMTMyOiJcdTIwMWUiLDEzMzoiXHUyMDI2IiwxMzQ6Ilx1MjAyMCIsMTM1OiJcdTIwMjEiLDEzNjoiXHUwMmM2IiwxMzc6Ilx1MjAzMCIsMTM4OiJcdTAxNjAiLDEzOToiXHUyMDM5IiwxNDA6Ilx1MDE1MiIsMTQyOiJcdTAxN2QiLDE0NToiXHUyMDE4IiwxNDY6Ilx1MjAxOSIsMTQ3OiJcdTIwMWMiLDE0ODoiXHUyMDFkIiwxNDk6Ilx1MjAyMiIsMTUwOiJcdTIwMTMiLDE1MToiXHUyMDE0IiwxNTI6Ilx1MDJkYyIsMTUzOiJcdTIxMjIiLDE1NDoiXHUwMTYxIiwxNTU6Ilx1MjAzYSIsMTU2OiJcdTAxNTMiLDE1ODoiXHUwMTdlIiwxNTk6Ilx1MDE3OCJ9O3NvPXsnIic6IiZxdW90OyIsIiciOiImIzM5OyIsIjwiOiImbHQ7IiwiPiI6IiZndDsiLCImIjoiJmFtcDsiLCJgIjoiJiM5NjsifSxjbz17IiZsdDsiOiI8IiwiJmd0OyI6Ij4iLCImYW1wOyI6IiYiLCImcXVvdDsiOiciJywiJmFwb3M7IjoiJyJ9O3ZhciBIbz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpPXt9O2lmKGUpe2ZvcihlPWUuc3BsaXQoIiwiKSx0PXR8fDEwLG49MDtuPGUubGVuZ3RoO24rPTIpcj1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGVbbl0sdCkpLHNvW3JdfHwobz0iJiIrZVtuKzFdKyI7IixpW3JdPW8saVtvXT1yKTtyZXR1cm4gaX19O3VvPUhvKCI1MCxuYnNwLDUxLGlleGNsLDUyLGNlbnQsNTMscG91bmQsNTQsY3VycmVuLDU1LHllbiw1NixicnZiYXIsNTcsc2VjdCw1OCx1bWwsNTksY29weSw1YSxvcmRmLDViLGxhcXVvLDVjLG5vdCw1ZCxzaHksNWUscmVnLDVmLG1hY3IsNWcsZGVnLDVoLHBsdXNtbiw1aSxzdXAyLDVqLHN1cDMsNWssYWN1dGUsNWwsbWljcm8sNW0scGFyYSw1bixtaWRkb3QsNW8sY2VkaWwsNXAsc3VwMSw1cSxvcmRtLDVyLHJhcXVvLDVzLGZyYWMxNCw1dCxmcmFjMTIsNXUsZnJhYzM0LDV2LGlxdWVzdCw2MCxBZ3JhdmUsNjEsQWFjdXRlLDYyLEFjaXJjLDYzLEF0aWxkZSw2NCxBdW1sLDY1LEFyaW5nLDY2LEFFbGlnLDY3LENjZWRpbCw2OCxFZ3JhdmUsNjksRWFjdXRlLDZhLEVjaXJjLDZiLEV1bWwsNmMsSWdyYXZlLDZkLElhY3V0ZSw2ZSxJY2lyYyw2ZixJdW1sLDZnLEVUSCw2aCxOdGlsZGUsNmksT2dyYXZlLDZqLE9hY3V0ZSw2ayxPY2lyYyw2bCxPdGlsZGUsNm0sT3VtbCw2bix0aW1lcyw2byxPc2xhc2gsNnAsVWdyYXZlLDZxLFVhY3V0ZSw2cixVY2lyYyw2cyxVdW1sLDZ0LFlhY3V0ZSw2dSxUSE9STiw2dixzemxpZyw3MCxhZ3JhdmUsNzEsYWFjdXRlLDcyLGFjaXJjLDczLGF0aWxkZSw3NCxhdW1sLDc1LGFyaW5nLDc2LGFlbGlnLDc3LGNjZWRpbCw3OCxlZ3JhdmUsNzksZWFjdXRlLDdhLGVjaXJjLDdiLGV1bWwsN2MsaWdyYXZlLDdkLGlhY3V0ZSw3ZSxpY2lyYyw3ZixpdW1sLDdnLGV0aCw3aCxudGlsZGUsN2ksb2dyYXZlLDdqLG9hY3V0ZSw3ayxvY2lyYyw3bCxvdGlsZGUsN20sb3VtbCw3bixkaXZpZGUsN28sb3NsYXNoLDdwLHVncmF2ZSw3cSx1YWN1dGUsN3IsdWNpcmMsN3MsdXVtbCw3dCx5YWN1dGUsN3UsdGhvcm4sN3YseXVtbCxjaSxmbm9mLHNoLEFscGhhLHNpLEJldGEsc2osR2FtbWEsc2ssRGVsdGEsc2wsRXBzaWxvbixzbSxaZXRhLHNuLEV0YSxzbyxUaGV0YSxzcCxJb3RhLHNxLEthcHBhLHNyLExhbWJkYSxzcyxNdSxzdCxOdSxzdSxYaSxzdixPbWljcm9uLHQwLFBpLHQxLFJobyx0MyxTaWdtYSx0NCxUYXUsdDUsVXBzaWxvbix0NixQaGksdDcsQ2hpLHQ4LFBzaSx0OSxPbWVnYSx0aCxhbHBoYSx0aSxiZXRhLHRqLGdhbW1hLHRrLGRlbHRhLHRsLGVwc2lsb24sdG0semV0YSx0bixldGEsdG8sdGhldGEsdHAsaW90YSx0cSxrYXBwYSx0cixsYW1iZGEsdHMsbXUsdHQsbnUsdHUseGksdHYsb21pY3Jvbix1MCxwaSx1MSxyaG8sdTIsc2lnbWFmLHUzLHNpZ21hLHU0LHRhdSx1NSx1cHNpbG9uLHU2LHBoaSx1NyxjaGksdTgscHNpLHU5LG9tZWdhLHVoLHRoZXRhc3ltLHVpLHVwc2loLHVtLHBpdiw4MTIsYnVsbCw4MTYsaGVsbGlwLDgxaSxwcmltZSw4MWosUHJpbWUsODF1LG9saW5lLDgyNCxmcmFzbCw4OG8sd2VpZXJwLDg4aCxpbWFnZSw4OHMscmVhbCw4OTIsdHJhZGUsODlsLGFsZWZzeW0sOGNnLGxhcnIsOGNoLHVhcnIsOGNpLHJhcnIsOGNqLGRhcnIsOGNrLGhhcnIsOGRsLGNyYXJyLDhlZyxsQXJyLDhlaCx1QXJyLDhlaSxyQXJyLDhlaixkQXJyLDhlayxoQXJyLDhnMCxmb3JhbGwsOGcyLHBhcnQsOGczLGV4aXN0LDhnNSxlbXB0eSw4ZzcsbmFibGEsOGc4LGlzaW4sOGc5LG5vdGluLDhnYixuaSw4Z2YscHJvZCw4Z2gsc3VtLDhnaSxtaW51cyw4Z24sbG93YXN0LDhncSxyYWRpYyw4Z3QscHJvcCw4Z3UsaW5maW4sOGgwLGFuZyw4aDcsYW5kLDhoOCxvciw4aDksY2FwLDhoYSxjdXAsOGhiLGludCw4aGssdGhlcmU0LDhocyxzaW0sOGk1LGNvbmcsOGk4LGFzeW1wLDhqMCxuZSw4ajEsZXF1aXYsOGo0LGxlLDhqNSxnZSw4azIsc3ViLDhrMyxzdXAsOGs0LG5zdWIsOGs2LHN1YmUsOGs3LHN1cGUsOGtsLG9wbHVzLDhrbixvdGltZXMsOGw1LHBlcnAsOG01LHNkb3QsOG84LGxjZWlsLDhvOSxyY2VpbCw4b2EsbGZsb29yLDhvYixyZmxvb3IsOHA5LGxhbmcsOHBhLHJhbmcsOWVhLGxveiw5ajAsc3BhZGVzLDlqMyxjbHVicyw5ajUsaGVhcnRzLDlqNixkaWFtcyxhaSxPRWxpZyxhaixvZWxpZyxiMCxTY2Fyb24sYjEsc2Nhcm9uLGJvLFl1bWwsbTYsY2lyYyxtcyx0aWxkZSw4MDIsZW5zcCw4MDMsZW1zcCw4MDksdGhpbnNwLDgwYyx6d25qLDgwZCx6d2osODBlLGxybSw4MGYscmxtLDgwaixuZGFzaCw4MGssbWRhc2gsODBvLGxzcXVvLDgwcCxyc3F1byw4MHEsc2JxdW8sODBzLGxkcXVvLDgwdCxyZHF1byw4MHUsYmRxdW8sODEwLGRhZ2dlciw4MTEsRGFnZ2VyLDgxZyxwZXJtaWwsODFwLGxzYXF1byw4MXEscnNhcXVvLDg1YyxldXJvIiwzMik7dmFyIGpvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucmVwbGFjZSh0P0ZvOnpvLGZ1bmN0aW9uKGUpe3JldHVybiBzb1tlXXx8ZX0pfSwkbz1mdW5jdGlvbihlLHQpe3JldHVybiBlLnJlcGxhY2UodD9Gbzp6byxmdW5jdGlvbihlKXtyZXR1cm4gMTxlLmxlbmd0aD8iJiMiKygxMDI0KihlLmNoYXJDb2RlQXQoMCktNTUyOTYpKyhlLmNoYXJDb2RlQXQoMSktNTYzMjApKzY1NTM2KSsiOyI6c29bZV18fCImIyIrZS5jaGFyQ29kZUF0KDApKyI7In0pfSxXbz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG49bnx8dW8sZS5yZXBsYWNlKHQ/Rm86em8sZnVuY3Rpb24oZSl7cmV0dXJuIHNvW2VdfHxuW2VdfHxlfSl9LEtvPXtlbmNvZGVSYXc6am8sZW5jb2RlQWxsUmF3OmZ1bmN0aW9uKGUpe3JldHVybigiIitlKS5yZXBsYWNlKFVvLGZ1bmN0aW9uKGUpe3JldHVybiBzb1tlXXx8ZX0pfSxlbmNvZGVOdW1lcmljOiRvLGVuY29kZU5hbWVkOldvLGdldEVuY29kZUZ1bmM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1Ibyh0KXx8dW8scj1NbyhlLnJlcGxhY2UoL1wrL2csIiwiKSk7cmV0dXJuIHIubmFtZWQmJnIubnVtZXJpYz9mdW5jdGlvbihlLHQpe3JldHVybiBlLnJlcGxhY2UodD9Gbzp6byxmdW5jdGlvbihlKXtyZXR1cm4gc29bZV0hPT11bmRlZmluZWQ/c29bZV06bltlXSE9PXVuZGVmaW5lZD9uW2VdOjE8ZS5sZW5ndGg/IiYjIisoMTAyNCooZS5jaGFyQ29kZUF0KDApLTU1Mjk2KSsoZS5jaGFyQ29kZUF0KDEpLTU2MzIwKSs2NTUzNikrIjsiOiImIyIrZS5jaGFyQ29kZUF0KDApKyI7In0pfTpyLm5hbWVkP3Q/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gV28oZSx0LG4pfTpXbzpyLm51bWVyaWM/JG86am99LGRlY29kZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKHFvLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/NjU1MzU8KHQ9IngiPT09dC5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKT9wYXJzZUludCh0LnN1YnN0cigxKSwxNik6cGFyc2VJbnQodCwxMCkpPyh0LT02NTUzNixTdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2Kyh0Pj4xMCksNTYzMjArKDEwMjMmdCkpKTpWb1t0XXx8U3RyaW5nLmZyb21DaGFyQ29kZSh0KTpjb1tlXXx8dW9bZV18fChuPWUsKHI9Vm4uZnJvbVRhZygiZGl2IikuZG9tKCkpLmlubmVySFRNTD1uLHIudGV4dENvbnRlbnR8fHIuaW5uZXJUZXh0fHxuKTt2YXIgbixyfSl9fSxYbz17fSxZbz17fSxHbz1JdC5tYWtlTWFwLEpvPUl0LmVhY2gsUW89SXQuZXh0ZW5kLFpvPUl0LmV4cGxvZGUsZWk9SXQuaW5BcnJheSx0aT1mdW5jdGlvbihlLHQpe3JldHVybihlPUl0LnRyaW0oZSkpP2Uuc3BsaXQodHx8IiAiKTpbXX0sbmk9ZnVuY3Rpb24oZSl7dmFyIHUsdCxuLHIsbyxpLHM9e30sYT1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89e307Zm9yKG49MCxyPWUubGVuZ3RoO248cjtuKyspb1tlW25dXT10fHx7fTtyZXR1cm4gb307Zm9yKHQ9dHx8IiIsInN0cmluZyI9PXR5cGVvZihuPW58fFtdKSYmKG49dGkobikpLHI9KGU9dGkoZSkpLmxlbmd0aDtyLS07KWk9e2F0dHJpYnV0ZXM6YShvPXRpKFt1LHRdLmpvaW4oIiAiKSkpLGF0dHJpYnV0ZXNPcmRlcjpvLGNoaWxkcmVuOmEobixZbyl9LHNbZVtyXV09aX0sYz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpO2ZvcihuPShlPXRpKGUpKS5sZW5ndGgsdD10aSh0KTtuLS07KWZvcihyPXNbZVtuXV0sbz0wLGk9dC5sZW5ndGg7bzxpO28rKylyLmF0dHJpYnV0ZXNbdFtvXV09e30sci5hdHRyaWJ1dGVzT3JkZXIucHVzaCh0W29dKX07cmV0dXJuIFhvW2VdP1hvW2VdOih1PSJpZCBhY2Nlc3NrZXkgY2xhc3MgZGlyIGxhbmcgc3R5bGUgdGFiaW5kZXggdGl0bGUgcm9sZSIsdD0iYWRkcmVzcyBibG9ja3F1b3RlIGRpdiBkbCBmaWVsZHNldCBmb3JtIGgxIGgyIGgzIGg0IGg1IGg2IGhyIG1lbnUgb2wgcCBwcmUgdGFibGUgdWwiLG49ImEgYWJiciBiIGJkbyBiciBidXR0b24gY2l0ZSBjb2RlIGRlbCBkZm4gZW0gZW1iZWQgaSBpZnJhbWUgaW1nIGlucHV0IGlucyBrYmQgbGFiZWwgbWFwIG5vc2NyaXB0IG9iamVjdCBxIHMgc2FtcCBzY3JpcHQgc2VsZWN0IHNtYWxsIHNwYW4gc3Ryb25nIHN1YiBzdXAgdGV4dGFyZWEgdSB2YXIgI3RleHQgI2NvbW1lbnQiLCJodG1sNCIhPT1lJiYodSs9IiBjb250ZW50ZWRpdGFibGUgY29udGV4dG1lbnUgZHJhZ2dhYmxlIGRyb3B6b25lIGhpZGRlbiBzcGVsbGNoZWNrIHRyYW5zbGF0ZSIsdCs9IiBhcnRpY2xlIGFzaWRlIGRldGFpbHMgZGlhbG9nIGZpZ3VyZSBoZWFkZXIgZm9vdGVyIGhncm91cCBzZWN0aW9uIG5hdiIsbis9IiBhdWRpbyBjYW52YXMgY29tbWFuZCBkYXRhbGlzdCBtYXJrIG1ldGVyIG91dHB1dCBwaWN0dXJlIHByb2dyZXNzIHRpbWUgd2JyIHZpZGVvIHJ1YnkgYmRpIGtleWdlbiIpLCJodG1sNS1zdHJpY3QiIT09ZSYmKHUrPSIgeG1sOmxhbmciLG49W24saT0iYWNyb255bSBhcHBsZXQgYmFzZWZvbnQgYmlnIGZvbnQgc3RyaWtlIHR0Il0uam9pbigiICIpLEpvKHRpKGkpLGZ1bmN0aW9uKGUpe2EoZSwiIixuKX0pLHQ9W3Qsbz0iY2VudGVyIGRpciBpc2luZGV4IG5vZnJhbWVzIl0uam9pbigiICIpLHI9W3Qsbl0uam9pbigiICIpLEpvKHRpKG8pLGZ1bmN0aW9uKGUpe2EoZSwiIixyKX0pKSxyPXJ8fFt0LG5dLmpvaW4oIiAiKSxhKCJodG1sIiwibWFuaWZlc3QiLCJoZWFkIGJvZHkiKSxhKCJoZWFkIiwiIiwiYmFzZSBjb21tYW5kIGxpbmsgbWV0YSBub3NjcmlwdCBzY3JpcHQgc3R5bGUgdGl0bGUiKSxhKCJ0aXRsZSBociBub3NjcmlwdCBiciIpLGEoImJhc2UiLCJocmVmIHRhcmdldCIpLGEoImxpbmsiLCJocmVmIHJlbCBtZWRpYSBocmVmbGFuZyB0eXBlIHNpemVzIGhyZWZsYW5nIiksYSgibWV0YSIsIm5hbWUgaHR0cC1lcXVpdiBjb250ZW50IGNoYXJzZXQiKSxhKCJzdHlsZSIsIm1lZGlhIHR5cGUgc2NvcGVkIiksYSgic2NyaXB0Iiwic3JjIGFzeW5jIGRlZmVyIHR5cGUgY2hhcnNldCIpLGEoImJvZHkiLCJvbmFmdGVycHJpbnQgb25iZWZvcmVwcmludCBvbmJlZm9yZXVubG9hZCBvbmJsdXIgb25lcnJvciBvbmZvY3VzIG9uaGFzaGNoYW5nZSBvbmxvYWQgb25tZXNzYWdlIG9ub2ZmbGluZSBvbm9ubGluZSBvbnBhZ2VoaWRlIG9ucGFnZXNob3cgb25wb3BzdGF0ZSBvbnJlc2l6ZSBvbnNjcm9sbCBvbnN0b3JhZ2Ugb251bmxvYWQiLHIpLGEoImFkZHJlc3MgZHQgZGQgZGl2IGNhcHRpb24iLCIiLHIpLGEoImgxIGgyIGgzIGg0IGg1IGg2IHByZSBwIGFiYnIgY29kZSB2YXIgc2FtcCBrYmQgc3ViIHN1cCBpIGIgdSBiZG8gc3BhbiBsZWdlbmQgZW0gc3Ryb25nIHNtYWxsIHMgY2l0ZSBkZm4iLCIiLG4pLGEoImJsb2NrcXVvdGUiLCJjaXRlIixyKSxhKCJvbCIsInJldmVyc2VkIHN0YXJ0IHR5cGUiLCJsaSIpLGEoInVsIiwiIiwibGkiKSxhKCJsaSIsInZhbHVlIixyKSxhKCJkbCIsIiIsImR0IGRkIiksYSgiYSIsImhyZWYgdGFyZ2V0IHJlbCBtZWRpYSBocmVmbGFuZyB0eXBlIixuKSxhKCJxIiwiY2l0ZSIsbiksYSgiaW5zIGRlbCIsImNpdGUgZGF0ZXRpbWUiLHIpLGEoImltZyIsInNyYyBzaXplcyBzcmNzZXQgYWx0IHVzZW1hcCBpc21hcCB3aWR0aCBoZWlnaHQiKSxhKCJpZnJhbWUiLCJzcmMgbmFtZSB3aWR0aCBoZWlnaHQiLHIpLGEoImVtYmVkIiwic3JjIHR5cGUgd2lkdGggaGVpZ2h0IiksYSgib2JqZWN0IiwiZGF0YSB0eXBlIHR5cGVtdXN0bWF0Y2ggbmFtZSB1c2VtYXAgZm9ybSB3aWR0aCBoZWlnaHQiLFtyLCJwYXJhbSJdLmpvaW4oIiAiKSksYSgicGFyYW0iLCJuYW1lIHZhbHVlIiksYSgibWFwIiwibmFtZSIsW3IsImFyZWEiXS5qb2luKCIgIikpLGEoImFyZWEiLCJhbHQgY29vcmRzIHNoYXBlIGhyZWYgdGFyZ2V0IHJlbCBtZWRpYSBocmVmbGFuZyB0eXBlIiksYSgidGFibGUiLCJib3JkZXIiLCJjYXB0aW9uIGNvbGdyb3VwIHRoZWFkIHRmb290IHRib2R5IHRyIisoImh0bWw0Ij09PWU/IiBjb2wiOiIiKSksYSgiY29sZ3JvdXAiLCJzcGFuIiwiY29sIiksYSgiY29sIiwic3BhbiIpLGEoInRib2R5IHRoZWFkIHRmb290IiwiIiwidHIiKSxhKCJ0ciIsIiIsInRkIHRoIiksYSgidGQiLCJjb2xzcGFuIHJvd3NwYW4gaGVhZGVycyIsciksYSgidGgiLCJjb2xzcGFuIHJvd3NwYW4gaGVhZGVycyBzY29wZSBhYmJyIixyKSxhKCJmb3JtIiwiYWNjZXB0LWNoYXJzZXQgYWN0aW9uIGF1dG9jb21wbGV0ZSBlbmN0eXBlIG1ldGhvZCBuYW1lIG5vdmFsaWRhdGUgdGFyZ2V0IixyKSxhKCJmaWVsZHNldCIsImRpc2FibGVkIGZvcm0gbmFtZSIsW3IsImxlZ2VuZCJdLmpvaW4oIiAiKSksYSgibGFiZWwiLCJmb3JtIGZvciIsbiksYSgiaW5wdXQiLCJhY2NlcHQgYWx0IGF1dG9jb21wbGV0ZSBjaGVja2VkIGRpcm5hbWUgZGlzYWJsZWQgZm9ybSBmb3JtYWN0aW9uIGZvcm1lbmN0eXBlIGZvcm1tZXRob2QgZm9ybW5vdmFsaWRhdGUgZm9ybXRhcmdldCBoZWlnaHQgbGlzdCBtYXggbWF4bGVuZ3RoIG1pbiBtdWx0aXBsZSBuYW1lIHBhdHRlcm4gcmVhZG9ubHkgcmVxdWlyZWQgc2l6ZSBzcmMgc3RlcCB0eXBlIHZhbHVlIHdpZHRoIiksYSgiYnV0dG9uIiwiZGlzYWJsZWQgZm9ybSBmb3JtYWN0aW9uIGZvcm1lbmN0eXBlIGZvcm1tZXRob2QgZm9ybW5vdmFsaWRhdGUgZm9ybXRhcmdldCBuYW1lIHR5cGUgdmFsdWUiLCJodG1sNCI9PT1lP3I6biksYSgic2VsZWN0IiwiZGlzYWJsZWQgZm9ybSBtdWx0aXBsZSBuYW1lIHJlcXVpcmVkIHNpemUiLCJvcHRpb24gb3B0Z3JvdXAiKSxhKCJvcHRncm91cCIsImRpc2FibGVkIGxhYmVsIiwib3B0aW9uIiksYSgib3B0aW9uIiwiZGlzYWJsZWQgbGFiZWwgc2VsZWN0ZWQgdmFsdWUiKSxhKCJ0ZXh0YXJlYSIsImNvbHMgZGlybmFtZSBkaXNhYmxlZCBmb3JtIG1heGxlbmd0aCBuYW1lIHJlYWRvbmx5IHJlcXVpcmVkIHJvd3Mgd3JhcCIpLGEoIm1lbnUiLCJ0eXBlIGxhYmVsIixbciwibGkiXS5qb2luKCIgIikpLGEoIm5vc2NyaXB0IiwiIixyKSwiaHRtbDQiIT09ZSYmKGEoIndiciIpLGEoInJ1YnkiLCIiLFtuLCJydCBycCJdLmpvaW4oIiAiKSksYSgiZmlnY2FwdGlvbiIsIiIsciksYSgibWFyayBydCBycCBzdW1tYXJ5IGJkaSIsIiIsbiksYSgiY2FudmFzIiwid2lkdGggaGVpZ2h0IixyKSxhKCJ2aWRlbyIsInNyYyBjcm9zc29yaWdpbiBwb3N0ZXIgcHJlbG9hZCBhdXRvcGxheSBtZWRpYWdyb3VwIGxvb3AgbXV0ZWQgY29udHJvbHMgd2lkdGggaGVpZ2h0IGJ1ZmZlcmVkIixbciwidHJhY2sgc291cmNlIl0uam9pbigiICIpKSxhKCJhdWRpbyIsInNyYyBjcm9zc29yaWdpbiBwcmVsb2FkIGF1dG9wbGF5IG1lZGlhZ3JvdXAgbG9vcCBtdXRlZCBjb250cm9scyBidWZmZXJlZCB2b2x1bWUiLFtyLCJ0cmFjayBzb3VyY2UiXS5qb2luKCIgIikpLGEoInBpY3R1cmUiLCIiLCJpbWcgc291cmNlIiksYSgic291cmNlIiwic3JjIHNyY3NldCB0eXBlIG1lZGlhIHNpemVzIiksYSgidHJhY2siLCJraW5kIHNyYyBzcmNsYW5nIGxhYmVsIGRlZmF1bHQiKSxhKCJkYXRhbGlzdCIsIiIsW24sIm9wdGlvbiJdLmpvaW4oIiAiKSksYSgiYXJ0aWNsZSBzZWN0aW9uIG5hdiBhc2lkZSBoZWFkZXIgZm9vdGVyIiwiIixyKSxhKCJoZ3JvdXAiLCIiLCJoMSBoMiBoMyBoNCBoNSBoNiIpLGEoImZpZ3VyZSIsIiIsW3IsImZpZ2NhcHRpb24iXS5qb2luKCIgIikpLGEoInRpbWUiLCJkYXRldGltZSIsbiksYSgiZGlhbG9nIiwib3BlbiIsciksYSgiY29tbWFuZCIsInR5cGUgbGFiZWwgaWNvbiBkaXNhYmxlZCBjaGVja2VkIHJhZGlvZ3JvdXAgY29tbWFuZCIpLGEoIm91dHB1dCIsImZvciBmb3JtIG5hbWUiLG4pLGEoInByb2dyZXNzIiwidmFsdWUgbWF4IixuKSxhKCJtZXRlciIsInZhbHVlIG1pbiBtYXggbG93IGhpZ2ggb3B0aW11bSIsbiksYSgiZGV0YWlscyIsIm9wZW4iLFtyLCJzdW1tYXJ5Il0uam9pbigiICIpKSxhKCJrZXlnZW4iLCJhdXRvZm9jdXMgY2hhbGxlbmdlIGRpc2FibGVkIGZvcm0ga2V5dHlwZSBuYW1lIikpLCJodG1sNS1zdHJpY3QiIT09ZSYmKGMoInNjcmlwdCIsImxhbmd1YWdlIHhtbDpzcGFjZSIpLGMoInN0eWxlIiwieG1sOnNwYWNlIiksYygib2JqZWN0IiwiZGVjbGFyZSBjbGFzc2lkIGNvZGUgY29kZWJhc2UgY29kZXR5cGUgYXJjaGl2ZSBzdGFuZGJ5IGFsaWduIGJvcmRlciBoc3BhY2UgdnNwYWNlIiksYygiZW1iZWQiLCJhbGlnbiBuYW1lIGhzcGFjZSB2c3BhY2UiKSxjKCJwYXJhbSIsInZhbHVldHlwZSB0eXBlIiksYygiYSIsImNoYXJzZXQgbmFtZSByZXYgc2hhcGUgY29vcmRzIiksYygiYnIiLCJjbGVhciIpLGMoImFwcGxldCIsImNvZGViYXNlIGFyY2hpdmUgY29kZSBvYmplY3QgYWx0IG5hbWUgd2lkdGggaGVpZ2h0IGFsaWduIGhzcGFjZSB2c3BhY2UiKSxjKCJpbWciLCJuYW1lIGxvbmdkZXNjIGFsaWduIGJvcmRlciBoc3BhY2UgdnNwYWNlIiksYygiaWZyYW1lIiwibG9uZ2Rlc2MgZnJhbWVib3JkZXIgbWFyZ2lud2lkdGggbWFyZ2luaGVpZ2h0IHNjcm9sbGluZyBhbGlnbiIpLGMoImZvbnQgYmFzZWZvbnQiLCJzaXplIGNvbG9yIGZhY2UiKSxjKCJpbnB1dCIsInVzZW1hcCBhbGlnbiIpLGMoInNlbGVjdCIsIm9uY2hhbmdlIiksYygidGV4dGFyZWEiKSxjKCJoMSBoMiBoMyBoNCBoNSBoNiBkaXYgcCBsZWdlbmQgY2FwdGlvbiIsImFsaWduIiksYygidWwiLCJ0eXBlIGNvbXBhY3QiKSxjKCJsaSIsInR5cGUiKSxjKCJvbCBkbCBtZW51IGRpciIsImNvbXBhY3QiKSxjKCJwcmUiLCJ3aWR0aCB4bWw6c3BhY2UiKSxjKCJociIsImFsaWduIG5vc2hhZGUgc2l6ZSB3aWR0aCIpLGMoImlzaW5kZXgiLCJwcm9tcHQiKSxjKCJ0YWJsZSIsInN1bW1hcnkgd2lkdGggZnJhbWUgcnVsZXMgY2VsbHNwYWNpbmcgY2VsbHBhZGRpbmcgYWxpZ24gYmdjb2xvciIpLGMoImNvbCIsIndpZHRoIGFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24iKSxjKCJjb2xncm91cCIsIndpZHRoIGFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24iKSxjKCJ0aGVhZCIsImFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24iKSxjKCJ0ciIsImFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24gYmdjb2xvciIpLGMoInRoIiwiYXhpcyBhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIG5vd3JhcCBiZ2NvbG9yIHdpZHRoIGhlaWdodCIpLGMoImZvcm0iLCJhY2NlcHQiKSxjKCJ0ZCIsImFiYnIgYXhpcyBzY29wZSBhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIG5vd3JhcCBiZ2NvbG9yIHdpZHRoIGhlaWdodCIpLGMoInRmb290IiwiYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLGMoInRib2R5IiwiYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLGMoImFyZWEiLCJub2hyZWYiKSxjKCJib2R5IiwiYmFja2dyb3VuZCBiZ2NvbG9yIHRleHQgbGluayB2bGluayBhbGluayIpKSwiaHRtbDQiIT09ZSYmKGMoImlucHV0IGJ1dHRvbiBzZWxlY3QgdGV4dGFyZWEiLCJhdXRvZm9jdXMiKSxjKCJpbnB1dCB0ZXh0YXJlYSIsInBsYWNlaG9sZGVyIiksYygiYSIsImRvd25sb2FkIiksYygibGluayBzY3JpcHQgaW1nIiwiY3Jvc3NvcmlnaW4iKSxjKCJpZnJhbWUiLCJzYW5kYm94IHNlYW1sZXNzIGFsbG93ZnVsbHNjcmVlbiIpKSxKbyh0aSgiYSBmb3JtIG1ldGVyIHByb2dyZXNzIGRmbiIpLGZ1bmN0aW9uKGUpe3NbZV0mJmRlbGV0ZSBzW2VdLmNoaWxkcmVuW2VdfSksZGVsZXRlIHMuY2FwdGlvbi5jaGlsZHJlbi50YWJsZSxkZWxldGUgcy5zY3JpcHQsWG9bZV09cyl9LHJpPWZ1bmN0aW9uKGUsbil7dmFyIHI7cmV0dXJuIGUmJihyPXt9LCJzdHJpbmciPT10eXBlb2YgZSYmKGU9eyIqIjplfSksSm8oZSxmdW5jdGlvbihlLHQpe3JbdF09clt0LnRvVXBwZXJDYXNlKCldPSJtYXAiPT09bj9HbyhlLC9bLCBdLyk6Wm8oZSwvWywgXS8pfSkpLHJ9O2Z1bmN0aW9uIG9pKGkpe3ZhciBlLHQsbixyLG8sYSx1LHMsYyxsLGYsZCxtLE49e30scD17fSxFPVtdLGc9e30saD17fSx2PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1pW2VdO3JldHVybiByP3I9R28ociwvWywgXS8sR28oci50b1VwcGVyQ2FzZSgpLC9bLCBdLykpOihyPVhvW2VdKXx8KHI9R28odCwiICIsR28odC50b1VwcGVyQ2FzZSgpLCIgIikpLHI9UW8ocixuKSxYb1tlXT1yKSxyfTtuPW5pKChpPWl8fHt9KS5zY2hlbWEpLCExPT09aS52ZXJpZnlfaHRtbCYmKGkudmFsaWRfZWxlbWVudHM9IipbKl0iKSxlPXJpKGkudmFsaWRfc3R5bGVzKSx0PXJpKGkuaW52YWxpZF9zdHlsZXMsIm1hcCIpLHM9cmkoaS52YWxpZF9jbGFzc2VzLCJtYXAiKSxyPXYoIndoaXRlc3BhY2VfZWxlbWVudHMiLCJwcmUgc2NyaXB0IG5vc2NyaXB0IHN0eWxlIHRleHRhcmVhIHZpZGVvIGF1ZGlvIGlmcmFtZSBvYmplY3QgY29kZSIpLG89digic2VsZl9jbG9zaW5nX2VsZW1lbnRzIiwiY29sZ3JvdXAgZGQgZHQgbGkgb3B0aW9uIHAgdGQgdGZvb3QgdGggdGhlYWQgdHIiKSxhPXYoInNob3J0X2VuZGVkX2VsZW1lbnRzIiwiYXJlYSBiYXNlIGJhc2Vmb250IGJyIGNvbCBmcmFtZSBociBpbWcgaW5wdXQgaXNpbmRleCBsaW5rIG1ldGEgcGFyYW0gZW1iZWQgc291cmNlIHdiciB0cmFjayIpLHU9digiYm9vbGVhbl9hdHRyaWJ1dGVzIiwiY2hlY2tlZCBjb21wYWN0IGRlY2xhcmUgZGVmZXIgZGlzYWJsZWQgaXNtYXAgbXVsdGlwbGUgbm9ocmVmIG5vcmVzaXplIG5vc2hhZGUgbm93cmFwIHJlYWRvbmx5IHNlbGVjdGVkIGF1dG9wbGF5IGxvb3AgY29udHJvbHMiKSxsPXYoIm5vbl9lbXB0eV9lbGVtZW50cyIsInRkIHRoIGlmcmFtZSB2aWRlbyBhdWRpbyBvYmplY3Qgc2NyaXB0IHByZSBjb2RlIixhKSxmPXYoIm1vdmVfY2FyZXRfYmVmb3JlX29uX2VudGVyX2VsZW1lbnRzIiwidGFibGUiLGwpLGQ9digidGV4dF9ibG9ja19lbGVtZW50cyIsImgxIGgyIGgzIGg0IGg1IGg2IHAgZGl2IGFkZHJlc3MgcHJlIGZvcm0gYmxvY2txdW90ZSBjZW50ZXIgZGlyIGZpZWxkc2V0IGhlYWRlciBmb290ZXIgYXJ0aWNsZSBzZWN0aW9uIGhncm91cCBhc2lkZSBuYXYgZmlndXJlIiksYz12KCJibG9ja19lbGVtZW50cyIsImhyIHRhYmxlIHRib2R5IHRoZWFkIHRmb290IHRoIHRyIHRkIGxpIG9sIHVsIGNhcHRpb24gZGwgZHQgZGQgbm9zY3JpcHQgbWVudSBpc2luZGV4IG9wdGlvbiBkYXRhbGlzdCBzZWxlY3Qgb3B0Z3JvdXAgZmlnY2FwdGlvbiBkZXRhaWxzIHN1bW1hcnkiLGQpLG09digidGV4dF9pbmxpbmVfZWxlbWVudHMiLCJzcGFuIHN0cm9uZyBiIGVtIGkgZm9udCBzdHJpa2UgdSB2YXIgY2l0ZSBkZm4gY29kZSBtYXJrIHEgc3VwIHN1YiBzYW1wIiksSm8oKGkuc3BlY2lhbHx8InNjcmlwdCBub3NjcmlwdCBub2ZyYW1lcyBub2VtYmVkIHRpdGxlIHN0eWxlIHRleHRhcmVhIHhtcCIpLnNwbGl0KCIgIiksZnVuY3Rpb24oZSl7aFtlXT1uZXcgUmVnRXhwKCI8LyIrZSsiW14+XSo+IiwiZ2kiKX0pO3ZhciBTPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgUmVnRXhwKCJeIitlLnJlcGxhY2UoLyhbPysqXSkvZywiLiQxIikrIiQiKX0seT1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGEsdSxzLGMsbCxmLGQsbSxwLGcsaCx2LHksYixDPS9eKFsjK1wtXSk/KFteXFshXC9dKykoPzpcLyhbXlxbIV0rKSk/KD86KCE/KVxbKFteXF1dKylcXSk/JC8seD0vXihbIVwtXSk/KFx3K1tcXDpdOlx3K3xbXj06PF0rKT8oPzooWz06PF0pKC4qKSk/JC8sdz0vWyo/K10vO2lmKGUpZm9yKGU9dGkoZSwiLCIpLE5bIkAiXSYmKGg9TlsiQCJdLmF0dHJpYnV0ZXMsdj1OWyJAIl0uYXR0cmlidXRlc09yZGVyKSx0PTAsbj1lLmxlbmd0aDt0PG47dCsrKWlmKGk9Qy5leGVjKGVbdF0pKXtpZihwPWlbMV0sYz1pWzJdLGc9aVszXSxzPWlbNV0sYT17YXR0cmlidXRlczpkPXt9LGF0dHJpYnV0ZXNPcmRlcjptPVtdfSwiIyI9PT1wJiYoYS5wYWRkRW1wdHk9ITApLCItIj09PXAmJihhLnJlbW92ZUVtcHR5PSEwKSwiISI9PT1pWzRdJiYoYS5yZW1vdmVFbXB0eUF0dHJzPSEwKSxoKXtmb3IoeSBpbiBoKWRbeV09aFt5XTttLnB1c2guYXBwbHkobSx2KX1pZihzKWZvcihyPTAsbz0ocz10aShzLCJ8IikpLmxlbmd0aDtyPG87cisrKWlmKGk9eC5leGVjKHNbcl0pKXtpZih1PXt9LGY9aVsxXSxsPWlbMl0ucmVwbGFjZSgvW1xcOl06L2csIjoiKSxwPWlbM10sYj1pWzRdLCIhIj09PWYmJihhLmF0dHJpYnV0ZXNSZXF1aXJlZD1hLmF0dHJpYnV0ZXNSZXF1aXJlZHx8W10sYS5hdHRyaWJ1dGVzUmVxdWlyZWQucHVzaChsKSx1LnJlcXVpcmVkPSEwKSwiLSI9PT1mKXtkZWxldGUgZFtsXSxtLnNwbGljZShlaShtLGwpLDEpO2NvbnRpbnVlfXAmJigiPSI9PT1wJiYoYS5hdHRyaWJ1dGVzRGVmYXVsdD1hLmF0dHJpYnV0ZXNEZWZhdWx0fHxbXSxhLmF0dHJpYnV0ZXNEZWZhdWx0LnB1c2goe25hbWU6bCx2YWx1ZTpifSksdS5kZWZhdWx0VmFsdWU9YiksIjoiPT09cCYmKGEuYXR0cmlidXRlc0ZvcmNlZD1hLmF0dHJpYnV0ZXNGb3JjZWR8fFtdLGEuYXR0cmlidXRlc0ZvcmNlZC5wdXNoKHtuYW1lOmwsdmFsdWU6Yn0pLHUuZm9yY2VkVmFsdWU9YiksIjwiPT09cCYmKHUudmFsaWRWYWx1ZXM9R28oYiwiPyIpKSksdy50ZXN0KGwpPyhhLmF0dHJpYnV0ZVBhdHRlcm5zPWEuYXR0cmlidXRlUGF0dGVybnN8fFtdLHUucGF0dGVybj1TKGwpLGEuYXR0cmlidXRlUGF0dGVybnMucHVzaCh1KSk6KGRbbF18fG0ucHVzaChsKSxkW2xdPXUpfWh8fCJAIiE9PWN8fChoPWQsdj1tKSxnJiYoYS5vdXRwdXROYW1lPWMsTltnXT1hKSx3LnRlc3QoYyk/KGEucGF0dGVybj1TKGMpLEUucHVzaChhKSk6TltjXT1hfX0sYj1mdW5jdGlvbihlKXtOPXt9LEU9W10seShlKSxKbyhuLGZ1bmN0aW9uKGUsdCl7cFt0XT1lLmNoaWxkcmVufSl9LEM9ZnVuY3Rpb24oZSl7dmFyIGE9L14ofik/KC4rKSQvO2UmJihYby50ZXh0X2Jsb2NrX2VsZW1lbnRzPVhvLmJsb2NrX2VsZW1lbnRzPW51bGwsSm8odGkoZSwiLCIpLGZ1bmN0aW9uKGUpe3ZhciB0PWEuZXhlYyhlKSxuPSJ+Ij09PXRbMV0scj1uPyJzcGFuIjoiZGl2IixvPXRbMl07aWYocFtvXT1wW3JdLGdbb109cixufHwoY1tvLnRvVXBwZXJDYXNlKCldPXt9LGNbb109e30pLCFOW29dKXt2YXIgaT1OW3JdO2RlbGV0ZShpPVFvKHt9LGkpKS5yZW1vdmVFbXB0eUF0dHJzLGRlbGV0ZSBpLnJlbW92ZUVtcHR5LE5bb109aX1KbyhwLGZ1bmN0aW9uKGUsdCl7ZVtyXSYmKHBbdF09ZT1Rbyh7fSxwW3RdKSxlW29dPWVbcl0pfSl9KSl9LHg9ZnVuY3Rpb24oZSl7dmFyIG89L14oWytcLV0/KShcdyspXFsoW15cXV0rKVxdJC87WG9baS5zY2hlbWFdPW51bGwsZSYmSm8odGkoZSwiLCIpLGZ1bmN0aW9uKGUpe3ZhciB0LG4scj1vLmV4ZWMoZSk7ciYmKG49clsxXSx0PW4/cFtyWzJdXTpwW3JbMl1dPXsiI2NvbW1lbnQiOnt9fSx0PXBbclsyXV0sSm8odGkoclszXSwifCIpLGZ1bmN0aW9uKGUpeyItIj09PW4/ZGVsZXRlIHRbZV06dFtlXT17fX0pKX0pfSx3PWZ1bmN0aW9uKGUpe3ZhciB0LG49TltlXTtpZihuKXJldHVybiBuO2Zvcih0PUUubGVuZ3RoO3QtLTspaWYoKG49RVt0XSkucGF0dGVybi50ZXN0KGUpKXJldHVybiBufTtyZXR1cm4gaS52YWxpZF9lbGVtZW50cz9iKGkudmFsaWRfZWxlbWVudHMpOihKbyhuLGZ1bmN0aW9uKGUsdCl7Tlt0XT17YXR0cmlidXRlczplLmF0dHJpYnV0ZXMsYXR0cmlidXRlc09yZGVyOmUuYXR0cmlidXRlc09yZGVyfSxwW3RdPWUuY2hpbGRyZW59KSwiaHRtbDUiIT09aS5zY2hlbWEmJkpvKHRpKCJzdHJvbmcvYiBlbS9pIiksZnVuY3Rpb24oZSl7ZT10aShlLCIvIiksTltlWzFdXS5vdXRwdXROYW1lPWVbMF19KSxKbyh0aSgib2wgdWwgc3ViIHN1cCBibG9ja3F1b3RlIHNwYW4gZm9udCBhIHRhYmxlIHRib2R5IHRyIHN0cm9uZyBlbSBiIGkiKSxmdW5jdGlvbihlKXtOW2VdJiYoTltlXS5yZW1vdmVFbXB0eT0hMCl9KSxKbyh0aSgicCBoMSBoMiBoMyBoNCBoNSBoNiB0aCB0ZCBwcmUgZGl2IGFkZHJlc3MgY2FwdGlvbiBsaSIpLGZ1bmN0aW9uKGUpe05bZV0ucGFkZEVtcHR5PSEwfSksSm8odGkoInNwYW4iKSxmdW5jdGlvbihlKXtOW2VdLnJlbW92ZUVtcHR5QXR0cnM9ITB9KSksQyhpLmN1c3RvbV9lbGVtZW50cykseChpLnZhbGlkX2NoaWxkcmVuKSx5KGkuZXh0ZW5kZWRfdmFsaWRfZWxlbWVudHMpLHgoIitvbFt1bHxvbF0sK3VsW3VsfG9sXSIpLEpvKHtkZDoiZGwiLGR0OiJkbCIsbGk6InVsIG9sIix0ZDoidHIiLHRoOiJ0ciIsdHI6InRib2R5IHRoZWFkIHRmb290Iix0Ym9keToidGFibGUiLHRoZWFkOiJ0YWJsZSIsdGZvb3Q6InRhYmxlIixsZWdlbmQ6ImZpZWxkc2V0IixhcmVhOiJtYXAiLHBhcmFtOiJ2aWRlbyBhdWRpbyBvYmplY3QifSxmdW5jdGlvbihlLHQpe05bdF0mJihOW3RdLnBhcmVudHNSZXF1aXJlZD10aShlKSl9KSxpLmludmFsaWRfZWxlbWVudHMmJkpvKFpvKGkuaW52YWxpZF9lbGVtZW50cyksZnVuY3Rpb24oZSl7TltlXSYmZGVsZXRlIE5bZV19KSx3KCJzcGFuIil8fHkoInNwYW5bIWRhdGEtbWNlLXR5cGV8Kl0iKSx7Y2hpbGRyZW46cCxlbGVtZW50czpOLGdldFZhbGlkU3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGV9LGdldFZhbGlkQ2xhc3NlczpmdW5jdGlvbigpe3JldHVybiBzfSxnZXRCbG9ja0VsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGdldEludmFsaWRTdHlsZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdH0sZ2V0U2hvcnRFbmRlZEVsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LGdldFRleHRCbG9ja0VsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGR9LGdldFRleHRJbmxpbmVFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBtfSxnZXRCb29sQXR0cnM6ZnVuY3Rpb24oKXtyZXR1cm4gdX0sZ2V0RWxlbWVudFJ1bGU6dyxnZXRTZWxmQ2xvc2luZ0VsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIG99LGdldE5vbkVtcHR5RWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gbH0sZ2V0TW92ZUNhcmV0QmVmb3JlT25FbnRlckVsZW1lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGZ9LGdldFdoaXRlU3BhY2VFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiByfSxnZXRTcGVjaWFsRWxlbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm4gaH0saXNWYWxpZENoaWxkOmZ1bmN0aW9uKGUsdCl7dmFyIG49cFtlLnRvTG93ZXJDYXNlKCldO3JldHVybiEoIW58fCFuW3QudG9Mb3dlckNhc2UoKV0pfSxpc1ZhbGlkOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPXcoZSk7aWYobyl7aWYoIXQpcmV0dXJuITA7aWYoby5hdHRyaWJ1dGVzW3RdKXJldHVybiEwO2lmKG49by5hdHRyaWJ1dGVQYXR0ZXJucylmb3Iocj1uLmxlbmd0aDtyLS07KWlmKG5bcl0ucGF0dGVybi50ZXN0KGUpKXJldHVybiEwfXJldHVybiExfSxnZXRDdXN0b21FbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBnfSxhZGRWYWxpZEVsZW1lbnRzOnksc2V0VmFsaWRFbGVtZW50czpiLGFkZEN1c3RvbUVsZW1lbnRzOkMsYWRkVmFsaWRDaGlsZHJlbjp4fX12YXIgaWk9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89ZnVuY3Rpb24oZSl7cmV0dXJuIDE8KGU9cGFyc2VJbnQoZSwxMCkudG9TdHJpbmcoMTYpKS5sZW5ndGg/ZToiMCIrZX07cmV0dXJuIiMiK28odCkrbyhuKStvKHIpfTtmdW5jdGlvbiBhaShiLGUpe3ZhciBDLHQsYyxsLHg9L3JnYlxzKlwoXHMqKFswLTldKylccyosXHMqKFswLTldKylccyosXHMqKFswLTldKylccypcKS9naSx3PS8oPzp1cmwoPzooPzpcKFxzKlwiKFteXCJdKylcIlxzKlwpKXwoPzpcKFxzKlwnKFteXCddKylcJ1xzKlwpKXwoPzpcKFxzKihbXilcc10rKVxzKlwpKSkpfCg/OlwnKFteXCddKylcJyl8KD86XCIoW15cIl0rKVwiKS9naSxOPS9ccyooW146XSspOlxzKihbXjtdKyk7Py9nLEU9L1xzKyQvLFM9e30saz0iXHVmZWZmIjtmb3IoYj1ifHx7fSxlJiYoYz1lLmdldFZhbGlkU3R5bGVzKCksbD1lLmdldEludmFsaWRTdHlsZXMoKSksdD0oIlxcXCIgXFwnIFxcOyBcXDogOyA6ICIraykuc3BsaXQoIiAiKSxDPTA7Qzx0Lmxlbmd0aDtDKyspU1t0W0NdXT1rK0MsU1trK0NdPXRbQ107cmV0dXJue3RvSGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoeCxpaSl9LHBhcnNlOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYSx1LHMsYz17fSxsPWIudXJsX2NvbnZlcnRlcixmPWIudXJsX2NvbnZlcnRlcl9zY29wZXx8dGhpcyxkPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYTtpZigocj1jW2UrIi10b3AiK3RdKSYmKG89Y1tlKyItcmlnaHQiK3RdKSYmKGk9Y1tlKyItYm90dG9tIit0XSkmJihhPWNbZSsiLWxlZnQiK3RdKSl7dmFyIHU9W3IsbyxpLGFdO2ZvcihDPXUubGVuZ3RoLTE7Qy0tJiZ1W0NdPT09dVtDKzFdOyk7LTE8QyYmbnx8KGNbZSt0XT0tMT09PUM/dVswXTp1LmpvaW4oIiAiKSxkZWxldGUgY1tlKyItdG9wIit0XSxkZWxldGUgY1tlKyItcmlnaHQiK3RdLGRlbGV0ZSBjW2UrIi1ib3R0b20iK3RdLGRlbGV0ZSBjW2UrIi1sZWZ0Iit0XSl9fSxtPWZ1bmN0aW9uKGUpe3ZhciB0LG49Y1tlXTtpZihuKXtmb3IodD0obj1uLnNwbGl0KCIgIikpLmxlbmd0aDt0LS07KWlmKG5bdF0hPT1uWzBdKXJldHVybiExO3JldHVybiBjW2VdPW5bMF0sITB9fSxwPWZ1bmN0aW9uKGUpe3JldHVybiBvPSEwLFNbZV19LGc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyYmKGU9ZS5yZXBsYWNlKC9cdUZFRkZbMC05XS9nLGZ1bmN0aW9uKGUpe3JldHVybiBTW2VdfSkpLHR8fChlPWUucmVwbGFjZSgvXFwoW1wnXCI7Ol0pL2csIiQxIikpLGV9LGg9ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZS5zbGljZSgxKSwxNikpfSx2PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcWzAtOWEtZl0rL2dpLGgpfSx5PWZ1bmN0aW9uKGUsdCxuLHIsbyxpKXtpZihvPW98fGkpcmV0dXJuIiciKyhvPWcobykpLnJlcGxhY2UoL1wnL2csIlxcJyIpKyInIjtpZih0PWcodHx8bnx8ciksIWIuYWxsb3dfc2NyaXB0X3VybHMpe3ZhciBhPXQucmVwbGFjZSgvW1xzXHJcbl0rL2csIiIpO2lmKC8oamF2YXx2YilzY3JpcHQ6L2kudGVzdChhKSlyZXR1cm4iIjtpZighYi5hbGxvd19zdmdfZGF0YV91cmxzJiYvXmRhdGE6aW1hZ2VcL3N2Zy9pLnRlc3QoYSkpcmV0dXJuIiJ9cmV0dXJuIGwmJih0PWwuY2FsbChmLHQsInN0eWxlIikpLCJ1cmwoJyIrdC5yZXBsYWNlKC9cJy9nLCJcXCciKSsiJykifTtpZihlKXtmb3IoZT0oZT1lLnJlcGxhY2UoL1tcdTAwMDAtXHUwMDFGXS9nLCIiKSkucmVwbGFjZSgvXFxbXCJcJzs6XHVGRUZGXS9nLHApLnJlcGxhY2UoL1wiW15cIl0rXCJ8XCdbXlwnXStcJy9nLGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL1s7Ol0vZyxwKX0pO3Q9Ti5leGVjKGUpOylpZihOLmxhc3RJbmRleD10LmluZGV4K3RbMF0ubGVuZ3RoLG49dFsxXS5yZXBsYWNlKEUsIiIpLnRvTG93ZXJDYXNlKCkscj10WzJdLnJlcGxhY2UoRSwiIiksbiYmcil7aWYobj12KG4pLHI9dihyKSwtMSE9PW4uaW5kZXhPZihrKXx8LTEhPT1uLmluZGV4T2YoJyInKSljb250aW51ZTtpZighYi5hbGxvd19zY3JpcHRfdXJscyYmKCJiZWhhdmlvciI9PT1ufHwvZXhwcmVzc2lvblxzKlwofFwvXCp8XCpcLy8udGVzdChyKSkpY29udGludWU7ImZvbnQtd2VpZ2h0Ij09PW4mJiI3MDAiPT09cj9yPSJib2xkIjoiY29sb3IiIT09biYmImJhY2tncm91bmQtY29sb3IiIT09bnx8KHI9ci50b0xvd2VyQ2FzZSgpKSxyPShyPXIucmVwbGFjZSh4LGlpKSkucmVwbGFjZSh3LHkpLGNbbl09bz9nKHIsITApOnJ9ZCgiYm9yZGVyIiwiIiwhMCksZCgiYm9yZGVyIiwiLXdpZHRoIiksZCgiYm9yZGVyIiwiLWNvbG9yIiksZCgiYm9yZGVyIiwiLXN0eWxlIiksZCgicGFkZGluZyIsIiIpLGQoIm1hcmdpbiIsIiIpLGk9ImJvcmRlciIsdT0iYm9yZGVyLXN0eWxlIixzPSJib3JkZXItY29sb3IiLG0oYT0iYm9yZGVyLXdpZHRoIikmJm0odSkmJm0ocykmJihjW2ldPWNbYV0rIiAiK2NbdV0rIiAiK2Nbc10sZGVsZXRlIGNbYV0sZGVsZXRlIGNbdV0sZGVsZXRlIGNbc10pLCJtZWRpdW0gbm9uZSI9PT1jLmJvcmRlciYmZGVsZXRlIGMuYm9yZGVyLCJub25lIj09PWNbImJvcmRlci1pbWFnZSJdJiZkZWxldGUgY1siYm9yZGVyLWltYWdlIl19cmV0dXJuIGN9LHNlcmlhbGl6ZTpmdW5jdGlvbihpLGUpe3ZhciB0LG4scixvLGEsdT0iIixzPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvO2lmKHQ9Y1tlXSlmb3Iobj0wLHI9dC5sZW5ndGg7bjxyO24rKyllPXRbbl0sKG89aVtlXSkmJih1Kz0oMDx1Lmxlbmd0aD8iICI6IiIpK2UrIjogIitvKyI7Iil9O2lmKGUmJmMpcygiKiIpLHMoZSk7ZWxzZSBmb3IodCBpbiBpKSEobj1pW3RdKXx8bCYmKHI9dCxvPWUsYT12b2lkIDAsKGE9bFsiKiJdKSYmYVtyXXx8KGE9bFtvXSkmJmFbcl0pfHwodSs9KDA8dS5sZW5ndGg/IiAiOiIiKSt0KyI6ICIrbisiOyIpO3JldHVybiB1fX19dmFyIHVpLHNpPUl0LmVhY2gsY2k9SXQuZ3JlcCxsaT12ZS5pZSxmaT0vXihbYS16MC05XSw/KSskL2ksZGk9L15bIFx0XHJcbl0qJC8sbWk9ZnVuY3Rpb24obixyLG8pe3ZhciBlPXt9LGk9ci5rZWVwX3ZhbHVlcyx0PXtzZXQ6ZnVuY3Rpb24oZSx0LG4pe3IudXJsX2NvbnZlcnRlciYmKHQ9ci51cmxfY29udmVydGVyLmNhbGwoci51cmxfY29udmVydGVyX3Njb3BlfHxvKCksdCxuLGVbMF0pKSxlLmF0dHIoImRhdGEtbWNlLSIrbix0KS5hdHRyKG4sdCl9LGdldDpmdW5jdGlvbihlLHQpe3JldHVybiBlLmF0dHIoImRhdGEtbWNlLSIrdCl8fGUuYXR0cih0KX19O3JldHVybiBlPXtzdHlsZTp7c2V0OmZ1bmN0aW9uKGUsdCl7bnVsbD09PXR8fCJvYmplY3QiIT10eXBlb2YgdD8oaSYmZS5hdHRyKCJkYXRhLW1jZS1zdHlsZSIsdCksZS5hdHRyKCJzdHlsZSIsdCkpOmUuY3NzKHQpfSxnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hdHRyKCJkYXRhLW1jZS1zdHlsZSIpfHxlLmF0dHIoInN0eWxlIik7cmV0dXJuIHQ9bi5zZXJpYWxpemUobi5wYXJzZSh0KSxlWzBdLm5vZGVOYW1lKX19fSxpJiYoZS5ocmVmPWUuc3JjPXQpLGV9LHBpPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5hdHRyKCJzdHlsZSIpLHI9ZS5zZXJpYWxpemUoZS5wYXJzZShuKSx0WzBdLm5vZGVOYW1lKTtyfHwocj1udWxsKSx0LmF0dHIoImRhdGEtbWNlLXN0eWxlIixyKX0sZ2k9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89MDtpZihlKWZvcihuPWUubm9kZVR5cGUsZT1lLnByZXZpb3VzU2libGluZztlO2U9ZS5wcmV2aW91c1NpYmxpbmcpcj1lLm5vZGVUeXBlLCghdHx8MyE9PXJ8fHIhPT1uJiZlLm5vZGVWYWx1ZS5sZW5ndGgpJiYobysrLG49cik7cmV0dXJuIG99O2Z1bmN0aW9uIGhpKGEsdSl7dmFyIHMsYz10aGlzO3ZvaWQgMD09PXUmJih1PXt9KTt2YXIgcj17fSxpPXdpbmRvdyxvPXt9LHQ9MCxlPWZ1bmN0aW9uKG0sZSl7dmFyIHAsZz0wLGg9e307cD0oZT1lfHx7fSkubWF4TG9hZFRpbWV8fDVlMzt2YXIgdj1mdW5jdGlvbihlKXttLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQoZSl9LG49ZnVuY3Rpb24oZSx0LG4pe3ZhciBvLHIsaSxhLHU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9YS5wYXNzZWQsdD1lLmxlbmd0aDt0LS07KWVbdF0oKTthLnN0YXR1cz0yLGEucGFzc2VkPVtdLGEuZmFpbGVkPVtdfSxzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWEuZmFpbGVkLHQ9ZS5sZW5ndGg7dC0tOyllW3RdKCk7YS5zdGF0dXM9MyxhLnBhc3NlZD1bXSxhLmZhaWxlZD1bXX0sYz1mdW5jdGlvbihlLHQpe2UoKXx8KChuZXcgRGF0ZSkuZ2V0VGltZSgpLWk8cD93ZS5zZXRUaW1lb3V0KHQpOnMoKSl9LGw9ZnVuY3Rpb24oKXtjKGZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQsbj1tLnN0eWxlU2hlZXRzLHI9bi5sZW5ndGg7ci0tOylpZigodD0oZT1uW3JdKS5vd25lck5vZGU/ZS5vd25lck5vZGU6ZS5vd25pbmdFbGVtZW50KSYmdC5pZD09PW8uaWQpcmV0dXJuIHUoKSwhMH0sbCl9LGY9ZnVuY3Rpb24oKXtjKGZ1bmN0aW9uKCl7dHJ5e3ZhciBlPXIuc2hlZXQuY3NzUnVsZXM7cmV0dXJuIHUoKSwhIWV9Y2F0Y2godCl7fX0sZil9O2lmKGU9SXQuX2FkZENhY2hlU3VmZml4KGUpLGhbZV0/YT1oW2VdOihhPXtwYXNzZWQ6W10sZmFpbGVkOltdfSxoW2VdPWEpLHQmJmEucGFzc2VkLnB1c2godCksbiYmYS5mYWlsZWQucHVzaChuKSwxIT09YS5zdGF0dXMpaWYoMiE9PWEuc3RhdHVzKWlmKDMhPT1hLnN0YXR1cyl7aWYoYS5zdGF0dXM9MSwobz1tLmNyZWF0ZUVsZW1lbnQoImxpbmsiKSkucmVsPSJzdHlsZXNoZWV0IixvLnR5cGU9InRleHQvY3NzIixvLmlkPSJ1IitnKyssby5hc3luYz0hMSxvLmRlZmVyPSExLGk9KG5ldyBEYXRlKS5nZXRUaW1lKCksIm9ubG9hZCJpbiBvJiYhKChkPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1dlYktpdFwvKFxkKikvKSkmJnBhcnNlSW50KGRbMV0sMTApPDUzNikpby5vbmxvYWQ9bCxvLm9uZXJyb3I9cztlbHNle2lmKDA8bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94IikpcmV0dXJuKHI9bS5jcmVhdGVFbGVtZW50KCJzdHlsZSIpKS50ZXh0Q29udGVudD0nQGltcG9ydCAiJytlKyciJyxmKCksdm9pZCB2KHIpO2woKX12YXIgZDt2KG8pLG8uaHJlZj1lfWVsc2UgcygpO2Vsc2UgdSgpfSx0PWZ1bmN0aW9uKHQpe3JldHVybiBaci5udShmdW5jdGlvbihlKXtuKHQsVi5jb21wb3NlKGUsVi5jb25zdGFudChpby52YWx1ZSh0KSkpLFYuY29tcG9zZShlLFYuY29uc3RhbnQoaW8uZXJyb3IodCkpKSl9KX0sbz1mdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKFYuaWRlbnRpdHksVi5pZGVudGl0eSl9O3JldHVybntsb2FkOm4sbG9hZEFsbDpmdW5jdGlvbihlLG4scil7bm8ucGFyKEgubWFwKGUsdCkpLmdldChmdW5jdGlvbihlKXt2YXIgdD1ILnBhcnRpdGlvbihlLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzVmFsdWUoKX0pOzA8dC5mYWlsLmxlbmd0aD9yKHQuZmFpbC5tYXAobykpOm4odC5wYXNzLm1hcChvKSl9KX19fShhKSxsPVtdLGY9dS5zY2hlbWE/dS5zY2hlbWE6b2koe30pLGQ9YWkoe3VybF9jb252ZXJ0ZXI6dS51cmxfY29udmVydGVyLHVybF9jb252ZXJ0ZXJfc2NvcGU6dS51cmxfY29udmVydGVyX3Njb3BlfSx1LnNjaGVtYSksbT11Lm93bkV2ZW50cz9uZXcgQmUodS5wcm94eSk6QmUuRXZlbnQsbj1mLmdldEJsb2NrRWxlbWVudHMoKSxwPXRuLm92ZXJyaWRlRGVmYXVsdHMoZnVuY3Rpb24oKXtyZXR1cm57Y29udGV4dDphLGVsZW1lbnQ6cS5nZXRSb290KCl9fSksZz1mdW5jdGlvbihlKXtpZihlJiZhJiYic3RyaW5nIj09dHlwZW9mIGUpe3ZhciB0PWEuZ2V0RWxlbWVudEJ5SWQoZSk7cmV0dXJuIHQmJnQuaWQhPT1lP2EuZ2V0RWxlbWVudHNCeU5hbWUoZSlbMV06dH1yZXR1cm4gZX0saD1mdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJihlPWcoZSkpLHAoZSl9LHY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saT1oKGUpO3JldHVybiBpLmxlbmd0aCYmKG89KHI9c1t0XSkmJnIuZ2V0P3IuZ2V0KGksdCk6aS5hdHRyKHQpKSx2b2lkIDA9PT1vJiYobz1ufHwiIiksb30seT1mdW5jdGlvbihlKXt2YXIgdD1nKGUpO3JldHVybiB0P3QuYXR0cmlidXRlczpbXX0sYj1mdW5jdGlvbihlLHQsbil7dmFyIHIsbzsiIj09PW4mJihuPW51bGwpO3ZhciBpPWgoZSk7cj1pLmF0dHIodCksaS5sZW5ndGgmJigobz1zW3RdKSYmby5zZXQ/by5zZXQoaSxuLHQpOmkuYXR0cih0LG4pLHIhPT1uJiZ1Lm9uU2V0QXR0cmliJiZ1Lm9uU2V0QXR0cmliKHthdHRyRWxtOmksYXR0ck5hbWU6dCxhdHRyVmFsdWU6bn0pKX0sQz1mdW5jdGlvbigpe3JldHVybiB1LnJvb3RfZWxlbWVudHx8YS5ib2R5fSx4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFhyLmdldFBvcyhhLmJvZHksZyhlKSx0KX0sdz1mdW5jdGlvbihlLHQsbil7dmFyIHI9aChlKTtyZXR1cm4gbj9yLmNzcyh0KTooImZsb2F0Ij09PSh0PXQucmVwbGFjZSgvLShcRCkvZyxmdW5jdGlvbihlLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9KSkmJih0PXZlLmllJiZ2ZS5pZTwxMj8ic3R5bGVGbG9hdCI6ImNzc0Zsb2F0IiksclswXSYmclswXS5zdHlsZT9yWzBdLnN0eWxlW3RdOnVuZGVmaW5lZCl9LE49ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4gZT1nKGUpLHQ9dyhlLCJ3aWR0aCIpLG49dyhlLCJoZWlnaHQiKSwtMT09PXQuaW5kZXhPZigicHgiKSYmKHQ9MCksLTE9PT1uLmluZGV4T2YoInB4IikmJihuPTApLHt3OnBhcnNlSW50KHQsMTApfHxlLm9mZnNldFdpZHRofHxlLmNsaWVudFdpZHRoLGg6cGFyc2VJbnQobiwxMCl8fGUub2Zmc2V0SGVpZ2h0fHxlLmNsaWVudEhlaWdodH19LEU9ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZighZSlyZXR1cm4hMTtpZighQXJyYXkuaXNBcnJheShlKSl7aWYoIioiPT09dClyZXR1cm4gMT09PWUubm9kZVR5cGU7aWYoZmkudGVzdCh0KSl7dmFyIHI9dC50b0xvd2VyQ2FzZSgpLnNwbGl0KC8sLyksbz1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7Zm9yKG49ci5sZW5ndGgtMTswPD1uO24tLSlpZihyW25dPT09bylyZXR1cm4hMDtyZXR1cm4hMX1pZihlLm5vZGVUeXBlJiYxIT09ZS5ub2RlVHlwZSlyZXR1cm4hMX12YXIgaT1BcnJheS5pc0FycmF5KGUpP2U6W2VdO3JldHVybiAwPG10KHQsaVswXS5vd25lckRvY3VtZW50fHxpWzBdLG51bGwsaSkubGVuZ3RofSxTPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGk9W10sYT1nKGUpO2ZvcihyPXI9PT11bmRlZmluZWQsbj1ufHwoIkJPRFkiIT09QygpLm5vZGVOYW1lP0MoKS5wYXJlbnROb2RlOm51bGwpLEl0LmlzKHQsInN0cmluZyIpJiYodD0iKiI9PT0obz10KT9mdW5jdGlvbihlKXtyZXR1cm4gMT09PWUubm9kZVR5cGV9OmZ1bmN0aW9uKGUpe3JldHVybiBFKGUsbyl9KTthJiZhIT09biYmYS5ub2RlVHlwZSYmOSE9PWEubm9kZVR5cGU7KXtpZighdHx8ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQoYSkpe2lmKCFyKXJldHVyblthXTtpLnB1c2goYSl9YT1hLnBhcmVudE5vZGV9cmV0dXJuIHI/aTpudWxsfSxrPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10O2lmKGUpZm9yKCJzdHJpbmciPT10eXBlb2YgdCYmKHI9ZnVuY3Rpb24oZSl7cmV0dXJuIEUoZSx0KX0pLGU9ZVtuXTtlO2U9ZVtuXSlpZigiZnVuY3Rpb24iPT10eXBlb2YgciYmcihlKSlyZXR1cm4gZTtyZXR1cm4gbnVsbH0sVD1mdW5jdGlvbihlLG4scil7dmFyIG8sdD0ic3RyaW5nIj09dHlwZW9mIGU/ZyhlKTplO2lmKCF0KXJldHVybiExO2lmKEl0LmlzQXJyYXkodCkmJih0Lmxlbmd0aHx8MD09PXQubGVuZ3RoKSlyZXR1cm4gbz1bXSxzaSh0LGZ1bmN0aW9uKGUsdCl7ZSYmKCJzdHJpbmciPT10eXBlb2YgZSYmKGU9ZyhlKSksby5wdXNoKG4uY2FsbChyLGUsdCkpKX0pLG87dmFyIGk9cnx8YztyZXR1cm4gbi5jYWxsKGksdCl9LEE9ZnVuY3Rpb24oZSx0KXtoKGUpLmVhY2goZnVuY3Rpb24oZSxuKXtzaSh0LGZ1bmN0aW9uKGUsdCl7YihuLHQsZSl9KX0pfSxSPWZ1bmN0aW9uKGUscil7dmFyIHQ9aChlKTtsaT90LmVhY2goZnVuY3Rpb24oZSx0KXtpZighMSE9PXQuY2FuSGF2ZUhUTUwpe2Zvcig7dC5maXJzdENoaWxkOyl0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCk7dHJ5e3QuaW5uZXJIVE1MPSI8YnI+IityLHQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKX1jYXRjaChuKXt0bigiPGRpdj48L2Rpdj4iKS5odG1sKCI8YnI+IityKS5jb250ZW50cygpLnNsaWNlKDEpLmFwcGVuZFRvKHQpfXJldHVybiByfX0pOnQuaHRtbChyKX0sXz1mdW5jdGlvbihlLG4scixvLGkpe3JldHVybiBUKGUsZnVuY3Rpb24oZSl7dmFyIHQ9InN0cmluZyI9PXR5cGVvZiBuP2EuY3JlYXRlRWxlbWVudChuKTpuO3JldHVybiBBKHQsciksbyYmKCJzdHJpbmciIT10eXBlb2YgbyYmby5ub2RlVHlwZT90LmFwcGVuZENoaWxkKG8pOiJzdHJpbmciPT10eXBlb2YgbyYmUih0LG8pKSxpP3Q6ZS5hcHBlbmRDaGlsZCh0KX0pfSxCPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gXyhhLmNyZWF0ZUVsZW1lbnQoZSksZSx0LG4sITApfSxEPUtvLmRlY29kZSxPPUtvLmVuY29kZUFsbFJhdyxQPWZ1bmN0aW9uKGUsdCl7dmFyIG49aChlKTtyZXR1cm4gdD9uLmVhY2goZnVuY3Rpb24oKXtmb3IodmFyIGU7ZT10aGlzLmZpcnN0Q2hpbGQ7KTM9PT1lLm5vZGVUeXBlJiYwPT09ZS5kYXRhLmxlbmd0aD90aGlzLnJlbW92ZUNoaWxkKGUpOnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pLnJlbW92ZSgpOm4ucmVtb3ZlKCksMTxuLmxlbmd0aD9uLnRvQXJyYXkoKTpuWzBdfSxMPWZ1bmN0aW9uKGUsdCxuKXtoKGUpLnRvZ2dsZUNsYXNzKHQsbikuZWFjaChmdW5jdGlvbigpeyIiPT09dGhpcy5jbGFzc05hbWUmJnRuKHRoaXMpLmF0dHIoImNsYXNzIixudWxsKX0pfSxJPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gVChlLGZ1bmN0aW9uKGUpe3JldHVybiBJdC5pcyhlLCJhcnJheSIpJiYodD10LmNsb25lTm9kZSghMCkpLG4mJnNpKGNpKGUuY2hpbGROb2RlcyksZnVuY3Rpb24oZSl7dC5hcHBlbmRDaGlsZChlKX0pLGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodCxlKX0pfSxNPWZ1bmN0aW9uKCl7cmV0dXJuIGEuY3JlYXRlUmFuZ2UoKX0sRj1mdW5jdGlvbihlLHQsbixyKXtpZihJdC5pc0FycmF5KGUpKXtmb3IodmFyIG89ZS5sZW5ndGg7by0tOyllW29dPUYoZVtvXSx0LG4scik7cmV0dXJuIGV9cmV0dXJuIXUuY29sbGVjdHx8ZSE9PWEmJmUhPT1pfHxsLnB1c2goW2UsdCxuLHJdKSxtLmJpbmQoZSx0LG4scnx8cSl9LHo9ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKEl0LmlzQXJyYXkoZSkpe2ZvcihyPWUubGVuZ3RoO3ItLTspZVtyXT16KGVbcl0sdCxuKTtyZXR1cm4gZX1pZihsJiYoZT09PWF8fGU9PT1pKSlmb3Iocj1sLmxlbmd0aDtyLS07KXt2YXIgbz1sW3JdO2UhPT1vWzBdfHx0JiZ0IT09b1sxXXx8biYmbiE9PW9bMl18fG0udW5iaW5kKG9bMF0sb1sxXSxvWzJdKX1yZXR1cm4gbS51bmJpbmQoZSx0LG4pfSxVPWZ1bmN0aW9uKGUpe2lmKGUmJk9vLmlzRWxlbWVudChlKSl7dmFyIHQ9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNvbnRlbnRlZGl0YWJsZSIpO3JldHVybiB0JiYiaW5oZXJpdCIhPT10P3Q6ImluaGVyaXQiIT09ZS5jb250ZW50RWRpdGFibGU/ZS5jb250ZW50RWRpdGFibGU6bnVsbH1yZXR1cm4gbnVsbH0scT17ZG9jOmEsc2V0dGluZ3M6dSx3aW46aSxmaWxlczpvLHN0ZE1vZGU6ITAsYm94TW9kZWw6ITAsc3R5bGVTaGVldExvYWRlcjplLGJvdW5kRXZlbnRzOmwsc3R5bGVzOmQsc2NoZW1hOmYsZXZlbnRzOm0saXNCbG9jazpmdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuISFuW2VdO2lmKGUpe3ZhciB0PWUubm9kZVR5cGU7aWYodClyZXR1cm4hKDEhPT10fHwhbltlLm5vZGVOYW1lXSl9cmV0dXJuITF9LCQ6cCwkJDpoLHJvb3Q6bnVsbCxjbG9uZTpmdW5jdGlvbih0LGUpe2lmKCFsaXx8MSE9PXQubm9kZVR5cGV8fGUpcmV0dXJuIHQuY2xvbmVOb2RlKGUpO2lmKCFlKXt2YXIgbj1hLmNyZWF0ZUVsZW1lbnQodC5ub2RlTmFtZSk7cmV0dXJuIHNpKHkodCksZnVuY3Rpb24oZSl7YihuLGUubm9kZU5hbWUsdih0LGUubm9kZU5hbWUpKX0pLG59cmV0dXJuIG51bGx9LGdldFJvb3Q6QyxnZXRWaWV3UG9ydDpmdW5jdGlvbihlKXt2YXIgdD1lfHxpLG49dC5kb2N1bWVudCxyPW4uZG9jdW1lbnRFbGVtZW50O3JldHVybnt4OnQucGFnZVhPZmZzZXR8fHIuc2Nyb2xsTGVmdCx5OnQucGFnZVlPZmZzZXR8fHIuc2Nyb2xsVG9wLHc6dC5pbm5lcldpZHRofHxyLmNsaWVudFdpZHRoLGg6dC5pbm5lckhlaWdodHx8ci5jbGllbnRIZWlnaHR9fSxnZXRSZWN0OmZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIGU9ZyhlKSx0PXgoZSksbj1OKGUpLHt4OnQueCx5OnQueSx3Om4udyxoOm4uaH19LGdldFNpemU6TixnZXRQYXJlbnQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVMoZSx0LG4sITEpO3JldHVybiByJiYwPHIubGVuZ3RoP3JbMF06bnVsbH0sZ2V0UGFyZW50czpTLGdldDpnLGdldE5leHQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gayhlLHQsIm5leHRTaWJsaW5nIil9LGdldFByZXY6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gayhlLHQsInByZXZpb3VzU2libGluZyIpfSxzZWxlY3Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbXQoZSxnKHQpfHx1LnJvb3RfZWxlbWVudHx8YSxbXSl9LGlzOkUsYWRkOl8sY3JlYXRlOkIsY3JlYXRlSFRNTDpmdW5jdGlvbihlLHQsbil7dmFyIHIsbz0iIjtmb3IociBpbiBvKz0iPCIrZSx0KXQuaGFzT3duUHJvcGVydHkocikmJm51bGwhPT10W3JdJiYidW5kZWZpbmVkIiE9dHlwZW9mIHRbcl0mJihvKz0iICIrcisnPSInK08odFtyXSkrJyInKTtyZXR1cm4gdm9pZCAwIT09bj9vKyI+IituKyI8LyIrZSsiPiI6bysiIC8+In0sY3JlYXRlRnJhZ21lbnQ6ZnVuY3Rpb24oZSl7dmFyIHQsbj1hLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHI9YS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zm9yKGUmJihuLmlubmVySFRNTD1lKTt0PW4uZmlyc3RDaGlsZDspci5hcHBlbmRDaGlsZCh0KTtyZXR1cm4gcn0scmVtb3ZlOlAsc2V0U3R5bGU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWgoZSkuY3NzKHQsbik7dS51cGRhdGVfc3R5bGVzJiZwaShkLHIpfSxnZXRTdHlsZTp3LHNldFN0eWxlczpmdW5jdGlvbihlLHQpe3ZhciBuPWgoZSkuY3NzKHQpO3UudXBkYXRlX3N0eWxlcyYmcGkoZCxuKX0scmVtb3ZlQWxsQXR0cmliczpmdW5jdGlvbihlKXtyZXR1cm4gVChlLGZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5hdHRyaWJ1dGVzO2Zvcih0PW4ubGVuZ3RoLTE7MDw9dDt0LS0pZS5yZW1vdmVBdHRyaWJ1dGVOb2RlKG4uaXRlbSh0KSl9KX0sc2V0QXR0cmliOmIsc2V0QXR0cmliczpBLGdldEF0dHJpYjp2LGdldFBvczp4LHBhcnNlU3R5bGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGQucGFyc2UoZSl9LHNlcmlhbGl6ZVN0eWxlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGQuc2VyaWFsaXplKGUsdCl9LGFkZFN0eWxlOmZ1bmN0aW9uKGUpe3ZhciB0LG47aWYocSE9PWhpLkRPTSYmYT09PWRvY3VtZW50KXtpZihyW2VdKXJldHVybjtyW2VdPSEwfShuPWEuZ2V0RWxlbWVudEJ5SWQoIm1jZURlZmF1bHRTdHlsZXMiKSl8fCgobj1hLmNyZWF0ZUVsZW1lbnQoInN0eWxlIikpLmlkPSJtY2VEZWZhdWx0U3R5bGVzIixuLnR5cGU9InRleHQvY3NzIiwodD1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0pLmZpcnN0Q2hpbGQ/dC5pbnNlcnRCZWZvcmUobix0LmZpcnN0Q2hpbGQpOnQuYXBwZW5kQ2hpbGQobikpLG4uc3R5bGVTaGVldD9uLnN0eWxlU2hlZXQuY3NzVGV4dCs9ZTpuLmFwcGVuZENoaWxkKGEuY3JlYXRlVGV4dE5vZGUoZSkpfSxsb2FkQ1NTOmZ1bmN0aW9uKGUpe3ZhciBuO3E9PT1oaS5ET018fGEhPT1kb2N1bWVudD8oZXx8KGU9IiIpLG49YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLHNpKGUuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdDtlPUl0Ll9hZGRDYWNoZVN1ZmZpeChlKSxvW2VdfHwob1tlXT0hMCx0PUIoImxpbmsiLHtyZWw6InN0eWxlc2hlZXQiLGhyZWY6ZX0pLG4uYXBwZW5kQ2hpbGQodCkpfSkpOmhpLkRPTS5sb2FkQ1NTKGUpfSxhZGRDbGFzczpmdW5jdGlvbihlLHQpe2goZSkuYWRkQ2xhc3ModCl9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGUsdCl7TChlLHQsITEpfSxoYXNDbGFzczpmdW5jdGlvbihlLHQpe3JldHVybiBoKGUpLmhhc0NsYXNzKHQpfSx0b2dnbGVDbGFzczpMLHNob3c6ZnVuY3Rpb24oZSl7aChlKS5zaG93KCl9LGhpZGU6ZnVuY3Rpb24oZSl7aChlKS5oaWRlKCl9LGlzSGlkZGVuOmZ1bmN0aW9uKGUpe3JldHVybiJub25lIj09PWgoZSkuY3NzKCJkaXNwbGF5Iil9LHVuaXF1ZUlkOmZ1bmN0aW9uKGUpe3JldHVybihlfHwibWNlXyIpK3QrK30sc2V0SFRNTDpSLGdldE91dGVySFRNTDpmdW5jdGlvbihlKXt2YXIgdD0ic3RyaW5nIj09dHlwZW9mIGU/ZyhlKTplO3JldHVybiBPby5pc0VsZW1lbnQodCk/dC5vdXRlckhUTUw6dG4oIjxkaXY+PC9kaXY+IikuYXBwZW5kKHRuKHQpLmNsb25lKCkpLmh0bWwoKX0sc2V0T3V0ZXJIVE1MOmZ1bmN0aW9uKGUsdCl7aChlKS5lYWNoKGZ1bmN0aW9uKCl7dHJ5e2lmKCJvdXRlckhUTUwiaW4gdGhpcylyZXR1cm4gdm9pZCh0aGlzLm91dGVySFRNTD10KX1jYXRjaChlKXt9UCh0bih0aGlzKS5odG1sKHQpLCEwKX0pfSxkZWNvZGU6RCxlbmNvZGU6TyxpbnNlcnRBZnRlcjpmdW5jdGlvbihlLHQpe3ZhciByPWcodCk7cmV0dXJuIFQoZSxmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiB0PXIucGFyZW50Tm9kZSwobj1yLm5leHRTaWJsaW5nKT90Lmluc2VydEJlZm9yZShlLG4pOnQuYXBwZW5kQ2hpbGQoZSksZX0pfSxyZXBsYWNlOkkscmVuYW1lOmZ1bmN0aW9uKHQsZSl7dmFyIG47cmV0dXJuIHQubm9kZU5hbWUhPT1lLnRvVXBwZXJDYXNlKCkmJihuPUIoZSksc2koeSh0KSxmdW5jdGlvbihlKXtiKG4sZS5ub2RlTmFtZSx2KHQsZS5ub2RlTmFtZSkpfSksSShuLHQsITApKSxufHx0fSxmaW5kQ29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj1lO3I7KXtmb3Iobj10O24mJnIhPT1uOyluPW4ucGFyZW50Tm9kZTtpZihyPT09bilicmVhaztyPXIucGFyZW50Tm9kZX1yZXR1cm4hciYmZS5vd25lckRvY3VtZW50P2Uub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ6cn0sdG9IZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGQudG9IZXgoSXQudHJpbShlKSl9LHJ1bjpULGdldEF0dHJpYnM6eSxpc0VtcHR5OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1LHM9MDtpZihlPWUuZmlyc3RDaGlsZCl7YT1uZXcgYW8oZSxlLnBhcmVudE5vZGUpLHQ9dHx8KGY/Zi5nZXROb25FbXB0eUVsZW1lbnRzKCk6bnVsbCksaT1mP2YuZ2V0V2hpdGVTcGFjZUVsZW1lbnRzKCk6e307ZG97aWYobz1lLm5vZGVUeXBlLE9vLmlzRWxlbWVudChlKSl7dmFyIGM9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIik7aWYoYyl7ZT1hLm5leHQoImFsbCI9PT1jKTtjb250aW51ZX1pZih1PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx0JiZ0W3VdKXtpZigiYnIiPT09dSl7cysrLGU9YS5uZXh0KCk7Y29udGludWV9cmV0dXJuITF9Zm9yKG49KHI9eShlKSkubGVuZ3RoO24tLTspaWYoIm5hbWUiPT09KHU9cltuXS5ub2RlTmFtZSl8fCJkYXRhLW1jZS1ib29rbWFyayI9PT11KXJldHVybiExfWlmKDg9PT1vKXJldHVybiExO2lmKDM9PT1vJiYhZGkudGVzdChlLm5vZGVWYWx1ZSkpcmV0dXJuITE7aWYoMz09PW8mJmUucGFyZW50Tm9kZSYmaVtlLnBhcmVudE5vZGUubm9kZU5hbWVdJiZkaS50ZXN0KGUubm9kZVZhbHVlKSlyZXR1cm4hMTtlPWEubmV4dCgpfXdoaWxlKGUpfXJldHVybiBzPD0xfSxjcmVhdGVSbmc6TSxub2RlSW5kZXg6Z2ksc3BsaXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhPU0oKTtpZihlJiZ0KXJldHVybiBhLnNldFN0YXJ0KGUucGFyZW50Tm9kZSxnaShlKSksYS5zZXRFbmQodC5wYXJlbnROb2RlLGdpKHQpKSxyPWEuZXh0cmFjdENvbnRlbnRzKCksKGE9TSgpKS5zZXRTdGFydCh0LnBhcmVudE5vZGUsZ2kodCkrMSksYS5zZXRFbmQoZS5wYXJlbnROb2RlLGdpKGUpKzEpLG89YS5leHRyYWN0Q29udGVudHMoKSwoaT1lLnBhcmVudE5vZGUpLmluc2VydEJlZm9yZShJby50cmltTm9kZShxLHIpLGUpLG4/aS5pbnNlcnRCZWZvcmUobixlKTppLmluc2VydEJlZm9yZSh0LGUpLGkuaW5zZXJ0QmVmb3JlKElvLnRyaW1Ob2RlKHEsbyksZSksUChlKSxufHx0fSxiaW5kOkYsdW5iaW5kOnosZmlyZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG0uZmlyZShlLHQsbil9LGdldENvbnRlbnRFZGl0YWJsZTpVLGdldENvbnRlbnRFZGl0YWJsZVBhcmVudDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9QygpLG49bnVsbDtlJiZlIT09dCYmbnVsbD09PShuPVUoZSkpO2U9ZS5wYXJlbnROb2RlKTtyZXR1cm4gbn0sZGVzdHJveTpmdW5jdGlvbigpe2lmKGwpZm9yKHZhciBlPWwubGVuZ3RoO2UtLTspe3ZhciB0PWxbZV07bS51bmJpbmQodFswXSx0WzFdLHRbMl0pfW10LnNldERvY3VtZW50JiZtdC5zZXREb2N1bWVudCgpfSxpc0NoaWxkT2Y6ZnVuY3Rpb24oZSx0KXtmb3IoO2U7KXtpZih0PT09ZSlyZXR1cm4hMDtlPWUucGFyZW50Tm9kZX1yZXR1cm4hMX0sZHVtcFJuZzpmdW5jdGlvbihlKXtyZXR1cm4ic3RhcnRDb250YWluZXI6ICIrZS5zdGFydENvbnRhaW5lci5ub2RlTmFtZSsiLCBzdGFydE9mZnNldDogIitlLnN0YXJ0T2Zmc2V0KyIsIGVuZENvbnRhaW5lcjogIitlLmVuZENvbnRhaW5lci5ub2RlTmFtZSsiLCBlbmRPZmZzZXQ6ICIrZS5lbmRPZmZzZXR9fTtyZXR1cm4gcz1taShkLHUsZnVuY3Rpb24oKXtyZXR1cm4gcX0pLHF9KHVpPWhpfHwoaGk9e30pKS5ET009dWkoZG9jdW1lbnQpLHVpLm5vZGVJbmRleD1naTt2YXIgdmk9aGkseWk9dmkuRE9NLGJpPUl0LmVhY2gsQ2k9SXQuZ3JlcCx4aT1mdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZX0sd2k9ZnVuY3Rpb24oKXt2YXIgZj17fSxvPVtdLGk9e30sYT1bXSxkPTA7dGhpcy5pc0RvbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIDI9PT1mW2VdfSx0aGlzLm1hcmtEb25lPWZ1bmN0aW9uKGUpe2ZbZV09Mn0sdGhpcy5hZGQ9dGhpcy5sb2FkPWZ1bmN0aW9uKGUsdCxuLHIpe2ZbZV09PT11bmRlZmluZWQmJihvLnB1c2goZSksZltlXT0wKSx0JiYoaVtlXXx8KGlbZV09W10pLGlbZV0ucHVzaCh7c3VjY2Vzczp0LGZhaWx1cmU6cixzY29wZTpufHx0aGlzfSkpfSx0aGlzLnJlbW92ZT1mdW5jdGlvbihlKXtkZWxldGUgZltlXSxkZWxldGUgaVtlXX0sdGhpcy5sb2FkUXVldWU9ZnVuY3Rpb24oZSx0LG4pe3RoaXMubG9hZFNjcmlwdHMobyxlLHQsbil9LHRoaXMubG9hZFNjcmlwdHM9ZnVuY3Rpb24obixlLHQscil7dmFyIHMsYz1bXSxsPWZ1bmN0aW9uKHQsZSl7YmkoaVtlXSxmdW5jdGlvbihlKXt4aShlW3RdKSYmZVt0XS5jYWxsKGUuc2NvcGUpfSksaVtlXT11bmRlZmluZWR9O2EucHVzaCh7c3VjY2VzczplLGZhaWx1cmU6cixzY29wZTp0fHx0aGlzfSksKHM9ZnVuY3Rpb24oKXt2YXIgZT1DaShuKTtpZihuLmxlbmd0aD0wLGJpKGUsZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLHU7MiE9PWZbZV0/MyE9PWZbZV0/MSE9PWZbZV0mJihmW2VdPTEsZCsrLHQ9ZSxuPWZ1bmN0aW9uKCl7ZltlXT0yLGQtLSxsKCJzdWNjZXNzIixlKSxzKCl9LHI9ZnVuY3Rpb24oKXtmW2VdPTMsZC0tLGMucHVzaChlKSxsKCJmYWlsdXJlIixlKSxzKCl9LHU9ZnVuY3Rpb24oKXthLnJlbW92ZShpKSxvJiYoby5vbnJlYWR5c3RhdGVjaGFuZ2U9by5vbmxvYWQ9bz1udWxsKSxuKCl9LGk9KGE9eWkpLnVuaXF1ZUlkKCksKG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0IikpLmlkPWksby50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiLG8uc3JjPUl0Ll9hZGRDYWNoZVN1ZmZpeCh0KSwib25yZWFkeXN0YXRlY2hhbmdlImluIG8/by5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXsvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KG8ucmVhZHlTdGF0ZSkmJnUoKX06by5vbmxvYWQ9dSxvLm9uZXJyb3I9ZnVuY3Rpb24oKXt4aShyKT9yKCk6InVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLmxvZyYmY29uc29sZS5sb2coIkZhaWxlZCB0byBsb2FkIHNjcmlwdDogIit0KX0sKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF18fGRvY3VtZW50LmJvZHkpLmFwcGVuZENoaWxkKG8pKTpsKCJmYWlsdXJlIixlKTpsKCJzdWNjZXNzIixlKX0pLCFkKXt2YXIgdD1hLnNsaWNlKDApO2EubGVuZ3RoPTAsYmkodCxmdW5jdGlvbihlKXswPT09Yy5sZW5ndGg/eGkoZS5zdWNjZXNzKSYmZS5zdWNjZXNzLmNhbGwoZS5zY29wZSk6eGkoZS5mYWlsdXJlKSYmZS5mYWlsdXJlLmNhbGwoZS5zY29wZSxjKX0pfX0pKCl9fTt3aS5TY3JpcHRMb2FkZXI9bmV3IHdpO3ZhciBOaSxFaT1JdC5lYWNoO2Z1bmN0aW9uIFNpKCl7dmFyIHI9dGhpcyxvPVtdLGE9e30sdT17fSxpPVtdLHM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHVbZV0mJih0PXVbZV0uZGVwZW5kZW5jaWVzKSx0fHxbXX0sYz1mdW5jdGlvbihlLHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdD90OiJzdHJpbmciPT10eXBlb2YgZT97cHJlZml4OiIiLHJlc291cmNlOnQsc3VmZml4OiIifTp7cHJlZml4OmUucHJlZml4LHJlc291cmNlOnQsc3VmZml4OmUuc3VmZml4fX0sbD1mdW5jdGlvbihuLGUsdCl7dmFyIHI9cyhuYW1lKTtFaShyLGZ1bmN0aW9uKGUpe3ZhciB0PWMobixlKTtmKHQucmVzb3VyY2UsdCx1bmRlZmluZWQsdW5kZWZpbmVkKX0pLGUmJih0P2UuY2FsbCh0KTplLmNhbGwod2kpKX0sZj1mdW5jdGlvbihlLHQsbixyLG8pe2lmKCFhW2VdKXt2YXIgaT0ic3RyaW5nIj09dHlwZW9mIHQ/dDp0LnByZWZpeCt0LnJlc291cmNlK3Quc3VmZml4OzAhPT1pLmluZGV4T2YoIi8iKSYmLTE9PT1pLmluZGV4T2YoIjovLyIpJiYoaT1TaS5iYXNlVVJMKyIvIitpKSxhW2VdPWkuc3Vic3RyaW5nKDAsaS5sYXN0SW5kZXhPZigiLyIpKSx1W2VdP2wodCxuLHIpOndpLlNjcmlwdExvYWRlci5hZGQoaSxmdW5jdGlvbigpe3JldHVybiBsKHQsbixyKX0scixvKX19O3JldHVybntpdGVtczpvLHVybHM6YSxsb29rdXA6dSxfbGlzdGVuZXJzOmksZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiB1W2VdP3VbZV0uaW5zdGFuY2U6dW5kZWZpbmVkfSxkZXBlbmRlbmNpZXM6cyxyZXF1aXJlTGFuZ1BhY2s6ZnVuY3Rpb24oZSx0KXt2YXIgbj1TaS5sYW5ndWFnZTtpZihuJiYhMSE9PVNpLmxhbmd1YWdlTG9hZCl7aWYodClpZigtMSE9PSh0PSIsIit0KyIsIikuaW5kZXhPZigiLCIrbi5zdWJzdHIoMCwyKSsiLCIpKW49bi5zdWJzdHIoMCwyKTtlbHNlIGlmKC0xPT09dC5pbmRleE9mKCIsIituKyIsIikpcmV0dXJuO3dpLlNjcmlwdExvYWRlci5hZGQoYVtlXSsiL2xhbmdzLyIrbisiLmpzIil9fSxhZGQ6ZnVuY3Rpb24odCxlLG4pe28ucHVzaChlKSx1W3RdPXtpbnN0YW5jZTplLGRlcGVuZGVuY2llczpufTt2YXIgcj1ILnBhcnRpdGlvbihpLGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWU9PT10fSk7cmV0dXJuIGk9ci5mYWlsLEVpKHIucGFzcyxmdW5jdGlvbihlKXtlLmNhbGxiYWNrKCl9KSxlfSxyZW1vdmU6ZnVuY3Rpb24oZSl7ZGVsZXRlIGFbZV0sZGVsZXRlIHVbZV19LGNyZWF0ZVVybDpjLGFkZENvbXBvbmVudHM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1yLnVybHNbZV07RWkodCxmdW5jdGlvbihlKXt3aS5TY3JpcHRMb2FkZXIuYWRkKG4rIi8iK2UpfSl9LGxvYWQ6Zix3YWl0Rm9yOmZ1bmN0aW9uKGUsdCl7dS5oYXNPd25Qcm9wZXJ0eShlKT90KCk6aS5wdXNoKHtuYW1lOmUsY2FsbGJhY2s6dH0pfX19KE5pPVNpfHwoU2k9e30pKS5QbHVnaW5NYW5hZ2VyPU5pKCksTmkuVGhlbWVNYW5hZ2VyPU5pKCk7dmFyIGtpLFRpPSJcdWZlZmYiLEFpPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09VGl9LFJpPVRpLF9pPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UobmV3IFJlZ0V4cChUaSwiZyIpLCIiKX0sQmk9T28uaXNFbGVtZW50LERpPU9vLmlzVGV4dCxPaT1mdW5jdGlvbihlKXtyZXR1cm4gRGkoZSkmJihlPWUucGFyZW50Tm9kZSksQmkoZSkmJmUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpfSxQaT1mdW5jdGlvbihlKXtyZXR1cm4gRGkoZSkmJkFpKGUuZGF0YSl9LExpPWZ1bmN0aW9uKGUpe3JldHVybiBPaShlKXx8UGkoZSl9LElpPWZ1bmN0aW9uKGUpe3JldHVybiBlLmZpcnN0Q2hpbGQhPT1lLmxhc3RDaGlsZHx8IU9vLmlzQnIoZS5maXJzdENoaWxkKX0sTWk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb250YWluZXIoKTtyZXR1cm4gZSYmT28uaXNUZXh0KHQpJiZ0LmRhdGEuY2hhckF0KGUub2Zmc2V0KCkpPT09Uml9LEZpPWZ1bmN0aW9uKGUpe3ZhciB0PWUuY29udGFpbmVyKCk7cmV0dXJuIGUmJk9vLmlzVGV4dCh0KSYmdC5kYXRhLmNoYXJBdChlLm9mZnNldCgpLTEpPT09Uml9LHppPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk7cmV0dXJuKHI9dC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSkpLnNldEF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiLG4/ImJlZm9yZSI6ImFmdGVyIiksci5zZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIiwiYWxsIiksci5hcHBlbmRDaGlsZCgoKGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKSkuc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIsIjEiKSxpKSksbz10LnBhcmVudE5vZGUsbj9vLmluc2VydEJlZm9yZShyLHQpOnQubmV4dFNpYmxpbmc/by5pbnNlcnRCZWZvcmUocix0Lm5leHRTaWJsaW5nKTpvLmFwcGVuZENoaWxkKHIpLHJ9LFVpPWZ1bmN0aW9uKGUpe3JldHVybiBEaShlKSYmZS5kYXRhWzBdPT09Uml9LHFpPWZ1bmN0aW9uKGUpe3JldHVybiBEaShlKSYmZS5kYXRhW2UuZGF0YS5sZW5ndGgtMV09PT1SaX0sVmk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpPyh0PWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJyIiksbj10W3QubGVuZ3RoLTFdLE9vLmlzQm9ndXMobikmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSxlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKSxlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSxlLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSxlLnJlbW92ZUF0dHJpYnV0ZSgiX21vel9hYnNwb3MiKSxlKTpudWxsO3ZhciB0LG59LEhpPU9vLmlzQ29udGVudEVkaXRhYmxlVHJ1ZSxqaT1Pby5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlLCRpPU9vLmlzQnIsV2k9T28uaXNUZXh0LEtpPU9vLm1hdGNoTm9kZU5hbWVzKCJzY3JpcHQgc3R5bGUgdGV4dGFyZWEiKSxYaT1Pby5tYXRjaE5vZGVOYW1lcygiaW1nIGlucHV0IHRleHRhcmVhIGhyIGlmcmFtZSB2aWRlbyBhdWRpbyBvYmplY3QiKSxZaT1Pby5tYXRjaE5vZGVOYW1lcygidGFibGUiKSxHaT1MaSxKaT1mdW5jdGlvbihlKXtyZXR1cm4hR2koZSkmJihXaShlKT8hS2koZS5wYXJlbnROb2RlKTpYaShlKXx8JGkoZSl8fFlpKGUpfHxRaShlKSl9LFFpPWZ1bmN0aW9uKGUpe3JldHVybiExPT09KHQ9ZSxPby5pc0VsZW1lbnQodCkmJiJ0cnVlIj09PXQuZ2V0QXR0cmlidXRlKCJ1bnNlbGVjdGFibGUiKSkmJmppKGUpO3ZhciB0fSxaaT1mdW5jdGlvbihlLHQpe3JldHVybiBKaShlKSYmZnVuY3Rpb24oZSx0KXtmb3IoZT1lLnBhcmVudE5vZGU7ZSYmZSE9PXQ7ZT1lLnBhcmVudE5vZGUpe2lmKFFpKGUpKXJldHVybiExO2lmKEhpKGUpKXJldHVybiEwfXJldHVybiEwfShlLHQpfSxlYT1NYXRoLnJvdW5kLHRhPWZ1bmN0aW9uKGUpe3JldHVybiBlP3tsZWZ0OmVhKGUubGVmdCksdG9wOmVhKGUudG9wKSxib3R0b206ZWEoZS5ib3R0b20pLHJpZ2h0OmVhKGUucmlnaHQpLHdpZHRoOmVhKGUud2lkdGgpLGhlaWdodDplYShlLmhlaWdodCl9OntsZWZ0OjAsdG9wOjAsYm90dG9tOjAscmlnaHQ6MCx3aWR0aDowLGhlaWdodDowfX0sbmE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT10YShlKSx0fHwoZS5sZWZ0PWUubGVmdCtlLndpZHRoKSxlLnJpZ2h0PWUubGVmdCxlLndpZHRoPTAsZX0scmE9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAwPD1lJiZlPD1NYXRoLm1pbih0LmhlaWdodCxuLmhlaWdodCkvMn0sb2E9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5ib3R0b20tZS5oZWlnaHQvMjx0LnRvcHx8IShlLnRvcD50LmJvdHRvbSkmJnJhKHQudG9wLWUuYm90dG9tLGUsdCl9LGlhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudG9wPnQuYm90dG9tfHwhKGUuYm90dG9tPHQudG9wKSYmcmEodC5ib3R0b20tZS50b3AsZSx0KX0sYWE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFydENvbnRhaW5lcixuPWUuc3RhcnRPZmZzZXQ7cmV0dXJuIHQuaGFzQ2hpbGROb2RlcygpJiZlLmVuZE9mZnNldD09PW4rMT90LmNoaWxkTm9kZXNbbl06bnVsbH0sdWE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMT09PWUubm9kZVR5cGUmJmUuaGFzQ2hpbGROb2RlcygpJiYodD49ZS5jaGlsZE5vZGVzLmxlbmd0aCYmKHQ9ZS5jaGlsZE5vZGVzLmxlbmd0aC0xKSxlPWUuY2hpbGROb2Rlc1t0XSksZX0sc2E9bmV3IFJlZ0V4cCgiW1x1MDMwMC1cdTAzNmZcdTA0ODMtXHUwNDg3XHUwNDg4LVx1MDQ4OVx1MDU5MS1cdTA1YmRcdTA1YmZcdTA1YzEtXHUwNWMyXHUwNWM0LVx1MDVjNVx1MDVjN1x1MDYxMC1cdTA2MWFcdTA2NGItXHUwNjVmXHUwNjcwXHUwNmQ2LVx1MDZkY1x1MDZkZi1cdTA2ZTRcdTA2ZTctXHUwNmU4XHUwNmVhLVx1MDZlZFx1MDcxMVx1MDczMC1cdTA3NGFcdTA3YTYtXHUwN2IwXHUwN2ViLVx1MDdmM1x1MDgxNi1cdTA4MTlcdTA4MWItXHUwODIzXHUwODI1LVx1MDgyN1x1MDgyOS1cdTA4MmRcdTA4NTktXHUwODViXHUwOGUzLVx1MDkwMlx1MDkzYVx1MDkzY1x1MDk0MS1cdTA5NDhcdTA5NGRcdTA5NTEtXHUwOTU3XHUwOTYyLVx1MDk2M1x1MDk4MVx1MDliY1x1MDliZVx1MDljMS1cdTA5YzRcdTA5Y2RcdTA5ZDdcdTA5ZTItXHUwOWUzXHUwYTAxLVx1MGEwMlx1MGEzY1x1MGE0MS1cdTBhNDJcdTBhNDctXHUwYTQ4XHUwYTRiLVx1MGE0ZFx1MGE1MVx1MGE3MC1cdTBhNzFcdTBhNzVcdTBhODEtXHUwYTgyXHUwYWJjXHUwYWMxLVx1MGFjNVx1MGFjNy1cdTBhYzhcdTBhY2RcdTBhZTItXHUwYWUzXHUwYjAxXHUwYjNjXHUwYjNlXHUwYjNmXHUwYjQxLVx1MGI0NFx1MGI0ZFx1MGI1Nlx1MGI1N1x1MGI2Mi1cdTBiNjNcdTBiODJcdTBiYmVcdTBiYzBcdTBiY2RcdTBiZDdcdTBjMDBcdTBjM2UtXHUwYzQwXHUwYzQ2LVx1MGM0OFx1MGM0YS1cdTBjNGRcdTBjNTUtXHUwYzU2XHUwYzYyLVx1MGM2M1x1MGM4MVx1MGNiY1x1MGNiZlx1MGNjMlx1MGNjNlx1MGNjYy1cdTBjY2RcdTBjZDUtXHUwY2Q2XHUwY2UyLVx1MGNlM1x1MGQwMVx1MGQzZVx1MGQ0MS1cdTBkNDRcdTBkNGRcdTBkNTdcdTBkNjItXHUwZDYzXHUwZGNhXHUwZGNmXHUwZGQyLVx1MGRkNFx1MGRkNlx1MGRkZlx1MGUzMVx1MGUzNC1cdTBlM2FcdTBlNDctXHUwZTRlXHUwZWIxXHUwZWI0LVx1MGViOVx1MGViYi1cdTBlYmNcdTBlYzgtXHUwZWNkXHUwZjE4LVx1MGYxOVx1MGYzNVx1MGYzN1x1MGYzOVx1MGY3MS1cdTBmN2VcdTBmODAtXHUwZjg0XHUwZjg2LVx1MGY4N1x1MGY4ZC1cdTBmOTdcdTBmOTktXHUwZmJjXHUwZmM2XHUxMDJkLVx1MTAzMFx1MTAzMi1cdTEwMzdcdTEwMzktXHUxMDNhXHUxMDNkLVx1MTAzZVx1MTA1OC1cdTEwNTlcdTEwNWUtXHUxMDYwXHUxMDcxLVx1MTA3NFx1MTA4Mlx1MTA4NS1cdTEwODZcdTEwOGRcdTEwOWRcdTEzNWQtXHUxMzVmXHUxNzEyLVx1MTcxNFx1MTczMi1cdTE3MzRcdTE3NTItXHUxNzUzXHUxNzcyLVx1MTc3M1x1MTdiNC1cdTE3YjVcdTE3YjctXHUxN2JkXHUxN2M2XHUxN2M5LVx1MTdkM1x1MTdkZFx1MTgwYi1cdTE4MGRcdTE4YTlcdTE5MjAtXHUxOTIyXHUxOTI3LVx1MTkyOFx1MTkzMlx1MTkzOS1cdTE5M2JcdTFhMTctXHUxYTE4XHUxYTFiXHUxYTU2XHUxYTU4LVx1MWE1ZVx1MWE2MFx1MWE2Mlx1MWE2NS1cdTFhNmNcdTFhNzMtXHUxYTdjXHUxYTdmXHUxYWIwLVx1MWFiZFx1MWFiZVx1MWIwMC1cdTFiMDNcdTFiMzRcdTFiMzYtXHUxYjNhXHUxYjNjXHUxYjQyXHUxYjZiLVx1MWI3M1x1MWI4MC1cdTFiODFcdTFiYTItXHUxYmE1XHUxYmE4LVx1MWJhOVx1MWJhYi1cdTFiYWRcdTFiZTZcdTFiZTgtXHUxYmU5XHUxYmVkXHUxYmVmLVx1MWJmMVx1MWMyYy1cdTFjMzNcdTFjMzYtXHUxYzM3XHUxY2QwLVx1MWNkMlx1MWNkNC1cdTFjZTBcdTFjZTItXHUxY2U4XHUxY2VkXHUxY2Y0XHUxY2Y4LVx1MWNmOVx1MWRjMC1cdTFkZjVcdTFkZmMtXHUxZGZmXHUyMDBjLVx1MjAwZFx1MjBkMC1cdTIwZGNcdTIwZGQtXHUyMGUwXHUyMGUxXHUyMGUyLVx1MjBlNFx1MjBlNS1cdTIwZjBcdTJjZWYtXHUyY2YxXHUyZDdmXHUyZGUwLVx1MmRmZlx1MzAyYS1cdTMwMmRcdTMwMmUtXHUzMDJmXHUzMDk5LVx1MzA5YVx1YTY2Zlx1YTY3MC1cdWE2NzJcdWE2NzQtXHVhNjdkXHVhNjllLVx1YTY5Zlx1YTZmMC1cdWE2ZjFcdWE4MDJcdWE4MDZcdWE4MGJcdWE4MjUtXHVhODI2XHVhOGM0XHVhOGUwLVx1YThmMVx1YTkyNi1cdWE5MmRcdWE5NDctXHVhOTUxXHVhOTgwLVx1YTk4Mlx1YTliM1x1YTliNi1cdWE5YjlcdWE5YmNcdWE5ZTVcdWFhMjktXHVhYTJlXHVhYTMxLVx1YWEzMlx1YWEzNS1cdWFhMzZcdWFhNDNcdWFhNGNcdWFhN2NcdWFhYjBcdWFhYjItXHVhYWI0XHVhYWI3LVx1YWFiOFx1YWFiZS1cdWFhYmZcdWFhYzFcdWFhZWMtXHVhYWVkXHVhYWY2XHVhYmU1XHVhYmU4XHVhYmVkXHVmYjFlXHVmZTAwLVx1ZmUwZlx1ZmUyMC1cdWZlMmZcdWZmOWUtXHVmZjlmXSIpLGNhPWZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmNzY4PD1lLmNoYXJDb2RlQXQoMCkmJnNhLnRlc3QoZSl9LGxhPVtdLnNsaWNlLGZhPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3ZhciByPWxhLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gci5sZW5ndGgtMT49ZS5sZW5ndGg/ZS5hcHBseSh0aGlzLHIuc2xpY2UoMSkpOmZ1bmN0aW9uKCl7dmFyIGU9ci5jb25jYXQoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtyZXR1cm4gZmEuYXBwbHkodGhpcyxlKX19LGRhPXtjb25zdGFudDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19LG5lZ2F0ZTpmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIXQoZSl9fSxhbmQ6ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIG49bGEuY2FsbChhcmd1bWVudHMpO3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoO3QrKylpZighblt0XShlKSlyZXR1cm4hMTtyZXR1cm4hMH19LG9yOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3ZhciBuPWxhLmNhbGwoYXJndW1lbnRzKTtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0KyspaWYoblt0XShlKSlyZXR1cm4hMDtyZXR1cm4hMX19LGN1cnJ5OmZhLGNvbXBvc2U6ZnVuY3Rpb24odCxuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQobihlKSl9fSxub29wOmZ1bmN0aW9uKCl7fX0sbWE9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgbz1lW3JdO2lmKCFvLmlzU29tZSgpKXJldHVybiBBLm5vbmUoKTtuLnB1c2goby5nZXRPckRpZSgpKX1yZXR1cm4gQS5zb21lKHQuYXBwbHkobnVsbCxuKSl9LHBhPU9vLmlzRWxlbWVudCxnYT1KaSxoYT1Pby5tYXRjaFN0eWxlVmFsdWVzKCJkaXNwbGF5IiwiYmxvY2sgdGFibGUiKSx2YT1Pby5tYXRjaFN0eWxlVmFsdWVzKCJmbG9hdCIsImxlZnQgcmlnaHQiKSx5YT1kYS5hbmQocGEsZ2EsZGEubmVnYXRlKHZhKSksYmE9ZGEubmVnYXRlKE9vLm1hdGNoU3R5bGVWYWx1ZXMoIndoaXRlLXNwYWNlIiwicHJlIHByZS1saW5lIHByZS13cmFwIikpLENhPU9vLmlzVGV4dCx4YT1Pby5pc0JyLHdhPXZpLm5vZGVJbmRleCxOYT11YSxFYT1mdW5jdGlvbihlKXtyZXR1cm4iY3JlYXRlUmFuZ2UiaW4gZT9lLmNyZWF0ZVJhbmdlKCk6dmkuRE9NLmNyZWF0ZVJuZygpfSxTYT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmL1tcclxuXHQgXS8udGVzdChlKX0sa2E9ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnNldFN0YXJ0JiYhIWUuc2V0RW5kfSxUYT1mdW5jdGlvbihlKXt2YXIgdCxuPWUuc3RhcnRDb250YWluZXIscj1lLnN0YXJ0T2Zmc2V0O3JldHVybiEhKFNhKGUudG9TdHJpbmcoKSkmJmJhKG4ucGFyZW50Tm9kZSkmJk9vLmlzVGV4dChuKSYmKHQ9bi5kYXRhLFNhKHRbci0xXSl8fFNhKHRbcisxXSkpKX0sQWE9ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLmxlZnQmJjA9PT1lLnJpZ2h0JiYwPT09ZS50b3AmJjA9PT1lLmJvdHRvbX0sUmE9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLHUscztyZXR1cm4gdD0wPChuPWUuZ2V0Q2xpZW50UmVjdHMoKSkubGVuZ3RoP3RhKG5bMF0pOnRhKGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLCFrYShlKSYmeGEoZSkmJkFhKHQpPyhpPShyPWUpLm93bmVyRG9jdW1lbnQsYT1FYShpKSx1PWkuY3JlYXRlVGV4dE5vZGUoIlx4YTAiKSwocz1yLnBhcmVudE5vZGUpLmluc2VydEJlZm9yZSh1LHIpLGEuc2V0U3RhcnQodSwwKSxhLnNldEVuZCh1LDEpLG89dGEoYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkscy5yZW1vdmVDaGlsZCh1KSxvKTpBYSh0KSYma2EoZSk/ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdGFydENvbnRhaW5lcixuPWUuZW5kQ29udGFpbmVyLHI9ZS5zdGFydE9mZnNldCxvPWUuZW5kT2Zmc2V0O2lmKHQ9PT1uJiZPby5pc1RleHQobikmJjA9PT1yJiYxPT09byl7dmFyIGk9ZS5jbG9uZVJhbmdlKCk7cmV0dXJuIGkuc2V0RW5kQWZ0ZXIobiksUmEoaSl9cmV0dXJuIG51bGx9KGUpOnR9LF9hPWZ1bmN0aW9uKGUsdCl7dmFyIG49bmEoZSx0KTtyZXR1cm4gbi53aWR0aD0xLG4ucmlnaHQ9bi5sZWZ0KzEsbn0sQmE9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPVtdLG89ZnVuY3Rpb24oZSl7dmFyIHQsbjswIT09ZS5oZWlnaHQmJigwPHIubGVuZ3RoJiYodD1lLG49cltyLmxlbmd0aC0xXSx0LmxlZnQ9PT1uLmxlZnQmJnQudG9wPT09bi50b3AmJnQuYm90dG9tPT09bi5ib3R0b20mJnQucmlnaHQ9PT1uLnJpZ2h0KXx8ci5wdXNoKGUpKX0saT1mdW5jdGlvbihlLHQpe3ZhciBuPUVhKGUub3duZXJEb2N1bWVudCk7aWYodDxlLmRhdGEubGVuZ3RoKXtpZihjYShlLmRhdGFbdF0pKXJldHVybiByO2lmKGNhKGUuZGF0YVt0LTFdKSYmKG4uc2V0U3RhcnQoZSx0KSxuLnNldEVuZChlLHQrMSksIVRhKG4pKSlyZXR1cm4gbyhfYShSYShuKSwhMSkpLHJ9MDx0JiYobi5zZXRTdGFydChlLHQtMSksbi5zZXRFbmQoZSx0KSxUYShuKXx8byhfYShSYShuKSwhMSkpKSx0PGUuZGF0YS5sZW5ndGgmJihuLnNldFN0YXJ0KGUsdCksbi5zZXRFbmQoZSx0KzEpLFRhKG4pfHxvKF9hKFJhKG4pLCEwKSkpfTtpZihDYShlLmNvbnRhaW5lcigpKSlyZXR1cm4gaShlLmNvbnRhaW5lcigpLGUub2Zmc2V0KCkpLHI7aWYocGEoZS5jb250YWluZXIoKSkpaWYoZS5pc0F0RW5kKCkpbj1OYShlLmNvbnRhaW5lcigpLGUub2Zmc2V0KCkpLENhKG4pJiZpKG4sbi5kYXRhLmxlbmd0aCkseWEobikmJiF4YShuKSYmbyhfYShSYShuKSwhMSkpO2Vsc2V7aWYobj1OYShlLmNvbnRhaW5lcigpLGUub2Zmc2V0KCkpLENhKG4pJiZpKG4sMCkseWEobikmJmUuaXNBdEVuZCgpKXJldHVybiBvKF9hKFJhKG4pLCExKSkscjt0PU5hKGUuY29udGFpbmVyKCksZS5vZmZzZXQoKS0xKSx5YSh0KSYmIXhhKHQpJiYoaGEodCl8fGhhKG4pfHwheWEobikpJiZvKF9hKFJhKHQpLCExKSkseWEobikmJm8oX2EoUmEobiksITApKX1yZXR1cm4gcn07ZnVuY3Rpb24gRGEodCxuLGUpe3ZhciByPWZ1bmN0aW9uKCl7cmV0dXJuIGV8fChlPUJhKERhKHQsbikpKSxlfTtyZXR1cm57Y29udGFpbmVyOmRhLmNvbnN0YW50KHQpLG9mZnNldDpkYS5jb25zdGFudChuKSx0b1JhbmdlOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuKGU9RWEodC5vd25lckRvY3VtZW50KSkuc2V0U3RhcnQodCxuKSxlLnNldEVuZCh0LG4pLGV9LGdldENsaWVudFJlY3RzOnIsaXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIDA8cigpLmxlbmd0aH0saXNBdFN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIENhKHQpLDA9PT1ufSxpc0F0RW5kOmZ1bmN0aW9uKCl7cmV0dXJuIENhKHQpP24+PXQuZGF0YS5sZW5ndGg6bj49dC5jaGlsZE5vZGVzLmxlbmd0aH0saXNFcXVhbDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmdD09PWUuY29udGFpbmVyKCkmJm49PT1lLm9mZnNldCgpfSxnZXROb2RlOmZ1bmN0aW9uKGUpe3JldHVybiBOYSh0LGU/bi0xOm4pfX19KGtpPURhfHwoRGE9e30pKS5mcm9tUmFuZ2VTdGFydD1mdW5jdGlvbihlKXtyZXR1cm4ga2koZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KX0sa2kuZnJvbVJhbmdlRW5kPWZ1bmN0aW9uKGUpe3JldHVybiBraShlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCl9LGtpLmFmdGVyPWZ1bmN0aW9uKGUpe3JldHVybiBraShlLnBhcmVudE5vZGUsd2EoZSkrMSl9LGtpLmJlZm9yZT1mdW5jdGlvbihlKXtyZXR1cm4ga2koZS5wYXJlbnROb2RlLHdhKGUpKX0sa2kuaXNBYm92ZT1mdW5jdGlvbihlLHQpe3JldHVybiBtYShbSC5oZWFkKHQuZ2V0Q2xpZW50UmVjdHMoKSksSC5sYXN0KGUuZ2V0Q2xpZW50UmVjdHMoKSldLG9hKS5nZXRPcighMSl9LGtpLmlzQmVsb3c9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbWEoW0gubGFzdCh0LmdldENsaWVudFJlY3RzKCkpLEguaGVhZChlLmdldENsaWVudFJlY3RzKCkpXSxpYSkuZ2V0T3IoITEpfSxraS5pc0F0U3RhcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZlLmlzQXRTdGFydCgpfSxraS5pc0F0RW5kPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmZS5pc0F0RW5kKCl9LGtpLmlzVGV4dFBvc2l0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiEhZSYmT28uaXNUZXh0KGUuY29udGFpbmVyKCkpfSxraS5pc0VsZW1lbnRQb3NpdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4hMT09PWtpLmlzVGV4dFBvc2l0aW9uKGUpfTt2YXIgT2EsUGEsTGE9RGEsSWE9T28uaXNFbGVtZW50LE1hPU9vLmlzVGV4dCxGYT1mdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmdC5yZW1vdmVDaGlsZChlKX0semE9ZnVuY3Rpb24oZSx0KXswPT09dC5sZW5ndGg/RmEoZSk6ZS5ub2RlVmFsdWU9dH0sVWE9ZnVuY3Rpb24oZSl7dmFyIHQ9X2koZSk7cmV0dXJue2NvdW50OmUubGVuZ3RoLXQubGVuZ3RoLHRleHQ6dH19LHFhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGphKGUpLHR9LFZhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hKGUpJiZ0LmNvbnRhaW5lcigpPT09ZT8ocj10LG89VWEoKG49ZSkuZGF0YS5zdWJzdHIoMCxyLm9mZnNldCgpKSksaT1VYShuLmRhdGEuc3Vic3RyKHIub2Zmc2V0KCkpKSwwPChhPW8udGV4dCtpLnRleHQpLmxlbmd0aD8oemEobixhKSxMYShuLHIub2Zmc2V0KCktby5jb3VudCkpOnIpOnFhKGUsdCk7dmFyIG4scixvLGksYX0sSGE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jb250YWluZXIoKT09PWUucGFyZW50Tm9kZT8obj1lLG89KHI9dCkuY29udGFpbmVyKCksaT1ILmluZGV4T2YoSC5mcm9tKG8uY2hpbGROb2RlcyksbikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlPHIub2Zmc2V0KCk/TGEobyxyLm9mZnNldCgpLTEpOnJ9KS5nZXRPcihyKSxqYShuKSxpKTpxYShlLHQpO3ZhciBuLHIsbyxpfSxqYT1mdW5jdGlvbihlKXtpZihJYShlKSYmTGkoZSkmJihJaShlKT9lLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKTpGYShlKSksTWEoZSkpe3ZhciB0PV9pKGZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZS5ub2RlVmFsdWV9Y2F0Y2godCl7cmV0dXJuIiJ9fShlKSk7emEoZSx0KX19LCRhPXtyZW1vdmVBbmRSZXBvc2l0aW9uOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIExhLmlzVGV4dFBvc2l0aW9uKHQpP1ZhKGUsdCk6SGEoZSx0KX0scmVtb3ZlOmphfSxXYT1mdW5jdGlvbihlKXtyZXR1cm4gTGEuaXNUZXh0UG9zaXRpb24oZSk/MD09PWUub2Zmc2V0KCk6SmkoZS5nZXROb2RlKCkpfSxLYT1mdW5jdGlvbihlKXtpZihMYS5pc1RleHRQb3NpdGlvbihlKSl7dmFyIHQ9ZS5jb250YWluZXIoKTtyZXR1cm4gZS5vZmZzZXQoKT09PXQuZGF0YS5sZW5ndGh9cmV0dXJuIEppKGUuZ2V0Tm9kZSghMCkpfSxYYT1mdW5jdGlvbihlLHQpe3JldHVybiFMYS5pc1RleHRQb3NpdGlvbihlKSYmIUxhLmlzVGV4dFBvc2l0aW9uKHQpJiZlLmdldE5vZGUoKT09PXQuZ2V0Tm9kZSghMCl9LFlhPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZT8hWGEodCxuKSYmKHI9dCwhKCFMYS5pc1RleHRQb3NpdGlvbihyKSYmT28uaXNCcihyLmdldE5vZGUoKSkpKSYmS2EodCkmJldhKG4pOiFYYShuLHQpJiZXYSh0KSYmS2Eobik7dmFyIHJ9LEdhPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1Zcyh0KTtyZXR1cm4gQS5mcm9tKGU/ci5uZXh0KG4pOnIucHJldihuKSl9LEphPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1PWU/dC5maXJzdENoaWxkOnQubGFzdENoaWxkO3JldHVybiBPby5pc1RleHQodSk/QS5zb21lKExhKHUsZT8wOnUuZGF0YS5sZW5ndGgpKTp1P0ppKHUpP0Euc29tZShlP0xhLmJlZm9yZSh1KTooYT11LE9vLmlzQnIoYSk/TGEuYmVmb3JlKGEpOkxhLmFmdGVyKGEpKSk6KHI9dCxvPXUsaT0obj1lKT9MYS5iZWZvcmUobyk6TGEuYWZ0ZXIobyksR2EobixyLGkpKTpBLm5vbmUoKX0sUWE9e2Zyb21Qb3NpdGlvbjpHYSxuZXh0UG9zaXRpb246Vi5jdXJyeShHYSwhMCkscHJldlBvc2l0aW9uOlYuY3VycnkoR2EsITEpLG5hdmlnYXRlOmZ1bmN0aW9uKHQsbixyKXtyZXR1cm4gR2EodCxuLHIpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGJzKHIsZSxuKSYmWWEodCxyLGUpP0dhKHQsbixlKTpBLnNvbWUoZSl9KX0scG9zaXRpb25JbjpKYSxmaXJzdFBvc2l0aW9uSW46Vi5jdXJyeShKYSwhMCksbGFzdFBvc2l0aW9uSW46Vi5jdXJyeShKYSwhMSl9LFphPU9vLmlzQ29udGVudEVkaXRhYmxlVHJ1ZSxldT1Pby5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlLHR1PWZ1bmN0aW9uKGUsdCxuLHIsbyl7cmV0dXJuIHQuX3NlbGVjdGlvbk92ZXJyaWRlcy5zaG93Q2FyZXQoZSxuLHIsbyl9LG51PWZ1bmN0aW9uKGUsdCl7dmFyIG4scjtyZXR1cm4gZS5maXJlKCJCZWZvcmVPYmplY3RTZWxlY3RlZCIse3RhcmdldDp0fSkuaXNEZWZhdWx0UHJldmVudGVkKCk/bnVsbDooKHI9KG49dCkub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpKS5zZWxlY3ROb2RlKG4pLHIpfSxydT1mdW5jdGlvbihlLHQsbil7dmFyIHI9U3MoMSxlLmdldEJvZHkoKSx0KSxvPUxhLmZyb21SYW5nZVN0YXJ0KHIpLGk9by5nZXROb2RlKCk7aWYoZXUoaSkpcmV0dXJuIHR1KDEsZSxpLCFvLmlzQXRFbmQoKSwhMSk7dmFyIGE9by5nZXROb2RlKCEwKTtpZihldShhKSlyZXR1cm4gdHUoMSxlLGEsITEsITEpO3ZhciB1PWUuZG9tLmdldFBhcmVudChvLmdldE5vZGUoKSxmdW5jdGlvbihlKXtyZXR1cm4gZXUoZSl8fFphKGUpfSk7cmV0dXJuIGV1KHUpP3R1KDEsZSx1LCExLG4pOm51bGx9LG91PWZ1bmN0aW9uKGUsdCxuKXtpZighdHx8IXQuY29sbGFwc2VkKXJldHVybiB0O3ZhciByPXJ1KGUsdCxuKTtyZXR1cm4gcnx8dH07KFBhPU9hfHwoT2E9e30pKVtQYS5Ccj0wXT0iQnIiLFBhW1BhLkJsb2NrPTFdPSJCbG9jayIsUGFbUGEuV3JhcD0yXT0iV3JhcCIsUGFbUGEuRW9sPTNdPSJFb2wiO3ZhciBpdSxhdSx1dT1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09aXUuQmFja3dhcmRzP3QucmV2ZXJzZSgpOnR9LHN1PWZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbyxpLGEsdSxzLGMsbD1ZcyhuKSxmPXIsZD1bXTtmJiYocz1sLGM9ZixvPXQ9PT1pdS5Gb3J3YXJkcz9zLm5leHQoYyk6cy5wcmV2KGMpKTspe2lmKE9vLmlzQnIoby5nZXROb2RlKCExKSkpcmV0dXJuIHQ9PT1pdS5Gb3J3YXJkcz97cG9zaXRpb25zOnV1KHQsZCkuY29uY2F0KFtvXSksYnJlYWtUeXBlOk9hLkJyLGJyZWFrQXQ6QS5zb21lKG8pfTp7cG9zaXRpb25zOnV1KHQsZCksYnJlYWtUeXBlOk9hLkJyLGJyZWFrQXQ6QS5zb21lKG8pfTtpZihvLmlzVmlzaWJsZSgpKXtpZihlKGYsbykpe3ZhciBtPShpPXQsYT1mLHU9byxPby5pc0JyKHUuZ2V0Tm9kZShpPT09aXUuRm9yd2FyZHMpKT9PYS5CcjohMT09PWJzKGEsdSk/T2EuQmxvY2s6T2EuV3JhcCk7cmV0dXJue3Bvc2l0aW9uczp1dSh0LGQpLGJyZWFrVHlwZTptLGJyZWFrQXQ6QS5zb21lKG8pfX1kLnB1c2gobyksZj1vfWVsc2UgZj1vfXJldHVybntwb3NpdGlvbnM6dXUodCxkKSxicmVha1R5cGU6T2EuRW9sLGJyZWFrQXQ6QS5ub25lKCl9fSxjdT1mdW5jdGlvbihuLHIsbyxlKXtyZXR1cm4gcihvLGUpLmJyZWFrQXQubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PXIobyxlKS5wb3NpdGlvbnM7cmV0dXJuIG49PT1pdS5CYWNrd2FyZHM/dC5jb25jYXQoZSk6W2VdLmNvbmNhdCh0KX0pLmdldE9yKFtdKX0sbHU9ZnVuY3Rpb24oZSxpKXtyZXR1cm4gSC5mb2xkbChlLGZ1bmN0aW9uKGUsbyl7cmV0dXJuIGUuZm9sZChmdW5jdGlvbigpe3JldHVybiBBLnNvbWUobyl9LGZ1bmN0aW9uKHIpe3JldHVybiBtYShbSC5oZWFkKHIuZ2V0Q2xpZW50UmVjdHMoKSksSC5oZWFkKG8uZ2V0Q2xpZW50UmVjdHMoKSldLGZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5hYnMoaS1lLmxlZnQpO3JldHVybiBNYXRoLmFicyhpLXQubGVmdCk8PW4/bzpyfSkub3IoZSl9KX0sQS5ub25lKCkpfSxmdT1mdW5jdGlvbih0LGUpe3JldHVybiBILmhlYWQoZS5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBsdSh0LGUubGVmdCl9KX0sZHU9Vi5jdXJyeShzdSxEYS5pc0Fib3ZlLC0xKSxtdT1WLmN1cnJ5KHN1LERhLmlzQmVsb3csMSkscHU9Vi5jdXJyeShjdSwtMSxkdSksZ3U9Vi5jdXJyeShjdSwxLG11KSxodT1mdW5jdGlvbihlLHQpe3JldHVybiBQci5hbGwodCxlKX0sdnU9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHUscyxjLGw9aHUoVm4uZnJvbURvbShuKSwidGQsdGgiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tKCl9KSxmPUguZmlsdGVyKChpPWUsYT1sLEguYmluZChhLGZ1bmN0aW9uKGUpe3ZhciB0LG4scj0odD1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49LTEse2xlZnQ6dC5sZWZ0LW4sdG9wOnQudG9wLW4scmlnaHQ6dC5yaWdodCsyKm4sYm90dG9tOnQuYm90dG9tKzIqbix3aWR0aDp0LndpZHRoK24saGVpZ2h0OnQuaGVpZ2h0K259KTtyZXR1cm5be3g6ci5sZWZ0LHk6aShyKSxjZWxsOmV9LHt4OnIucmlnaHQseTppKHIpLGNlbGw6ZX1dfSkpLGZ1bmN0aW9uKGUpe3JldHVybiB0KGUsbyl9KTtyZXR1cm4odT1mLHM9cixjPW8sSC5mb2xkbCh1LGZ1bmN0aW9uKGUscil7cmV0dXJuIGUuZm9sZChmdW5jdGlvbigpe3JldHVybiBBLnNvbWUocil9LGZ1bmN0aW9uKGUpe3ZhciB0PU1hdGguc3FydChNYXRoLmFicyhlLngtcykrTWF0aC5hYnMoZS55LWMpKSxuPU1hdGguc3FydChNYXRoLmFicyhyLngtcykrTWF0aC5hYnMoci55LWMpKTtyZXR1cm4gQS5zb21lKG48dD9yOmUpfSl9LEEubm9uZSgpKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNlbGx9KX0seXU9Vi5jdXJyeSh2dSxmdW5jdGlvbihlKXtyZXR1cm4gZS5ib3R0b219LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUueTx0fSksYnU9Vi5jdXJyeSh2dSxmdW5jdGlvbihlKXtyZXR1cm4gZS50b3B9LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUueT50fSksQ3U9ZnVuY3Rpb24odCxuKXtyZXR1cm4gSC5oZWFkKG4uZ2V0Q2xpZW50UmVjdHMoKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4geXUodCxlLmxlZnQsZS50b3ApfSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gZnUoKHQ9ZSxRYS5sYXN0UG9zaXRpb25Jbih0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGR1KHQsZSkucG9zaXRpb25zLmNvbmNhdChlKX0pLmdldE9yKFtdKSksbik7dmFyIHR9KX0seHU9ZnVuY3Rpb24odCxuKXtyZXR1cm4gSC5sYXN0KG4uZ2V0Q2xpZW50UmVjdHMoKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gYnUodCxlLmxlZnQsZS50b3ApfSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gZnUoKHQ9ZSxRYS5maXJzdFBvc2l0aW9uSW4odCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybltlXS5jb25jYXQobXUodCxlKS5wb3NpdGlvbnMpfSkuZ2V0T3IoW10pKSxuKTt2YXIgdH0pfSx3dT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPTAscj1lO3ImJnIubm9kZVR5cGU7KXQrPXIub2Zmc2V0TGVmdHx8MCxuKz1yLm9mZnNldFRvcHx8MCxyPXIub2Zmc2V0UGFyZW50O3JldHVybnt4OnQseTpufX0sTnU9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscz1lLmRvbSxjPXMuZ2V0Um9vdCgpLGw9MDtpZih1PXtlbG06dCxhbGlnblRvVG9wOm59LGUuZmlyZSgic2Nyb2xsSW50b1ZpZXciLHUpLCF1LmlzRGVmYXVsdFByZXZlbnRlZCgpJiZPby5pc0VsZW1lbnQodCkpe2lmKCExPT09biYmKGw9dC5vZmZzZXRIZWlnaHQpLCJCT0RZIiE9PWMubm9kZU5hbWUpe3ZhciBmPWUuc2VsZWN0aW9uLmdldFNjcm9sbENvbnRhaW5lcigpO2lmKGYpcmV0dXJuIHI9d3UodCkueS13dShmKS55K2wsYT1mLmNsaWVudEhlaWdodCx2b2lkKChyPChpPWYuc2Nyb2xsVG9wKXx8aSthPHIrMjUpJiYoZi5zY3JvbGxUb3A9cjxpP3I6ci1hKzI1KSl9bz1zLmdldFZpZXdQb3J0KGUuZ2V0V2luKCkpLHI9cy5nZXRQb3ModCkueStsLGk9by55LGE9by5oLChyPG8ueXx8aSthPHIrMjUpJiZlLmdldFdpbigpLnNjcm9sbFRvKDAscjxpP3I6ci1hKzI1KX19LEV1PWZ1bmN0aW9uKGQsZSl7SC5oZWFkKERhLmZyb21SYW5nZVN0YXJ0KGUpLmdldENsaWVudFJlY3RzKCkpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLHUscyxjLGw9ZnVuY3Rpb24oZSl7aWYoZS5pbmxpbmUpcmV0dXJuIGUuZ2V0Qm9keSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciB0PWUuZ2V0V2luKCk7cmV0dXJue2xlZnQ6MCxyaWdodDp0LmlubmVyV2lkdGgsdG9wOjAsYm90dG9tOnQuaW5uZXJIZWlnaHQsd2lkdGg6dC5pbm5lcldpZHRoLGhlaWdodDp0LmlubmVySGVpZ2h0fX0oZCksZj17eDooaT10PWwsYT1uPWUsYS5sZWZ0PmkubGVmdCYmYS5yaWdodDxpLnJpZ2h0PzA6YS5sZWZ0PGkubGVmdD9hLmxlZnQtaS5sZWZ0OmEucmlnaHQtaS5yaWdodCkseToocj10LG89bixvLnRvcD5yLnRvcCYmby5ib3R0b208ci5ib3R0b20/MDpvLnRvcDxyLnRvcD9vLnRvcC1yLnRvcDpvLmJvdHRvbS1yLmJvdHRvbSl9O3M9MCE9PWYueD8wPGYueD9mLngrNDpmLngtNDowLGM9MCE9PWYueT8wPGYueT9mLnkrNDpmLnktNDowLCh1PWQpLmlubGluZT8odS5nZXRCb2R5KCkuc2Nyb2xsTGVmdCs9cyx1LmdldEJvZHkoKS5zY3JvbGxUb3ArPWMpOnUuZ2V0V2luKCkuc2Nyb2xsQnkocyxjKX0pfSxTdT1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5nZXRQYXJhbSh0LG4pO2lmKC0xIT09ci5pbmRleE9mKCI9Iikpe3ZhciBvPWUuZ2V0UGFyYW0odCwiIiwiaGFzaCIpO3JldHVybiBvLmhhc093blByb3BlcnR5KGUuaWQpP29bZS5pZF06bn1yZXR1cm4gcn0sa3U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oImlmcmFtZV9hdHRycyIse30pfSxUdT1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgiZG9jdHlwZSIsIjwhRE9DVFlQRSBodG1sPiIpfSxBdT1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgiZG9jdW1lbnRfYmFzZV91cmwiLCIiKX0sUnU9ZnVuY3Rpb24oZSl7cmV0dXJuIFN1KGUsImJvZHlfaWQiLCJ0aW55bWNlIil9LF91PWZ1bmN0aW9uKGUpe3JldHVybiBTdShlLCJib2R5X2NsYXNzIiwiIil9LEJ1PWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBhcmFtKCJjb250ZW50X3NlY3VyaXR5X3BvbGljeSIsIiIpfSxEdT1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgiYnJfaW5fcHJlIiwhMCl9LE91PWZ1bmN0aW9uKGUpe2lmKGUuZ2V0UGFyYW0oImZvcmNlX3BfbmV3bGluZXMiLCExKSlyZXR1cm4icCI7dmFyIHQ9ZS5nZXRQYXJhbSgiZm9yY2VkX3Jvb3RfYmxvY2siLCJwIik7cmV0dXJuITE9PT10PyIiOnR9LFB1PWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBhcmFtKCJmb3JjZWRfcm9vdF9ibG9ja19hdHRycyIse30pfSxMdT1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgiYnJfbmV3bGluZV9zZWxlY3RvciIsIi5tY2UtdG9jIGgyLGZpZ2NhcHRpb24sY2FwdGlvbiIpfSxJdT1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgibm9fbmV3bGluZV9zZWxlY3RvciIsIiIpfSxNdT1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRQYXJhbSgia2VlcF9zdHlsZXMiLCEwKX0sRnU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGFyYW0oImVuZF9jb250YWluZXJfb25fZW1wdHlfYmxvY2siLCExKX0senU9ZnVuY3Rpb24oZSl7cmV0dXJuIEl0LmV4cGxvZGUoZS5nZXRQYXJhbSgiZm9udF9zaXplX3N0eWxlX3ZhbHVlcyIsIiIpKX0sVXU9ZnVuY3Rpb24oZSl7cmV0dXJuIEl0LmV4cGxvZGUoZS5nZXRQYXJhbSgiZm9udF9zaXplX2NsYXNzZXMiLCIiKSl9LHF1PWZ1bmN0aW9uKHQsbil7JHIucGFyZW50KHQpLmVhY2goZnVuY3Rpb24oZSl7ZS5kb20oKS5pbnNlcnRCZWZvcmUobi5kb20oKSx0LmRvbSgpKX0pfSxWdT1mdW5jdGlvbihlLHQpe2UuZG9tKCkuYXBwZW5kQ2hpbGQodC5kb20oKSl9LEh1PXtiZWZvcmU6cXUsYWZ0ZXI6ZnVuY3Rpb24oZSx0KXskci5uZXh0U2libGluZyhlKS5mb2xkKGZ1bmN0aW9uKCl7JHIucGFyZW50KGUpLmVhY2goZnVuY3Rpb24oZSl7VnUoZSx0KX0pfSxmdW5jdGlvbihlKXtxdShlLHQpfSl9LHByZXBlbmQ6ZnVuY3Rpb24odCxuKXskci5maXJzdENoaWxkKHQpLmZvbGQoZnVuY3Rpb24oKXtWdSh0LG4pfSxmdW5jdGlvbihlKXt0LmRvbSgpLmluc2VydEJlZm9yZShuLmRvbSgpLGUuZG9tKCkpfSl9LGFwcGVuZDpWdSxhcHBlbmRBdDpmdW5jdGlvbihlLHQsbil7JHIuY2hpbGQoZSxuKS5mb2xkKGZ1bmN0aW9uKCl7VnUoZSx0KX0sZnVuY3Rpb24oZSl7cXUoZSx0KX0pfSx3cmFwOmZ1bmN0aW9uKGUsdCl7cXUoZSx0KSxWdSh0LGUpfX0sanU9VW4uZGV0ZWN0KCkuYnJvd3NlciwkdT1mdW5jdGlvbigpe3JldHVybiBqdS5pc0lFKCl8fGp1LmlzRWRnZSgpfHxqdS5pc0ZpcmVmb3goKX0sV3U9ZnVuY3Rpb24oZSx0KXtlLnNlbGVjdGlvbi5zZXRSbmcodCksRXUoZSx0KX0sS3U9ZnVuY3Rpb24odCxuLGUpe3ZhciByPXQobixlKTtyZXR1cm4gci5icmVha1R5cGU9PT1PYS5XcmFwJiYwPT09ci5wb3NpdGlvbnMubGVuZ3RoP3IuYnJlYWtBdC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQobixlKS5icmVha0F0LmlzTm9uZSgpfSkuZ2V0T3IoITApOnIuYnJlYWtBdC5pc05vbmUoKX0sWHU9ZGEuY3VycnkoS3UsZHUpLFl1PWRhLmN1cnJ5KEt1LG11KSxHdT1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzPWUuc2VsZWN0aW9uLmdldFJuZygpLGM9dD8xOi0xO2lmKCR1KCkmJihvPXQsaT1zLGE9bix1PUxhLmZyb21SYW5nZVN0YXJ0KGkpLFFhLnBvc2l0aW9uSW4oIW8sYSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRXF1YWwodSl9KS5nZXRPcighMSkpKXt2YXIgbD10dShjLGUsbiwhdCwhMCk7cmV0dXJuIFd1KGUsbCksITB9cmV0dXJuITF9LEp1PWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5nZXROb2RlKGUpO3JldHVybiBPby5pc0VsZW1lbnQobikmJiJUQUJMRSI9PT1uLm5vZGVOYW1lP0Euc29tZShuKTpBLm5vbmUoKX0sUXU9ZnVuY3Rpb24odSxzLGMpe3ZhciBlPUp1KCEhcyxjKSx0PSExPT09cztlLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gV3UodSxjLnRvUmFuZ2UoKSl9LGZ1bmN0aW9uKGEpe3JldHVybiBRYS5wb3NpdGlvbkluKHQsdS5nZXRCb2R5KCkpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0VxdWFsKGMpfSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBXdSh1LGMudG9SYW5nZSgpKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG49cyxvPWEsdD1jLHZvaWQoKGk9T3Uocj11KSk/ci51bmRvTWFuYWdlci50cmFuc2FjdChmdW5jdGlvbigpe3ZhciBlPVZuLmZyb21UYWcoaSk7bHIuc2V0QWxsKGUsUHUocikpLEh1LmFwcGVuZChlLFZuLmZyb21UYWcoImJyIikpLG4/SHUuYWZ0ZXIoVm4uZnJvbURvbShvKSxlKTpIdS5iZWZvcmUoVm4uZnJvbURvbShvKSxlKTt2YXIgdD1yLmRvbS5jcmVhdGVSbmcoKTt0LnNldFN0YXJ0KGUuZG9tKCksMCksdC5zZXRFbmQoZS5kb20oKSwwKSxXdShyLHQpfSk6V3Uocix0LnRvUmFuZ2UoKSkpO3ZhciBuLHIsbyx0LGl9KX0pfSxadT1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzLGMsbD1lLnNlbGVjdGlvbi5nZXRSbmcoKSxmPUxhLmZyb21SYW5nZVN0YXJ0KGwpLGQ9ZS5nZXRCb2R5KCk7aWYoIXQmJlh1KHIsZikpe3ZhciBtPSh1PWQsQ3Uocz1uLGM9Zikub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBILmhlYWQoYy5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBsdShwdSh1LExhLmJlZm9yZShzKSksZS5sZWZ0KX0pfSkuZ2V0T3IoTGEuYmVmb3JlKHMpKSk7cmV0dXJuIFF1KGUsdCxtKSwhMH1yZXR1cm4hKCF0fHwhWXUocixmKSkmJihvPWQsbT14dShpPW4sYT1mKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIEguaGVhZChhLmdldENsaWVudFJlY3RzKCkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGx1KGd1KG8sTGEuYWZ0ZXIoaSkpLGUubGVmdCl9KX0pLmdldE9yKExhLmFmdGVyKGkpKSxRdShlLHQsbSksITApfSxlcz1mdW5jdGlvbih0LG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBBLmZyb20odC5kb20uZ2V0UGFyZW50KHQuc2VsZWN0aW9uLmdldE5vZGUoKSwidGQsdGgiKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gQS5mcm9tKHQuZG9tLmdldFBhcmVudChlLCJ0YWJsZSIpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEd1KHQsbixlKX0pfSkuZ2V0T3IoITEpfX0sdHM9ZnVuY3Rpb24obixyKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gQS5mcm9tKG4uZG9tLmdldFBhcmVudChuLnNlbGVjdGlvbi5nZXROb2RlKCksInRkLHRoIikpLmJpbmQoZnVuY3Rpb24odCl7cmV0dXJuIEEuZnJvbShuLmRvbS5nZXRQYXJlbnQodCwidGFibGUiKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBadShuLHIsZSx0KX0pfSkuZ2V0T3IoITEpfX0sbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSxuPWZ1bmN0aW9uKCl7cmV0dXJuIHR9O3JldHVybntnZXQ6bixzZXQ6ZnVuY3Rpb24oZSl7dD1lfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBucyhuKCkpfX19LHJzPU9vLmlzQ29udGVudEVkaXRhYmxlRmFsc2Usb3M9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscz1uYSh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG4pO3JldHVybiJCT0RZIj09PWUudGFnTmFtZT8ocj1lLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LG89ZS5zY3JvbGxMZWZ0fHxyLnNjcm9sbExlZnQsaT1lLnNjcm9sbFRvcHx8ci5zY3JvbGxUb3ApOih1PWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1lLnNjcm9sbExlZnQtdS5sZWZ0LGk9ZS5zY3JvbGxUb3AtdS50b3ApLHMubGVmdCs9byxzLnJpZ2h0Kz1vLHMudG9wKz1pLHMuYm90dG9tKz1pLHMud2lkdGg9MSwwPChhPXQub2Zmc2V0V2lkdGgtdC5jbGllbnRXaWR0aCkmJihuJiYoYSo9LTEpLHMubGVmdCs9YSxzLnJpZ2h0Kz1hKSxzfSxpcz1mdW5jdGlvbihhLHUsZSl7dmFyIHQscyxjPW5zKEEubm9uZSgpKSxsPWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGk7Zm9yKHQ9dG4oIipbY29udGVudEVkaXRhYmxlPWZhbHNlXSIsZSksbz0wO288dC5sZW5ndGg7bysrKXI9KG49dFtvXSkucHJldmlvdXNTaWJsaW5nLHFpKHIpJiYoMT09PShpPXIuZGF0YSkubGVuZ3RoP3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKTpyLmRlbGV0ZURhdGEoaS5sZW5ndGgtMSwxKSkscj1uLm5leHRTaWJsaW5nLFVpKHIpJiYoMT09PShpPXIuZGF0YSkubGVuZ3RoP3IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKTpyLmRlbGV0ZURhdGEoMCwxKSl9KGEpLHMmJigkYS5yZW1vdmUocykscz1udWxsKSxjLmdldCgpLmVhY2goZnVuY3Rpb24oZSl7dG4oZS5jYXJldCkucmVtb3ZlKCksYy5zZXQoQS5ub25lKCkpfSksY2xlYXJJbnRlcnZhbCh0KX0sZj1mdW5jdGlvbigpe3Q9d2Uuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlKCk/dG4oImRpdi5tY2UtdmlzdWFsLWNhcmV0IixhKS50b2dnbGVDbGFzcygibWNlLXZpc3VhbC1jYXJldC1oaWRkZW4iKTp0bigiZGl2Lm1jZS12aXN1YWwtY2FyZXQiLGEpLmFkZENsYXNzKCJtY2UtdmlzdWFsLWNhcmV0LWhpZGRlbiIpfSw1MDApfTtyZXR1cm57c2hvdzpmdW5jdGlvbih0LGUpe3ZhciBuLHIsbztpZihsKCksbz1lLE9vLmlzRWxlbWVudChvKSYmL14oVER8VEgpJC9pLnRlc3Qoby50YWdOYW1lKSlyZXR1cm4gbnVsbDtpZighdShlKSlyZXR1cm4gcz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbztpZihyPWUub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShSaSksbz1lLnBhcmVudE5vZGUsdCl7aWYobj1lLnByZXZpb3VzU2libGluZyxEaShuKSl7aWYoTGkobikpcmV0dXJuIG47aWYocWkobikpcmV0dXJuIG4uc3BsaXRUZXh0KG4uZGF0YS5sZW5ndGgtMSl9by5pbnNlcnRCZWZvcmUocixlKX1lbHNle2lmKG49ZS5uZXh0U2libGluZyxEaShuKSl7aWYoTGkobikpcmV0dXJuIG47aWYoVWkobikpcmV0dXJuIG4uc3BsaXRUZXh0KDEpLG59ZS5uZXh0U2libGluZz9vLmluc2VydEJlZm9yZShyLGUubmV4dFNpYmxpbmcpOm8uYXBwZW5kQ2hpbGQocil9cmV0dXJuIHJ9KGUsdCkscj1lLm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxycyhzLm5leHRTaWJsaW5nKT8oci5zZXRTdGFydChzLDApLHIuc2V0RW5kKHMsMCkpOihyLnNldFN0YXJ0KHMsMSksci5zZXRFbmQocywxKSkscjtzPXppKCJwIixlLHQpLG49b3MoYSxlLHQpLHRuKHMpLmNzcygidG9wIixuLnRvcCk7dmFyIGk9dG4oJzxkaXYgY2xhc3M9Im1jZS12aXN1YWwtY2FyZXQiIGRhdGEtbWNlLWJvZ3VzPSJhbGwiPjwvZGl2PicpLmNzcyhuKS5hcHBlbmRUbyhhKVswXTtyZXR1cm4gYy5zZXQoQS5zb21lKHtjYXJldDppLGVsZW1lbnQ6ZSxiZWZvcmU6dH0pKSxjLmdldCgpLmVhY2goZnVuY3Rpb24oZSl7dCYmdG4oZS5jYXJldCkuYWRkQ2xhc3MoIm1jZS12aXN1YWwtY2FyZXQtYmVmb3JlIil9KSxmKCksKHI9ZS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KHMsMCksci5zZXRFbmQocywwKSxyfSxoaWRlOmwsZ2V0Q3NzOmZ1bmN0aW9uKCl7cmV0dXJuIi5tY2UtdmlzdWFsLWNhcmV0IHtwb3NpdGlvbjogYWJzb2x1dGU7YmFja2dyb3VuZC1jb2xvcjogYmxhY2s7YmFja2dyb3VuZC1jb2xvcjogY3VycmVudGNvbG9yO30ubWNlLXZpc3VhbC1jYXJldC1oaWRkZW4ge2Rpc3BsYXk6IG5vbmU7fSpbZGF0YS1tY2UtY2FyZXRdIHtwb3NpdGlvbjogYWJzb2x1dGU7bGVmdDogLTEwMDBweDtyaWdodDogYXV0bzt0b3A6IDA7bWFyZ2luOiAwO3BhZGRpbmc6IDA7fSJ9LHJlcG9zaXRpb246ZnVuY3Rpb24oKXtjLmdldCgpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9b3MoYSxlLmVsZW1lbnQsZS5iZWZvcmUpO3RuKGUuY2FyZXQpLmNzcyh0KX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7cmV0dXJuIHdlLmNsZWFySW50ZXJ2YWwodCl9fX0sYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHJzKGUpfHxPby5pc1RhYmxlKGUpJiYkdSgpfSx1cz1Pby5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlLHNzPU9vLm1hdGNoU3R5bGVWYWx1ZXMoImRpc3BsYXkiLCJibG9jayB0YWJsZSB0YWJsZS1jZWxsIHRhYmxlLWNhcHRpb24gbGlzdC1pdGVtIiksY3M9TGksbHM9T2ksZnM9ZGEuY3VycnksZHM9T28uaXNFbGVtZW50LG1zPUppLHBzPWZ1bmN0aW9uKGUpe3JldHVybiAwPGV9LGdzPWZ1bmN0aW9uKGUpe3JldHVybiBlPDB9LGhzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuO249ZSh0KTspaWYoIWxzKG4pKXJldHVybiBuO3JldHVybiBudWxsfSx2cz1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPW5ldyBhbyhlLHIpO2lmKGdzKHQpKXtpZigodXMoZSl8fGxzKGUpKSYmbihlPWhzKGkucHJldiwhMCkpKXJldHVybiBlO2Zvcig7ZT1ocyhpLnByZXYsbyk7KWlmKG4oZSkpcmV0dXJuIGV9aWYocHModCkpe2lmKCh1cyhlKXx8bHMoZSkpJiZuKGU9aHMoaS5uZXh0LCEwKSkpcmV0dXJuIGU7Zm9yKDtlPWhzKGkubmV4dCxvKTspaWYobihlKSlyZXR1cm4gZX1yZXR1cm4gbnVsbH0seXM9ZnVuY3Rpb24oZSx0KXtmb3IoO2UmJmUhPT10Oyl7aWYoc3MoZSkpcmV0dXJuIGU7ZT1lLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9LGJzPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4geXMoZS5jb250YWluZXIoKSxuKT09PXlzKHQuY29udGFpbmVyKCksbil9LENzPWZ1bmN0aW9uKGUsdCl7dmFyIG4scjtyZXR1cm4gdD8obj10LmNvbnRhaW5lcigpLHI9dC5vZmZzZXQoKSxkcyhuKT9uLmNoaWxkTm9kZXNbcitlXTpudWxsKTpudWxsfSx4cz1mdW5jdGlvbihlLHQpe3ZhciBuPXQub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybiBlPyhuLnNldFN0YXJ0QmVmb3JlKHQpLG4uc2V0RW5kQmVmb3JlKHQpKToobi5zZXRTdGFydEFmdGVyKHQpLG4uc2V0RW5kQWZ0ZXIodCkpLG59LHdzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYTtmb3Iobz1lPyJwcmV2aW91c1NpYmxpbmciOiJuZXh0U2libGluZyI7biYmbiE9PXQ7KXtpZihyPW5bb10sY3MocikmJihyPXJbb10pLHVzKHIpKXtpZihhPW4seXMocixpPXQpPT09eXMoYSxpKSlyZXR1cm4gcjticmVha31pZihtcyhyKSlicmVhaztuPW4ucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0sTnM9ZnMoeHMsITApLEVzPWZzKHhzLCExKSxTcz1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdT1mcyh3cywhMCx0KSxzPWZzKHdzLCExLHQpO2lmKG89bi5zdGFydENvbnRhaW5lcixpPW4uc3RhcnRPZmZzZXQsT2kobykpe2lmKGRzKG8pfHwobz1vLnBhcmVudE5vZGUpLCJiZWZvcmUiPT09KGE9by5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0IikpJiYocj1vLm5leHRTaWJsaW5nLGFzKHIpKSlyZXR1cm4gTnMocik7aWYoImFmdGVyIj09PWEmJihyPW8ucHJldmlvdXNTaWJsaW5nLGFzKHIpKSlyZXR1cm4gRXMocil9aWYoIW4uY29sbGFwc2VkKXJldHVybiBuO2lmKE9vLmlzVGV4dChvKSl7aWYoY3Mobykpe2lmKDE9PT1lKXtpZihyPXMobykpcmV0dXJuIE5zKHIpO2lmKHI9dShvKSlyZXR1cm4gRXMocil9aWYoLTE9PT1lKXtpZihyPXUobykpcmV0dXJuIEVzKHIpO2lmKHI9cyhvKSlyZXR1cm4gTnMocil9cmV0dXJuIG59aWYocWkobykmJmk+PW8uZGF0YS5sZW5ndGgtMSlyZXR1cm4gMT09PWUmJihyPXMobykpP05zKHIpOm47aWYoVWkobykmJmk8PTEpcmV0dXJuLTE9PT1lJiYocj11KG8pKT9FcyhyKTpuO2lmKGk9PT1vLmRhdGEubGVuZ3RoKXJldHVybihyPXMobykpP05zKHIpOm47aWYoMD09PWkpcmV0dXJuKHI9dShvKSk/RXMocik6bn1yZXR1cm4gbn0sa3M9ZnVuY3Rpb24oZSx0KXt2YXIgbj1DcyhlLHQpO3JldHVybiB1cyhuKSYmIU9vLmlzQm9ndXNBbGwobil9LFRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9vLmlzVGFibGUoQ3MoZSx0KSl9LEFzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEEuZnJvbShDcyhlPzA6LTEsdCkpLmZpbHRlcih1cyl9LFJzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TcyhlLHQsbik7cmV0dXJuLTE9PT1lP0RhLmZyb21SYW5nZVN0YXJ0KHIpOkRhLmZyb21SYW5nZUVuZChyKX0sX3M9ZnMoa3MsMCksQnM9ZnMoa3MsLTEpLERzPWZzKFRzLDApLE9zPWZzKFRzLC0xKTsoYXU9aXV8fChpdT17fSkpW2F1LkJhY2t3YXJkcz0tMV09IkJhY2t3YXJkcyIsYXVbYXUuRm9yd2FyZHM9MV09IkZvcndhcmRzIjt2YXIgUHMsTHMsSXMsTXMsRnMsenM9T28uaXNDb250ZW50RWRpdGFibGVGYWxzZSxVcz1Pby5pc1RleHQscXM9T28uaXNFbGVtZW50LFZzPU9vLmlzQnIsSHM9SmksanM9ZnVuY3Rpb24oZSl7cmV0dXJuIFhpKGUpfHwhIVFpKHQ9ZSkmJiEwIT09QnQucmVkdWNlKHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSxmdW5jdGlvbihlLHQpe3JldHVybiBlfHxIaSh0KX0sITEpO3ZhciB0fSwkcz1aaSxXcz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmhhc0NoaWxkTm9kZXMoKSYmdDxlLmNoaWxkTm9kZXMubGVuZ3RoP2UuY2hpbGROb2Rlc1t0XTpudWxsfSxLcz1mdW5jdGlvbihlLHQpe2lmKHBzKGUpKXtpZihIcyh0LnByZXZpb3VzU2libGluZykmJiFVcyh0LnByZXZpb3VzU2libGluZykpcmV0dXJuIExhLmJlZm9yZSh0KTtpZihVcyh0KSlyZXR1cm4gTGEodCwwKX1pZihncyhlKSl7aWYoSHModC5uZXh0U2libGluZykmJiFVcyh0Lm5leHRTaWJsaW5nKSlyZXR1cm4gTGEuYWZ0ZXIodCk7aWYoVXModCkpcmV0dXJuIExhKHQsdC5kYXRhLmxlbmd0aCl9cmV0dXJuIGdzKGUpP1ZzKHQpP0xhLmJlZm9yZSh0KTpMYS5hZnRlcih0KTpMYS5iZWZvcmUodCl9LFhzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1O2lmKCFxcyhuKXx8IXQpcmV0dXJuIG51bGw7aWYodC5pc0VxdWFsKExhLmFmdGVyKG4pKSYmbi5sYXN0Q2hpbGQpe2lmKHU9TGEuYWZ0ZXIobi5sYXN0Q2hpbGQpLGdzKGUpJiZIcyhuLmxhc3RDaGlsZCkmJnFzKG4ubGFzdENoaWxkKSlyZXR1cm4gVnMobi5sYXN0Q2hpbGQpP0xhLmJlZm9yZShuLmxhc3RDaGlsZCk6dX1lbHNlIHU9dDt2YXIgcyxjLGwsZj11LmNvbnRhaW5lcigpLGQ9dS5vZmZzZXQoKTtpZihVcyhmKSl7aWYoZ3MoZSkmJjA8ZClyZXR1cm4gTGEoZiwtLWQpO2lmKHBzKGUpJiZkPGYubGVuZ3RoKXJldHVybiBMYShmLCsrZCk7cj1mfWVsc2V7aWYoZ3MoZSkmJjA8ZCYmKG89V3MoZixkLTEpLEhzKG8pKSlyZXR1cm4hanMobykmJihpPXZzKG8sZSwkcyxvKSk/VXMoaSk/TGEoaSxpLmRhdGEubGVuZ3RoKTpMYS5hZnRlcihpKTpVcyhvKT9MYShvLG8uZGF0YS5sZW5ndGgpOkxhLmJlZm9yZShvKTtpZihwcyhlKSYmZDxmLmNoaWxkTm9kZXMubGVuZ3RoJiYobz1XcyhmLGQpLEhzKG8pKSlyZXR1cm4gVnMobykmJm4ubGFzdENoaWxkPT09bz9udWxsOihzPW8sYz1uLE9vLmlzQnIocykmJihsPVhzKDEsTGEuYWZ0ZXIocyksYykpJiYhYnMoTGEuYmVmb3JlKHMpLExhLmJlZm9yZShsKSxjKT9YcyhlLExhLmFmdGVyKG8pLG4pOiFqcyhvKSYmKGk9dnMobyxlLCRzLG8pKT9VcyhpKT9MYShpLDApOkxhLmJlZm9yZShpKTpVcyhvKT9MYShvLDApOkxhLmFmdGVyKG8pKTtyPW98fHUuZ2V0Tm9kZSgpfXJldHVybihwcyhlKSYmdS5pc0F0RW5kKCl8fGdzKGUpJiZ1LmlzQXRTdGFydCgpKSYmKHI9dnMocixlLGRhLmNvbnN0YW50KCEwKSxuLCEwKSwkcyhyLG4pKT9LcyhlLHIpOihvPXZzKHIsZSwkcyxuKSwhKGE9QnQubGFzdChCdC5maWx0ZXIoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W107ZSYmZSE9PXQ7KW4ucHVzaChlKSxlPWUucGFyZW50Tm9kZTtyZXR1cm4gbn0oZixuKSx6cykpKXx8byYmYS5jb250YWlucyhvKT9vP0tzKGUsbyk6bnVsbDp1PXBzKGUpP0xhLmFmdGVyKGEpOkxhLmJlZm9yZShhKSl9LFlzPWZ1bmN0aW9uKHQpe3JldHVybntuZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBYcyhpdS5Gb3J3YXJkcyxlLHQpfSxwcmV2OmZ1bmN0aW9uKGUpe3JldHVybiBYcyhpdS5CYWNrd2FyZHMsZSx0KX19fSxHcz1mdW5jdGlvbihlKXtyZXR1cm4gSXQuZ3JlcChlLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIkxJIj09PWUubm9kZU5hbWV9KX0sSnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuZmlyc3RDaGlsZCYmZS5maXJzdENoaWxkPT09ZS5sYXN0Q2hpbGQmJigiXHhhMCI9PT0odD1lLmZpcnN0Q2hpbGQpLmRhdGF8fE9vLmlzQnIodCkpO3ZhciB0fSxRcz1mdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aCYmKCEodD1lW2UubGVuZ3RoLTFdKS5maXJzdENoaWxkfHxKcyh0KSk/ZS5zbGljZSgwLC0xKTplO3ZhciB0fSxacz1mdW5jdGlvbihlLHQpe3ZhciBuPWUuZ2V0UGFyZW50KHQsZS5pc0Jsb2NrKTtyZXR1cm4gbiYmIkxJIj09PW4ubm9kZU5hbWU/bjpudWxsfSxlYz1mdW5jdGlvbihlLHQpe3ZhciBuPUxhLmFmdGVyKGUpLHI9WXModCkucHJldihuKTtyZXR1cm4gcj9yLnRvUmFuZ2UoKTpudWxsfSx0Yz1mdW5jdGlvbih0LGUsbil7dmFyIHIsbyxpLGEsdT10LnBhcmVudE5vZGU7cmV0dXJuIEl0LmVhY2goZSxmdW5jdGlvbihlKXt1Lmluc2VydEJlZm9yZShlLHQpfSkscj10LG89bixpPUxhLmJlZm9yZShyKSwoYT1ZcyhvKS5uZXh0KGkpKT9hLnRvUmFuZ2UoKTpudWxsfSxuYz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEsdSxzPXQuZmlyc3RDaGlsZCxjPXQubGFzdENoaWxkO3JldHVybiBzJiYibWV0YSI9PT1zLm5hbWUmJihzPXMubmV4dCksYyYmIm1jZV9tYXJrZXIiPT09Yy5hdHRyKCJpZCIpJiYoYz1jLnByZXYpLHI9Yyx1PShuPWUpLmdldE5vbkVtcHR5RWxlbWVudHMoKSxyJiYoci5pc0VtcHR5KHUpfHwobz1yLG4uZ2V0QmxvY2tFbGVtZW50cygpW28ubmFtZV0mJihhPW8pLmZpcnN0Q2hpbGQmJmEuZmlyc3RDaGlsZD09PWEubGFzdENoaWxkJiYoImJyIj09PShpPW8uZmlyc3RDaGlsZCkubmFtZXx8Ilx4YTAiPT09aS52YWx1ZSkpKSYmKGM9Yy5wcmV2KSwhKCFzfHxzIT09Y3x8InVsIiE9PXMubmFtZSYmIm9sIiE9PXMubmFtZSl9LHJjPWZ1bmN0aW9uKGUsbyxpLHQpe3ZhciBuLHIsYSx1LHMsYyxsLGYsZCxtLHAsZyxoLHYseSxiLEMseCx3LE49KG49byxyPXQsYz1lLnNlcmlhbGl6ZShyKSxsPW4uY3JlYXRlRnJhZ21lbnQoYyksdT0oYT1sKS5maXJzdENoaWxkLHM9YS5sYXN0Q2hpbGQsdSYmIk1FVEEiPT09dS5ub2RlTmFtZSYmdS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHUpLHMmJiJtY2VfbWFya2VyIj09PXMuaWQmJnMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzKSxhKSxFPVpzKG8saS5zdGFydENvbnRhaW5lciksUz1RcyhHcyhOLmZpcnN0Q2hpbGQpKSxrPW8uZ2V0Um9vdCgpLFQ9ZnVuY3Rpb24oZSl7dmFyIHQ9TGEuZnJvbVJhbmdlU3RhcnQoaSksbj1ZcyhvLmdldFJvb3QoKSkscj0xPT09ZT9uLnByZXYodCk6bi5uZXh0KHQpO3JldHVybiFyfHxacyhvLHIuZ2V0Tm9kZSgpKSE9PUV9O3JldHVybiBUKDEpP3RjKEUsUyxrKTpUKDIpPyhmPUUsZD1TLG09ayxvLmluc2VydEFmdGVyKGQucmV2ZXJzZSgpLGYpLGVjKGRbMF0sbSkpOihnPVMsaD1rLHY9cD1FLGI9KHk9aSkuY2xvbmVSYW5nZSgpLEM9eS5jbG9uZVJhbmdlKCksYi5zZXRTdGFydEJlZm9yZSh2KSxDLnNldEVuZEFmdGVyKHYpLHg9W2IuY2xvbmVDb250ZW50cygpLEMuY2xvbmVDb250ZW50cygpXSwodz1wLnBhcmVudE5vZGUpLmluc2VydEJlZm9yZSh4WzBdLHApLEl0LmVhY2goZyxmdW5jdGlvbihlKXt3Lmluc2VydEJlZm9yZShlLHApfSksdy5pbnNlcnRCZWZvcmUoeFsxXSxwKSx3LnJlbW92ZUNoaWxkKHApLGVjKGdbZy5sZW5ndGgtMV0saCkpfSxvYz1mdW5jdGlvbihlLHQpe3JldHVybiEhWnMoZSx0KX0saWM9T28uaXNUZXh0LGFjPU9vLmlzQm9ndXMsdWM9dmkubm9kZUluZGV4LHNjPWZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gYWModCk/c2ModCk6dH0sY2M9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/QnQucmVkdWNlKGUuY2hpbGROb2RlcyxmdW5jdGlvbihlLHQpe3JldHVybiBhYyh0KSYmIkJSIiE9PXQubm9kZU5hbWU/ZT1lLmNvbmNhdChjYyh0KSk6ZS5wdXNoKHQpLGV9LFtdKTpbXX0sbGM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZX19LGZjPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbixvO3JldHVybihpYyhlKT8idGV4dCgpIjplLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKyJbIisocj1jYyhzYyh0PWUpKSxuPUJ0LmZpbmRJbmRleChyLGxjKHQpLHQpLHI9ci5zbGljZSgwLG4rMSksbz1CdC5yZWR1Y2UocixmdW5jdGlvbihlLHQsbil7cmV0dXJuIGljKHQpJiZpYyhyW24tMV0pJiZlKyssZX0sMCkscj1CdC5maWx0ZXIocixPby5tYXRjaE5vZGVOYW1lcyh0Lm5vZGVOYW1lKSksKG49QnQuZmluZEluZGV4KHIsbGModCksdCkpLW8pKyJdIn0sZGM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhLHU9W107cmV0dXJuIG49dC5jb250YWluZXIoKSxyPXQub2Zmc2V0KCksaWMobik/bz1mdW5jdGlvbihlLHQpe2Zvcig7KGU9ZS5wcmV2aW91c1NpYmxpbmcpJiZpYyhlKTspdCs9ZS5kYXRhLmxlbmd0aDtyZXR1cm4gdH0obixyKToocj49KGk9bi5jaGlsZE5vZGVzKS5sZW5ndGg/KG89ImFmdGVyIixyPWkubGVuZ3RoLTEpOm89ImJlZm9yZSIsbj1pW3JdKSx1LnB1c2goZmMobikpLGE9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdO2Zvcih0PXQucGFyZW50Tm9kZTshKHQ9PT1lfHxuJiZuKHQpKTt0PXQucGFyZW50Tm9kZSlyLnB1c2godCk7cmV0dXJuIHJ9KGUsbiksYT1CdC5maWx0ZXIoYSxkYS5uZWdhdGUoT28uaXNCb2d1cykpLCh1PXUuY29uY2F0KEJ0Lm1hcChhLGZ1bmN0aW9uKGUpe3JldHVybiBmYyhlKX0pKSkucmV2ZXJzZSgpLmpvaW4oIi8iKSsiLCIrb30sbWM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG87cmV0dXJuIHQ/KHQ9KG49dC5zcGxpdCgiLCIpKVswXS5zcGxpdCgiLyIpLG89MTxuLmxlbmd0aD9uWzFdOiJiZWZvcmUiLChyPUJ0LnJlZHVjZSh0LGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQ9LyhbXHdcLVwoXCldKylcWyhbMC05XSspXF0vLmV4ZWModCkpPygidGV4dCgpIj09PXRbMV0mJih0WzFdPSIjdGV4dCIpLG49ZSxyPXRbMV0sbz1wYXJzZUludCh0WzJdLDEwKSxpPWNjKG4pLGk9QnQuZmlsdGVyKGksZnVuY3Rpb24oZSx0KXtyZXR1cm4haWMoZSl8fCFpYyhpW3QtMV0pfSksKGk9QnQuZmlsdGVyKGksT28ubWF0Y2hOb2RlTmFtZXMocikpKVtvXSk6bnVsbDt2YXIgbixyLG8saX0sZSkpP2ljKHIpP2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9ZSxvPTA7aWMocik7KXtpZihuPXIuZGF0YS5sZW5ndGgsbzw9dCYmdDw9bytuKXtlPXIsdC09bzticmVha31pZighaWMoci5uZXh0U2libGluZykpe2U9cix0PW47YnJlYWt9bys9bixyPXIubmV4dFNpYmxpbmd9cmV0dXJuIGljKGUpJiZ0PmUuZGF0YS5sZW5ndGgmJih0PWUuZGF0YS5sZW5ndGgpLExhKGUsdCl9KHIscGFyc2VJbnQobywxMCkpOihvPSJhZnRlciI9PT1vP3VjKHIpKzE6dWMociksTGEoci5wYXJlbnROb2RlLG8pKTpudWxsKTpudWxsfSxwYz1Pby5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlLGdjPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYT1yW28/InN0YXJ0Q29udGFpbmVyIjoiZW5kQ29udGFpbmVyIl0sdT1yW28/InN0YXJ0T2Zmc2V0IjoiZW5kT2Zmc2V0Il0scz1bXSxjPTAsbD1lLmdldFJvb3QoKTtmb3IoT28uaXNUZXh0KGEpP3MucHVzaChuP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixvO2ZvcihvPWUodC5kYXRhLnNsaWNlKDAsbikpLmxlbmd0aCxyPXQucHJldmlvdXNTaWJsaW5nO3ImJk9vLmlzVGV4dChyKTtyPXIucHJldmlvdXNTaWJsaW5nKW8rPWUoci5kYXRhKS5sZW5ndGg7cmV0dXJuIG99KHQsYSx1KTp1KToodT49KGk9YS5jaGlsZE5vZGVzKS5sZW5ndGgmJmkubGVuZ3RoJiYoYz0xLHU9TWF0aC5tYXgoMCxpLmxlbmd0aC0xKSkscy5wdXNoKGUubm9kZUluZGV4KGlbdV0sbikrYykpO2EmJmEhPT1sO2E9YS5wYXJlbnROb2RlKXMucHVzaChlLm5vZGVJbmRleChhLG4pKTtyZXR1cm4gc30saGM9ZnVuY3Rpb24oZSl7T28uaXNUZXh0KGUpJiYwPT09ZS5kYXRhLmxlbmd0aCYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfSx2Yz1mdW5jdGlvbihlLHQsbil7dmFyIHI9MDtyZXR1cm4gSXQuZWFjaChlLnNlbGVjdCh0KSxmdW5jdGlvbihlKXtpZigiYWxsIiE9PWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpKXJldHVybiBlIT09biYmdm9pZCByKyt9KSxyfSx5Yz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpPXQ/InN0YXJ0IjoiZW5kIjtuPWVbaSsiQ29udGFpbmVyIl0scj1lW2krIk9mZnNldCJdLE9vLmlzRWxlbWVudChuKSYmIlRSIj09PW4ubm9kZU5hbWUmJihuPShvPW4uY2hpbGROb2RlcylbTWF0aC5taW4odD9yOnItMSxvLmxlbmd0aC0xKV0pJiYocj10PzA6bi5jaGlsZE5vZGVzLmxlbmd0aCxlWyJzZXQiKyh0PyJTdGFydCI6IkVuZCIpXShuLHIpKX0sYmM9ZnVuY3Rpb24oZSl7cmV0dXJuIHljKGUsITApLHljKGUsITEpLGV9LENjPWZ1bmN0aW9uKGUsdCl7dmFyIG47aWYoT28uaXNFbGVtZW50KGUpJiYoZT11YShlLHQpLHBjKGUpKSlyZXR1cm4gZTtpZihMaShlKSl7aWYoT28uaXNUZXh0KGUpJiZPaShlKSYmKGU9ZS5wYXJlbnROb2RlKSxuPWUucHJldmlvdXNTaWJsaW5nLHBjKG4pKXJldHVybiBuO2lmKG49ZS5uZXh0U2libGluZyxwYyhuKSlyZXR1cm4gbn19LHhjPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uLmdldE5vZGUoKSxvPXI/ci5ub2RlTmFtZTpudWxsLGk9bi5nZXRSbmcoKTtpZihwYyhyKXx8IklNRyI9PT1vKXJldHVybntuYW1lOm8saW5kZXg6dmMobi5kb20sbyxyKX07dmFyIGEsdSxzLGMsbCxmLGQsbT1DYygoYT1pKS5zdGFydENvbnRhaW5lcixhLnN0YXJ0T2Zmc2V0KXx8Q2MoYS5lbmRDb250YWluZXIsYS5lbmRPZmZzZXQpO3JldHVybiBtP3tuYW1lOm89bS50YWdOYW1lLGluZGV4OnZjKG4uZG9tLG8sbSl9Oih1PWUsYz10LGw9aSxmPShzPW4pLmRvbSwoZD17fSkuc3RhcnQ9Z2MoZix1LGMsbCwhMCkscy5pc0NvbGxhcHNlZCgpfHwoZC5lbmQ9Z2MoZix1LGMsbCwhMSkpLGQpfSx3Yz1mdW5jdGlvbihlLHQsbil7dmFyIHI9eyJkYXRhLW1jZS10eXBlIjoiYm9va21hcmsiLGlkOnQsc3R5bGU6Im92ZXJmbG93OmhpZGRlbjtsaW5lLWhlaWdodDowcHgifTtyZXR1cm4gbj9lLmNyZWF0ZSgic3BhbiIsciwiJiN4RkVGRjsiKTplLmNyZWF0ZSgic3BhbiIscil9LE5jPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5kb20scj1lLmdldFJuZygpLG89bi51bmlxdWVJZCgpLGk9ZS5pc0NvbGxhcHNlZCgpLGE9ZS5nZXROb2RlKCksdT1hLm5vZGVOYW1lO2lmKCJJTUciPT09dSlyZXR1cm57bmFtZTp1LGluZGV4OnZjKG4sdSxhKX07dmFyIHM9YmMoci5jbG9uZVJhbmdlKCkpO2lmKCFpKXtzLmNvbGxhcHNlKCExKTt2YXIgYz13YyhuLG8rIl9lbmQiLHQpO3MuaW5zZXJ0Tm9kZShjKSxoYyhjLm5leHRTaWJsaW5nKX0ocj1iYyhyKSkuY29sbGFwc2UoITApO3ZhciBsPXdjKG4sbysiX3N0YXJ0Iix0KTtyZXR1cm4gci5pbnNlcnROb2RlKGwpLGhjKGwucHJldmlvdXNTaWJsaW5nKSxlLm1vdmVUb0Jvb2ttYXJrKHtpZDpvLGtlZXA6MX0pLHtpZDpvfX0sRWM9e2dldEJvb2ttYXJrOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMj09PXQ/eGMoX2ksbixlKTozPT09dD8obz0ocj1lKS5nZXRSbmcoKSx7c3RhcnQ6ZGMoci5kb20uZ2V0Um9vdCgpLExhLmZyb21SYW5nZVN0YXJ0KG8pKSxlbmQ6ZGMoci5kb20uZ2V0Um9vdCgpLExhLmZyb21SYW5nZUVuZChvKSl9KTp0P3tybmc6ZS5nZXRSbmcoKX06TmMoZSwhMSk7dmFyIHIsb30sZ2V0VW5kb0Jvb2ttYXJrOlYuY3VycnkoeGMsVi5pZGVudGl0eSwhMCksZ2V0UGVyc2lzdGVudEJvb2ttYXJrOk5jfSxTYz0iX21jZV9jYXJldCIsa2M9ZnVuY3Rpb24oZSl7cmV0dXJuIE9vLmlzRWxlbWVudChlKSYmZS5pZD09PVNjfSxUYz1mdW5jdGlvbihlLHQpe2Zvcig7dCYmdCE9PWU7KXtpZih0LmlkPT09U2MpcmV0dXJuIHQ7dD10LnBhcmVudE5vZGV9cmV0dXJuIG51bGx9LEFjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWUuaXNCbG9jayh0KXx8dC5pbm5lckhUTUx8fHZlLmllfHwodC5pbm5lckhUTUw9JzxiciBkYXRhLW1jZS1ib2d1cz0iMSIgLz4nKSx0fSxSYz1mdW5jdGlvbihlLHQpe3JldHVybiBRYS5sYXN0UG9zaXRpb25JbihlKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuITF9LGZ1bmN0aW9uKGUpe3JldHVybiB0LnNldFN0YXJ0KGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSksdC5zZXRFbmQoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKSwhMH0pfSxfYz1mdW5jdGlvbihlLHQsbil7cmV0dXJuISghMSE9PXQuaGFzQ2hpbGROb2RlcygpfHwhVGMoZSx0KXx8KG89bixpPShyPXQpLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoUmkpLHIuYXBwZW5kQ2hpbGQoaSksby5zZXRTdGFydChpLDApLG8uc2V0RW5kKGksMCksMCkpO3ZhciByLG8saX0sQmM9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscz1uW3Q/InN0YXJ0IjoiZW5kIl0sYz1lLmdldFJvb3QoKTtpZihzKXtmb3IoYT1zWzBdLGk9YyxvPXMubGVuZ3RoLTE7MTw9bztvLS0pe2lmKHU9aS5jaGlsZE5vZGVzLF9jKGMsaSxyKSlyZXR1cm4hMDtpZihzW29dPnUubGVuZ3RoLTEpcmV0dXJuISFfYyhjLGkscil8fFJjKGkscik7aT11W3Nbb11dfTM9PT1pLm5vZGVUeXBlJiYoYT1NYXRoLm1pbihzWzBdLGkubm9kZVZhbHVlLmxlbmd0aCkpLDE9PT1pLm5vZGVUeXBlJiYoYT1NYXRoLm1pbihzWzBdLGkuY2hpbGROb2Rlcy5sZW5ndGgpKSx0P3Iuc2V0U3RhcnQoaSxhKTpyLnNldEVuZChpLGEpfXJldHVybiEwfSxEYz1mdW5jdGlvbihlKXtyZXR1cm4gT28uaXNUZXh0KGUpJiYwPGUuZGF0YS5sZW5ndGh9LE9jPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYz1lLmdldChuLmlkKyJfIit0KSxsPW4ua2VlcDtpZihjKXtpZihyPWMucGFyZW50Tm9kZSwic3RhcnQiPT09dD9sP2MuaGFzQ2hpbGROb2RlcygpPyhyPWMuZmlyc3RDaGlsZCxvPTEpOkRjKGMubmV4dFNpYmxpbmcpPyhyPWMubmV4dFNpYmxpbmcsbz0wKTpEYyhjLnByZXZpb3VzU2libGluZyk/KHI9Yy5wcmV2aW91c1NpYmxpbmcsbz1jLnByZXZpb3VzU2libGluZy5kYXRhLmxlbmd0aCk6KHI9Yy5wYXJlbnROb2RlLG89ZS5ub2RlSW5kZXgoYykrMSk6bz1lLm5vZGVJbmRleChjKTpsP2MuaGFzQ2hpbGROb2RlcygpPyhyPWMuZmlyc3RDaGlsZCxvPTEpOkRjKGMucHJldmlvdXNTaWJsaW5nKT8ocj1jLnByZXZpb3VzU2libGluZyxvPWMucHJldmlvdXNTaWJsaW5nLmRhdGEubGVuZ3RoKToocj1jLnBhcmVudE5vZGUsbz1lLm5vZGVJbmRleChjKSk6bz1lLm5vZGVJbmRleChjKSx1PXIscz1vLCFsKXtmb3IoYT1jLnByZXZpb3VzU2libGluZyxpPWMubmV4dFNpYmxpbmcsSXQuZWFjaChJdC5ncmVwKGMuY2hpbGROb2RlcyksZnVuY3Rpb24oZSl7T28uaXNUZXh0KGUpJiYoZS5ub2RlVmFsdWU9ZS5ub2RlVmFsdWUucmVwbGFjZSgvXHVGRUZGL2csIiIpKX0pO2M9ZS5nZXQobi5pZCsiXyIrdCk7KWUucmVtb3ZlKGMsITApO2EmJmkmJmEubm9kZVR5cGU9PT1pLm5vZGVUeXBlJiZPby5pc1RleHQoYSkmJiF2ZS5vcGVyYSYmKG89YS5ub2RlVmFsdWUubGVuZ3RoLGEuYXBwZW5kRGF0YShpLm5vZGVWYWx1ZSksZS5yZW1vdmUoaSksdT1hLHM9byl9cmV0dXJuIEEuc29tZShMYSh1LHMpKX1yZXR1cm4gQS5ub25lKCl9LFBjPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1LHMsYyxsLGYsZCxtLHAsZyxoLHYseT1lLmRvbTtpZih0KXtpZih2PXQsSXQuaXNBcnJheSh2LnN0YXJ0KSlyZXR1cm4gZz10LGg9KHA9eSkuY3JlYXRlUm5nKCksQmMocCwhMCxnLGgpJiZCYyhwLCExLGcsaCk/QS5zb21lKGgpOkEubm9uZSgpO2lmKCJzdHJpbmciPT10eXBlb2YgdC5zdGFydClyZXR1cm4gQS5zb21lKChmPXQsZD0obD15KS5jcmVhdGVSbmcoKSxtPW1jKGwuZ2V0Um9vdCgpLGYuc3RhcnQpLGQuc2V0U3RhcnQobS5jb250YWluZXIoKSxtLm9mZnNldCgpKSxtPW1jKGwuZ2V0Um9vdCgpLGYuZW5kKSxkLnNldEVuZChtLmNvbnRhaW5lcigpLG0ub2Zmc2V0KCkpLGQpKTtpZih0Lmhhc093blByb3BlcnR5KCJpZCIpKXJldHVybiBzPU9jKG89eSwic3RhcnQiLGk9dCksYz1PYyhvLCJlbmQiLGkpLG1hKFtzLChhPWMsdT1zLGEuaXNTb21lKCk/YTp1KV0sZnVuY3Rpb24oZSx0KXt2YXIgbj1vLmNyZWF0ZVJuZygpO3JldHVybiBuLnNldFN0YXJ0KEFjKG8sZS5jb250YWluZXIoKSksZS5vZmZzZXQoKSksbi5zZXRFbmQoQWMobyx0LmNvbnRhaW5lcigpKSx0Lm9mZnNldCgpKSxufSk7aWYodC5oYXNPd25Qcm9wZXJ0eSgibmFtZSIpKXJldHVybiBuPXkscj10LEEuZnJvbShuLnNlbGVjdChyLm5hbWUpW3IuaW5kZXhdKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9bi5jcmVhdGVSbmcoKTtyZXR1cm4gdC5zZWxlY3ROb2RlKGUpLHR9KTtpZih0Lmhhc093blByb3BlcnR5KCJybmciKSlyZXR1cm4gQS5zb21lKHQucm5nKX1yZXR1cm4gQS5ub25lKCl9LExjPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gRWMuZ2V0Qm9va21hcmsoZSx0LG4pfSxJYz1mdW5jdGlvbih0LGUpe1BjKHQsZSkuZWFjaChmdW5jdGlvbihlKXt0LnNldFJuZyhlKX0pfSxNYz1mdW5jdGlvbihlKXtyZXR1cm4gT28uaXNFbGVtZW50KGUpJiYiU1BBTiI9PT1lLnRhZ05hbWUmJiJib29rbWFyayI9PT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtdHlwZSIpfSxGYz1JdC5lYWNoLHpjPWZ1bmN0aW9uKG8pe3RoaXMuY29tcGFyZT1mdW5jdGlvbihlLHQpe2lmKGUubm9kZU5hbWUhPT10Lm5vZGVOYW1lKXJldHVybiExO3ZhciBuPWZ1bmN0aW9uKG4pe3ZhciByPXt9O3JldHVybiBGYyhvLmdldEF0dHJpYnMobiksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOzAhPT10LmluZGV4T2YoIl8iKSYmInN0eWxlIiE9PXQmJjAhPT10LmluZGV4T2YoImRhdGEtIikmJihyW3RdPW8uZ2V0QXR0cmliKG4sdCkpfSkscn0scj1mdW5jdGlvbihlLHQpe3ZhciBuLHI7Zm9yKHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKXtpZih2b2lkIDA9PT0obj10W3JdKSlyZXR1cm4hMTtpZihlW3JdIT09bilyZXR1cm4hMTtkZWxldGUgdFtyXX1mb3IociBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkocikpcmV0dXJuITE7cmV0dXJuITB9O3JldHVybiEoIXIobihlKSxuKHQpKXx8IXIoby5wYXJzZVN0eWxlKG8uZ2V0QXR0cmliKGUsInN0eWxlIikpLG8ucGFyc2VTdHlsZShvLmdldEF0dHJpYih0LCJzdHlsZSIpKSl8fE1jKGUpfHxNYyh0KSl9fSxVYz1mdW5jdGlvbih0LGUpe0guZWFjaChlLGZ1bmN0aW9uKGUpe0h1LmJlZm9yZSh0LGUpfSl9LHFjPWZ1bmN0aW9uKHQsZSl7SC5lYWNoKGUsZnVuY3Rpb24oZSl7SHUuYXBwZW5kKHQsZSl9KX0sVmM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kb20oKTtudWxsIT09dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCl9LEhjPXtlbXB0eTpmdW5jdGlvbihlKXtlLmRvbSgpLnRleHRDb250ZW50PSIiLEguZWFjaCgkci5jaGlsZHJlbihlKSxmdW5jdGlvbihlKXtWYyhlKX0pfSxyZW1vdmU6VmMsdW53cmFwOmZ1bmN0aW9uKGUpe3ZhciB0PSRyLmNoaWxkcmVuKGUpOzA8dC5sZW5ndGgmJlVjKGUsdCksVmMoZSl9fSxqYz0oUHM9Wm4uaXNUZXh0LExzPSJ0ZXh0IixJcz1mdW5jdGlvbihlKXtyZXR1cm4gUHMoZSk/QS5mcm9tKGUuZG9tKCkubm9kZVZhbHVlKTpBLm5vbmUoKX0sTXM9VW4uZGV0ZWN0KCkuYnJvd3Nlcix7Z2V0OmZ1bmN0aW9uKGUpe2lmKCFQcyhlKSl0aHJvdyBuZXcgRXJyb3IoIkNhbiBvbmx5IGdldCAiK0xzKyIgdmFsdWUgb2YgYSAiK0xzKyIgbm9kZSIpO3JldHVybiBGcyhlKS5nZXRPcigiIil9LGdldE9wdGlvbjpGcz1Ncy5pc0lFKCkmJjEwPT09TXMudmVyc2lvbi5tYWpvcj9mdW5jdGlvbihlKXt0cnl7cmV0dXJuIElzKGUpfWNhdGNoKER3KXtyZXR1cm4gQS5ub25lKCl9fTpJcyxzZXQ6ZnVuY3Rpb24oZSx0KXtpZighUHMoZSkpdGhyb3cgbmV3IEVycm9yKCJDYW4gb25seSBzZXQgcmF3ICIrTHMrIiB2YWx1ZSBvZiBhICIrTHMrIiBub2RlIik7ZS5kb20oKS5ub2RlVmFsdWU9dH19KSwkYz1mdW5jdGlvbihlKXtyZXR1cm4gamMuZ2V0KGUpfSxXYz1mdW5jdGlvbihlKXt2YXIgdD1odShlLCJiciIpLG49SC5maWx0ZXIoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49ZS5kb20oKTtuOyl0LnB1c2goVm4uZnJvbURvbShuKSksbj1uLmxhc3RDaGlsZDtyZXR1cm4gdH0oZSkuc2xpY2UoLTEpLGdvKTt0Lmxlbmd0aD09PW4ubGVuZ3RoJiZILmVhY2gobixIYy5yZW1vdmUpfSxLYz1mdW5jdGlvbihlKXtIYy5lbXB0eShlKSxIdS5hcHBlbmQoZSxWbi5mcm9tSHRtbCgnPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nKSl9LFhjPWZ1bmN0aW9uKG4peyRyLmxhc3RDaGlsZChuKS5lYWNoKGZ1bmN0aW9uKHQpeyRyLnByZXZTaWJsaW5nKHQpLmVhY2goZnVuY3Rpb24oZSl7bW8obikmJmdvKHQpJiZtbyhlKSYmSGMucmVtb3ZlKHQpfSl9KX0sWWM9SXQubWFrZU1hcDtmdW5jdGlvbiBHYyhlKXt2YXIgdSxzLGMsbCxmLGQ9W107cmV0dXJuIHU9KGU9ZXx8e30pLmluZGVudCxzPVljKGUuaW5kZW50X2JlZm9yZXx8IiIpLGM9WWMoZS5pbmRlbnRfYWZ0ZXJ8fCIiKSxsPUtvLmdldEVuY29kZUZ1bmMoZS5lbnRpdHlfZW5jb2Rpbmd8fCJyYXciLGUuZW50aXRpZXMpLGY9Imh0bWwiPT09ZS5lbGVtZW50X2Zvcm1hdCx7c3RhcnQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhO2lmKHUmJnNbZV0mJjA8ZC5sZW5ndGgmJjA8KGE9ZFtkLmxlbmd0aC0xXSkubGVuZ3RoJiYiXG4iIT09YSYmZC5wdXNoKCJcbiIpLGQucHVzaCgiPCIsZSksdClmb3Iocj0wLG89dC5sZW5ndGg7cjxvO3IrKylpPXRbcl0sZC5wdXNoKCIgIixpLm5hbWUsJz0iJyxsKGkudmFsdWUsITApLCciJyk7ZFtkLmxlbmd0aF09IW58fGY/Ij4iOiIgLz4iLG4mJnUmJmNbZV0mJjA8ZC5sZW5ndGgmJjA8KGE9ZFtkLmxlbmd0aC0xXSkubGVuZ3RoJiYiXG4iIT09YSYmZC5wdXNoKCJcbiIpfSxlbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ7ZC5wdXNoKCI8LyIsZSwiPiIpLHUmJmNbZV0mJjA8ZC5sZW5ndGgmJjA8KHQ9ZFtkLmxlbmd0aC0xXSkubGVuZ3RoJiYiXG4iIT09dCYmZC5wdXNoKCJcbiIpfSx0ZXh0OmZ1bmN0aW9uKGUsdCl7MDxlLmxlbmd0aCYmKGRbZC5sZW5ndGhdPXQ/ZTpsKGUpKX0sY2RhdGE6ZnVuY3Rpb24oZSl7ZC5wdXNoKCI8IVtDREFUQVsiLGUsIl1dPiIpfSxjb21tZW50OmZ1bmN0aW9uKGUpe2QucHVzaCgiXHgzYyEtLSIsZSwiLS1ceDNlIil9LHBpOmZ1bmN0aW9uKGUsdCl7dD9kLnB1c2goIjw/IixlLCIgIixsKHQpLCI/PiIpOmQucHVzaCgiPD8iLGUsIj8+IiksdSYmZC5wdXNoKCJcbiIpfSxkb2N0eXBlOmZ1bmN0aW9uKGUpe2QucHVzaCgiPCFET0NUWVBFIixlLCI+Iix1PyJcbiI6IiIpfSxyZXNldDpmdW5jdGlvbigpe2QubGVuZ3RoPTB9LGdldENvbnRlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5qb2luKCIiKS5yZXBsYWNlKC9cbiQvLCIiKX19fWZ1bmN0aW9uIEpjKHQscCl7dm9pZCAwPT09cCYmKHA9b2koKSk7dmFyIGc9R2ModCk7cmV0dXJuKHQ9dHx8e30pLnZhbGlkYXRlPSEoInZhbGlkYXRlImluIHQpfHx0LnZhbGlkYXRlLHtzZXJpYWxpemU6ZnVuY3Rpb24oZSl7dmFyIGYsZDtkPXQudmFsaWRhdGUsZj17MzpmdW5jdGlvbihlKXtnLnRleHQoZS52YWx1ZSxlLnJhdyl9LDg6ZnVuY3Rpb24oZSl7Zy5jb21tZW50KGUudmFsdWUpfSw3OmZ1bmN0aW9uKGUpe2cucGkoZS5uYW1lLGUudmFsdWUpfSwxMDpmdW5jdGlvbihlKXtnLmRvY3R5cGUoZS52YWx1ZSl9LDQ6ZnVuY3Rpb24oZSl7Zy5jZGF0YShlLnZhbHVlKX0sMTE6ZnVuY3Rpb24oZSl7aWYoZT1lLmZpcnN0Q2hpbGQpZm9yKDttKGUpLGU9ZS5uZXh0Oyk7fX0sZy5yZXNldCgpO3ZhciBtPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYSx1LHMsYyxsPWZbZS50eXBlXTtpZihsKWwoZSk7ZWxzZXtpZih0PWUubmFtZSxuPWUuc2hvcnRFbmRlZCxyPWUuYXR0cmlidXRlcyxkJiZyJiYxPHIubGVuZ3RoJiYoKGE9W10pLm1hcD17fSxjPXAuZ2V0RWxlbWVudFJ1bGUoZS5uYW1lKSkpe2Zvcih1PTAscz1jLmF0dHJpYnV0ZXNPcmRlci5sZW5ndGg7dTxzO3UrKykobz1jLmF0dHJpYnV0ZXNPcmRlclt1XSlpbiByLm1hcCYmKGk9ci5tYXBbb10sYS5tYXBbb109aSxhLnB1c2goe25hbWU6byx2YWx1ZTppfSkpO2Zvcih1PTAscz1yLmxlbmd0aDt1PHM7dSsrKShvPXJbdV0ubmFtZSlpbiBhLm1hcHx8KGk9ci5tYXBbb10sYS5tYXBbb109aSxhLnB1c2goe25hbWU6byx2YWx1ZTppfSkpO3I9YX1pZihnLnN0YXJ0KGUubmFtZSxyLG4pLCFuKXtpZihlPWUuZmlyc3RDaGlsZClmb3IoO20oZSksZT1lLm5leHQ7KTtnLmVuZCh0KX19fTtyZXR1cm4gMSE9PWUudHlwZXx8dC5pbm5lcj9mWzExXShlKTptKGUpLGcuZ2V0Q29udGVudCgpfX19dmFyIFFjPWZ1bmN0aW9uKGEpe3ZhciB1PUxhLmZyb21SYW5nZVN0YXJ0KGEpLHM9TGEuZnJvbVJhbmdlRW5kKGEpLGM9YS5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtyZXR1cm4gUWEuZnJvbVBvc2l0aW9uKCExLGMscykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiFicyh1LHMsYykmJmJzKHUsZSxjKT8odD11LmNvbnRhaW5lcigpLG49dS5vZmZzZXQoKSxyPWUuY29udGFpbmVyKCksbz1lLm9mZnNldCgpLChpPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KHQsbiksaS5zZXRFbmQocixvKSxpKTphO3ZhciB0LG4scixvLGl9KS5nZXRPcihhKX0sWmM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29sbGFwc2VkP2U6UWMoZSl9LGVsPU9vLm1hdGNoTm9kZU5hbWVzKCJ0ZCB0aCIpLHRsPWZ1bmN0aW9uKG8sZSx0KXt2YXIgbixyLGksYSx1LHMsYyxsLGYsZCxtLHAsZz1vLnNjaGVtYS5nZXRUZXh0SW5saW5lRWxlbWVudHMoKSxoPW8uc2VsZWN0aW9uLHY9by5kb207aWYoL14gfCAkLy50ZXN0KGUpJiYoZT1mdW5jdGlvbihlKXt2YXIgdCxuLHI7dD1oLmdldFJuZygpLG49dC5zdGFydENvbnRhaW5lcixyPXQuc3RhcnRPZmZzZXQ7dmFyIG89ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV0mJjM9PT1uW2VdLm5vZGVUeXBlfTtyZXR1cm4gMz09PW4ubm9kZVR5cGUmJigwPHI/ZT1lLnJlcGxhY2UoL14mbmJzcDsvLCIgIik6bygicHJldmlvdXNTaWJsaW5nIil8fChlPWUucmVwbGFjZSgvXiAvLCImbmJzcDsiKSkscjxuLmxlbmd0aD9lPWUucmVwbGFjZSgvJm5ic3A7KDxicj58KSQvLCIgIik6bygibmV4dFNpYmxpbmciKXx8KGU9ZS5yZXBsYWNlKC8oJm5ic3A7fCApKDxicj58KSQvLCImbmJzcDsiKSkpLGV9KGUpKSxuPW8ucGFyc2VyLHA9dC5tZXJnZSxyPUpjKHt2YWxpZGF0ZTpvLnNldHRpbmdzLnZhbGlkYXRlfSxvLnNjaGVtYSksbT0nPHNwYW4gaWQ9Im1jZV9tYXJrZXIiIGRhdGEtbWNlLXR5cGU9ImJvb2ttYXJrIj4mI3hGRUZGOyYjeDIwMEI7PC9zcGFuPicscz17Y29udGVudDplLGZvcm1hdDoiaHRtbCIsc2VsZWN0aW9uOiEwLHBhc3RlOnQucGFzdGV9LChzPW8uZmlyZSgiQmVmb3JlU2V0Q29udGVudCIscykpLmlzRGVmYXVsdFByZXZlbnRlZCgpKW8uZmlyZSgiU2V0Q29udGVudCIse2NvbnRlbnQ6cy5jb250ZW50LGZvcm1hdDoiaHRtbCIsc2VsZWN0aW9uOiEwLHBhc3RlOnQucGFzdGV9KTtlbHNley0xPT09KGU9cy5jb250ZW50KS5pbmRleE9mKCJ7JGNhcmV0fSIpJiYoZSs9InskY2FyZXR9IiksZT1lLnJlcGxhY2UoL1x7XCRjYXJldFx9LyxtKTt2YXIgeSxiLEMseCx3PShsPWguZ2V0Um5nKCkpLnN0YXJ0Q29udGFpbmVyfHwobC5wYXJlbnRFbGVtZW50P2wucGFyZW50RWxlbWVudCgpOm51bGwpLE49by5nZXRCb2R5KCk7dz09PU4mJmguaXNDb2xsYXBzZWQoKSYmdi5pc0Jsb2NrKE4uZmlyc3RDaGlsZCkmJih5PU4uZmlyc3RDaGlsZCkmJiFvLnNjaGVtYS5nZXRTaG9ydEVuZGVkRWxlbWVudHMoKVt5Lm5vZGVOYW1lXSYmdi5pc0VtcHR5KE4uZmlyc3RDaGlsZCkmJigobD12LmNyZWF0ZVJuZygpKS5zZXRTdGFydChOLmZpcnN0Q2hpbGQsMCksbC5zZXRFbmQoTi5maXJzdENoaWxkLDApLGguc2V0Um5nKGwpKSxoLmlzQ29sbGFwc2VkKCl8fChvLnNlbGVjdGlvbi5zZXRSbmcoWmMoby5zZWxlY3Rpb24uZ2V0Um5nKCkpKSxvLmdldERvYygpLmV4ZWNDb21tYW5kKCJEZWxldGUiLCExLG51bGwpLEM9KGI9aC5nZXRSbmcoKSkuc3RhcnRDb250YWluZXIseD1iLnN0YXJ0T2Zmc2V0LDM9PT1DLm5vZGVUeXBlJiZiLmNvbGxhcHNlZCYmKCJceGEwIj09PUMuZGF0YVt4XT8oQy5kZWxldGVEYXRhKHgsMSksL1tcdTAwYTB8IF0kLy50ZXN0KGUpfHwoZSs9IiAiKSk6Ilx4YTAiPT09Qy5kYXRhW3gtMV0mJihDLmRlbGV0ZURhdGEoeC0xLDEpLC9bXHUwMGEwfCBdJC8udGVzdChlKXx8KGU9IiAiK2UpKSkpO3ZhciBFLFMsayxUPXtjb250ZXh0OihpPWguZ2V0Tm9kZSgpKS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGRhdGE6dC5kYXRhLGluc2VydDohMH07aWYodT1uLnBhcnNlKGUsVCksITA9PT10LnBhc3RlJiZuYyhvLnNjaGVtYSx1KSYmb2ModixpKSlyZXR1cm4gbD1yYyhyLHYsby5zZWxlY3Rpb24uZ2V0Um5nKCksdSksby5zZWxlY3Rpb24uc2V0Um5nKGwpLHZvaWQgby5maXJlKCJTZXRDb250ZW50IixzKTtpZihmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZTt0PXQud2FsaygpOykxPT09dC50eXBlJiZ0LmF0dHIoImRhdGEtbWNlLWZyYWdtZW50IiwiMSIpfSh1KSwibWNlX21hcmtlciI9PT0oZj11Lmxhc3RDaGlsZCkuYXR0cigiaWQiKSlmb3IoZj0oYz1mKS5wcmV2O2Y7Zj1mLndhbGsoITApKWlmKDM9PT1mLnR5cGV8fCF2LmlzQmxvY2soZi5uYW1lKSl7by5zY2hlbWEuaXNWYWxpZENoaWxkKGYucGFyZW50Lm5hbWUsInNwYW4iKSYmZi5wYXJlbnQuaW5zZXJ0KGMsZiwiYnIiPT09Zi5uYW1lKTticmVha31pZihvLl9zZWxlY3Rpb25PdmVycmlkZXMuc2hvd0Jsb2NrQ2FyZXRDb250YWluZXIoaSksVC5pbnZhbGlkKXtmb3IoaC5zZXRDb250ZW50KG0pLGk9aC5nZXROb2RlKCksYT1vLmdldEJvZHkoKSw5PT09aS5ub2RlVHlwZT9pPWY9YTpmPWk7ZiE9PWE7KWY9KGk9ZikucGFyZW50Tm9kZTtlPWk9PT1hP2EuaW5uZXJIVE1MOnYuZ2V0T3V0ZXJIVE1MKGkpLGU9ci5zZXJpYWxpemUobi5wYXJzZShlLnJlcGxhY2UoLzxzcGFuIChpZD0ibWNlX21hcmtlciJ8aWQ9bWNlX21hcmtlcikuKz88XC9zcGFuPi9pLGZ1bmN0aW9uKCl7cmV0dXJuIHIuc2VyaWFsaXplKHUpfSkpKSxpPT09YT92LnNldEhUTUwoYSxlKTp2LnNldE91dGVySFRNTChpLGUpfWVsc2UgZT1yLnNlcmlhbGl6ZSh1KSxmdW5jdGlvbihlLHQsbil7aWYoImFsbCI9PT1uLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSluLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUuZG9tLmNyZWF0ZUZyYWdtZW50KHQpLG4pO2Vsc2V7dmFyIHI9bi5maXJzdENoaWxkLG89bi5sYXN0Q2hpbGQ7IXJ8fHI9PT1vJiYiQlIiPT09ci5ub2RlTmFtZT9lLmRvbS5zZXRIVE1MKG4sdCk6ZS5zZWxlY3Rpb24uc2V0Q29udGVudCh0KX19KG8sZSxpKTshZnVuY3Rpb24oKXtpZihwKXt2YXIgbj1vLmdldEJvZHkoKSxyPW5ldyB6Yyh2KTtJdC5lYWNoKHYuc2VsZWN0KCIqW2RhdGEtbWNlLWZyYWdtZW50XSIpLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnBhcmVudE5vZGU7dCYmdCE9PW47dD10LnBhcmVudE5vZGUpZ1tlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldJiZyLmNvbXBhcmUodCxlKSYmdi5yZW1vdmUoZSwhMCl9KX19KCksZnVuY3Rpb24oZSl7dmFyIHQsbixyO2lmKGUpe2lmKGguc2Nyb2xsSW50b1ZpZXcoZSksdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9by5nZXRCb2R5KCk7ZSYmZSE9PXQ7ZT1lLnBhcmVudE5vZGUpaWYoImZhbHNlIj09PW8uZG9tLmdldENvbnRlbnRFZGl0YWJsZShlKSlyZXR1cm4gZTtyZXR1cm4gbnVsbH0oZSkpcmV0dXJuIHYucmVtb3ZlKGUpLGguc2VsZWN0KHQpO2w9di5jcmVhdGVSbmcoKSwoZj1lLnByZXZpb3VzU2libGluZykmJjM9PT1mLm5vZGVUeXBlPyhsLnNldFN0YXJ0KGYsZi5ub2RlVmFsdWUubGVuZ3RoKSx2ZS5pZXx8KGQ9ZS5uZXh0U2libGluZykmJjM9PT1kLm5vZGVUeXBlJiYoZi5hcHBlbmREYXRhKGQuZGF0YSksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpKSk6KGwuc2V0U3RhcnRCZWZvcmUoZSksbC5zZXRFbmRCZWZvcmUoZSkpLG49di5nZXRQYXJlbnQoZSx2LmlzQmxvY2spLHYucmVtb3ZlKGUpLG4mJnYuaXNFbXB0eShuKSYmKG8uJChuKS5lbXB0eSgpLGwuc2V0U3RhcnQobiwwKSxsLnNldEVuZChuLDApLGVsKG4pfHxuLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtZnJhZ21lbnQiKXx8IShyPWZ1bmN0aW9uKGUpe3ZhciB0PUxhLmZyb21SYW5nZVN0YXJ0KGUpO2lmKHQ9WXMoby5nZXRCb2R5KCkpLm5leHQodCkpcmV0dXJuIHQudG9SYW5nZSgpfShsKSk/di5hZGQobix2LmNyZWF0ZSgiYnIiLHsiZGF0YS1tY2UtYm9ndXMiOiIxIn0pKToobD1yLHYucmVtb3ZlKG4pKSksaC5zZXRSbmcobCl9fSh2LmdldCgibWNlX21hcmtlciIpKSxFPW8uZ2V0Qm9keSgpLEl0LmVhY2goRS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLGZ1bmN0aW9uKGUpe2UucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1mcmFnbWVudCIpfSksUz1vLmRvbSxrPW8uc2VsZWN0aW9uLmdldFN0YXJ0KCksQS5mcm9tKFMuZ2V0UGFyZW50KGssInRkLHRoIikpLm1hcChWbi5mcm9tRG9tKS5lYWNoKFhjKSxvLmZpcmUoIlNldENvbnRlbnQiLHMpLG8uYWRkVmlzdWFsKCl9fSxubD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbz0ic3RyaW5nIiE9dHlwZW9mKG49dCk/KHI9SXQuZXh0ZW5kKHtwYXN0ZTpuLnBhc3RlLGRhdGE6e3Bhc3RlOm4ucGFzdGV9fSxuKSx7Y29udGVudDpuLmNvbnRlbnQsZGV0YWlsczpyfSk6e2NvbnRlbnQ6bixkZXRhaWxzOnt9fTt0bChlLG8uY29udGVudCxvLmRldGFpbHMpfTtmdW5jdGlvbiBybChlLHQsbixyLG8pe3JldHVybiBlKG4scik/QS5zb21lKG4pOmsuaXNGdW5jdGlvbihvKSYmbyhuKT9BLm5vbmUoKTp0KG4scixvKX12YXIgb2w9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1lLmRvbSgpLG89ay5pc0Z1bmN0aW9uKG4pP246Vi5jb25zdGFudCghMSk7ci5wYXJlbnROb2RlOyl7cj1yLnBhcmVudE5vZGU7dmFyIGk9Vm4uZnJvbURvbShyKTtpZih0KGkpKXJldHVybiBBLnNvbWUoaSk7aWYobyhpKSlicmVha31yZXR1cm4gQS5ub25lKCl9LGlsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEguZmluZChlLmRvbSgpLmNoaWxkTm9kZXMsVi5jb21wb3NlKHQsVm4uZnJvbURvbSkpLm1hcChWbi5mcm9tRG9tKX0sYWw9ZnVuY3Rpb24oZSxyKXt2YXIgbz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUuY2hpbGROb2Rlcy5sZW5ndGg7dCsrKXtpZihyKFZuLmZyb21Eb20oZS5jaGlsZE5vZGVzW3RdKSkpcmV0dXJuIEEuc29tZShWbi5mcm9tRG9tKGUuY2hpbGROb2Rlc1t0XSkpO3ZhciBuPW8oZS5jaGlsZE5vZGVzW3RdKTtpZihuLmlzU29tZSgpKXJldHVybiBufXJldHVybiBBLm5vbmUoKX07cmV0dXJuIG8oZS5kb20oKSl9LHVsPXtmaXJzdDpmdW5jdGlvbihlKXtyZXR1cm4gYWwobXIuYm9keSgpLGUpfSxhbmNlc3RvcjpvbCxjbG9zZXN0OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcmwoZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9LG9sLGUsdCxuKX0sc2libGluZzpmdW5jdGlvbih0LG4pe3ZhciBlPXQuZG9tKCk7cmV0dXJuIGUucGFyZW50Tm9kZT9pbChWbi5mcm9tRG9tKGUucGFyZW50Tm9kZSksZnVuY3Rpb24oZSl7cmV0dXJuIU1yLmVxKHQsZSkmJm4oZSl9KTpBLm5vbmUoKX0sY2hpbGQ6aWwsZGVzY2VuZGFudDphbH0sc2w9a3IuaW1tdXRhYmxlKCJzZWN0aW9ucyIsInNldHRpbmdzIiksY2w9VW4uZGV0ZWN0KCkuZGV2aWNlVHlwZS5pc1RvdWNoKCksbGw9WyJsaXN0cyIsImF1dG9saW5rIiwiYXV0b3NhdmUiXSxmbD17dGhlbWU6Im1vYmlsZSJ9LGRsPWZ1bmN0aW9uKGUpe3ZhciB0PWsuaXNBcnJheShlKT9lLmpvaW4oIiAiKTplLG49SC5tYXAoay5pc1N0cmluZyh0KT90LnNwbGl0KCIgIik6W10sT24pO3JldHVybiBILmZpbHRlcihuLGZ1bmN0aW9uKGUpe3JldHVybiAwPGUubGVuZ3RofSl9LG1sPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc2VjdGlvbnMoKS5oYXNPd25Qcm9wZXJ0eSh0KX0scGw9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhPWRsKG4uZm9yY2VkX3BsdWdpbnMpLHU9ZGwoci5wbHVnaW5zKSxzPWUmJm1sKHQsIm1vYmlsZSIpPyhvPXUsSC5maWx0ZXIobyxWLmN1cnJ5KEguY29udGFpbnMsbGwpKSk6dSxjPShpPXMsW10uY29uY2F0KGRsKGEpKS5jb25jYXQoZGwoaSkpKTtyZXR1cm4gSXQuZXh0ZW5kKHIse3BsdWdpbnM6Yy5qb2luKCIgIil9KX0sZ2w9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscyxjLGwsZixkLG0scCxnLGgsdj0obz1bIm1vYmlsZSJdLGk9cixhPWlyLmJpZmlsdGVyKGksZnVuY3Rpb24oZSx0KXtyZXR1cm4gSC5jb250YWlucyhvLHQpfSksc2woYS50LGEuZikpLHk9SXQuZXh0ZW5kKHQsbix2LnNldHRpbmdzKCksKHA9ZSxoPShnPXYpLnNldHRpbmdzKCkuaW5saW5lLHAmJm1sKGcsIm1vYmlsZSIpJiYhaD8obD0ibW9iaWxlIixmPWZsLGQ9di5zZWN0aW9ucygpLG09ZC5oYXNPd25Qcm9wZXJ0eShsKT9kW2xdOnt9LEl0LmV4dGVuZCh7fSxmLG0pKTp7fSkse3ZhbGlkYXRlOiEwLGNvbnRlbnRfZWRpdGFibGU6di5zZXR0aW5ncygpLmlubGluZSxleHRlcm5hbF9wbHVnaW5zOih1PW4scz12LnNldHRpbmdzKCksYz1zLmV4dGVybmFsX3BsdWdpbnM/cy5leHRlcm5hbF9wbHVnaW5zOnt9LHUmJnUuZXh0ZXJuYWxfcGx1Z2lucz9JdC5leHRlbmQoe30sdS5leHRlcm5hbF9wbHVnaW5zLGMpOmMpfSk7cmV0dXJuIHBsKGUsdixuLHkpfSxobD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEEuZnJvbSh0LnNldHRpbmdzW25dKS5maWx0ZXIoZSl9LHZsPVYuY3VycnkoaGwsay5pc1N0cmluZykseWw9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHU9dCBpbiBlLnNldHRpbmdzP2Uuc2V0dGluZ3NbdF06bjtyZXR1cm4iaGFzaCI9PT1yPyhhPXt9LCJzdHJpbmciPT10eXBlb2YoaT11KT9ILmVhY2goMDxpLmluZGV4T2YoIj0iKT9pLnNwbGl0KC9bOyxdKD8hW149OyxdKig/Ols7LF18JCkpLyk6aS5zcGxpdCgiLCIpLGZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoIj0iKTsxPHQubGVuZ3RoP2FbSXQudHJpbSh0WzBdKV09SXQudHJpbSh0WzFdKTphW0l0LnRyaW0odFswXSldPUl0LnRyaW0odCl9KTphPWksYSk6InN0cmluZyI9PT1yP2hsKGsuaXNTdHJpbmcsZSx0KS5nZXRPcihuKToibnVtYmVyIj09PXI/aGwoay5pc051bWJlcixlLHQpLmdldE9yKG4pOiJib29sZWFuIj09PXI/aGwoay5pc0Jvb2xlYW4sZSx0KS5nZXRPcihuKToib2JqZWN0Ij09PXI/aGwoay5pc09iamVjdCxlLHQpLmdldE9yKG4pOiJhcnJheSI9PT1yP2hsKGsuaXNBcnJheSxlLHQpLmdldE9yKG4pOiJzdHJpbmdbXSI9PT1yP2hsKChvPWsuaXNTdHJpbmcsZnVuY3Rpb24oZSl7cmV0dXJuIGsuaXNBcnJheShlKSYmSC5mb3JhbGwoZSxvKX0pLGUsdCkuZ2V0T3Iobik6ImZ1bmN0aW9uIj09PXI/aGwoay5pc0Z1bmN0aW9uLGUsdCkuZ2V0T3Iobik6dX0sYmw9L1tcdTA1OTEtXHUwN0ZGXHVGQjFELVx1RkRGRlx1RkU3MC1cdUZFRkNdLyxDbD1mdW5jdGlvbihlLHQpe3ZhciBuPXQuY29udGFpbmVyKCkscj10Lm9mZnNldCgpO3JldHVybiBlP1BpKG4pP09vLmlzVGV4dChuLm5leHRTaWJsaW5nKT9MYShuLm5leHRTaWJsaW5nLDApOkxhLmFmdGVyKG4pOk1pKHQpP0xhKG4scisxKTp0OlBpKG4pP09vLmlzVGV4dChuLnByZXZpb3VzU2libGluZyk/TGEobi5wcmV2aW91c1NpYmxpbmcsbi5wcmV2aW91c1NpYmxpbmcuZGF0YS5sZW5ndGgpOkxhLmJlZm9yZShuKTpGaSh0KT9MYShuLHItMSk6dH0seGw9e2lzSW5saW5lVGFyZ2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG49dmwoZSwiaW5saW5lX2JvdW5kYXJpZXNfc2VsZWN0b3IiKS5nZXRPcigiYVtocmVmXSxjb2RlIik7cmV0dXJuIFByLmlzKFZuLmZyb21Eb20odCksbil9LGZpbmRSb290SW5saW5lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYT0ocj1lLG89dCxpPW4sSC5maWx0ZXIodmkuRE9NLmdldFBhcmVudHMoaS5jb250YWluZXIoKSwiKiIsbykscikpO3JldHVybiBBLmZyb20oYVthLmxlbmd0aC0xXSl9LGlzUnRsOmZ1bmN0aW9uKGUpe3JldHVybiJydGwiPT09dmkuRE9NLmdldFN0eWxlKGUsImRpcmVjdGlvbiIsITApfHwodD1lLnRleHRDb250ZW50LGJsLnRlc3QodCkpO3ZhciB0fSxpc0F0WndzcDpmdW5jdGlvbihlKXtyZXR1cm4gTWkoZSl8fEZpKGUpfSxub3JtYWxpemVQb3NpdGlvbjpDbCxub3JtYWxpemVGb3J3YXJkczpWLmN1cnJ5KENsLCEwKSxub3JtYWxpemVCYWNrd2FyZHM6Vi5jdXJyeShDbCwhMSksaGFzU2FtZVBhcmVudEJsb2NrOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj15cyh0LGUpLG89eXMobixlKTtyZXR1cm4gciYmcj09PW99fSx3bD1mdW5jdGlvbihlLHQpe3JldHVybiBNci5jb250YWlucyhlLHQpP3VsLmNsb3Nlc3QodCxmdW5jdGlvbihlKXtyZXR1cm4gaG8oZSl8fHlvKGUpfSwobj1lLGZ1bmN0aW9uKGUpe3JldHVybiBNci5lcShuLFZuLmZyb21Eb20oZS5kb20oKS5wYXJlbnROb2RlKSl9KSk6QS5ub25lKCk7dmFyIG59LE5sPWZ1bmN0aW9uKGUpe3ZhciB0LG4scjtlLmRvbS5pc0VtcHR5KGUuZ2V0Qm9keSgpKSYmKGUuc2V0Q29udGVudCgiIiksbj0odD1lKS5nZXRCb2R5KCkscj1uLmZpcnN0Q2hpbGQmJnQuZG9tLmlzQmxvY2sobi5maXJzdENoaWxkKT9uLmZpcnN0Q2hpbGQ6bix0LnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbihyLDApKX0sRWw9ZnVuY3Rpb24oaSxhLHUpe3JldHVybiBtYShbUWEuZmlyc3RQb3NpdGlvbkluKHUpLFFhLmxhc3RQb3NpdGlvbkluKHUpXSxmdW5jdGlvbihlLHQpe3ZhciBuPXhsLm5vcm1hbGl6ZVBvc2l0aW9uKCEwLGUpLHI9eGwubm9ybWFsaXplUG9zaXRpb24oITEsdCksbz14bC5ub3JtYWxpemVQb3NpdGlvbighMSxhKTtyZXR1cm4gaT9RYS5uZXh0UG9zaXRpb24odSxvKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNFcXVhbChyKSYmYS5pc0VxdWFsKG4pfSkuZ2V0T3IoITEpOlFhLnByZXZQb3NpdGlvbih1LG8pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0VxdWFsKG4pJiZhLmlzRXF1YWwocil9KS5nZXRPcighMSl9KS5nZXRPcighMCl9LFNsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdWwuYW5jZXN0b3IoZSxmdW5jdGlvbihlKXtyZXR1cm4gUHIuaXMoZSx0KX0sbil9LGtsPVNsLFRsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFByLm9uZSh0LGUpfSxBbD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHJsKFByLmlzLFNsLGUsdCxuKX0sUmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBrbChlLHQsbikuaXNTb21lKCl9LF9sPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9vLmlzVGV4dCh0KSYmL15bIFx0XHJcbl0qJC8udGVzdCh0LmRhdGEpJiYhMT09PShuPWUscj10LG89Vm4uZnJvbURvbShuKSxpPVZuLmZyb21Eb20ociksUmwoaSwicHJlLGNvZGUiLFYuY3VycnkoTXIuZXEsbykpKTt2YXIgbixyLG8saX0sQmw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSmkodCkmJiExPT09X2woZSx0KXx8KG49dCxPby5pc0VsZW1lbnQobikmJiJBIj09PW4ubm9kZU5hbWUmJm4uaGFzQXR0cmlidXRlKCJuYW1lIikpfHxEbCh0KTt2YXIgbn0sRGw9T28uaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1ib29rbWFyayIpLE9sPU9vLmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSxQbD1Pby5oYXNBdHRyaWJ1dGVWYWx1ZSgiZGF0YS1tY2UtYm9ndXMiLCJhbGwiKSxMbD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQsbixyPTA7aWYoQmwoZSxlKSlyZXR1cm4hMTtpZighKG49ZS5maXJzdENoaWxkKSlyZXR1cm4hMDt0PW5ldyBhbyhuLGUpO2Rve2lmKFBsKG4pKW49dC5uZXh0KCEwKTtlbHNlIGlmKE9sKG4pKW49dC5uZXh0KCk7ZWxzZSBpZihPby5pc0JyKG4pKXIrKyxuPXQubmV4dCgpO2Vsc2V7aWYoQmwoZSxuKSlyZXR1cm4hMTtuPXQubmV4dCgpfX13aGlsZShuKTtyZXR1cm4gcjw9MX0oZS5kb20oKSl9LElsPWtyLmltbXV0YWJsZSgiYmxvY2siLCJwb3NpdGlvbiIpLE1sPWtyLmltbXV0YWJsZSgiZnJvbSIsInRvIiksRmw9ZnVuY3Rpb24oZSx0KXt2YXIgbj1Wbi5mcm9tRG9tKGUpLHI9Vm4uZnJvbURvbSh0LmNvbnRhaW5lcigpKTtyZXR1cm4gd2wobixyKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIElsKGUsdCl9KX0semw9ZnVuY3Rpb24obyxpLGUpe3ZhciB0PUZsKG8sTGEuZnJvbVJhbmdlU3RhcnQoZSkpLG49dC5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBRYS5mcm9tUG9zaXRpb24oaSxvLGUucG9zaXRpb24oKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gRmwobyxlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9byxuPWkscj1lLE9vLmlzQnIoci5wb3NpdGlvbigpLmdldE5vZGUoKSkmJiExPT09TGwoci5ibG9jaygpKT9RYS5wb3NpdGlvbkluKCExLHIuYmxvY2soKS5kb20oKSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0VxdWFsKHIucG9zaXRpb24oKSk/UWEuZnJvbVBvc2l0aW9uKG4sdCxlKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBGbCh0LGUpfSk6QS5zb21lKHIpfSkuZ2V0T3Iocik6cjt2YXIgdCxuLHJ9KX0pfSk7cmV0dXJuIG1hKFt0LG5dLE1sKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHI9ZSwhMT09PU1yLmVxKHIuZnJvbSgpLmJsb2NrKCksci50bygpLmJsb2NrKCkpJiYobj1lLCRyLnBhcmVudChuLmZyb20oKS5ibG9jaygpKS5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiAkci5wYXJlbnQobi50bygpLmJsb2NrKCkpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gTXIuZXEodCxlKX0pfSkuaXNTb21lKCkpJiYodD1lLCExPT09T28uaXNDb250ZW50RWRpdGFibGVGYWxzZSh0LmZyb20oKS5ibG9jaygpKSYmITE9PT1Pby5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlKHQudG8oKS5ibG9jaygpKSk7dmFyIHQsbixyfSl9LFVsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbi5jb2xsYXBzZWQ/emwoZSx0LG4pOkEubm9uZSgpfSxxbD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIE1yLmNvbnRhaW5zKHQsZSk/JHIucGFyZW50cyhlLGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfHxNci5lcShlLHQpfSkuc2xpY2UoMCwtMSk6W119LFZsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHFsKGUsdCxWLmNvbnN0YW50KCExKSl9LEhsPVZsLGpsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuW2VdLmNvbmNhdChWbChlLHQpKX0sJGw9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPSh0PWUsbj0kci5jaGlsZHJlbih0KSxILmZpbmRJbmRleChuLG1vKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIG59LGZ1bmN0aW9uKGUpe3JldHVybiBuLnNsaWNlKDAsZSl9KSk7cmV0dXJuIEguZWFjaChyLGZ1bmN0aW9uKGUpe0hjLnJlbW92ZShlKX0pLHJ9LFdsPWZ1bmN0aW9uKGUsdCl7UWEucG9zaXRpb25JbihlLHQuZG9tKCkpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXROb2RlKCk7T28uaXNCcih0KSYmSGMucmVtb3ZlKFZuLmZyb21Eb20odCkpfSl9LEtsPWZ1bmN0aW9uKGUsdCl7dmFyIG49amwodCxlKTtyZXR1cm4gSC5maW5kKG4ucmV2ZXJzZSgpLExsKS5lYWNoKEhjLnJlbW92ZSl9LFhsPWZ1bmN0aW9uKG8saSl7cmV0dXJuIE1yLmNvbnRhaW5zKGksbyk/JHIucGFyZW50KG8pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIE1yLmVxKGUsaSk/QS5zb21lKG8pOih0PWksbj1vLHI9JHIucGFyZW50cyhuLGZ1bmN0aW9uKGUpe3JldHVybiBNci5lcShlLHQpfSksQS5mcm9tKHJbci5sZW5ndGgtMl0pKTt2YXIgdCxuLHJ9KTpBLm5vbmUoKX0sWWw9ZnVuY3Rpb24obixyLG8pe2lmKExsKG8pKXJldHVybiBIYy5yZW1vdmUobyksTGwocikmJktjKHIpLFFhLmZpcnN0UG9zaXRpb25JbihyLmRvbSgpKTtXbCghMCxyKSxXbCghMSxvKTt2YXIgaT0kbChyKTtyZXR1cm4gWGwocixvKS5mb2xkKGZ1bmN0aW9uKCl7S2wobixyKTt2YXIgZT1RYS5sYXN0UG9zaXRpb25JbihvLmRvbSgpKTtyZXR1cm4gSC5lYWNoKGksZnVuY3Rpb24oZSl7SHUuYXBwZW5kKG8sZSl9KSxlfSxmdW5jdGlvbih0KXt2YXIgZT1RYS5wcmV2UG9zaXRpb24oby5kb20oKSxMYS5iZWZvcmUodC5kb20oKSkpO3JldHVybiBILmVhY2goaSxmdW5jdGlvbihlKXtIdS5iZWZvcmUodCxlKX0pLEtsKG4sciksZX0pfSxHbD1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdD9ZbChlLHIsbik6WWwoZSxuLHIpfSxKbD1mdW5jdGlvbih0LG4pe3ZhciBlLHI9Vm4uZnJvbURvbSh0LmdldEJvZHkoKSk7cmV0dXJuKGU9VWwoci5kb20oKSxuLHQuc2VsZWN0aW9uLmdldFJuZygpKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBHbChyLG4sZS5mcm9tKCkuYmxvY2soKSxlLnRvKCkuYmxvY2soKSl9KSkuZWFjaChmdW5jdGlvbihlKXt0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpfSksZS5pc1NvbWUoKX0sUWw9ZnVuY3Rpb24oZSx0KXt2YXIgbj1Wbi5mcm9tRG9tKHQpLHI9Vi5jdXJyeShNci5lcSxlKTtyZXR1cm4gdWwuYW5jZXN0b3Iobix4byxyKS5pc1NvbWUoKX0sWmw9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89UWEucHJldlBvc2l0aW9uKGUuZG9tKCksTGEuZnJvbVJhbmdlU3RhcnQodCkpLmlzTm9uZSgpLGk9UWEubmV4dFBvc2l0aW9uKGUuZG9tKCksTGEuZnJvbVJhbmdlRW5kKHQpKS5pc05vbmUoKTtyZXR1cm4hKFFsKG49ZSwocj10KS5zdGFydENvbnRhaW5lcil8fFFsKG4sci5lbmRDb250YWluZXIpKSYmbyYmaX0sZWY9ZnVuY3Rpb24oZSl7dmFyIG4scixvLHQsaT1Wbi5mcm9tRG9tKGUuZ2V0Qm9keSgpKSxhPWUuc2VsZWN0aW9uLmdldFJuZygpO3JldHVybiBabChpLGEpPygodD1lKS5zZXRDb250ZW50KCIiKSx0LnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbigpLCEwKToobj1pLHI9ZS5zZWxlY3Rpb24sbz1yLmdldFJuZygpLG1hKFt3bChuLFZuLmZyb21Eb20oby5zdGFydENvbnRhaW5lcikpLHdsKG4sVm4uZnJvbURvbShvLmVuZENvbnRhaW5lcikpXSxmdW5jdGlvbihlLHQpe3JldHVybiExPT09TXIuZXEoZSx0KSYmKG8uZGVsZXRlQ29udGVudHMoKSxHbChuLCEwLGUsdCkuZWFjaChmdW5jdGlvbihlKXtyLnNldFJuZyhlLnRvUmFuZ2UoKSl9KSwhMCl9KS5nZXRPcighMSkpfSx0Zj1mdW5jdGlvbihlLHQpe3JldHVybiFlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiZlZihlKX0sbmY9ZnVuY3Rpb24oYSl7aWYoIWsuaXNBcnJheShhKSl0aHJvdyBuZXcgRXJyb3IoImNhc2VzIG11c3QgYmUgYW4gYXJyYXkiKTtpZigwPT09YS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJ0aGVyZSBtdXN0IGJlIGF0IGxlYXN0IG9uZSBjYXNlIik7dmFyIHU9W10sbj17fTtyZXR1cm4gSC5lYWNoKGEsZnVuY3Rpb24oZSxyKXt2YXIgdD1pci5rZXlzKGUpO2lmKDEhPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIm9uZSBhbmQgb25seSBvbmUgbmFtZSBwZXIgY2FzZSIpO3ZhciBvPXRbMF0saT1lW29dO2lmKG5bb10hPT11bmRlZmluZWQpdGhyb3cgbmV3IEVycm9yKCJkdXBsaWNhdGUga2V5IGRldGVjdGVkOiIrbyk7aWYoImNhdGEiPT09byl0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCBoYXZlIGEgY2FzZSBuYW1lZCBjYXRhIChzb3JyeSkiKTtpZighay5pc0FycmF5KGkpKXRocm93IG5ldyBFcnJvcigiY2FzZSBhcmd1bWVudHMgbXVzdCBiZSBhbiBhcnJheSIpO3UucHVzaChvKSxuW29dPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDtpZihlIT09aS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGNhc2UgIitvKyIuIEV4cGVjdGVkICIraS5sZW5ndGgrIiAoIitpKyIpLCBnb3QgIitlKTtmb3IodmFyIG49bmV3IEFycmF5KGUpLHQ9MDt0PG4ubGVuZ3RoO3QrKyluW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm57Zm9sZDpmdW5jdGlvbigpe2lmKGFyZ3VtZW50cy5sZW5ndGghPT1hLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgdG8gZm9sZC4gRXhwZWN0ZWQgIithLmxlbmd0aCsiLCBnb3QgIithcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gYXJndW1lbnRzW3JdLmFwcGx5KG51bGwsbil9LG1hdGNoOmZ1bmN0aW9uKGUpe3ZhciB0PWlyLmtleXMoZSk7aWYodS5sZW5ndGghPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgdG8gbWF0Y2guIEV4cGVjdGVkOiAiK3Uuam9pbigiLCIpKyJcbkFjdHVhbDogIit0LmpvaW4oIiwiKSk7aWYoIUguZm9yYWxsKHUsZnVuY3Rpb24oZSl7cmV0dXJuIEguY29udGFpbnModCxlKX0pKXRocm93IG5ldyBFcnJvcigiTm90IGFsbCBicmFuY2hlcyB3ZXJlIHNwZWNpZmllZCB3aGVuIHVzaW5nIG1hdGNoLiBTcGVjaWZpZWQ6ICIrdC5qb2luKCIsICIpKyJcblJlcXVpcmVkOiAiK3Uuam9pbigiLCAiKSk7cmV0dXJuIGVbb10uYXBwbHkobnVsbCxuKX0sbG9nOmZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKGUse2NvbnN0cnVjdG9yczp1LGNvbnN0cnVjdG9yOm8scGFyYW1zOm59KX19fX0pLG59LHJmPW5mKFt7cmVtb3ZlOlsiZWxlbWVudCJdfSx7bW92ZVRvRWxlbWVudDpbImVsZW1lbnQiXX0se21vdmVUb1Bvc2l0aW9uOlsicG9zaXRpb24iXX1dKSxvZj1mdW5jdGlvbihlLHQsbixyKXt2YXIgbz1yLmdldE5vZGUoITE9PT10KTtyZXR1cm4gd2woVm4uZnJvbURvbShlKSxWbi5mcm9tRG9tKG4uZ2V0Tm9kZSgpKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBMbChlKT9yZi5yZW1vdmUoZS5kb20oKSk6cmYubW92ZVRvRWxlbWVudChvKX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gQS5zb21lKHJmLm1vdmVUb0VsZW1lbnQobykpfSl9LGFmPWZ1bmN0aW9uKHUscyxjKXtyZXR1cm4gUWEuZnJvbVBvc2l0aW9uKHMsdSxjKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBhPWUuZ2V0Tm9kZSgpLHhvKFZuLmZyb21Eb20oYSkpfHx5byhWbi5mcm9tRG9tKGEpKT9BLm5vbmUoKToodD11LG89ZSxpPWZ1bmN0aW9uKGUpe3JldHVybiBwbyhWbi5mcm9tRG9tKGUpKSYmIWJzKHIsbyx0KX0sQXMoIShuPXMpLHI9YykuZm9sZChmdW5jdGlvbigpe3JldHVybiBBcyhuLG8pLmZvbGQoVi5jb25zdGFudCghMSksaSl9LGkpP0Eubm9uZSgpOnMmJk9vLmlzQ29udGVudEVkaXRhYmxlRmFsc2UoZS5nZXROb2RlKCkpP29mKHUscyxjLGUpOiExPT09cyYmT28uaXNDb250ZW50RWRpdGFibGVGYWxzZShlLmdldE5vZGUoITApKT9vZih1LHMsYyxlKTpzJiZCcyhjKT9BLnNvbWUocmYubW92ZVRvUG9zaXRpb24oZSkpOiExPT09cyYmX3MoYyk/QS5zb21lKHJmLm1vdmVUb1Bvc2l0aW9uKGUpKTpBLm5vbmUoKSk7dmFyIHQsbixyLG8saSxhfSl9LHVmPWZ1bmN0aW9uKHIsZSxvKXtyZXR1cm4gaT1lLGE9by5nZXROb2RlKCExPT09aSksdT1pPyJhZnRlciI6ImJlZm9yZSIsT28uaXNFbGVtZW50KGEpJiZhLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKT09PXU/KHQ9ZSxuPW8uZ2V0Tm9kZSghMT09PWUpLHQmJk9vLmlzQ29udGVudEVkaXRhYmxlRmFsc2Uobi5uZXh0U2libGluZyk/QS5zb21lKHJmLm1vdmVUb0VsZW1lbnQobi5uZXh0U2libGluZykpOiExPT09dCYmT28uaXNDb250ZW50RWRpdGFibGVGYWxzZShuLnByZXZpb3VzU2libGluZyk/QS5zb21lKHJmLm1vdmVUb0VsZW1lbnQobi5wcmV2aW91c1NpYmxpbmcpKTpBLm5vbmUoKSkuZm9sZChmdW5jdGlvbigpe3JldHVybiBhZihyLGUsbyl9LEEuc29tZSk6YWYocixlLG8pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9cixuPW8sZS5mb2xkKGZ1bmN0aW9uKGUpe3JldHVybiBBLnNvbWUocmYucmVtb3ZlKGUpKX0sZnVuY3Rpb24oZSl7cmV0dXJuIEEuc29tZShyZi5tb3ZlVG9FbGVtZW50KGUpKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGJzKG4sZSx0KT9BLm5vbmUoKTpBLnNvbWUocmYubW92ZVRvUG9zaXRpb24oZSkpfSk7dmFyIHQsbn0pO3ZhciB0LG4saSxhLHV9LHNmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHI9ZSxvPShuPXQpLmNvbnRhaW5lcigpLGk9bi5vZmZzZXQoKSwhMT09PUxhLmlzVGV4dFBvc2l0aW9uKG4pJiZvPT09ci5wYXJlbnROb2RlJiZpPkxhLmJlZm9yZShyKS5vZmZzZXQoKT9MYSh0LmNvbnRhaW5lcigpLHQub2Zmc2V0KCktMSk6dDt2YXIgbixyLG8saX0sY2Y9ZnVuY3Rpb24oZSl7cmV0dXJuIEppKGUucHJldmlvdXNTaWJsaW5nKT9BLnNvbWUoKHQ9ZS5wcmV2aW91c1NpYmxpbmcsT28uaXNUZXh0KHQpP0xhKHQsdC5kYXRhLmxlbmd0aCk6TGEuYWZ0ZXIodCkpKTplLnByZXZpb3VzU2libGluZz9RYS5sYXN0UG9zaXRpb25JbihlLnByZXZpb3VzU2libGluZyk6QS5ub25lKCk7dmFyIHR9LGxmPWZ1bmN0aW9uKGUpe3JldHVybiBKaShlLm5leHRTaWJsaW5nKT9BLnNvbWUoKHQ9ZS5uZXh0U2libGluZyxPby5pc1RleHQodCk/TGEodCwwKTpMYS5iZWZvcmUodCkpKTplLm5leHRTaWJsaW5nP1FhLmZpcnN0UG9zaXRpb25JbihlLm5leHRTaWJsaW5nKTpBLm5vbmUoKTt2YXIgdH0sZmY9ZnVuY3Rpb24ocixvKXtyZXR1cm4gY2Yobykub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBsZihvKX0pLm9yVGh1bmsoZnVuY3Rpb24oKXtyZXR1cm4gZT1yLHQ9byxuPUxhLmJlZm9yZSh0LnByZXZpb3VzU2libGluZz90LnByZXZpb3VzU2libGluZzp0LnBhcmVudE5vZGUpLFFhLnByZXZQb3NpdGlvbihlLG4pLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gUWEubmV4dFBvc2l0aW9uKGUsTGEuYWZ0ZXIodCkpfSxBLnNvbWUpO3ZhciBlLHQsbn0pfSxkZj1mdW5jdGlvbihuLHIpe3JldHVybiBsZihyKS5vclRodW5rKGZ1bmN0aW9uKCl7cmV0dXJuIGNmKHIpfSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBlPW4sdD1yLFFhLm5leHRQb3NpdGlvbihlLExhLmFmdGVyKHQpKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIFFhLnByZXZQb3NpdGlvbihlLExhLmJlZm9yZSh0KSl9LEEuc29tZSk7dmFyIGUsdH0pfSxtZj1mdW5jdGlvbihlLHQsbil7cmV0dXJuKHI9ZSxvPXQsaT1uLHI/ZGYobyxpKTpmZihvLGkpKS5tYXAoVi5jdXJyeShzZixuKSk7dmFyIHIsbyxpfSxwZj1mdW5jdGlvbih0LG4sZSl7ZS5mb2xkKGZ1bmN0aW9uKCl7dC5mb2N1cygpfSxmdW5jdGlvbihlKXt0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCksbil9KX0sZ2Y9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmZS5zY2hlbWEuZ2V0QmxvY2tFbGVtZW50cygpLmhhc093blByb3BlcnR5KFpuLm5hbWUodCkpfSxoZj1mdW5jdGlvbihlKXtpZihMbChlKSl7dmFyIHQ9Vm4uZnJvbUh0bWwoJzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+Jyk7cmV0dXJuIEhjLmVtcHR5KGUpLEh1LmFwcGVuZChlLHQpLEEuc29tZShMYS5iZWZvcmUodC5kb20oKSkpfXJldHVybiBBLm5vbmUoKX0sdmY9ZnVuY3Rpb24odCxuLGUpe3ZhciByLGEsbyxpPW1mKG4sdC5nZXRCb2R5KCksZS5kb20oKSksdT11bC5hbmNlc3RvcihlLFYuY3VycnkoZ2YsdCksKHI9dC5nZXRCb2R5KCksZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tKCk9PT1yfSkpLHM9KGE9ZSxvPWksbWEoWyRyLnByZXZTaWJsaW5nKGEpLCRyLm5leHRTaWJsaW5nKGEpLG9dLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvPWUuZG9tKCksaT10LmRvbSgpO3JldHVybiBPby5pc1RleHQobykmJk9vLmlzVGV4dChpKT8ocj1vLmRhdGEubGVuZ3RoLG8uYXBwZW5kRGF0YShpLmRhdGEpLEhjLnJlbW92ZSh0KSxIYy5yZW1vdmUoYSksbi5jb250YWluZXIoKT09PWk/TGEobyxyKTpuKTooSGMucmVtb3ZlKGEpLG4pfSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiBIYy5yZW1vdmUoYSksb30pKTt0LmRvbS5pc0VtcHR5KHQuZ2V0Qm9keSgpKT8odC5zZXRDb250ZW50KCIiKSx0LnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbigpKTp1LmJpbmQoaGYpLmZvbGQoZnVuY3Rpb24oKXtwZih0LG4scyl9LGZ1bmN0aW9uKGUpe3BmKHQsbixBLnNvbWUoZSkpfSl9LHlmPWZ1bmN0aW9uKGEsdSl7dmFyIGUsdCxuLHIsbztyZXR1cm4oZT1hLmdldEJvZHkoKSx0PXUsbj1hLnNlbGVjdGlvbi5nZXRSbmcoKSxyPVNzKHQ/MTotMSxlLG4pLG89TGEuZnJvbVJhbmdlU3RhcnQociksITE9PT10JiZCcyhvKT9BLnNvbWUocmYucmVtb3ZlKG8uZ2V0Tm9kZSghMCkpKTp0JiZfcyhvKT9BLnNvbWUocmYucmVtb3ZlKG8uZ2V0Tm9kZSgpKSk6dWYoZSx0LG8pKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZCgobz1hLGk9dSxmdW5jdGlvbihlKXtyZXR1cm4gby5fc2VsZWN0aW9uT3ZlcnJpZGVzLmhpZGVGYWtlQ2FyZXQoKSx2ZihvLGksVm4uZnJvbURvbShlKSksITB9KSwobj1hLHI9dSxmdW5jdGlvbihlKXt2YXIgdD1yP0xhLmJlZm9yZShlKTpMYS5hZnRlcihlKTtyZXR1cm4gbi5zZWxlY3Rpb24uc2V0Um5nKHQudG9SYW5nZSgpKSwhMH0pLCh0PWEsZnVuY3Rpb24oZSl7cmV0dXJuIHQuc2VsZWN0aW9uLnNldFJuZyhlLnRvUmFuZ2UoKSksITB9KSk7dmFyIHQsbixyLG8saX0pLmdldE9yKCExKX0sYmY9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWUuc2VsZWN0aW9uLmdldE5vZGUoKTtyZXR1cm4hIU9vLmlzQ29udGVudEVkaXRhYmxlRmFsc2UocikmJihuPVZuLmZyb21Eb20oZS5nZXRCb2R5KCkpLEguZWFjaChodShuLCIubWNlLW9mZnNjcmVlbi1zZWxlY3Rpb24iKSxIYy5yZW1vdmUpLHZmKGUsdCxWbi5mcm9tRG9tKGUuc2VsZWN0aW9uLmdldE5vZGUoKSkpLE5sKGUpLCEwKX0sQ2Y9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKT95ZihlLHQpOmJmKGUsdCl9LHhmPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZnVuY3Rpb24oZSx0KXtmb3IoO3QmJnQhPT1lOyl7aWYoT28uaXNDb250ZW50RWRpdGFibGVUcnVlKHQpfHxPby5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlKHQpKXJldHVybiB0O3Q9dC5wYXJlbnROb2RlfXJldHVybiBudWxsfShlLmdldEJvZHkoKSxlLnNlbGVjdGlvbi5nZXROb2RlKCkpO3JldHVybiBPby5pc0NvbnRlbnRFZGl0YWJsZVRydWUobikmJmUuZG9tLmlzQmxvY2sobikmJmUuZG9tLmlzRW1wdHkobikmJih0PWUuZG9tLmNyZWF0ZSgiYnIiLHsiZGF0YS1tY2UtYm9ndXMiOiIxIn0pLGUuZG9tLnNldEhUTUwobiwiIiksbi5hcHBlbmRDaGlsZCh0KSxlLnNlbGVjdGlvbi5zZXRSbmcoTGEuYmVmb3JlKHQpLnRvUmFuZ2UoKSkpLCEwfSx3Zj1Pby5pc1RleHQsTmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHdmKGUpJiZlLmRhdGFbMF09PT1SaX0sRWY9ZnVuY3Rpb24oZSl7cmV0dXJuIHdmKGUpJiZlLmRhdGFbZS5kYXRhLmxlbmd0aC0xXT09PVJpfSxTZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFJpKX0sa2Y9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT9mdW5jdGlvbihlKXtpZih3ZihlLnByZXZpb3VzU2libGluZykpcmV0dXJuIEVmKGUucHJldmlvdXNTaWJsaW5nKXx8ZS5wcmV2aW91c1NpYmxpbmcuYXBwZW5kRGF0YShSaSksZS5wcmV2aW91c1NpYmxpbmc7aWYod2YoZSkpcmV0dXJuIE5mKGUpfHxlLmluc2VydERhdGEoMCxSaSksZTt2YXIgdD1TZihlKTtyZXR1cm4gZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LGUpLHR9KHQpOmZ1bmN0aW9uKGUpe2lmKHdmKGUubmV4dFNpYmxpbmcpKXJldHVybiBOZihlLm5leHRTaWJsaW5nKXx8ZS5uZXh0U2libGluZy5pbnNlcnREYXRhKDAsUmkpLGUubmV4dFNpYmxpbmc7aWYod2YoZSkpcmV0dXJuIEVmKGUpfHxlLmFwcGVuZERhdGEoUmkpLGU7dmFyIHQ9U2YoZSk7cmV0dXJuIGUubmV4dFNpYmxpbmc/ZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LGUubmV4dFNpYmxpbmcpOmUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0KSx0fSh0KX0sVGY9Vi5jdXJyeShrZiwhMCksQWY9Vi5jdXJyeShrZiwhMSksUmY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT28uaXNUZXh0KGUuY29udGFpbmVyKCkpP2tmKHQsZS5jb250YWluZXIoKSk6a2YodCxlLmdldE5vZGUoKSl9LF9mPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5nZXQoKTtyZXR1cm4gbiYmZS5jb250YWluZXIoKT09PW4mJlBpKG4pfSxCZj1mdW5jdGlvbihuLGUpe3JldHVybiBlLmZvbGQoZnVuY3Rpb24oZSl7JGEucmVtb3ZlKG4uZ2V0KCkpO3ZhciB0PVRmKGUpO3JldHVybiBuLnNldCh0KSxBLnNvbWUoTGEodCx0Lmxlbmd0aC0xKSl9LGZ1bmN0aW9uKGUpe3JldHVybiBRYS5maXJzdFBvc2l0aW9uSW4oZSkubWFwKGZ1bmN0aW9uKGUpe2lmKF9mKGUsbikpcmV0dXJuIExhKG4uZ2V0KCksMSk7JGEucmVtb3ZlKG4uZ2V0KCkpO3ZhciB0PVJmKGUsITApO3JldHVybiBuLnNldCh0KSxMYSh0LDEpfSl9LGZ1bmN0aW9uKGUpe3JldHVybiBRYS5sYXN0UG9zaXRpb25JbihlKS5tYXAoZnVuY3Rpb24oZSl7aWYoX2YoZSxuKSlyZXR1cm4gTGEobi5nZXQoKSxuLmdldCgpLmxlbmd0aC0xKTskYS5yZW1vdmUobi5nZXQoKSk7dmFyIHQ9UmYoZSwhMSk7cmV0dXJuIG4uc2V0KHQpLExhKHQsdC5sZW5ndGgtMSl9KX0sZnVuY3Rpb24oZSl7JGEucmVtb3ZlKG4uZ2V0KCkpO3ZhciB0PUFmKGUpO3JldHVybiBuLnNldCh0KSxBLnNvbWUoTGEodCwxKSl9KX0sRGY9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZVtuXS5hcHBseShudWxsLHQpO2lmKHIuaXNTb21lKCkpcmV0dXJuIHJ9cmV0dXJuIEEubm9uZSgpfSxPZj1uZihbe2JlZm9yZTpbImVsZW1lbnQiXX0se3N0YXJ0OlsiZWxlbWVudCJdfSx7ZW5kOlsiZWxlbWVudCJdfSx7YWZ0ZXI6WyJlbGVtZW50Il19XSksUGY9ZnVuY3Rpb24oZSx0KXt2YXIgbj15cyh0LGUpO3JldHVybiBufHxlfSxMZj1mdW5jdGlvbihlLHQsbil7dmFyIHI9eGwubm9ybWFsaXplRm9yd2FyZHMobiksbz1QZih0LHIuY29udGFpbmVyKCkpO3JldHVybiB4bC5maW5kUm9vdElubGluZShlLG8scikuZm9sZChmdW5jdGlvbigpe3JldHVybiBRYS5uZXh0UG9zaXRpb24obyxyKS5iaW5kKFYuY3VycnkoeGwuZmluZFJvb3RJbmxpbmUsZSxvKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBPZi5iZWZvcmUoZSl9KX0sQS5ub25lKX0sSWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09PVRjKGUsdCl9LE1mPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4geGwuZmluZFJvb3RJbmxpbmUoZSx0LG4pLmZpbHRlcihWLmN1cnJ5KElmLHQpKX0sRmY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXhsLm5vcm1hbGl6ZUJhY2t3YXJkcyhuKTtyZXR1cm4gTWYoZSx0LHIpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIFFhLnByZXZQb3NpdGlvbihlLHIpLmlzTm9uZSgpP0Euc29tZShPZi5zdGFydChlKSk6QS5ub25lKCl9KX0semY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXhsLm5vcm1hbGl6ZUZvcndhcmRzKG4pO3JldHVybiBNZihlLHQscikuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gUWEubmV4dFBvc2l0aW9uKGUscikuaXNOb25lKCk/QS5zb21lKE9mLmVuZChlKSk6QS5ub25lKCl9KX0sVWY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXhsLm5vcm1hbGl6ZUJhY2t3YXJkcyhuKSxvPVBmKHQsci5jb250YWluZXIoKSk7cmV0dXJuIHhsLmZpbmRSb290SW5saW5lKGUsbyxyKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIFFhLnByZXZQb3NpdGlvbihvLHIpLmJpbmQoVi5jdXJyeSh4bC5maW5kUm9vdElubGluZSxlLG8pKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIE9mLmFmdGVyKGUpfSl9LEEubm9uZSl9LHFmPWZ1bmN0aW9uKGUpe3JldHVybiExPT09eGwuaXNSdGwoSGYoZSkpfSxWZj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIERmKFtMZixGZix6ZixVZl0sW2UsdCxuXSkuZmlsdGVyKHFmKX0sSGY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZChWLmlkZW50aXR5LFYuaWRlbnRpdHksVi5pZGVudGl0eSxWLmlkZW50aXR5KX0samY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZChWLmNvbnN0YW50KCJiZWZvcmUiKSxWLmNvbnN0YW50KCJzdGFydCIpLFYuY29uc3RhbnQoImVuZCIpLFYuY29uc3RhbnQoImFmdGVyIikpfSwkZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKE9mLmJlZm9yZSxPZi5iZWZvcmUsT2YuYWZ0ZXIsT2YuYWZ0ZXIpfSxXZj1mdW5jdGlvbihuLGUscix0LG8saSl7cmV0dXJuIG1hKFt4bC5maW5kUm9vdElubGluZShlLHIsdCkseGwuZmluZFJvb3RJbmxpbmUoZSxyLG8pXSxmdW5jdGlvbihlLHQpe3JldHVybiBlIT09dCYmeGwuaGFzU2FtZVBhcmVudEJsb2NrKHIsZSx0KT9PZi5hZnRlcihuP2U6dCk6aX0pLmdldE9yKGkpfSxLZj1mdW5jdGlvbihlLHIpe3JldHVybiBlLmZvbGQoVi5jb25zdGFudCghMCksZnVuY3Rpb24oZSl7cmV0dXJuIG49ciwhKGpmKHQ9ZSk9PT1qZihuKSYmSGYodCk9PT1IZihuKSk7dmFyIHQsbn0pfSxYZj1mdW5jdGlvbihlLHQpe3JldHVybiBlP3QuZm9sZChWLmNvbXBvc2UoQS5zb21lLE9mLnN0YXJ0KSxBLm5vbmUsVi5jb21wb3NlKEEuc29tZSxPZi5hZnRlciksQS5ub25lKTp0LmZvbGQoQS5ub25lLFYuY29tcG9zZShBLnNvbWUsT2YuYmVmb3JlKSxBLm5vbmUsVi5jb21wb3NlKEEuc29tZSxPZi5lbmQpKX0sWWY9ZnVuY3Rpb24oYSx1LHMsYyl7dmFyIGU9eGwubm9ybWFsaXplUG9zaXRpb24oYSxjKSxsPVZmKHUscyxlKTtyZXR1cm4gVmYodSxzLGUpLmJpbmQoVi5jdXJyeShYZixhKSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiB0PWEsbj11LHI9cyxvPWwsZT1jLGk9eGwubm9ybWFsaXplUG9zaXRpb24odCxlKSxRYS5mcm9tUG9zaXRpb24odCxyLGkpLm1hcChWLmN1cnJ5KHhsLm5vcm1hbGl6ZVBvc2l0aW9uLHQpKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIG8ubWFwKCRmKX0sZnVuY3Rpb24oZSl7cmV0dXJuIFZmKG4scixlKS5tYXAoVi5jdXJyeShXZix0LG4scixpLGUpKS5maWx0ZXIoVi5jdXJyeShLZixvKSl9KS5maWx0ZXIocWYpO3ZhciB0LG4scixvLGUsaX0pfSxHZj1WZixKZj1ZZixRZj0oVi5jdXJyeShZZiwhMSksVi5jdXJyeShZZiwhMCksJGYpLFpmPWZ1bmN0aW9uKGUpe3JldHVybiBlLmZvbGQoT2Yuc3RhcnQsT2Yuc3RhcnQsT2YuZW5kLE9mLmVuZCl9LGVkPWZ1bmN0aW9uKGUpe3JldHVybiBrLmlzRnVuY3Rpb24oZS5zZWxlY3Rpb24uZ2V0U2VsKCkubW9kaWZ5KX0sdGQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWU/MTotMTtyZXR1cm4gdC5zZXRSbmcoTGEobi5jb250YWluZXIoKSxuLm9mZnNldCgpK3IpLnRvUmFuZ2UoKSksdC5nZXRTZWwoKS5tb2RpZnkoIm1vdmUiLGU/ImZvcndhcmQiOiJiYWNrd2FyZCIsIndvcmQiKSwhMH0sbmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnNlbGVjdGlvbi5nZXRSbmcoKSxyPWU/TGEuZnJvbVJhbmdlRW5kKG4pOkxhLmZyb21SYW5nZVN0YXJ0KG4pO3JldHVybiEhZWQodCkmJihlJiZNaShyKT90ZCghMCx0LnNlbGVjdGlvbixyKTohKGV8fCFGaShyKSkmJnRkKCExLHQuc2VsZWN0aW9uLHIpKX0scmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmRvbS5jcmVhdGVSbmcoKTtuLnNldFN0YXJ0KHQuY29udGFpbmVyKCksdC5vZmZzZXQoKSksbi5zZXRFbmQodC5jb250YWluZXIoKSx0Lm9mZnNldCgpKSxlLnNlbGVjdGlvbi5zZXRSbmcobil9LG9kPWZ1bmN0aW9uKGUpe3JldHVybiExIT09ZS5zZXR0aW5ncy5pbmxpbmVfYm91bmRhcmllc30saWQ9ZnVuY3Rpb24oZSx0KXtlP3Quc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIsImlubGluZS1ib3VuZGFyeSIpOnQucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpfSxhZD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIEJmKGUsbikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiByZCh0LGUpLG59KX0sdWQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbigpe3JldHVybiEhb2QodCkmJm5kKGUsdCl9fSxzZD17bW92ZTpmdW5jdGlvbihhLHUscyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuISFvZChhKSYmKHQ9YSxuPXUsZT1zLHI9dC5nZXRCb2R5KCksbz1MYS5mcm9tUmFuZ2VTdGFydCh0LnNlbGVjdGlvbi5nZXRSbmcoKSksaT1WLmN1cnJ5KHhsLmlzSW5saW5lVGFyZ2V0LHQpLEpmKGUsaSxyLG8pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGFkKHQsbixlKX0pKS5pc1NvbWUoKTt2YXIgdCxuLGUscixvLGl9fSxtb3ZlTmV4dFdvcmQ6Vi5jdXJyeSh1ZCwhMCksbW92ZVByZXZXb3JkOlYuY3VycnkodWQsITEpLHNldHVwU2VsZWN0ZWRTdGF0ZTpmdW5jdGlvbihhKXt2YXIgdT1ucyhudWxsKSxzPVYuY3VycnkoeGwuaXNJbmxpbmVUYXJnZXQsYSk7cmV0dXJuIGEub24oIk5vZGVDaGFuZ2UiLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGk7b2QoYSkmJih0PXMsbj1hLmRvbSxyPWUucGFyZW50cyxvPUguZmlsdGVyKG4uc2VsZWN0KCcqW2RhdGEtbWNlLXNlbGVjdGVkPSJpbmxpbmUtYm91bmRhcnkiXScpLHQpLGk9SC5maWx0ZXIocix0KSxILmVhY2goSC5kaWZmZXJlbmNlKG8saSksVi5jdXJyeShpZCwhMSkpLEguZWFjaChILmRpZmZlcmVuY2UoaSxvKSxWLmN1cnJ5KGlkLCEwKSksZnVuY3Rpb24oZSx0KXtpZihlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiYhMCE9PWUuY29tcG9zaW5nJiZ0LmdldCgpKXt2YXIgbj1MYS5mcm9tUmFuZ2VTdGFydChlLnNlbGVjdGlvbi5nZXRSbmcoKSk7TGEuaXNUZXh0UG9zaXRpb24obikmJiExPT09eGwuaXNBdFp3c3AobikmJihyZChlLCRhLnJlbW92ZUFuZFJlcG9zaXRpb24odC5nZXQoKSxuKSksdC5zZXQobnVsbCkpfX0oYSx1KSxmdW5jdGlvbihuLHIsbyxlKXtpZihyLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpKXt2YXIgdD1ILmZpbHRlcihlLG4pO0guZWFjaCh0LGZ1bmN0aW9uKGUpe3ZhciB0PUxhLmZyb21SYW5nZVN0YXJ0KHIuc2VsZWN0aW9uLmdldFJuZygpKTtHZihuLHIuZ2V0Qm9keSgpLHQpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGFkKHIsbyxlKX0pfSl9fShzLGEsdSxlLnBhcmVudHMpKX0pLHV9LHNldENhcmV0UG9zaXRpb246cmR9LGNkPWZ1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBCZihuLGUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gc2Quc2V0Q2FyZXRQb3NpdGlvbih0LGUpLCEwfSkuZ2V0T3IoITEpfX0sbGQ9ZnVuY3Rpb24ocixvLGksYSl7dmFyIHU9ci5nZXRCb2R5KCkscz1WLmN1cnJ5KHhsLmlzSW5saW5lVGFyZ2V0LHIpO3IudW5kb01hbmFnZXIuaWdub3JlKGZ1bmN0aW9uKCl7dmFyIGUsdCxuO3Iuc2VsZWN0aW9uLnNldFJuZygoZT1pLHQ9YSwobj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydChlLmNvbnRhaW5lcigpLGUub2Zmc2V0KCkpLG4uc2V0RW5kKHQuY29udGFpbmVyKCksdC5vZmZzZXQoKSksbikpLHIuZXhlY0NvbW1hbmQoIkRlbGV0ZSIpLEdmKHMsdSxMYS5mcm9tUmFuZ2VTdGFydChyLnNlbGVjdGlvbi5nZXRSbmcoKSkpLm1hcChaZikubWFwKGNkKHIsbykpfSksci5ub2RlQ2hhbmdlZCgpfSxmZD1mdW5jdGlvbihuLHIsaSxvKXt2YXIgZSx0LGE9KGU9bi5nZXRCb2R5KCksdD1vLmNvbnRhaW5lcigpLHlzKHQsZSl8fGUpLHU9Vi5jdXJyeSh4bC5pc0lubGluZVRhcmdldCxuKSxzPUdmKHUsYSxvKTtyZXR1cm4gcy5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBpP2UuZm9sZChWLmNvbnN0YW50KEEuc29tZShaZihlKSkpLEEubm9uZSxWLmNvbnN0YW50KEEuc29tZShRZihlKSkpLEEubm9uZSk6ZS5mb2xkKEEubm9uZSxWLmNvbnN0YW50KEEuc29tZShRZihlKSkpLEEubm9uZSxWLmNvbnN0YW50KEEuc29tZShaZihlKSkpKX0pLm1hcChjZChuLHIpKS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7dmFyIHQ9UWEubmF2aWdhdGUoaSxhLG8pLGU9dC5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBHZih1LGEsZSl9KTtyZXR1cm4gcy5pc1NvbWUoKSYmZS5pc1NvbWUoKT94bC5maW5kUm9vdElubGluZSh1LGEsbykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBvPWUsISFtYShbUWEuZmlyc3RQb3NpdGlvbkluKG8pLFFhLmxhc3RQb3NpdGlvbkluKG8pXSxmdW5jdGlvbihlLHQpe3ZhciBuPXhsLm5vcm1hbGl6ZVBvc2l0aW9uKCEwLGUpLHI9eGwubm9ybWFsaXplUG9zaXRpb24oITEsdCk7cmV0dXJuIFFhLm5leHRQb3NpdGlvbihvLG4pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0VxdWFsKHIpfSkuZ2V0T3IoITApfSkuZ2V0T3IoITApJiYodmYobixpLFZuLmZyb21Eb20oZSkpLCEwKTt2YXIgb30pLmdldE9yKCExKTplLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBpP2xkKG4scixvLGUpOmxkKG4scixlLG8pLCEwfSl9KS5nZXRPcighMSl9KX0sZGQ9ZnVuY3Rpb24oZSx0LG4pe2lmKGUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJiExIT09ZS5zZXR0aW5ncy5pbmxpbmVfYm91bmRhcmllcyl7dmFyIHI9TGEuZnJvbVJhbmdlU3RhcnQoZS5zZWxlY3Rpb24uZ2V0Um5nKCkpO3JldHVybiBmZChlLHQsbixyKX1yZXR1cm4hMX0sbWQ9a3IuaW1tdXRhYmxlKCJzdGFydCIsImVuZCIpLHBkPWtyLmltbXV0YWJsZSgicm5nIiwidGFibGUiLCJjZWxscyIpLGdkPW5mKFt7cmVtb3ZlVGFibGU6WyJlbGVtZW50Il19LHtlbXB0eUNlbGxzOlsiY2VsbHMiXX1dKSxoZD1mdW5jdGlvbihlLHQpe3JldHVybiBBbChWbi5mcm9tRG9tKGUpLCJ0ZCx0aCIsdCl9LHZkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGtsKGUsInRhYmxlIix0KX0seWQ9ZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1Nci5lcShlLnN0YXJ0KCksZS5lbmQoKSl9LGJkPWZ1bmN0aW9uKGUsbil7cmV0dXJuIHZkKGUuc3RhcnQoKSxuKS5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiB2ZChlLmVuZCgpLG4pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIE1yLmVxKHQsZSk/QS5zb21lKHQpOkEubm9uZSgpfSl9KX0sQ2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGh1KGUsInRkLHRoIil9LHhkPWZ1bmN0aW9uKHIsZSl7dmFyIHQ9aGQoZS5zdGFydENvbnRhaW5lcixyKSxuPWhkKGUuZW5kQ29udGFpbmVyLHIpO3JldHVybiBlLmNvbGxhcHNlZD9BLm5vbmUoKTptYShbdCxuXSxtZCkuZm9sZChmdW5jdGlvbigpe3JldHVybiB0LmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gbi5iaW5kKGZ1bmN0aW9uKHQpe3JldHVybiB2ZCh0LHIpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIEguaGVhZChDZChlKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBtZChlLHQpfSl9KX0pfSxmdW5jdGlvbih0KXtyZXR1cm4gdmQodCxyKS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBILmxhc3QoQ2QoZSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbWQodCxlKX0pfSl9KX0sZnVuY3Rpb24oZSl7cmV0dXJuIHdkKHIsZSk/QS5ub25lKCk6KG49cix2ZCgodD1lKS5zdGFydCgpLG4pLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIEgubGFzdChDZChlKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBtZCh0LnN0YXJ0KCksZSl9KX0pKTt2YXIgdCxufSl9LHdkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGJkKHQsZSkuaXNTb21lKCl9LE5kPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1PShuPWUsVi5jdXJyeShNci5lcSxuKSk7cmV0dXJuKHI9dCxvPXUsaT1oZChyLnN0YXJ0Q29udGFpbmVyLG8pLGE9aGQoci5lbmRDb250YWluZXIsbyksbWEoW2ksYV0sbWQpLmZpbHRlcih5ZCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB3ZChvLGUpfSkub3JUaHVuayhmdW5jdGlvbigpe3JldHVybiB4ZChvLHIpfSkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGJkKHQ9ZSx1KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHBkKHQsZSxDZChlKSl9KTt2YXIgdH0pfSxFZD1mdW5jdGlvbihlLHQpe3JldHVybiBILmZpbmRJbmRleChlLGZ1bmN0aW9uKGUpe3JldHVybiBNci5lcShlLHQpfSl9LFNkPWZ1bmN0aW9uKG4pe3JldHVybihyPW4sbWEoW0VkKHIuY2VsbHMoKSxyLnJuZygpLnN0YXJ0KCkpLEVkKHIuY2VsbHMoKSxyLnJuZygpLmVuZCgpKV0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5jZWxscygpLnNsaWNlKGUsdCsxKX0pKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9bi5jZWxscygpO3JldHVybiBlLmxlbmd0aD09PXQubGVuZ3RoP2dkLnJlbW92ZVRhYmxlKG4udGFibGUoKSk6Z2QuZW1wdHlDZWxscyhlKX0pO3ZhciByfSxrZD1mdW5jdGlvbihlLHQpe3JldHVybiBOZChlLHQpLmJpbmQoU2QpfSxUZD1mdW5jdGlvbihlKXt2YXIgdD1bXTtpZihlKWZvcih2YXIgbj0wO248ZS5yYW5nZUNvdW50O24rKyl0LnB1c2goZS5nZXRSYW5nZUF0KG4pKTtyZXR1cm4gdH0sQWQ9VGQsUmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEguYmluZChlLGZ1bmN0aW9uKGUpe3ZhciB0PWFhKGUpO3JldHVybiB0P1tWbi5mcm9tRG9tKHQpXTpbXX0pfSxfZD1mdW5jdGlvbihlKXtyZXR1cm4gMTxUZChlKS5sZW5ndGh9LEJkPWZ1bmN0aW9uKGUpe3JldHVybiBILmZpbHRlcihSZChlKSx4byl9LERkPWZ1bmN0aW9uKGUpe3JldHVybiBodShlLCJ0ZFtkYXRhLW1jZS1zZWxlY3RlZF0sdGhbZGF0YS1tY2Utc2VsZWN0ZWRdIil9LE9kPWZ1bmN0aW9uKGUsdCl7dmFyIG49RGQodCkscj1CZChlKTtyZXR1cm4gMDxuLmxlbmd0aD9uOnJ9LFBkPU9kLExkPWZ1bmN0aW9uKGUpe3JldHVybiBPZChBZChlLnNlbGVjdGlvbi5nZXRTZWwoKSksVm4uZnJvbURvbShlLmdldEJvZHkoKSkpfSxJZD1mdW5jdGlvbihlLHQpe3JldHVybiBILmVhY2godCxLYyksZS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24odFswXS5kb20oKSwwKSwhMH0sTWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdmYoZSwhMSx0KSwhMH0sRmQ9ZnVuY3Rpb24obixlLHIsdCl7cmV0dXJuIFVkKGUsdCkuZm9sZChmdW5jdGlvbigpe3JldHVybiB0PW4sa2QoZSxyKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZChWLmN1cnJ5KE1kLHQpLFYuY3VycnkoSWQsdCkpfSk7dmFyIHR9LGZ1bmN0aW9uKGUpe3JldHVybiBxZChuLGUpfSkuZ2V0T3IoITEpfSx6ZD1mdW5jdGlvbihlLHQpe3JldHVybiBILmZpbmQoamwodCxlKSx4byl9LFVkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEguZmluZChqbCh0LGUpLGZ1bmN0aW9uKGUpe3JldHVybiJjYXB0aW9uIj09PVpuLm5hbWUoZSl9KX0scWQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gS2ModCksZS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24odC5kb20oKSwwKSxBLnNvbWUoITApfSxWZD1mdW5jdGlvbih1LHMsYyxsLGYpe3JldHVybiBRYS5uYXZpZ2F0ZShjLHUuZ2V0Qm9keSgpLGYpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHI9bCxvPWMsaT1mLGE9ZSxRYS5maXJzdFBvc2l0aW9uSW4oci5kb20oKSkuYmluZChmdW5jdGlvbih0KXtyZXR1cm4gUWEubGFzdFBvc2l0aW9uSW4oci5kb20oKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBvP2kuaXNFcXVhbCh0KSYmYS5pc0VxdWFsKGUpOmkuaXNFcXVhbChlKSYmYS5pc0VxdWFsKHQpfSl9KS5nZXRPcighMCk/cWQodSxsKToodD1sLG49ZSxVZChzLFZuLmZyb21Eb20obi5nZXROb2RlKCkpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuITE9PT1Nci5lcShlLHQpfSkpO3ZhciB0LG4scixvLGksYX0pLm9yKEEuc29tZSghMCkpfSxIZD1mdW5jdGlvbihhLHUscyxlKXt2YXIgYz1MYS5mcm9tUmFuZ2VTdGFydChhLnNlbGVjdGlvbi5nZXRSbmcoKSk7cmV0dXJuIHpkKHMsZSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gTGwoZSk/cWQoYSxlKToodD1hLG49cyxyPXUsbz1lLGk9YyxRYS5uYXZpZ2F0ZShyLHQuZ2V0Qm9keSgpLGkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIHpkKG4sVm4uZnJvbURvbShlLmdldE5vZGUoKSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hMT09PU1yLmVxKGUsbyl9KX0pKTt2YXIgdCxuLHIsbyxpfSl9LGpkPWZ1bmN0aW9uKGEsdSxlKXt2YXIgcz1Wbi5mcm9tRG9tKGEuZ2V0Qm9keSgpKTtyZXR1cm4gVWQocyxlKS5mb2xkKGZ1bmN0aW9uKCl7cmV0dXJuIEhkKGEsdSxzLGUpfSxmdW5jdGlvbihlKXtyZXR1cm4gdD1hLG49dSxyPXMsbz1lLGk9TGEuZnJvbVJhbmdlU3RhcnQodC5zZWxlY3Rpb24uZ2V0Um5nKCkpLExsKG8pP3FkKHQsbyk6VmQodCxyLG4sbyxpKTt2YXIgdCxuLHIsbyxpfSkuZ2V0T3IoITEpfSwkZD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEsdT1Wbi5mcm9tRG9tKGUuc2VsZWN0aW9uLmdldFN0YXJ0KCEwKSkscz1MZChlKTtyZXR1cm4gZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmMD09PXMubGVuZ3RoP2pkKGUsdCx1KToobj1lLHI9dSxvPVZuLmZyb21Eb20obi5nZXRCb2R5KCkpLGk9bi5zZWxlY3Rpb24uZ2V0Um5nKCksMCE9PShhPUxkKG4pKS5sZW5ndGg/SWQobixhKTpGZChuLG8saSxyKSl9LFdkPWZ1bmN0aW9uKGUsdCl7ZS5nZXREb2MoKS5leGVjQ29tbWFuZCh0LCExLG51bGwpfSxLZD1mdW5jdGlvbihlKXtDZihlLCExKXx8ZGQoZSwhMSl8fEpsKGUsITEpfHwkZChlKXx8dGYoZSwhMSl8fChXZChlLCJEZWxldGUiKSxObChlKSl9LFhkPWZ1bmN0aW9uKGUpe0NmKGUsITApfHxkZChlLCEwKXx8SmwoZSwhMCl8fCRkKGUpfHx0ZihlLCEwKXx8V2QoZSwiRm9yd2FyZERlbGV0ZSIpfSxZZD1mdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24odSxlKXtyZXR1cm4gQS5mcm9tKGUpLm1hcChWbi5mcm9tRG9tKS5maWx0ZXIoWm4uaXNFbGVtZW50KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybihyPXMsbz11LGk9ZS5kb20oKSxhPWZ1bmN0aW9uKGUpe3JldHVybiBDcihlLHIpfSx1bC5jbG9zZXN0KFZuLmZyb21Eb20oaSksZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSkuaXNTb21lKCl9LGZ1bmN0aW9uKGUpe3JldHVybiBNci5lcShWbi5mcm9tRG9tKG8pLGUpfSkuYmluZChhKSkub3IoKHQ9cyxuPWUuZG9tKCksQS5mcm9tKHZpLkRPTS5nZXRTdHlsZShuLHQsITApKSkpO3ZhciB0LG4scixvLGksYX0pLmdldE9yKCIiKX19LEdkPXtnZXRGb250U2l6ZTpZZCgiZm9udC1zaXplIiksZ2V0Rm9udEZhbWlseTpWLmNvbXBvc2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvW1wnXCJcXF0vZywiIikucmVwbGFjZSgvLFxzKy9nLCIsIil9LFlkKCJmb250LWZhbWlseSIpKSx0b1B0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuL1swLTkuXStweCQvLnRlc3QoZSk/KG49NzIqcGFyc2VJbnQoZSwxMCkvOTYscj10fHwwLG89TWF0aC5wb3coMTAsciksTWF0aC5yb3VuZChuKm8pL28rInB0Iik6ZTt2YXIgbixyLG99fSxKZD1mdW5jdGlvbihlKXtyZXR1cm4gUWEuZmlyc3RQb3NpdGlvbkluKGUuZ2V0Qm9keSgpKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb250YWluZXIoKTtyZXR1cm4gT28uaXNUZXh0KHQpP3QucGFyZW50Tm9kZTp0fSl9LFFkPWZ1bmN0aW9uKG8pe3JldHVybiBBLmZyb20oby5zZWxlY3Rpb24uZ2V0Um5nKCkpLmJpbmQoZnVuY3Rpb24oZSl7dmFyIHQsbixyPW8uZ2V0Qm9keSgpO3JldHVybiBuPXIsKHQ9ZSkuc3RhcnRDb250YWluZXI9PT1uJiYwPT09dC5zdGFydE9mZnNldD9BLm5vbmUoKTpBLmZyb20oby5zZWxlY3Rpb24uZ2V0U3RhcnQoITApKX0pfSxaZD1mdW5jdGlvbihlLHQpe2lmKC9eWzAtOVwuXSskLy50ZXN0KHQpKXt2YXIgbj1wYXJzZUludCh0LDEwKTtpZigxPD1uJiZuPD03KXt2YXIgcj16dShlKSxvPVV1KGUpO3JldHVybiBvP29bbi0xXXx8dDpyW24tMV18fHR9cmV0dXJuIHR9cmV0dXJuIHR9LGVtPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnQmJmUuc3RhcnRDb250YWluZXI9PT10LnN0YXJ0Q29udGFpbmVyJiZlLnN0YXJ0T2Zmc2V0PT09dC5zdGFydE9mZnNldCYmZS5lbmRDb250YWluZXI9PT10LmVuZENvbnRhaW5lciYmZS5lbmRPZmZzZXQ9PT10LmVuZE9mZnNldH0sdG09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBudWxsIT09ZnVuY3Rpb24oZSx0LG4pe2Zvcig7ZSYmZSE9PXQ7KXtpZihuKGUpKXJldHVybiBlO2U9ZS5wYXJlbnROb2RlfXJldHVybiBudWxsfShlLHQsbil9LG5tPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdG0oZSx0LGZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVOYW1lPT09bn0pfSxybT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmIlRBQkxFIj09PWUubm9kZU5hbWV9LG9tPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bmV3IGFvKHQsZS5nZXRQYXJlbnQodC5wYXJlbnROb2RlLGUuaXNCbG9jayl8fGUuZ2V0Um9vdCgpKTt0PXJbbj8icHJldiI6Im5leHQiXSgpOylpZihPby5pc0JyKHQpKXJldHVybiEwfSxpbT1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEsdSxzLGMsbCxmPWUuZ2V0Um9vdCgpLGQ9ZS5zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpO2lmKHU9ZS5nZXRQYXJlbnQoby5wYXJlbnROb2RlLGUuaXNCbG9jayl8fGYsciYmT28uaXNCcihvKSYmdCYmZS5pc0VtcHR5KHUpKXJldHVybiBBLnNvbWUoRGEoby5wYXJlbnROb2RlLGUubm9kZUluZGV4KG8pKSk7Zm9yKGk9bmV3IGFvKG8sdSk7cz1pW3I/InByZXYiOiJuZXh0Il0oKTspe2lmKCJmYWxzZSI9PT1lLmdldENvbnRlbnRFZGl0YWJsZVBhcmVudChzKXx8KGw9ZixMaShjPXMpJiYhMT09PXRtKGMsbCxrYykpKXJldHVybiBBLm5vbmUoKTtpZihPby5pc1RleHQocykmJjA8cy5ub2RlVmFsdWUubGVuZ3RoKXJldHVybiExPT09bm0ocyxmLCJBIik/QS5zb21lKERhKHMscj9zLm5vZGVWYWx1ZS5sZW5ndGg6MCkpOkEubm9uZSgpO2lmKGUuaXNCbG9jayhzKXx8ZFtzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXJldHVybiBBLm5vbmUoKTthPXN9cmV0dXJuIG4mJmE/QS5zb21lKERhKGEsMCkpOkEubm9uZSgpfSxhbT1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzLGMsbCxmLGQsbSxwPWUuZ2V0Um9vdCgpLGc9ITE7aWYobz1yWyhuPyJzdGFydCI6ImVuZCIpKyJDb250YWluZXIiXSxpPXJbKG4/InN0YXJ0IjoiZW5kIikrIk9mZnNldCJdLGw9T28uaXNFbGVtZW50KG8pJiZpPT09by5jaGlsZE5vZGVzLmxlbmd0aCxzPWUuc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKSxjPW4sTGkobykpcmV0dXJuIEEubm9uZSgpO2lmKE9vLmlzRWxlbWVudChvKSYmaT5vLmNoaWxkTm9kZXMubGVuZ3RoLTEmJihjPSExKSxPby5pc0RvY3VtZW50KG8pJiYobz1wLGk9MCksbz09PXApe2lmKGMmJih1PW8uY2hpbGROb2Rlc1swPGk/aS0xOjBdKSl7aWYoTGkodSkpcmV0dXJuIEEubm9uZSgpO2lmKHNbdS5ub2RlTmFtZV18fHJtKHUpKXJldHVybiBBLm5vbmUoKX1pZihvLmhhc0NoaWxkTm9kZXMoKSl7aWYoaT1NYXRoLm1pbighYyYmMDxpP2ktMTppLG8uY2hpbGROb2Rlcy5sZW5ndGgtMSksbz1vLmNoaWxkTm9kZXNbaV0saT1Pby5pc1RleHQobykmJmw/by5kYXRhLmxlbmd0aDowLCF0JiZvPT09cC5sYXN0Q2hpbGQmJnJtKG8pKXJldHVybiBBLm5vbmUoKTtpZihmdW5jdGlvbihlLHQpe2Zvcig7dCYmdCE9PWU7KXtpZihPby5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlKHQpKXJldHVybiEwO3Q9dC5wYXJlbnROb2RlfXJldHVybiExfShwLG8pfHxMaShvKSlyZXR1cm4gQS5ub25lKCk7aWYoby5oYXNDaGlsZE5vZGVzKCkmJiExPT09cm0obykpe2E9bmV3IGFvKHU9byxwKTtkb3tpZihPby5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlKHUpfHxMaSh1KSl7Zz0hMTticmVha31pZihPby5pc1RleHQodSkmJjA8dS5ub2RlVmFsdWUubGVuZ3RoKXtpPWM/MDp1Lm5vZGVWYWx1ZS5sZW5ndGgsbz11LGc9ITA7YnJlYWt9aWYoc1t1Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldJiYoIShmPXUpfHwhL14oVER8VEh8Q0FQVElPTikkLy50ZXN0KGYubm9kZU5hbWUpKSl7aT1lLm5vZGVJbmRleCh1KSxvPXUucGFyZW50Tm9kZSxjfHxpKyssZz0hMDticmVha319d2hpbGUodT1jP2EubmV4dCgpOmEucHJldigpKX19fXJldHVybiB0JiYoT28uaXNUZXh0KG8pJiYwPT09aSYmaW0oZSxsLHQsITAsbykuZWFjaChmdW5jdGlvbihlKXtvPWUuY29udGFpbmVyKCksaT1lLm9mZnNldCgpLGc9ITB9KSxPby5pc0VsZW1lbnQobykmJigodT1vLmNoaWxkTm9kZXNbaV0pfHwodT1vLmNoaWxkTm9kZXNbaS0xXSksIXV8fCFPby5pc0JyKHUpfHwobT0iQSIsKGQ9dSkucHJldmlvdXNTaWJsaW5nJiZkLnByZXZpb3VzU2libGluZy5ub2RlTmFtZT09PW0pfHxvbShlLHUsITEpfHxvbShlLHUsITApfHxpbShlLGwsdCwhMCx1KS5lYWNoKGZ1bmN0aW9uKGUpe289ZS5jb250YWluZXIoKSxpPWUub2Zmc2V0KCksZz0hMH0pKSksYyYmIXQmJk9vLmlzVGV4dChvKSYmaT09PW8ubm9kZVZhbHVlLmxlbmd0aCYmaW0oZSxsLHQsITEsbykuZWFjaChmdW5jdGlvbihlKXtvPWUuY29udGFpbmVyKCksaT1lLm9mZnNldCgpLGc9ITB9KSxnP0Euc29tZShEYShvLGkpKTpBLm5vbmUoKX0sdW09ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmNvbGxhcHNlZCxyPXQuY2xvbmVSYW5nZSgpLG89RGEuZnJvbVJhbmdlU3RhcnQodCk7cmV0dXJuIGFtKGUsbiwhMCxyKS5lYWNoKGZ1bmN0aW9uKGUpe24mJkRhLmlzQWJvdmUobyxlKXx8ci5zZXRTdGFydChlLmNvbnRhaW5lcigpLGUub2Zmc2V0KCkpfSksbnx8YW0oZSxuLCExLHIpLmVhY2goZnVuY3Rpb24oZSl7ci5zZXRFbmQoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKX0pLG4mJnIuY29sbGFwc2UoITApLGVtKHQscik/QS5ub25lKCk6QS5zb21lKHIpfSxzbT1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5jcmVhdGUoInNwYW4iLHt9LCImbmJzcDsiKTtuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHIsbiksdC5zY3JvbGxJbnRvVmlldyhyKSxlLnJlbW92ZShyKX0sY209ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89ZS5jcmVhdGVSbmcoKTtyPyhvLnNldFN0YXJ0QmVmb3JlKG4pLG8uc2V0RW5kQmVmb3JlKG4pKTooby5zZXRTdGFydEFmdGVyKG4pLG8uc2V0RW5kQWZ0ZXIobikpLHQuc2V0Um5nKG8pfSxsbT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbz1lLnNlbGVjdGlvbixpPWUuZG9tLGE9by5nZXRSbmcoKTt1bShpLGEpLmVhY2goZnVuY3Rpb24oZSl7YS5zZXRTdGFydChlLnN0YXJ0Q29udGFpbmVyLGUuc3RhcnRPZmZzZXQpLGEuc2V0RW5kKGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KX0pO3ZhciB1PWEuc3RhcnRPZmZzZXQscz1hLnN0YXJ0Q29udGFpbmVyO2lmKDE9PT1zLm5vZGVUeXBlJiZzLmhhc0NoaWxkTm9kZXMoKSl7dmFyIGM9dT5zLmNoaWxkTm9kZXMubGVuZ3RoLTE7cz1zLmNoaWxkTm9kZXNbTWF0aC5taW4odSxzLmNoaWxkTm9kZXMubGVuZ3RoLTEpXXx8cyx1PWMmJjM9PT1zLm5vZGVUeXBlP3Mubm9kZVZhbHVlLmxlbmd0aDowfXZhciBsPWkuZ2V0UGFyZW50KHMsaS5pc0Jsb2NrKSxmPWw/aS5nZXRQYXJlbnQobC5wYXJlbnROb2RlLGkuaXNCbG9jayk6bnVsbCxkPWY/Zi5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpOiIiLG09dCYmdC5jdHJsS2V5OyJMSSIhPT1kfHxtfHwobD1mKSxzJiYzPT09cy5ub2RlVHlwZSYmdT49cy5ub2RlVmFsdWUubGVuZ3RoJiYoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixvPW5ldyBhbyh0LG4pLGk9ZS5nZXROb25FbXB0eUVsZW1lbnRzKCk7cj1vLm5leHQoKTspaWYoaVtyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldfHwwPHIubGVuZ3RoKXJldHVybiEwfShlLnNjaGVtYSxzLGwpfHwobj1pLmNyZWF0ZSgiYnIiKSxhLmluc2VydE5vZGUobiksYS5zZXRTdGFydEFmdGVyKG4pLGEuc2V0RW5kQWZ0ZXIobikscj0hMCkpLG49aS5jcmVhdGUoImJyIiksYS5pbnNlcnROb2RlKG4pLHNtKGksbyxuKSxjbShpLG8sbixyKSxlLnVuZG9NYW5hZ2VyLmFkZCgpfSxmbT1mdW5jdGlvbihlLHQpe3ZhciBuPVZuLmZyb21UYWcoImJyIik7SHUuYmVmb3JlKFZuLmZyb21Eb20odCksbiksZS51bmRvTWFuYWdlci5hZGQoKX0sZG09ZnVuY3Rpb24oZSx0KXttbShlLmdldEJvZHkoKSx0KXx8SHUuYWZ0ZXIoVm4uZnJvbURvbSh0KSxWbi5mcm9tVGFnKCJiciIpKTt2YXIgbj1Wbi5mcm9tVGFnKCJiciIpO0h1LmFmdGVyKFZuLmZyb21Eb20odCksbiksc20oZS5kb20sZS5zZWxlY3Rpb24sbi5kb20oKSksY20oZS5kb20sZS5zZWxlY3Rpb24sbi5kb20oKSwhMSksZS51bmRvTWFuYWdlci5hZGQoKX0sbW09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj1MYS5hZnRlcih0KSwhIU9vLmlzQnIobi5nZXROb2RlKCkpfHxRYS5uZXh0UG9zaXRpb24oZSxMYS5hZnRlcih0KSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBPby5pc0JyKGUuZ2V0Tm9kZSgpKX0pLmdldE9yKCExKTt2YXIgbn0scG09ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJBIj09PWUubm9kZU5hbWUmJiJocmVmImluIGV9LGdtPWZ1bmN0aW9uKGUpe3JldHVybiBlLmZvbGQoVi5jb25zdGFudCghMSkscG0scG0sVi5jb25zdGFudCghMSkpfSxobT1mdW5jdGlvbihlLHQpe3QuZm9sZChWLm5vb3AsVi5jdXJyeShmbSxlKSxWLmN1cnJ5KGRtLGUpLFYubm9vcCl9LHZtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk9KG49ZSxyPVYuY3VycnkoeGwuaXNJbmxpbmVUYXJnZXQsbiksbz1MYS5mcm9tUmFuZ2VTdGFydChuLnNlbGVjdGlvbi5nZXRSbmcoKSksR2YocixuLmdldEJvZHkoKSxvKS5maWx0ZXIoZ20pKTtpLmlzU29tZSgpP2kuZWFjaChWLmN1cnJ5KGhtLGUpKTpsbShlLHQpfSx5bT1uZihbe2JlZm9yZTpbImVsZW1lbnQiXX0se29uOlsiZWxlbWVudCIsIm9mZnNldCJdfSx7YWZ0ZXI6WyJlbGVtZW50Il19XSksYm09KHltLmJlZm9yZSx5bS5vbix5bS5hZnRlcixmdW5jdGlvbihlKXtyZXR1cm4gZS5mb2xkKFYuaWRlbnRpdHksVi5pZGVudGl0eSxWLmlkZW50aXR5KX0pLENtPW5mKFt7ZG9tUmFuZ2U6WyJybmciXX0se3JlbGF0aXZlOlsic3RhcnRTaXR1IiwiZmluaXNoU2l0dSJdfSx7ZXhhY3Q6WyJzdGFydCIsInNvZmZzZXQiLCJmaW5pc2giLCJmb2Zmc2V0Il19XSkseG09a3IuaW1tdXRhYmxlKCJzdGFydCIsInNvZmZzZXQiLCJmaW5pc2giLCJmb2Zmc2V0Iiksd209e2RvbVJhbmdlOkNtLmRvbVJhbmdlLHJlbGF0aXZlOkNtLnJlbGF0aXZlLGV4YWN0OkNtLmV4YWN0LGV4YWN0RnJvbVJhbmdlOmZ1bmN0aW9uKGUpe3JldHVybiBDbS5leGFjdChlLnN0YXJ0KCksZS5zb2Zmc2V0KCksZS5maW5pc2goKSxlLmZvZmZzZXQoKSl9LHJhbmdlOnhtLGdldFdpbjpmdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKHtkb21SYW5nZTpmdW5jdGlvbihlKXtyZXR1cm4gVm4uZnJvbURvbShlLnN0YXJ0Q29udGFpbmVyKX0scmVsYXRpdmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYm0oZSl9LGV4YWN0OmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBlfX0pO3JldHVybiAkci5kZWZhdWx0Vmlldyh0KX19LE5tPVVuLmRldGVjdCgpLmJyb3dzZXIsRW09ZnVuY3Rpb24oZSx0KXt2YXIgbj1abi5pc1RleHQodCk/JGModCkubGVuZ3RoOiRyLmNoaWxkcmVuKHQpLmxlbmd0aCsxO3JldHVybiBuPGU/bjplPDA/MDplfSxTbT1mdW5jdGlvbihlKXtyZXR1cm4gd20ucmFuZ2UoZS5zdGFydCgpLEVtKGUuc29mZnNldCgpLGUuc3RhcnQoKSksZS5maW5pc2goKSxFbShlLmZvZmZzZXQoKSxlLmZpbmlzaCgpKSl9LGttPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1yLmNvbnRhaW5zKGUsdCl8fE1yLmVxKGUsdCl9LFRtPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4ga20odCxlLnN0YXJ0KCkpJiZrbSh0LGUuZmluaXNoKCkpfX0sQW09ZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmlubGluZXx8Tm0uaXNJRSgpfSxSbT1mdW5jdGlvbihlKXtyZXR1cm4gd20ucmFuZ2UoVm4uZnJvbURvbShlLnN0YXJ0Q29udGFpbmVyKSxlLnN0YXJ0T2Zmc2V0LFZuLmZyb21Eb20oZS5lbmRDb250YWluZXIpLGUuZW5kT2Zmc2V0KX0sX209ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXRTZWxlY3Rpb24oKTtyZXR1cm4odCYmMCE9PXQucmFuZ2VDb3VudD9BLmZyb20odC5nZXRSYW5nZUF0KDApKTpBLm5vbmUoKSkubWFwKFJtKX0sQm09ZnVuY3Rpb24oZSl7dmFyIHQ9JHIuZGVmYXVsdFZpZXcoZSk7cmV0dXJuIF9tKHQuZG9tKCkpLmZpbHRlcihUbShlKSl9LERtPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEEuZnJvbSh0KS5maWx0ZXIoVG0oZSkpLm1hcChTbSl9LE9tPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7dHJ5e3JldHVybiB0LnNldFN0YXJ0KGUuc3RhcnQoKS5kb20oKSxlLnNvZmZzZXQoKSksdC5zZXRFbmQoZS5maW5pc2goKS5kb20oKSxlLmZvZmZzZXQoKSksQS5zb21lKHQpfWNhdGNoKG4pe3JldHVybiBBLm5vbmUoKX19LFBtPWZ1bmN0aW9uKGUpe3JldHVybihlLmJvb2ttYXJrP2UuYm9va21hcms6QS5ub25lKCkpLmJpbmQoVi5jdXJyeShEbSxWbi5mcm9tRG9tKGUuZ2V0Qm9keSgpKSkpLmJpbmQoT20pfSxMbT1mdW5jdGlvbihlKXt2YXIgdD1BbShlKT9CbShWbi5mcm9tRG9tKGUuZ2V0Qm9keSgpKSk6QS5ub25lKCk7ZS5ib29rbWFyaz10LmlzU29tZSgpP3Q6ZS5ib29rbWFya30sSW09ZnVuY3Rpb24odCl7UG0odCkuZWFjaChmdW5jdGlvbihlKXt0LnNlbGVjdGlvbi5zZXRSbmcoZSl9KX0sTW09UG0sRm09ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnNldHRpbmdzLHI9ZS5kb20sbz1lLnNlbGVjdGlvbixpPWUuZm9ybWF0dGVyLGE9L1thLXolXSskL2kuZXhlYyhuLmluZGVudGF0aW9uKVswXSx1PXBhcnNlSW50KG4uaW5kZW50YXRpb24sMTApLHM9ZS5nZXRQYXJhbSgiaW5kZW50X3VzZV9tYXJnaW4iLCExKTtlLnF1ZXJ5Q29tbWFuZFN0YXRlKCJJbnNlcnRVbm9yZGVyZWRMaXN0Iil8fGUucXVlcnlDb21tYW5kU3RhdGUoIkluc2VydE9yZGVyZWRMaXN0Iil8fChuLmZvcmNlZF9yb290X2Jsb2NrfHxyLmdldFBhcmVudChvLmdldE5vZGUoKSxyLmlzQmxvY2spfHxpLmFwcGx5KCJkaXYiKSxILmVhY2goby5nZXRTZWxlY3RlZEJsb2NrcygpLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHQsbixyLG8saSl7aWYoImZhbHNlIiE9PWUuZ2V0Q29udGVudEVkaXRhYmxlKGkpJiYiTEkiIT09aS5ub2RlTmFtZSl7dmFyIGE9bj8ibWFyZ2luIjoicGFkZGluZyI7aWYoYT0iVEFCTEUiPT09aS5ub2RlTmFtZT8ibWFyZ2luIjphLGErPSJydGwiPT09ZS5nZXRTdHlsZShpLCJkaXJlY3Rpb24iLCEwKT8iUmlnaHQiOiJMZWZ0Iiwib3V0ZGVudCI9PT10KXt2YXIgdT1NYXRoLm1heCgwLHBhcnNlSW50KGkuc3R5bGVbYV18fDAsMTApLXIpO2Uuc2V0U3R5bGUoaSxhLHU/dStvOiIiKX1lbHNlIHU9cGFyc2VJbnQoaS5zdHlsZVthXXx8MCwxMCkrcitvLGUuc2V0U3R5bGUoaSxhLHUpfX0ocix0LHMsdSxhLGUpfSkpfSx6bT1JdC5lYWNoLFVtPUl0LmV4dGVuZCxxbT1JdC5tYXAsVm09SXQuaW5BcnJheTtmdW5jdGlvbiBIbShzKXt2YXIgbyxpLGEsdCxjPXtzdGF0ZTp7fSxleGVjOnt9LHZhbHVlOnt9fSxuPXMuc2V0dGluZ3M7cy5vbigiUHJlSW5pdCIsZnVuY3Rpb24oKXtvPXMuZG9tLGk9cy5zZWxlY3Rpb24sbj1zLnNldHRpbmdzLGE9cy5mb3JtYXR0ZXJ9KTt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdDtpZighcy5xdWlya3MuaXNIaWRkZW4oKSYmIXMucmVtb3ZlZCl7aWYoZT1lLnRvTG93ZXJDYXNlKCksdD1jLnN0YXRlW2VdKXJldHVybiB0KGUpO3RyeXtyZXR1cm4gcy5nZXREb2MoKS5xdWVyeUNvbW1hbmRTdGF0ZShlKX1jYXRjaChuKXt9cmV0dXJuITF9fSxlPWZ1bmN0aW9uKGUsbil7bj1ufHwiZXhlYyIsem0oZSxmdW5jdGlvbih0LGUpe3ptKGUudG9Mb3dlckNhc2UoKS5zcGxpdCgiLCIpLGZ1bmN0aW9uKGUpe2Nbbl1bZV09dH0pfSl9LHU9ZnVuY3Rpb24oZSx0LG4pe2U9ZS50b0xvd2VyQ2FzZSgpLGMudmFsdWVbZV09ZnVuY3Rpb24oKXtyZXR1cm4gdC5jYWxsKG58fHMpfX07VW0odGhpcyx7ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24odCxuLHIsZSl7dmFyIG8saSxhPSExO2lmKCFzLnJlbW92ZWQpe2lmKC9eKG1jZUFkZFVuZG9MZXZlbHxtY2VFbmRVbmRvTGV2ZWx8bWNlQmVnaW5VbmRvTGV2ZWx8bWNlUmVwYWludCkkLy50ZXN0KHQpfHxlJiZlLnNraXBfZm9jdXM/SW0ocyk6cy5mb2N1cygpLChlPXMuZmlyZSgiQmVmb3JlRXhlY0NvbW1hbmQiLHtjb21tYW5kOnQsdWk6bix2YWx1ZTpyfSkpLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiExO2lmKGk9dC50b0xvd2VyQ2FzZSgpLG89Yy5leGVjW2ldKXJldHVybiBvKGksbixyKSxzLmZpcmUoIkV4ZWNDb21tYW5kIix7Y29tbWFuZDp0LHVpOm4sdmFsdWU6cn0pLCEwO2lmKHptKHMucGx1Z2lucyxmdW5jdGlvbihlKXtpZihlLmV4ZWNDb21tYW5kJiZlLmV4ZWNDb21tYW5kKHQsbixyKSlyZXR1cm4gcy5maXJlKCJFeGVjQ29tbWFuZCIse2NvbW1hbmQ6dCx1aTpuLHZhbHVlOnJ9KSwhKGE9ITApfSksYSlyZXR1cm4gYTtpZihzLnRoZW1lJiZzLnRoZW1lLmV4ZWNDb21tYW5kJiZzLnRoZW1lLmV4ZWNDb21tYW5kKHQsbixyKSlyZXR1cm4gcy5maXJlKCJFeGVjQ29tbWFuZCIse2NvbW1hbmQ6dCx1aTpuLHZhbHVlOnJ9KSwhMDt0cnl7YT1zLmdldERvYygpLmV4ZWNDb21tYW5kKHQsbixyKX1jYXRjaCh1KXt9cmV0dXJuISFhJiYocy5maXJlKCJFeGVjQ29tbWFuZCIse2NvbW1hbmQ6dCx1aTpuLHZhbHVlOnJ9KSwhMCl9fSxxdWVyeUNvbW1hbmRTdGF0ZTpyLHF1ZXJ5Q29tbWFuZFZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKCFzLnF1aXJrcy5pc0hpZGRlbigpJiYhcy5yZW1vdmVkKXtpZihlPWUudG9Mb3dlckNhc2UoKSx0PWMudmFsdWVbZV0pcmV0dXJuIHQoZSk7dHJ5e3JldHVybiBzLmdldERvYygpLnF1ZXJ5Q29tbWFuZFZhbHVlKGUpfWNhdGNoKG4pe319fSxxdWVyeUNvbW1hbmRTdXBwb3J0ZWQ6ZnVuY3Rpb24oZSl7aWYoZT1lLnRvTG93ZXJDYXNlKCksYy5leGVjW2VdKXJldHVybiEwO3RyeXtyZXR1cm4gcy5nZXREb2MoKS5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoZSl9Y2F0Y2godCl7fXJldHVybiExfSxhZGRDb21tYW5kczplLGFkZENvbW1hbmQ6ZnVuY3Rpb24oZSxvLGkpe2U9ZS50b0xvd2VyQ2FzZSgpLGMuZXhlY1tlXT1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gby5jYWxsKGl8fHMsdCxuLHIpfX0sYWRkUXVlcnlTdGF0ZUhhbmRsZXI6ZnVuY3Rpb24oZSx0LG4pe2U9ZS50b0xvd2VyQ2FzZSgpLGMuc3RhdGVbZV09ZnVuY3Rpb24oKXtyZXR1cm4gdC5jYWxsKG58fHMpfX0sYWRkUXVlcnlWYWx1ZUhhbmRsZXI6dSxoYXNDdXN0b21Db21tYW5kOmZ1bmN0aW9uKGUpe3JldHVybiBlPWUudG9Mb3dlckNhc2UoKSwhIWMuZXhlY1tlXX19KTt2YXIgbD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ9PT11bmRlZmluZWQmJih0PSExKSxuPT09dW5kZWZpbmVkJiYobj1udWxsKSxzLmdldERvYygpLmV4ZWNDb21tYW5kKGUsdCxuKX0sZj1mdW5jdGlvbihlKXtyZXR1cm4gYS5tYXRjaChlKX0sZD1mdW5jdGlvbihlLHQpe2EudG9nZ2xlKGUsdD97dmFsdWU6dH06dW5kZWZpbmVkKSxzLm5vZGVDaGFuZ2VkKCl9LG09ZnVuY3Rpb24oZSl7dD1pLmdldEJvb2ttYXJrKGUpfSxwPWZ1bmN0aW9uKCl7aS5tb3ZlVG9Cb29rbWFyayh0KX07ZSh7Im1jZVJlc2V0RGVzaWduTW9kZSxtY2VCZWdpblVuZG9MZXZlbCI6ZnVuY3Rpb24oKXt9LCJtY2VFbmRVbmRvTGV2ZWwsbWNlQWRkVW5kb0xldmVsIjpmdW5jdGlvbigpe3MudW5kb01hbmFnZXIuYWRkKCl9LCJDdXQsQ29weSxQYXN0ZSI6ZnVuY3Rpb24oZSl7dmFyIHQsbj1zLmdldERvYygpO3RyeXtsKGUpfWNhdGNoKG8pe3Q9ITB9aWYoInBhc3RlIiE9PWV8fG4ucXVlcnlDb21tYW5kRW5hYmxlZChlKXx8KHQ9ITApLHR8fCFuLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZChlKSl7dmFyIHI9cy50cmFuc2xhdGUoIllvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgZGlyZWN0IGFjY2VzcyB0byB0aGUgY2xpcGJvYXJkLiBQbGVhc2UgdXNlIHRoZSBDdHJsK1gvQy9WIGtleWJvYXJkIHNob3J0Y3V0cyBpbnN0ZWFkLiIpO3ZlLm1hYyYmKHI9ci5yZXBsYWNlKC9DdHJsXCsvZywiXHUyMzE4KyIpKSxzLm5vdGlmaWNhdGlvbk1hbmFnZXIub3Blbih7dGV4dDpyLHR5cGU6ImVycm9yIn0pfX0sdW5saW5rOmZ1bmN0aW9uKCl7aWYoaS5pc0NvbGxhcHNlZCgpKXt2YXIgZT1zLmRvbS5nZXRQYXJlbnQocy5zZWxlY3Rpb24uZ2V0U3RhcnQoKSwiYSIpO2UmJnMuZG9tLnJlbW92ZShlLCEwKX1lbHNlIGEucmVtb3ZlKCJsaW5rIil9LCJKdXN0aWZ5TGVmdCxKdXN0aWZ5Q2VudGVyLEp1c3RpZnlSaWdodCxKdXN0aWZ5RnVsbCxKdXN0aWZ5Tm9uZSI6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdWJzdHJpbmcoNyk7ImZ1bGwiPT09dCYmKHQ9Imp1c3RpZnkiKSx6bSgibGVmdCxjZW50ZXIscmlnaHQsanVzdGlmeSIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt0IT09ZSYmYS5yZW1vdmUoImFsaWduIitlKX0pLCJub25lIiE9PXQmJmQoImFsaWduIit0KX0sIkluc2VydFVub3JkZXJlZExpc3QsSW5zZXJ0T3JkZXJlZExpc3QiOmZ1bmN0aW9uKGUpe3ZhciB0LG47bChlKSwodD1vLmdldFBhcmVudChpLmdldE5vZGUoKSwib2wsdWwiKSkmJihuPXQucGFyZW50Tm9kZSwvXihIWzEtNl18UHxBRERSRVNTfFBSRSkkLy50ZXN0KG4ubm9kZU5hbWUpJiYobSgpLG8uc3BsaXQobix0KSxwKCkpKX0sIkJvbGQsSXRhbGljLFVuZGVybGluZSxTdHJpa2V0aHJvdWdoLFN1cGVyc2NyaXB0LFN1YnNjcmlwdCI6ZnVuY3Rpb24oZSl7ZChlKX0sIkZvcmVDb2xvcixIaWxpdGVDb2xvciI6ZnVuY3Rpb24oZSx0LG4pe2QoZSxuKX0sRm9udE5hbWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87bz1uLChyPXMpLmZvcm1hdHRlci50b2dnbGUoImZvbnRuYW1lIix7dmFsdWU6WmQocixvKX0pLHIubm9kZUNoYW5nZWQoKX0sRm9udFNpemU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG87bz1uLChyPXMpLmZvcm1hdHRlci50b2dnbGUoImZvbnRzaXplIix7dmFsdWU6WmQocixvKX0pLHIubm9kZUNoYW5nZWQoKX0sUmVtb3ZlRm9ybWF0OmZ1bmN0aW9uKGUpe2EucmVtb3ZlKGUpfSxtY2VCbG9ja1F1b3RlOmZ1bmN0aW9uKCl7ZCgiYmxvY2txdW90ZSIpfSxGb3JtYXRCbG9jazpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGQobnx8InAiKX0sbWNlQ2xlYW51cDpmdW5jdGlvbigpe3ZhciBlPWkuZ2V0Qm9va21hcmsoKTtzLnNldENvbnRlbnQocy5nZXRDb250ZW50KCkpLGkubW92ZVRvQm9va21hcmsoZSl9LG1jZVJlbW92ZU5vZGU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW58fGkuZ2V0Tm9kZSgpO3IhPT1zLmdldEJvZHkoKSYmKG0oKSxzLmRvbS5yZW1vdmUociwhMCkscCgpKX0sbWNlU2VsZWN0Tm9kZURlcHRoOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0wO28uZ2V0UGFyZW50KGkuZ2V0Tm9kZSgpLGZ1bmN0aW9uKGUpe2lmKDE9PT1lLm5vZGVUeXBlJiZyKys9PT1uKXJldHVybiBpLnNlbGVjdChlKSwhMX0scy5nZXRCb2R5KCkpfSxtY2VTZWxlY3ROb2RlOmZ1bmN0aW9uKGUsdCxuKXtpLnNlbGVjdChuKX0sbWNlSW5zZXJ0Q29udGVudDpmdW5jdGlvbihlLHQsbil7bmwocyxuKX0sbWNlSW5zZXJ0UmF3SFRNTDpmdW5jdGlvbihlLHQsbil7dmFyIHI9cy5nZXRDb250ZW50KCk7aS5zZXRDb250ZW50KCJ0aW55X21jZV9tYXJrZXIiKSxzLnNldENvbnRlbnQoci5yZXBsYWNlKC90aW55X21jZV9tYXJrZXIvZyxmdW5jdGlvbigpe3JldHVybiBufSkpfSxtY2VUb2dnbGVGb3JtYXQ6ZnVuY3Rpb24oZSx0LG4pe2Qobil9LG1jZVNldENvbnRlbnQ6ZnVuY3Rpb24oZSx0LG4pe3Muc2V0Q29udGVudChuKX0sIkluZGVudCxPdXRkZW50IjpmdW5jdGlvbihlKXtGbShzLGUpfSxtY2VSZXBhaW50OmZ1bmN0aW9uKCl7fSxJbnNlcnRIb3Jpem9udGFsUnVsZTpmdW5jdGlvbigpe3MuZXhlY0NvbW1hbmQoIm1jZUluc2VydENvbnRlbnQiLCExLCI8aHIgLz4iKX0sbWNlVG9nZ2xlVmlzdWFsQWlkOmZ1bmN0aW9uKCl7cy5oYXNWaXN1YWw9IXMuaGFzVmlzdWFsLHMuYWRkVmlzdWFsKCl9LG1jZVJlcGxhY2VDb250ZW50OmZ1bmN0aW9uKGUsdCxuKXtzLmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDb250ZW50IiwhMSxuLnJlcGxhY2UoL1x7XCRzZWxlY3Rpb25cfS9nLGkuZ2V0Q29udGVudCh7Zm9ybWF0OiJ0ZXh0In0pKSl9LG1jZUluc2VydExpbms6ZnVuY3Rpb24oZSx0LG4pe3ZhciByOyJzdHJpbmciPT10eXBlb2YgbiYmKG49e2hyZWY6bn0pLHI9by5nZXRQYXJlbnQoaS5nZXROb2RlKCksImEiKSxuLmhyZWY9bi5ocmVmLnJlcGxhY2UoIiAiLCIlMjAiKSxyJiZuLmhyZWZ8fGEucmVtb3ZlKCJsaW5rIiksbi5ocmVmJiZhLmFwcGx5KCJsaW5rIixuLHIpfSxzZWxlY3RBbGw6ZnVuY3Rpb24oKXt2YXIgZT1vLmdldFBhcmVudChpLmdldFN0YXJ0KCksT28uaXNDb250ZW50RWRpdGFibGVUcnVlKTtpZihlKXt2YXIgdD1vLmNyZWF0ZVJuZygpO3Quc2VsZWN0Tm9kZUNvbnRlbnRzKGUpLGkuc2V0Um5nKHQpfX0sImRlbGV0ZSI6ZnVuY3Rpb24oKXtLZChzKX0sZm9yd2FyZERlbGV0ZTpmdW5jdGlvbigpe1hkKHMpfSxtY2VOZXdEb2N1bWVudDpmdW5jdGlvbigpe3Muc2V0Q29udGVudCgiIil9LEluc2VydExpbmVCcmVhazpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHZtKHMsbiksITB9fSk7dmFyIGc9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9aS5pc0NvbGxhcHNlZCgpP1tvLmdldFBhcmVudChpLmdldE5vZGUoKSxvLmlzQmxvY2spXTppLmdldFNlbGVjdGVkQmxvY2tzKCksdD1xbShlLGZ1bmN0aW9uKGUpe3JldHVybiEhYS5tYXRjaE5vZGUoZSxuKX0pO3JldHVybi0xIT09Vm0odCwhMCl9fTtlKHtKdXN0aWZ5TGVmdDpnKCJhbGlnbmxlZnQiKSxKdXN0aWZ5Q2VudGVyOmcoImFsaWduY2VudGVyIiksSnVzdGlmeVJpZ2h0OmcoImFsaWducmlnaHQiKSxKdXN0aWZ5RnVsbDpnKCJhbGlnbmp1c3RpZnkiKSwiQm9sZCxJdGFsaWMsVW5kZXJsaW5lLFN0cmlrZXRocm91Z2gsU3VwZXJzY3JpcHQsU3Vic2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gZihlKX0sbWNlQmxvY2tRdW90ZTpmdW5jdGlvbigpe3JldHVybiBmKCJibG9ja3F1b3RlIil9LE91dGRlbnQ6ZnVuY3Rpb24oKXt2YXIgZTtpZihuLmlubGluZV9zdHlsZXMpe2lmKChlPW8uZ2V0UGFyZW50KGkuZ2V0U3RhcnQoKSxvLmlzQmxvY2spKSYmMDxwYXJzZUludChlLnN0eWxlLnBhZGRpbmdMZWZ0LDEwKSlyZXR1cm4hMDtpZigoZT1vLmdldFBhcmVudChpLmdldEVuZCgpLG8uaXNCbG9jaykpJiYwPHBhcnNlSW50KGUuc3R5bGUucGFkZGluZ0xlZnQsMTApKXJldHVybiEwfXJldHVybiByKCJJbnNlcnRVbm9yZGVyZWRMaXN0Iil8fHIoIkluc2VydE9yZGVyZWRMaXN0Iil8fCFuLmlubGluZV9zdHlsZXMmJiEhby5nZXRQYXJlbnQoaS5nZXROb2RlKCksIkJMT0NLUVVPVEUiKX0sIkluc2VydFVub3JkZXJlZExpc3QsSW5zZXJ0T3JkZXJlZExpc3QiOmZ1bmN0aW9uKGUpe3ZhciB0PW8uZ2V0UGFyZW50KGkuZ2V0Tm9kZSgpLCJ1bCxvbCIpO3JldHVybiB0JiYoImluc2VydHVub3JkZXJlZGxpc3QiPT09ZSYmIlVMIj09PXQudGFnTmFtZXx8Imluc2VydG9yZGVyZWRsaXN0Ij09PWUmJiJPTCI9PT10LnRhZ05hbWUpfX0sInN0YXRlIiksZSh7VW5kbzpmdW5jdGlvbigpe3MudW5kb01hbmFnZXIudW5kbygpfSxSZWRvOmZ1bmN0aW9uKCl7cy51bmRvTWFuYWdlci5yZWRvKCl9fSksdSgiRm9udE5hbWUiLGZ1bmN0aW9uKCl7cmV0dXJuIFFkKHQ9cykuZm9sZChmdW5jdGlvbigpe3JldHVybiBKZCh0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEdkLmdldEZvbnRGYW1pbHkodC5nZXRCb2R5KCksZSl9KS5nZXRPcigiIil9LGZ1bmN0aW9uKGUpe3JldHVybiBHZC5nZXRGb250RmFtaWx5KHQuZ2V0Qm9keSgpLGUpfSk7dmFyIHR9LHRoaXMpLHUoIkZvbnRTaXplIixmdW5jdGlvbigpe3JldHVybiBRZCh0PXMpLmZvbGQoZnVuY3Rpb24oKXtyZXR1cm4gSmQodCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBHZC5nZXRGb250U2l6ZSh0LmdldEJvZHkoKSxlKX0pLmdldE9yKCIiKX0sZnVuY3Rpb24oZSl7cmV0dXJuIEdkLmdldEZvbnRTaXplKHQuZ2V0Qm9keSgpLGUpfSk7dmFyIHR9LHRoaXMpfXZhciBqbT1JdC5tYWtlTWFwKCJmb2N1cyBibHVyIGZvY3VzaW4gZm9jdXNvdXQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBiZWZvcmVwYXN0ZSBwYXN0ZSBjdXQgY29weSBzZWxlY3Rpb25jaGFuZ2UgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIHdoZWVsIGtleWRvd24ga2V5cHJlc3Mga2V5dXAgaW5wdXQgY29udGV4dG1lbnUgZHJhZ3N0YXJ0IGRyYWdlbmQgZHJhZ292ZXIgZHJhZ2dlc3R1cmUgZHJhZ2Ryb3AgZHJvcCBkcmFnIHN1Ym1pdCBjb21wb3NpdGlvbnN0YXJ0IGNvbXBvc2l0aW9uZW5kIGNvbXBvc2l0aW9udXBkYXRlIHRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIiwiICIpLCRtPWZ1bmN0aW9uKGEpe3ZhciB1LHMsYz10aGlzLGw9e30sZj1mdW5jdGlvbigpe3JldHVybiExfSxkPWZ1bmN0aW9uKCl7cmV0dXJuITB9O3U9KGE9YXx8e30pLnNjb3BlfHxjLHM9YS50b2dnbGVFdmVudHx8Zjt2YXIgcj1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGE7aWYoITE9PT10JiYodD1mKSx0KWZvcih0PXtmdW5jOnR9LHImJkl0LmV4dGVuZCh0LHIpLGE9KGk9ZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIikpLmxlbmd0aDthLS07KWU9aVthXSwobz1sW2VdKXx8KG89bFtlXT1bXSxzKGUsITApKSxuP28udW5zaGlmdCh0KTpvLnB1c2godCk7cmV0dXJuIGN9LG09ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhO2lmKGUpZm9yKG49KGk9ZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIikpLmxlbmd0aDtuLS07KXtpZihlPWlbbl0scj1sW2VdLCFlKXtmb3IobyBpbiBsKXMobywhMSksZGVsZXRlIGxbb107cmV0dXJuIGN9aWYocil7aWYodClmb3IoYT1yLmxlbmd0aDthLS07KXJbYV0uZnVuYz09PXQmJihyPXIuc2xpY2UoMCxhKS5jb25jYXQoci5zbGljZShhKzEpKSxsW2VdPXIpO2Vsc2Ugci5sZW5ndGg9MDtyLmxlbmd0aHx8KHMoZSwhMSksZGVsZXRlIGxbZV0pfX1lbHNle2ZvcihlIGluIGwpcyhlLCExKTtsPXt9fXJldHVybiBjfTtjLmZpcmU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saTtpZihlPWUudG9Mb3dlckNhc2UoKSwodD10fHx7fSkudHlwZT1lLHQudGFyZ2V0fHwodC50YXJnZXQ9dSksdC5wcmV2ZW50RGVmYXVsdHx8KHQucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt0LmlzRGVmYXVsdFByZXZlbnRlZD1kfSx0LnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3QuaXNQcm9wYWdhdGlvblN0b3BwZWQ9ZH0sdC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb249ZnVuY3Rpb24oKXt0LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPWR9LHQuaXNEZWZhdWx0UHJldmVudGVkPWYsdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1mLHQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ZiksYS5iZWZvcmVGaXJlJiZhLmJlZm9yZUZpcmUodCksbj1sW2VdKWZvcihyPTAsbz1uLmxlbmd0aDtyPG87cisrKXtpZigoaT1uW3JdKS5vbmNlJiZtKGUsaS5mdW5jKSx0LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpcmV0dXJuIHQuc3RvcFByb3BhZ2F0aW9uKCksdDtpZighMT09PWkuZnVuYy5jYWxsKHUsdCkpcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0fXJldHVybiB0fSxjLm9uPXIsYy5vZmY9bSxjLm9uY2U9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByKGUsdCxuLHtvbmNlOiEwfSl9LGMuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUudG9Mb3dlckNhc2UoKSwhKCFsW2VdfHwwPT09bFtlXS5sZW5ndGgpfX07JG0uaXNOYXRpdmU9ZnVuY3Rpb24oZSl7cmV0dXJuISFqbVtlLnRvTG93ZXJDYXNlKCldfTt2YXIgV20sS209ZnVuY3Rpb24obil7cmV0dXJuIG4uX2V2ZW50RGlzcGF0Y2hlcnx8KG4uX2V2ZW50RGlzcGF0Y2hlcj1uZXcgJG0oe3Njb3BlOm4sdG9nZ2xlRXZlbnQ6ZnVuY3Rpb24oZSx0KXskbS5pc05hdGl2ZShlKSYmbi50b2dnbGVOYXRpdmVFdmVudCYmbi50b2dnbGVOYXRpdmVFdmVudChlLHQpfX0pKSxuLl9ldmVudERpc3BhdGNoZXJ9LFhtPXtmaXJlOmZ1bmN0aW9uKGUsdCxuKXtpZih0aGlzLnJlbW92ZWQmJiJyZW1vdmUiIT09ZSlyZXR1cm4gdDtpZih0PUttKHRoaXMpLmZpcmUoZSx0LG4pLCExIT09biYmdGhpcy5wYXJlbnQpZm9yKHZhciByPXRoaXMucGFyZW50KCk7ciYmIXQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspci5maXJlKGUsdCwhMSkscj1yLnBhcmVudCgpO3JldHVybiB0fSxvbjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEttKHRoaXMpLm9uKGUsdCxuKX0sb2ZmOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEttKHRoaXMpLm9mZihlLHQpfSxvbmNlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEttKHRoaXMpLm9uY2UoZSx0KX0saGFzRXZlbnRMaXN0ZW5lcnM6ZnVuY3Rpb24oZSl7cmV0dXJuIEttKHRoaXMpLmhhcyhlKX19LFltPWZ1bmN0aW9uKGUsdCl7dmFyIG49bHIuZ2V0KGUsdCk7cmV0dXJuIG49PT11bmRlZmluZWR8fCIiPT09bj9bXTpuLnNwbGl0KCIgIil9LEdtPVltLEptPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1ZbShlLHQpLmNvbmNhdChbbl0pO2xyLnNldChlLHQsci5qb2luKCIgIikpfSxRbT1mdW5jdGlvbihlLHQsbil7dmFyIHI9SC5maWx0ZXIoWW0oZSx0KSxmdW5jdGlvbihlKXtyZXR1cm4gZSE9PW59KTswPHIubGVuZ3RoP2xyLnNldChlLHQsci5qb2luKCIgIikpOmxyLnJlbW92ZShlLHQpfSxabT1mdW5jdGlvbihlKXtyZXR1cm4gR20oZSwiY2xhc3MiKX0sZXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gSm0oZSwiY2xhc3MiLHQpfSx0cD1mdW5jdGlvbihlLHQpe3JldHVybiBRbShlLCJjbGFzcyIsdCl9LG5wPVptLHJwPWVwLG9wPXRwLGlwPWZ1bmN0aW9uKGUsdCl7SC5jb250YWlucyhabShlKSx0KT90cChlLHQpOmVwKGUsdCl9LGFwPWZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbSgpLmNsYXNzTGlzdCE9PXVuZGVmaW5lZH0sdXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXAoZSkmJmUuZG9tKCkuY2xhc3NMaXN0LmNvbnRhaW5zKHQpfSxzcD17YWRkOmZ1bmN0aW9uKGUsdCl7YXAoZSk/ZS5kb20oKS5jbGFzc0xpc3QuYWRkKHQpOnJwKGUsdCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuO2FwKGUpP2UuZG9tKCkuY2xhc3NMaXN0LnJlbW92ZSh0KTpvcChlLHQpLDA9PT0oYXAobj1lKT9uLmRvbSgpLmNsYXNzTGlzdDpucChuKSkubGVuZ3RoJiZsci5yZW1vdmUobiwiY2xhc3MiKX0sdG9nZ2xlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFwKGUpP2UuZG9tKCkuY2xhc3NMaXN0LnRvZ2dsZSh0KTppcChlLHQpfSx0b2dnbGVyOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGksYSx1LHM9YXAoZSksYz1lLmRvbSgpLmNsYXNzTGlzdDtyZXR1cm4gbj1mdW5jdGlvbigpe3M/Yy5yZW1vdmUodCk6b3AoZSx0KX0scj1mdW5jdGlvbigpe3M/Yy5hZGQodCk6cnAoZSx0KX0sbz11cChlLHQpLGk9b3x8ITEse29uOmE9ZnVuY3Rpb24oKXtyKCksaT0hMH0sb2ZmOnU9ZnVuY3Rpb24oKXtuKCksaT0hMX0sdG9nZ2xlOmZ1bmN0aW9uKCl7KGk/dTphKSgpfSxpc09uOmZ1bmN0aW9uKCl7cmV0dXJuIGl9fX0saGFzOnVwfSxjcD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmZpcmUoIlByZVByb2Nlc3MiLHQpfSxscD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmZpcmUoIlBvc3RQcm9jZXNzIix0KX0sZnA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZmlyZSgicmVtb3ZlIil9LGRwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZmlyZSgiU3dpdGNoTW9kZSIse21vZGU6dH0pfSxtcD1mdW5jdGlvbihlLHQsbixyKXtlLmZpcmUoIk9iamVjdFJlc2l6ZVN0YXJ0Iix7dGFyZ2V0OnQsd2lkdGg6bixoZWlnaHQ6cn0pfSxwcD1mdW5jdGlvbihlLHQsbixyKXtlLmZpcmUoIk9iamVjdFJlc2l6ZWQiLHt0YXJnZXQ6dCx3aWR0aDpuLGhlaWdodDpyfSl9LGdwPWZ1bmN0aW9uKGUsdCxuKXt0cnl7ZS5nZXREb2MoKS5leGVjQ29tbWFuZCh0LCExLG4pfWNhdGNoKHIpe319LGhwPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvO249Vm4uZnJvbURvbShlLmdldEJvZHkoKSkscj0ibWNlLWNvbnRlbnQtcmVhZG9ubHkiLG89dCxzcC5oYXMobixyKSYmITE9PT1vP3NwLnJlbW92ZShuLHIpOm8mJnNwLmFkZChuLHIpLHQ/KGUuc2VsZWN0aW9uLmNvbnRyb2xTZWxlY3Rpb24uaGlkZVJlc2l6ZVJlY3QoKSxlLnJlYWRvbmx5PSEwLGUuZ2V0Qm9keSgpLmNvbnRlbnRFZGl0YWJsZT0iZmFsc2UiKTooZS5yZWFkb25seT0hMSxlLmdldEJvZHkoKS5jb250ZW50RWRpdGFibGU9InRydWUiLGdwKGUsIlN0eWxlV2l0aENTUyIsITEpLGdwKGUsImVuYWJsZUlubGluZVRhYmxlRWRpdGluZyIsITEpLGdwKGUsImVuYWJsZU9iamVjdFJlc2l6aW5nIiwhMSksZS5mb2N1cygpLGUubm9kZUNoYW5nZWQoKSl9LHZwPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlYWRvbmx5PyJyZWFkb25seSI6ImRlc2lnbiJ9LHlwPXZpLkRPTSxicD1mdW5jdGlvbihlLHQpe3JldHVybiJzZWxlY3Rpb25jaGFuZ2UiPT09dD9lLmdldERvYygpOiFlLmlubGluZSYmL15tb3VzZXx0b3VjaHxjbGlja3xjb250ZXh0bWVudXxkcm9wfGRyYWdvdmVyfGRyYWdlbmQvLnRlc3QodCk/ZS5nZXREb2MoKS5kb2N1bWVudEVsZW1lbnQ6ZS5zZXR0aW5ncy5ldmVudF9yb290PyhlLmV2ZW50Um9vdHx8KGUuZXZlbnRSb290PXlwLnNlbGVjdChlLnNldHRpbmdzLmV2ZW50X3Jvb3QpWzBdKSxlLmV2ZW50Um9vdCk6ZS5nZXRCb2R5KCl9LENwPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcjsocj1lKS5oaWRkZW58fHIucmVhZG9ubHk/ITA9PT1lLnJlYWRvbmx5JiZuLnByZXZlbnREZWZhdWx0KCk6ZS5maXJlKHQsbil9LHhwPWZ1bmN0aW9uKGksYSl7dmFyIGUsdDtpZihpLmRlbGVnYXRlc3x8KGkuZGVsZWdhdGVzPXt9KSwhaS5kZWxlZ2F0ZXNbYV0mJiFpLnJlbW92ZWQpaWYoZT1icChpLGEpLGkuc2V0dGluZ3MuZXZlbnRfcm9vdCl7aWYoV218fChXbT17fSxpLmVkaXRvck1hbmFnZXIub24oInJlbW92ZUVkaXRvciIsZnVuY3Rpb24oKXt2YXIgZTtpZighaS5lZGl0b3JNYW5hZ2VyLmFjdGl2ZUVkaXRvciYmV20pe2ZvcihlIGluIFdtKWkuZG9tLnVuYmluZChicChpLGUpKTtXbT1udWxsfX0pKSxXbVthXSlyZXR1cm47dD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS50YXJnZXQsbj1pLmVkaXRvck1hbmFnZXIuZ2V0KCkscj1uLmxlbmd0aDtyLS07KXt2YXIgbz1uW3JdLmdldEJvZHkoKTsobz09PXR8fHlwLmlzQ2hpbGRPZih0LG8pKSYmQ3AobltyXSxhLGUpfX0sV21bYV09dCx5cC5iaW5kKGUsYSx0KX1lbHNlIHQ9ZnVuY3Rpb24oZSl7Q3AoaSxhLGUpfSx5cC5iaW5kKGUsYSx0KSxpLmRlbGVnYXRlc1thXT10fSx3cD17YmluZFBlbmRpbmdFdmVudERlbGVnYXRlczpmdW5jdGlvbigpe3ZhciB0PXRoaXM7SXQuZWFjaCh0Ll9wZW5kaW5nTmF0aXZlRXZlbnRzLGZ1bmN0aW9uKGUpe3hwKHQsZSl9KX0sdG9nZ2xlTmF0aXZlRXZlbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzOyJmb2N1cyIhPT1lJiYiYmx1ciIhPT1lJiYodD9uLmluaXRpYWxpemVkP3hwKG4sZSk6bi5fcGVuZGluZ05hdGl2ZUV2ZW50cz9uLl9wZW5kaW5nTmF0aXZlRXZlbnRzLnB1c2goZSk6bi5fcGVuZGluZ05hdGl2ZUV2ZW50cz1bZV06bi5pbml0aWFsaXplZCYmKG4uZG9tLnVuYmluZChicChuLGUpLGUsbi5kZWxlZ2F0ZXNbZV0pLGRlbGV0ZSBuLmRlbGVnYXRlc1tlXSkpfSx1bmJpbmRBbGxOYXRpdmVFdmVudHM6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMsbj10LmdldEJvZHkoKSxyPXQuZG9tO2lmKHQuZGVsZWdhdGVzKXtmb3IoZSBpbiB0LmRlbGVnYXRlcyl0LmRvbS51bmJpbmQoYnAodCxlKSxlLHQuZGVsZWdhdGVzW2VdKTtkZWxldGUgdC5kZWxlZ2F0ZXN9IXQuaW5saW5lJiZuJiZyJiYobi5vbmxvYWQ9bnVsbCxyLnVuYmluZCh0LmdldFdpbigpKSxyLnVuYmluZCh0LmdldERvYygpKSksciYmKHIudW5iaW5kKG4pLHIudW5iaW5kKHQuZ2V0Q29udGFpbmVyKCkpKX19LE5wPXdwPUl0LmV4dGVuZCh7fSxYbSx3cCksRXA9SXQuZWFjaCxTcD1JdC5leHBsb2RlLGtwPXtmOToxMjAsZjEwOjEyMSxmMTE6MTIyfSxUcD1JdC5tYWtlTWFwKCJhbHQsY3RybCxzaGlmdCxtZXRhLGFjY2VzcyIpO2Z1bmN0aW9uIEFwKGkpe3ZhciBhPXt9LHI9W10sdT1mdW5jdGlvbihlKXt2YXIgdCxuLHI9e307Zm9yKG4gaW4gRXAoU3AoZSwiKyIpLGZ1bmN0aW9uKGUpe2UgaW4gVHA/cltlXT0hMDovXlswLTldezIsfSQvLnRlc3QoZSk/ci5rZXlDb2RlPXBhcnNlSW50KGUsMTApOihyLmNoYXJDb2RlPWUuY2hhckNvZGVBdCgwKSxyLmtleUNvZGU9a3BbZV18fGUudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApKX0pLHQ9W3Iua2V5Q29kZV0sVHApcltuXT90LnB1c2gobik6cltuXT0hMTtyZXR1cm4gci5pZD10LmpvaW4oIiwiKSxyLmFjY2VzcyYmKHIuYWx0PSEwLHZlLm1hYz9yLmN0cmw9ITA6ci5zaGlmdD0hMCksci5tZXRhJiYodmUubWFjP3IubWV0YT0hMDooci5jdHJsPSEwLHIubWV0YT0hMSkpLHJ9LHM9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG87cmV0dXJuKG89SXQubWFwKFNwKGUsIj4iKSx1KSlbby5sZW5ndGgtMV09SXQuZXh0ZW5kKG9bby5sZW5ndGgtMV0se2Z1bmM6bixzY29wZTpyfHxpfSksSXQuZXh0ZW5kKG9bMF0se2Rlc2M6aS50cmFuc2xhdGUodCksc3VicGF0dGVybnM6by5zbGljZSgxKX0pfSxvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISF0JiZ0LmN0cmw9PT1lLmN0cmxLZXkmJnQubWV0YT09PWUubWV0YUtleSYmdC5hbHQ9PT1lLmFsdEtleSYmdC5zaGlmdD09PWUuc2hpZnRLZXkmJiEhKGUua2V5Q29kZT09PXQua2V5Q29kZXx8ZS5jaGFyQ29kZSYmZS5jaGFyQ29kZT09PXQuY2hhckNvZGUpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLCEwKX0sYz1mdW5jdGlvbihlKXtyZXR1cm4gZS5mdW5jP2UuZnVuYy5jYWxsKGUuc2NvcGUpOm51bGx9O2kub24oImtleXVwIGtleXByZXNzIGtleWRvd24iLGZ1bmN0aW9uKHQpe3ZhciBlLG47KChuPXQpLmFsdEtleXx8bi5jdHJsS2V5fHxuLm1ldGFLZXl8fCJrZXlkb3duIj09PShlPXQpLnR5cGUmJjExMjw9ZS5rZXlDb2RlJiZlLmtleUNvZGU8PTEyMykmJiF0LmlzRGVmYXVsdFByZXZlbnRlZCgpJiYoRXAoYSxmdW5jdGlvbihlKXtpZihvKHQsZSkpcmV0dXJuIHI9ZS5zdWJwYXR0ZXJucy5zbGljZSgwKSwia2V5ZG93biI9PT10LnR5cGUmJmMoZSksITB9KSxvKHQsclswXSkmJigxPT09ci5sZW5ndGgmJiJrZXlkb3duIj09PXQudHlwZSYmYyhyWzBdKSxyLnNoaWZ0KCkpKX0pLHRoaXMuYWRkPWZ1bmN0aW9uKGUsbixyLG8pe3ZhciB0O3JldHVybiJzdHJpbmciPT10eXBlb2YodD1yKT9yPWZ1bmN0aW9uKCl7aS5leGVjQ29tbWFuZCh0LCExLG51bGwpfTpJdC5pc0FycmF5KHQpJiYocj1mdW5jdGlvbigpe2kuZXhlY0NvbW1hbmQodFswXSx0WzFdLHRbMl0pfSksRXAoU3AoSXQudHJpbShlLnRvTG93ZXJDYXNlKCkpKSxmdW5jdGlvbihlKXt2YXIgdD1zKGUsbixyLG8pO2FbdC5pZF09dH0pLCEwfSx0aGlzLnJlbW92ZT1mdW5jdGlvbihlKXt2YXIgdD1zKGUpO3JldHVybiEhYVt0LmlkXSYmKGRlbGV0ZSBhW3QuaWRdLCEwKX19dmFyIFJwPWZ1bmN0aW9uKGUpe3ZhciB0PWUhPT11bmRlZmluZWQ/ZS5kb20oKTpkb2N1bWVudDtyZXR1cm4gQS5mcm9tKHQuYWN0aXZlRWxlbWVudCkubWFwKFZuLmZyb21Eb20pfSxfcD1mdW5jdGlvbihlKXt2YXIgdD0kci5vd25lcihlKS5kb20oKTtyZXR1cm4gZS5kb20oKT09PXQuYWN0aXZlRWxlbWVudH0sQnA9ZnVuY3Rpb24odCl7cmV0dXJuIFJwKCRyLm93bmVyKHQpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZG9tKCkuY29udGFpbnMoZS5kb20oKSl9KX0sRHA9ZnVuY3Rpb24odCxlKXtyZXR1cm4obj1lLG4uY29sbGFwc2VkP0EuZnJvbSh1YShuLnN0YXJ0Q29udGFpbmVyLG4uc3RhcnRPZmZzZXQpKS5tYXAoVm4uZnJvbURvbSk6QS5ub25lKCkpLmJpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIENvKGUpP0Euc29tZShlKTohMT09PU1yLmNvbnRhaW5zKHQsZSk/QS5zb21lKHQpOkEubm9uZSgpfSk7dmFyIG59LE9wPWZ1bmN0aW9uKHQsZSl7RHAoVm4uZnJvbURvbSh0LmdldEJvZHkoKSksZSkuYmluZChmdW5jdGlvbihlKXtyZXR1cm4gUWEuZmlyc3RQb3NpdGlvbkluKGUuZG9tKCkpfSkuZm9sZChmdW5jdGlvbigpe3Quc2VsZWN0aW9uLm5vcm1hbGl6ZSgpfSxmdW5jdGlvbihlKXtyZXR1cm4gdC5zZWxlY3Rpb24uc2V0Um5nKGUudG9SYW5nZSgpKX0pfSxQcD1mdW5jdGlvbihlKXtpZihlLnNldEFjdGl2ZSl0cnl7ZS5zZXRBY3RpdmUoKX1jYXRjaCh0KXtlLmZvY3VzKCl9ZWxzZSBlLmZvY3VzKCl9LExwPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5nZXRCb2R5KCk7cmV0dXJuIG4mJih0PVZuLmZyb21Eb20obiksX3AodCl8fEJwKHQpLmlzU29tZSgpKX0sSXA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaW5saW5lP0xwKGUpOih0PWUpLmlmcmFtZUVsZW1lbnQmJl9wKFZuLmZyb21Eb20odC5pZnJhbWVFbGVtZW50KSk7dmFyIHR9LE1wPWZ1bmN0aW9uKGUpe3JldHVybiBlLmVkaXRvck1hbmFnZXIuc2V0QWN0aXZlKGUpfSxGcD1mdW5jdGlvbihlLHQpe2UucmVtb3ZlZHx8KHQ/TXAoZSk6ZnVuY3Rpb24odCl7dmFyIGU9dC5zZWxlY3Rpb24sbj10LnNldHRpbmdzLmNvbnRlbnRfZWRpdGFibGUscj10LmdldEJvZHkoKSxvPWUuZ2V0Um5nKCk7dC5xdWlya3MucmVmcmVzaENvbnRlbnRFZGl0YWJsZSgpO3ZhciBpLGEsdT0oaT10LGE9ZS5nZXROb2RlKCksaS5kb20uZ2V0UGFyZW50KGEsZnVuY3Rpb24oZSl7cmV0dXJuInRydWUiPT09aS5kb20uZ2V0Q29udGVudEVkaXRhYmxlKGUpfSkpO2lmKHQuJC5jb250YWlucyhyLHUpKXJldHVybiBQcCh1KSxPcCh0LG8pLE1wKHQpO3QuYm9va21hcmshPT11bmRlZmluZWQmJiExPT09SXAodCkmJk1tKHQpLmVhY2goZnVuY3Rpb24oZSl7dC5zZWxlY3Rpb24uc2V0Um5nKGUpLG89ZX0pLG58fCh2ZS5vcGVyYXx8UHAociksdC5nZXRXaW4oKS5mb2N1cygpKSwodmUuZ2Vja298fG4pJiYoUHAociksT3AodCxvKSksTXAodCl9KGUpKX0senA9SXAsVXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5kb20oKVtlXX0scXA9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcGFyc2VJbnQoYnIodCxlKSwxMCl9LFZwPVYuY3VycnkoVXAsImNsaWVudFdpZHRoIiksSHA9Vi5jdXJyeShVcCwiY2xpZW50SGVpZ2h0IiksanA9Vi5jdXJyeShxcCwibWFyZ2luLXRvcCIpLCRwPVYuY3VycnkocXAsIm1hcmdpbi1sZWZ0IiksV3A9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscyxjLGwsZixkLG09Vm4uZnJvbURvbShlLmdldEJvZHkoKSkscD1lLmlubGluZT9tOiRyLmRvY3VtZW50RWxlbWVudChtKSxnPShyPWUuaW5saW5lLGk9dCxhPW4sdT0obz1wKS5kb20oKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx7eDppLShyP3UubGVmdCtvLmRvbSgpLmNsaWVudExlZnQrJHAobyk6MCkseTphLShyP3UudG9wK28uZG9tKCkuY2xpZW50VG9wK2pwKG8pOjApfSk7cmV0dXJuIGM9Zy54LGw9Zy55LGY9VnAocz1wKSxkPUhwKHMpLDA8PWMmJjA8PWwmJmM8PWYmJmw8PWR9LEtwPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5pbmxpbmU/ZS5nZXRCb2R5KCk6ZS5nZXRDb250ZW50QXJlYUNvbnRhaW5lcigpO3JldHVybih0PW4sQS5mcm9tKHQpLm1hcChWbi5mcm9tRG9tKSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBNci5jb250YWlucygkci5vd25lcihlKSxlKX0pLmdldE9yKCExKX07ZnVuY3Rpb24gWHAobil7dmFyIHQsbz1bXSxpPWZ1bmN0aW9uKCl7dmFyIGUsdD1uLnRoZW1lO3JldHVybiB0JiZ0LmdldE5vdGlmaWNhdGlvbk1hbmFnZXJJbXBsP3QuZ2V0Tm90aWZpY2F0aW9uTWFuYWdlckltcGwoKTp7b3BlbjplPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJUaGVtZSBkaWQgbm90IHByb3ZpZGUgYSBOb3RpZmljYXRpb25NYW5hZ2VyIGltcGxlbWVudGF0aW9uLiIpfSxjbG9zZTplLHJlcG9zaXRpb246ZSxnZXRBcmdzOmV9fSxhPWZ1bmN0aW9uKCl7MDxvLmxlbmd0aCYmaSgpLnJlcG9zaXRpb24obyl9LHU9ZnVuY3Rpb24odCl7SC5maW5kSW5kZXgobyxmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR9KS5lYWNoKGZ1bmN0aW9uKGUpe28uc3BsaWNlKGUsMSl9KX0scj1mdW5jdGlvbihyKXtpZighbi5yZW1vdmVkJiZLcChuKSlyZXR1cm4gSC5maW5kKG8sZnVuY3Rpb24oZSl7cmV0dXJuIHQ9aSgpLmdldEFyZ3MoZSksbj1yLCEodC50eXBlIT09bi50eXBlfHx0LnRleHQhPT1uLnRleHR8fHQucHJvZ3Jlc3NCYXJ8fHQudGltZW91dHx8bi5wcm9ncmVzc0Jhcnx8bi50aW1lb3V0KTt2YXIgdCxufSkuZ2V0T3JUaHVuayhmdW5jdGlvbigpe24uZWRpdG9yTWFuYWdlci5zZXRBY3RpdmUobik7dmFyIGUsdD1pKCkub3BlbihyLGZ1bmN0aW9uKCl7dSh0KSxhKCl9KTtyZXR1cm4gZT10LG8ucHVzaChlKSxhKCksdH0pfTtyZXR1cm4odD1uKS5vbigiU2tpbkxvYWRlZCIsZnVuY3Rpb24oKXt2YXIgZT10LnNldHRpbmdzLnNlcnZpY2VfbWVzc2FnZTtlJiZyKHt0ZXh0OmUsdHlwZToid2FybmluZyIsdGltZW91dDowLGljb246IiJ9KX0pLHQub24oIlJlc2l6ZUVkaXRvciBSZXNpemVXaW5kb3ciLGZ1bmN0aW9uKCl7d2UucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGEpfSksdC5vbigicmVtb3ZlIixmdW5jdGlvbigpe0guZWFjaChvLGZ1bmN0aW9uKGUpe2koKS5jbG9zZShlKX0pfSkse29wZW46cixjbG9zZTpmdW5jdGlvbigpe0EuZnJvbShvWzBdKS5lYWNoKGZ1bmN0aW9uKGUpe2koKS5jbG9zZShlKSx1KGUpLGEoKX0pfSxnZXROb3RpZmljYXRpb25zOmZ1bmN0aW9uKCl7cmV0dXJuIG99fX1mdW5jdGlvbiBZcChyKXt2YXIgbz1bXSxpPWZ1bmN0aW9uKCl7dmFyIGUsdD1yLnRoZW1lO3JldHVybiB0JiZ0LmdldFdpbmRvd01hbmFnZXJJbXBsP3QuZ2V0V2luZG93TWFuYWdlckltcGwoKTp7b3BlbjplPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJUaGVtZSBkaWQgbm90IHByb3ZpZGUgYSBXaW5kb3dNYW5hZ2VyIGltcGxlbWVudGF0aW9uLiIpfSxhbGVydDplLGNvbmZpcm06ZSxjbG9zZTplLGdldFBhcmFtczplLHNldFBhcmFtczplfX0sYT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0P3QuYXBwbHkoZSxhcmd1bWVudHMpOnVuZGVmaW5lZH19LHU9ZnVuY3Rpb24oZSl7dmFyIHQ7by5wdXNoKGUpLHQ9ZSxyLmZpcmUoIk9wZW5XaW5kb3ciLHt3aW46dH0pfSxzPWZ1bmN0aW9uKG4pe0guZmluZEluZGV4KG8sZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1ufSkuZWFjaChmdW5jdGlvbihlKXt2YXIgdDtvLnNwbGljZShlLDEpLHQ9bixyLmZpcmUoIkNsb3NlV2luZG93Iix7d2luOnR9KSwwPT09by5sZW5ndGgmJnIuZm9jdXMoKX0pfSxlPWZ1bmN0aW9uKCl7cmV0dXJuIEEuZnJvbShvW28ubGVuZ3RoLTFdKX07cmV0dXJuIHIub24oInJlbW92ZSIsZnVuY3Rpb24oKXtILmVhY2goby5zbGljZSgwKSxmdW5jdGlvbihlKXtpKCkuY2xvc2UoZSl9KX0pLHt3aW5kb3dzOm8sb3BlbjpmdW5jdGlvbihlLHQpe3IuZWRpdG9yTWFuYWdlci5zZXRBY3RpdmUociksTG0ocik7dmFyIG49aSgpLm9wZW4oZSx0LHMpO3JldHVybiB1KG4pLG59LGFsZXJ0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1pKCkuYWxlcnQoZSxhKG58fHRoaXMsdCkscyk7dShyKX0sY29uZmlybTpmdW5jdGlvbihlLHQsbil7dmFyIHI9aSgpLmNvbmZpcm0oZSxhKG58fHRoaXMsdCkscyk7dShyKX0sY2xvc2U6ZnVuY3Rpb24oKXtlKCkuZWFjaChmdW5jdGlvbihlKXtpKCkuY2xvc2UoZSkscyhlKX0pfSxnZXRQYXJhbXM6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLm1hcChpKCkuZ2V0UGFyYW1zKS5nZXRPcihudWxsKX0sc2V0UGFyYW1zOmZ1bmN0aW9uKHQpe2UoKS5lYWNoKGZ1bmN0aW9uKGUpe2koKS5zZXRQYXJhbXMoZSx0KX0pfSxnZXRXaW5kb3dzOmZ1bmN0aW9uKCl7cmV0dXJuIG99fX12YXIgR3A9U2kuUGx1Z2luTWFuYWdlcixKcD1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIEdwLnVybHMpaWYoR3AudXJsc1tuXSsiL3BsdWdpbiIrdCsiLmpzIj09PWUpcmV0dXJuIG47cmV0dXJuIG51bGx9KHQsZS5zdWZmaXgpO3JldHVybiBuPyJGYWlsZWQgdG8gbG9hZCBwbHVnaW46ICIrbisiIGZyb20gdXJsICIrdDoiRmFpbGVkIHRvIGxvYWQgcGx1Z2luIHVybDogIit0fSxRcD1mdW5jdGlvbihlLHQpe2Uubm90aWZpY2F0aW9uTWFuYWdlci5vcGVuKHt0eXBlOiJlcnJvciIsdGV4dDp0fSl9LFpwPWZ1bmN0aW9uKGUsdCl7ZS5fc2tpbkxvYWRlZD9RcChlLHQpOmUub24oIlNraW5Mb2FkZWQiLGZ1bmN0aW9uKCl7UXAoZSx0KX0pfSxlZz1mdW5jdGlvbihlLHQpe1pwKGUsSnAoZSx0KSl9LHRnPWZ1bmN0aW9uKGUsdCl7WnAoZSwiRmFpbGVkIHRvIHVwbG9hZCBpbWFnZTogIit0KX0sbmc9WnAscmc9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07dmFyIHI9d2luZG93LmNvbnNvbGU7ciYmKHIuZXJyb3I/ci5lcnJvci5hcHBseShyLGFyZ3VtZW50cyk6ci5sb2cuYXBwbHkocixhcmd1bWVudHMpKX0sb2c9U2kuUGx1Z2luTWFuYWdlcixpZz1TaS5UaGVtZU1hbmFnZXI7ZnVuY3Rpb24gYWcoKXtyZXR1cm4gbmV3KFcuZ2V0T3JEaWUoIlhNTEh0dHBSZXF1ZXN0IikpfWZ1bmN0aW9uIHVnKHUscyl7dmFyIHI9e30sbj1mdW5jdGlvbihlLHIsbyx0KXt2YXIgaSxuOyhpPW5ldyBhZykub3BlbigiUE9TVCIscy51cmwpLGkud2l0aENyZWRlbnRpYWxzPXMuY3JlZGVudGlhbHMsaS51cGxvYWQub25wcm9ncmVzcz1mdW5jdGlvbihlKXt0KGUubG9hZGVkL2UudG90YWwqMTAwKX0saS5vbmVycm9yPWZ1bmN0aW9uKCl7bygiSW1hZ2UgdXBsb2FkIGZhaWxlZCBkdWUgdG8gYSBYSFIgVHJhbnNwb3J0IGVycm9yLiBDb2RlOiAiK2kuc3RhdHVzKX0saS5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgZSx0LG47aS5zdGF0dXM8MjAwfHwzMDA8PWkuc3RhdHVzP28oIkhUVFAgRXJyb3I6ICIraS5zdGF0dXMpOihlPUpTT04ucGFyc2UoaS5yZXNwb25zZVRleHQpKSYmInN0cmluZyI9PXR5cGVvZiBlLmxvY2F0aW9uP3IoKHQ9cy5iYXNlUGF0aCxuPWUubG9jYXRpb24sdD90LnJlcGxhY2UoL1wvJC8sIiIpKyIvIituLnJlcGxhY2UoL15cLy8sIiIpOm4pKTpvKCJJbnZhbGlkIEpTT046ICIraS5yZXNwb25zZVRleHQpfSwobj1uZXcgRm9ybURhdGEpLmFwcGVuZCgiZmlsZSIsZS5ibG9iKCksZS5maWxlbmFtZSgpKSxpLnNlbmQobil9LGM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dXJsOnQsYmxvYkluZm86ZSxzdGF0dXM6ITB9fSxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3VybDoiIixibG9iSW5mbzplLHN0YXR1czohMSxlcnJvcjp0fX0sZj1mdW5jdGlvbihlLHQpe0l0LmVhY2gocltlXSxmdW5jdGlvbihlKXtlKHQpfSksZGVsZXRlIHJbZV19LG89ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZT1JdC5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIXUuaXNVcGxvYWRlZChlLmJsb2JVcmkoKSl9KSx5ZS5hbGwoSXQubWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHUuaXNQZW5kaW5nKGUuYmxvYlVyaSgpKT8odD1lLmJsb2JVcmkoKSxuZXcgeWUoZnVuY3Rpb24oZSl7clt0XT1yW3RdfHxbXSxyW3RdLnB1c2goZSl9KSk6KG89ZSxpPXMuaGFuZGxlcixhPW4sdS5tYXJrUGVuZGluZyhvLmJsb2JVcmkoKSksbmV3IHllKGZ1bmN0aW9uKHQpe3ZhciBuO3RyeXt2YXIgcj1mdW5jdGlvbigpe24mJm4uY2xvc2UoKX07aShvLGZ1bmN0aW9uKGUpe3IoKSx1Lm1hcmtVcGxvYWRlZChvLmJsb2JVcmkoKSxlKSxmKG8uYmxvYlVyaSgpLGMobyxlKSksdChjKG8sZSkpfSxmdW5jdGlvbihlKXtyKCksdS5yZW1vdmVGYWlsZWQoby5ibG9iVXJpKCkpLGYoby5ibG9iVXJpKCksbChvLGUpKSx0KGwobyxlKSl9LGZ1bmN0aW9uKGUpe2U8MHx8MTAwPGV8fChufHwobj1hKCkpLG4ucHJvZ3Jlc3NCYXIudmFsdWUoZSkpfSl9Y2F0Y2goZSl7dChsKG8sZS5tZXNzYWdlKSl9fSkpO3ZhciBvLGksYSx0fSkpfTtyZXR1cm4gcz1JdC5leHRlbmQoe2NyZWRlbnRpYWxzOiExLGhhbmRsZXI6bn0scykse3VwbG9hZDpmdW5jdGlvbihlLHQpe3JldHVybiBzLnVybHx8cy5oYW5kbGVyIT09bj9vKGUsdCk6bmV3IHllKGZ1bmN0aW9uKGUpe2UoW10pfSl9fX1mdW5jdGlvbiBzZyhlLHQpe3JldHVybiBuZXcoVy5nZXRPckRpZSgiQmxvYiIpKShlLHQpfWZ1bmN0aW9uIGNnKCl7cmV0dXJuIG5ldyhXLmdldE9yRGllKCJGaWxlUmVhZGVyIikpfWZ1bmN0aW9uIGxnKGUpe3JldHVybiBuZXcoVy5nZXRPckRpZSgiVWludDhBcnJheSIpKShlKX12YXIgZmc9ZnVuY3Rpb24oZSl7cmV0dXJuIFcuZ2V0T3JEaWUoImF0b2IiKShlKX0sZGc9ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4gZT1kZWNvZGVVUklDb21wb25lbnQoZSkuc3BsaXQoIiwiKSwobj0vZGF0YTooW147XSspLy5leGVjKGVbMF0pKSYmKHQ9blsxXSkse3R5cGU6dCxkYXRhOmVbMV19fSxtZz1mdW5jdGlvbihlKXtyZXR1cm4gMD09PWUuaW5kZXhPZigiYmxvYjoiKT8oaT1lLG5ldyB5ZShmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKCl7dCgiQ2Fubm90IGNvbnZlcnQgIitpKyIgdG8gQmxvYi4gUmVzb3VyY2UgbWlnaHQgbm90IGV4aXN0IG9yIGlzIGluYWNjZXNzaWJsZS4iKX07dHJ5e3ZhciByPW5ldyBhZztyLm9wZW4oIkdFVCIsaSwhMCksci5yZXNwb25zZVR5cGU9ImJsb2IiLHIub25sb2FkPWZ1bmN0aW9uKCl7MjAwPT09dGhpcy5zdGF0dXM/ZSh0aGlzLnJlc3BvbnNlKTpuKCl9LHIub25lcnJvcj1uLHIuc2VuZCgpfWNhdGNoKG8pe24oKX19KSk6MD09PWUuaW5kZXhPZigiZGF0YToiKT8obz1lLG5ldyB5ZShmdW5jdGlvbihlKXt2YXIgdCxuLHI7bz1kZyhvKTt0cnl7dD1mZyhvLmRhdGEpfWNhdGNoKER3KXtyZXR1cm4gdm9pZCBlKG5ldyBzZyhbXSkpfWZvcihuPW5ldyBsZyh0Lmxlbmd0aCkscj0wO3I8bi5sZW5ndGg7cisrKW5bcl09dC5jaGFyQ29kZUF0KHIpO2UobmV3IHNnKFtuXSx7dHlwZTpvLnR5cGV9KSl9KSk6bnVsbDt2YXIgaSxvfSxwZz1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IHllKGZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBjZzt0Lm9ubG9hZGVuZD1mdW5jdGlvbigpe2UodC5yZXN1bHQpfSx0LnJlYWRBc0RhdGFVUkwobil9KX0sZ2c9ZGcsaGc9MCx2Zz1mdW5jdGlvbihlKXtyZXR1cm4oZXx8ImJsb2JpZCIpK2hnKyt9LHlnPWZ1bmN0aW9uKG4scixvLHQpe3ZhciBpLGE7MCE9PXIuc3JjLmluZGV4T2YoImJsb2I6Iik/KGk9Z2coci5zcmMpLmRhdGEsKGE9bi5maW5kRmlyc3QoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmFzZTY0KCk9PT1pfSkpP28oe2ltYWdlOnIsYmxvYkluZm86YX0pOm1nKHIuc3JjKS50aGVuKGZ1bmN0aW9uKGUpe2E9bi5jcmVhdGUodmcoKSxlLGkpLG4uYWRkKGEpLG8oe2ltYWdlOnIsYmxvYkluZm86YX0pfSxmdW5jdGlvbihlKXt0KGUpfSkpOihhPW4uZ2V0QnlVcmkoci5zcmMpKT9vKHtpbWFnZTpyLGJsb2JJbmZvOmF9KTptZyhyLnNyYykudGhlbihmdW5jdGlvbih0KXtwZyh0KS50aGVuKGZ1bmN0aW9uKGUpe2k9Z2coZSkuZGF0YSxhPW4uY3JlYXRlKHZnKCksdCxpKSxuLmFkZChhKSxvKHtpbWFnZTpyLGJsb2JJbmZvOmF9KX0pfSxmdW5jdGlvbihlKXt0KGUpfSl9LGJnPWZ1bmN0aW9uKGUpe3JldHVybiBlP2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpOltdfSxDZz0wLHhnPXt1dWlkOmZ1bmN0aW9uKGUpe3JldHVybiBlK0NnKysrKHQ9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCg0Mjk0OTY3Mjk1Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KX0sInMiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLnRvU3RyaW5nKDM2KSt0KCkrdCgpK3QoKSk7dmFyIHR9fTtmdW5jdGlvbiB3Zyh1KXt2YXIgbixvLGksdCxlLGEscixzLGMsbCxmPShuPVtdLG89ZGEuY29uc3RhbnQsaT1mdW5jdGlvbihlKXt2YXIgdCxuLHI7aWYoIWUuYmxvYnx8IWUuYmFzZTY0KXRocm93IG5ldyBFcnJvcigiYmxvYiBhbmQgYmFzZTY0IHJlcHJlc2VudGF0aW9ucyBvZiB0aGUgaW1hZ2UgYXJlIHJlcXVpcmVkIGZvciBCbG9iSW5mbyB0byBiZSBjcmVhdGVkIik7cmV0dXJuIHQ9ZS5pZHx8eGcudXVpZCgiYmxvYmlkIiksbj1lLm5hbWV8fHQse2lkOm8odCksbmFtZTpvKG4pLGZpbGVuYW1lOm8obisiLiIrKHI9ZS5ibG9iLnR5cGUseyJpbWFnZS9qcGVnIjoianBnIiwiaW1hZ2UvanBnIjoianBnIiwiaW1hZ2UvZ2lmIjoiZ2lmIiwiaW1hZ2UvcG5nIjoicG5nIn1bci50b0xvd2VyQ2FzZSgpXXx8ImRhdCIpKSxibG9iOm8oZS5ibG9iKSxiYXNlNjQ6byhlLmJhc2U2NCksYmxvYlVyaTpvKGUuYmxvYlVyaXx8WC5jcmVhdGVPYmplY3RVUkwoZS5ibG9iKSksdXJpOm8oZS51cmkpfX0se2NyZWF0ZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gaSgib2JqZWN0Ij09dHlwZW9mIGU/ZTp7aWQ6ZSxuYW1lOnIsYmxvYjp0LGJhc2U2NDpufSl9LGFkZDpmdW5jdGlvbihlKXt0KGUuaWQoKSl8fG4ucHVzaChlKX0sZ2V0OnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQoKT09PXR9KX0sZ2V0QnlVcmk6ZnVuY3Rpb24odCl7cmV0dXJuIGUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmxvYlVyaSgpPT09dH0pfSxmaW5kRmlyc3Q6ZT1mdW5jdGlvbihlKXtyZXR1cm4gQnQuZmlsdGVyKG4sZSlbMF19LHJlbW92ZUJ5VXJpOmZ1bmN0aW9uKHQpe249QnQuZmlsdGVyKG4sZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmxvYlVyaSgpIT09dHx8KFgucmV2b2tlT2JqZWN0VVJMKGUuYmxvYlVyaSgpKSwhMSl9KX0sZGVzdHJveTpmdW5jdGlvbigpe0J0LmVhY2gobixmdW5jdGlvbihlKXtYLnJldm9rZU9iamVjdFVSTChlLmJsb2JVcmkoKSl9KSxuPVtdfX0pLGQ9dS5zZXR0aW5ncyxtPShzPXt9LGM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57c3RhdHVzOmUscmVzdWx0VXJpOnR9fSx7aGFzQmxvYlVyaTpsPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluIHN9LGdldFJlc3VsdFVyaTpmdW5jdGlvbihlKXt2YXIgdD1zW2VdO3JldHVybiB0P3QucmVzdWx0VXJpOm51bGx9LGlzUGVuZGluZzpmdW5jdGlvbihlKXtyZXR1cm4hIWwoZSkmJjE9PT1zW2VdLnN0YXR1c30saXNVcGxvYWRlZDpmdW5jdGlvbihlKXtyZXR1cm4hIWwoZSkmJjI9PT1zW2VdLnN0YXR1c30sbWFya1BlbmRpbmc6ZnVuY3Rpb24oZSl7c1tlXT1jKDEsbnVsbCl9LG1hcmtVcGxvYWRlZDpmdW5jdGlvbihlLHQpe3NbZV09YygyLHQpfSxyZW1vdmVGYWlsZWQ6ZnVuY3Rpb24oZSl7ZGVsZXRlIHNbZV19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtzPXt9fX0pLHA9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB1LnNlbGVjdGlvbj90KGUpOltdfX0sZz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTA7LTEhPT0ocj1lLmluZGV4T2YodCxyKSkmJihlPWUuc3Vic3RyaW5nKDAscikrbitlLnN1YnN0cihyK3QubGVuZ3RoKSxyKz1uLmxlbmd0aC10Lmxlbmd0aCsxKSwtMSE9PXI7KTtyZXR1cm4gZX0saD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGU9ZyhlLCdzcmM9IicrdCsnIicsJ3NyYz0iJytuKyciJyksZT1nKGUsJ2RhdGEtbWNlLXNyYz0iJyt0KyciJywnZGF0YS1tY2Utc3JjPSInK24rJyInKX0sdj1mdW5jdGlvbih0LG4pe0J0LmVhY2godS51bmRvTWFuYWdlci5kYXRhLGZ1bmN0aW9uKGUpeyJmcmFnbWVudGVkIj09PWUudHlwZT9lLmZyYWdtZW50cz1CdC5tYXAoZS5mcmFnbWVudHMsZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSx0LG4pfSk6ZS5jb250ZW50PWgoZS5jb250ZW50LHQsbil9KX0seT1mdW5jdGlvbigpe3JldHVybiB1Lm5vdGlmaWNhdGlvbk1hbmFnZXIub3Blbih7dGV4dDp1LnRyYW5zbGF0ZSgiSW1hZ2UgdXBsb2FkaW5nLi4uIiksdHlwZToiaW5mbyIsdGltZW91dDotMSxwcm9ncmVzc0JhcjohMH0pfSxiPWZ1bmN0aW9uKGUsdCl7Zi5yZW1vdmVCeVVyaShlLnNyYyksdihlLnNyYyx0KSx1LiQoZSkuYXR0cih7c3JjOmQuaW1hZ2VzX3JldXNlX2ZpbGVuYW1lP3QrIj8iKyhuZXcgRGF0ZSkuZ2V0VGltZSgpOnQsImRhdGEtbWNlLXNyYyI6dS5jb252ZXJ0VVJMKHQsInNyYyIpfSl9LEM9ZnVuY3Rpb24obil7cmV0dXJuIGF8fChhPXVnKG0se3VybDpkLmltYWdlc191cGxvYWRfdXJsLGJhc2VQYXRoOmQuaW1hZ2VzX3VwbG9hZF9iYXNlX3BhdGgsY3JlZGVudGlhbHM6ZC5pbWFnZXNfdXBsb2FkX2NyZWRlbnRpYWxzLGhhbmRsZXI6ZC5pbWFnZXNfdXBsb2FkX2hhbmRsZXJ9KSksTigpLnRoZW4ocChmdW5jdGlvbihyKXt2YXIgZTtyZXR1cm4gZT1CdC5tYXAocixmdW5jdGlvbihlKXtyZXR1cm4gZS5ibG9iSW5mb30pLGEudXBsb2FkKGUseSkudGhlbihwKGZ1bmN0aW9uKGUpe3ZhciB0PUJ0Lm1hcChlLGZ1bmN0aW9uKGUsdCl7dmFyIG49clt0XS5pbWFnZTtyZXR1cm4gZS5zdGF0dXMmJiExIT09dS5zZXR0aW5ncy5pbWFnZXNfcmVwbGFjZV9ibG9iX3VyaXM/YihuLGUudXJsKTplLmVycm9yJiZ0Zyh1LGUuZXJyb3IpLHtlbGVtZW50Om4sc3RhdHVzOmUuc3RhdHVzfX0pO3JldHVybiBuJiZuKHQpLHR9KSl9KSl9LHg9ZnVuY3Rpb24oZSl7aWYoITEhPT1kLmF1dG9tYXRpY191cGxvYWRzKXJldHVybiBDKGUpfSx3PWZ1bmN0aW9uKGUpe3JldHVybiFkLmltYWdlc19kYXRhaW1nX2ZpbHRlcnx8ZC5pbWFnZXNfZGF0YWltZ19maWx0ZXIoZSl9LE49ZnVuY3Rpb24oKXt2YXIgbyxpLGE7cmV0dXJuIHJ8fChvPW0saT1mLGE9e30scj17ZmluZEFsbDpmdW5jdGlvbihlLG4pe3ZhciB0O258fChuPWRhLmNvbnN0YW50KCEwKSksdD1CdC5maWx0ZXIoYmcoZSksZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcmM7cmV0dXJuISF2ZS5maWxlQXBpJiYhZS5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikmJiFlLmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtcGxhY2Vob2xkZXIiKSYmISghdHx8dD09PXZlLnRyYW5zcGFyZW50U3JjKSYmKDA9PT10LmluZGV4T2YoImJsb2I6Iik/IW8uaXNVcGxvYWRlZCh0KTowPT09dC5pbmRleE9mKCJkYXRhOiIpJiZuKGUpKX0pO3ZhciByPUJ0Lm1hcCh0LGZ1bmN0aW9uKG4pe2lmKGFbbi5zcmNdKXJldHVybiBuZXcgeWUoZnVuY3Rpb24odCl7YVtuLnNyY10udGhlbihmdW5jdGlvbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGU7dCh7aW1hZ2U6bixibG9iSW5mbzplLmJsb2JJbmZvfSl9KX0pO3ZhciBlPW5ldyB5ZShmdW5jdGlvbihlLHQpe3lnKGksbixlLHQpfSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZGVsZXRlIGFbZS5pbWFnZS5zcmNdLGV9KVsiY2F0Y2giXShmdW5jdGlvbihlKXtyZXR1cm4gZGVsZXRlIGFbbi5zcmNdLGV9KTtyZXR1cm4gYVtuLnNyY109ZX0pO3JldHVybiB5ZS5hbGwocil9fSksci5maW5kQWxsKHUuZ2V0Qm9keSgpLHcpLnRoZW4ocChmdW5jdGlvbihlKXtyZXR1cm4gZT1CdC5maWx0ZXIoZSxmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGV8fChuZyh1LGUpLCExKX0pLEJ0LmVhY2goZSxmdW5jdGlvbihlKXt2KGUuaW1hZ2Uuc3JjLGUuYmxvYkluZm8uYmxvYlVyaSgpKSxlLmltYWdlLnNyYz1lLmJsb2JJbmZvLmJsb2JVcmkoKSxlLmltYWdlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc3JjIil9KSxlfSkpfSxFPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL3NyYz0iKGJsb2I6W14iXSspIi9nLGZ1bmN0aW9uKGUsbil7dmFyIHQ9bS5nZXRSZXN1bHRVcmkobik7aWYodClyZXR1cm4nc3JjPSInK3QrJyInO3ZhciByPWYuZ2V0QnlVcmkobik7cmV0dXJuIHJ8fChyPUJ0LnJlZHVjZSh1LmVkaXRvck1hbmFnZXIuZ2V0KCksZnVuY3Rpb24oZSx0KXtyZXR1cm4gZXx8dC5lZGl0b3JVcGxvYWQmJnQuZWRpdG9yVXBsb2FkLmJsb2JDYWNoZS5nZXRCeVVyaShuKX0sbnVsbCkpLHI/J3NyYz0iZGF0YTonK3IuYmxvYigpLnR5cGUrIjtiYXNlNjQsIityLmJhc2U2NCgpKyciJzplfSl9O3JldHVybiB1Lm9uKCJzZXRDb250ZW50IixmdW5jdGlvbigpeyExIT09dS5zZXR0aW5ncy5hdXRvbWF0aWNfdXBsb2Fkcz94KCk6TigpfSksdS5vbigiUmF3U2F2ZUNvbnRlbnQiLGZ1bmN0aW9uKGUpe2UuY29udGVudD1FKGUuY29udGVudCl9KSx1Lm9uKCJnZXRDb250ZW50IixmdW5jdGlvbihlKXtlLnNvdXJjZV92aWV3fHwicmF3Ij09PWUuZm9ybWF0fHwoZS5jb250ZW50PUUoZS5jb250ZW50KSl9KSx1Lm9uKCJQb3N0UmVuZGVyIixmdW5jdGlvbigpe3UucGFyc2VyLmFkZE5vZGVGaWx0ZXIoImltZyIsZnVuY3Rpb24oZSl7QnQuZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciB0PWUuYXR0cigic3JjIik7aWYoIWYuZ2V0QnlVcmkodCkpe3ZhciBuPW0uZ2V0UmVzdWx0VXJpKHQpO24mJmUuYXR0cigic3JjIixuKX19KX0pfSkse2Jsb2JDYWNoZTpmLHVwbG9hZEltYWdlczpDLHVwbG9hZEltYWdlc0F1dG86eCxzY2FuRm9ySW1hZ2VzOk4sZGVzdHJveTpmdW5jdGlvbigpe2YuZGVzdHJveSgpLG0uZGVzdHJveSgpLHI9YT1udWxsfX19dmFyIE5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaGFzT3duUHJvcGVydHkodC5ub2RlTmFtZSl9LEVnPWZ1bmN0aW9uKGUsdCl7aWYoT28uaXNUZXh0KHQpKXtpZigwPT09dC5ub2RlVmFsdWUubGVuZ3RoKXJldHVybiEwO2lmKC9eXHMrJC8udGVzdCh0Lm5vZGVWYWx1ZSkmJighdC5uZXh0U2libGluZ3x8TmcoZSx0Lm5leHRTaWJsaW5nKSkpcmV0dXJuITB9cmV0dXJuITF9LFNnPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYSx1LHMsYyxsLGYsZD1lLnNldHRpbmdzLG09ZS5kb20scD1lLnNlbGVjdGlvbixnPWUuc2NoZW1hLGg9Zy5nZXRCbG9ja0VsZW1lbnRzKCksdj1wLmdldFN0YXJ0KCkseT1lLmdldEJvZHkoKTtpZihmPWQuZm9yY2VkX3Jvb3RfYmxvY2ssdiYmT28uaXNFbGVtZW50KHYpJiZmJiYobD15Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZy5pc1ZhbGlkQ2hpbGQobCxmLnRvTG93ZXJDYXNlKCkpJiYoYj1oLEM9eSx4PXYsIUguZXhpc3RzKEhsKFZuLmZyb21Eb20oeCksVm4uZnJvbURvbShDKSksZnVuY3Rpb24oZSl7cmV0dXJuIE5nKGIsZS5kb20oKSl9KSkpKXt2YXIgYixDLHgsdyxOO2ZvcihuPSh0PXAuZ2V0Um5nKCkpLnN0YXJ0Q29udGFpbmVyLHI9dC5zdGFydE9mZnNldCxvPXQuZW5kQ29udGFpbmVyLGk9dC5lbmRPZmZzZXQsYz16cChlKSx2PXkuZmlyc3RDaGlsZDt2OylpZih3PWgsTj12LE9vLmlzVGV4dChOKXx8T28uaXNFbGVtZW50KE4pJiYhTmcodyxOKSYmIU1jKE4pKXtpZihFZyhoLHYpKXt2PSh1PXYpLm5leHRTaWJsaW5nLG0ucmVtb3ZlKHUpO2NvbnRpbnVlfWF8fChhPW0uY3JlYXRlKGYsZS5zZXR0aW5ncy5mb3JjZWRfcm9vdF9ibG9ja19hdHRycyksdi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHYpLHM9ITApLHY9KHU9dikubmV4dFNpYmxpbmcsYS5hcHBlbmRDaGlsZCh1KX1lbHNlIGE9bnVsbCx2PXYubmV4dFNpYmxpbmc7cyYmYyYmKHQuc2V0U3RhcnQobixyKSx0LnNldEVuZChvLGkpLHAuc2V0Um5nKHQpLGUubm9kZUNoYW5nZWQoKSl9fSxrZz1mdW5jdGlvbihlKXtlLnNldHRpbmdzLmZvcmNlZF9yb290X2Jsb2NrJiZlLm9uKCJOb2RlQ2hhbmdlIixWLmN1cnJ5KFNnLGUpKX0sVGc9ZnVuY3Rpb24odCl7cmV0dXJuICRyLmZpcnN0Q2hpbGQodCkuZm9sZChWLmNvbnN0YW50KFt0XSksZnVuY3Rpb24oZSl7cmV0dXJuW3RdLmNvbmNhdChUZyhlKSl9KX0sQWc9ZnVuY3Rpb24odCl7cmV0dXJuICRyLmxhc3RDaGlsZCh0KS5mb2xkKFYuY29uc3RhbnQoW3RdKSxmdW5jdGlvbihlKXtyZXR1cm4iYnIiPT09Wm4ubmFtZShlKT8kci5wcmV2U2libGluZyhlKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuW3RdLmNvbmNhdChBZyhlKSl9KS5nZXRPcihbXSk6W3RdLmNvbmNhdChBZyhlKSl9KX0sUmc9ZnVuY3Rpb24obyxlKXtyZXR1cm4gbWEoWyhpPWUsYT1pLnN0YXJ0Q29udGFpbmVyLHU9aS5zdGFydE9mZnNldCxPby5pc1RleHQoYSk/MD09PXU/QS5zb21lKFZuLmZyb21Eb20oYSkpOkEubm9uZSgpOkEuZnJvbShhLmNoaWxkTm9kZXNbdV0pLm1hcChWbi5mcm9tRG9tKSksKHQ9ZSxuPXQuZW5kQ29udGFpbmVyLHI9dC5lbmRPZmZzZXQsT28uaXNUZXh0KG4pP3I9PT1uLmRhdGEubGVuZ3RoP0Euc29tZShWbi5mcm9tRG9tKG4pKTpBLm5vbmUoKTpBLmZyb20obi5jaGlsZE5vZGVzW3ItMV0pLm1hcChWbi5mcm9tRG9tKSldLGZ1bmN0aW9uKGUsdCl7dmFyIG49SC5maW5kKFRnKG8pLFYuY3VycnkoTXIuZXEsZSkpLHI9SC5maW5kKEFnKG8pLFYuY3VycnkoTXIuZXEsdCkpO3JldHVybiBuLmlzU29tZSgpJiZyLmlzU29tZSgpfSkuZ2V0T3IoITEpO3ZhciB0LG4scixpLGEsdX0sX2c9ZnVuY3Rpb24oZSx0LG4scil7dmFyIG89bixpPW5ldyBhbyhuLG8pLGE9ZS5zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpO2Rve2lmKDM9PT1uLm5vZGVUeXBlJiYwIT09SXQudHJpbShuLm5vZGVWYWx1ZSkubGVuZ3RoKXJldHVybiB2b2lkKHI/dC5zZXRTdGFydChuLDApOnQuc2V0RW5kKG4sbi5ub2RlVmFsdWUubGVuZ3RoKSk7aWYoYVtuLm5vZGVOYW1lXSYmIS9eKFREfFRIKSQvLnRlc3Qobi5ub2RlTmFtZSkpcmV0dXJuIHZvaWQocj90LnNldFN0YXJ0QmVmb3JlKG4pOiJCUiI9PT1uLm5vZGVOYW1lP3Quc2V0RW5kQmVmb3JlKG4pOnQuc2V0RW5kQWZ0ZXIobikpO2lmKHZlLmllJiZ2ZS5pZTwxMSYmZS5pc0Jsb2NrKG4pJiZlLmlzRW1wdHkobikpcmV0dXJuIHZvaWQocj90LnNldFN0YXJ0KG4sMCk6dC5zZXRFbmQobiwwKSl9d2hpbGUobj1yP2kubmV4dCgpOmkucHJldigpKTsiQk9EWSI9PT1vLm5vZGVOYW1lJiYocj90LnNldFN0YXJ0KG8sMCk6dC5zZXRFbmQobyxvLmNoaWxkTm9kZXMubGVuZ3RoKSl9LEJnPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VsZWN0aW9uLmdldFNlbCgpO3JldHVybiB0JiYwPHQucmFuZ2VDb3VudH07ZnVuY3Rpb24gRGcoaSl7dmFyIHIsbz1bXTsib25zZWxlY3Rpb25jaGFuZ2UiaW4gaS5nZXREb2MoKXx8aS5vbigiTm9kZUNoYW5nZSBDbGljayBNb3VzZVVwIEtleVVwIEZvY3VzIixmdW5jdGlvbihlKXt2YXIgdCxuO249e3N0YXJ0Q29udGFpbmVyOih0PWkuc2VsZWN0aW9uLmdldFJuZygpKS5zdGFydENvbnRhaW5lcixzdGFydE9mZnNldDp0LnN0YXJ0T2Zmc2V0LGVuZENvbnRhaW5lcjp0LmVuZENvbnRhaW5lcixlbmRPZmZzZXQ6dC5lbmRPZmZzZXR9LCJub2RlY2hhbmdlIiE9PWUudHlwZSYmZW0obixyKXx8aS5maXJlKCJTZWxlY3Rpb25DaGFuZ2UiKSxyPW59KSxpLm9uKCJjb250ZXh0bWVudSIsZnVuY3Rpb24oKXtpLmZpcmUoIlNlbGVjdGlvbkNoYW5nZSIpfSksaS5vbigiU2VsZWN0aW9uQ2hhbmdlIixmdW5jdGlvbigpe3ZhciBlPWkuc2VsZWN0aW9uLmdldFN0YXJ0KCEwKTshZXx8IXZlLnJhbmdlJiZpLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpfHxCZyhpKSYmIWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoKG49aS4kKGUpLnBhcmVudHNVbnRpbChpLmdldEJvZHkoKSkuYWRkKGUpKS5sZW5ndGg9PT1vLmxlbmd0aCl7Zm9yKHQ9bi5sZW5ndGg7MDw9dCYmblt0XT09PW9bdF07dC0tKTtpZigtMT09PXQpcmV0dXJuIG89biwhMH1yZXR1cm4gbz1uLCExfShlKSYmaS5kb20uaXNDaGlsZE9mKGUsaS5nZXRCb2R5KCkpJiZpLm5vZGVDaGFuZ2VkKHtzZWxlY3Rpb25DaGFuZ2U6ITB9KX0pLGkub24oIk1vdXNlVXAiLGZ1bmN0aW9uKGUpeyFlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZCZyhpKSYmKCJJTUciPT09aS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLm5vZGVOYW1lP3dlLnNldEVkaXRvclRpbWVvdXQoaSxmdW5jdGlvbigpe2kubm9kZUNoYW5nZWQoKX0pOmkubm9kZUNoYW5nZWQoKSl9KSx0aGlzLm5vZGVDaGFuZ2VkPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPWkuc2VsZWN0aW9uO2kuaW5pdGlhbGl6ZWQmJm8mJiFpLnNldHRpbmdzLmRpc2FibGVfbm9kZWNoYW5nZSYmIWkucmVhZG9ubHkmJihyPWkuZ2V0Qm9keSgpLCh0PW8uZ2V0U3RhcnQoITApfHxyKS5vd25lckRvY3VtZW50PT09aS5nZXREb2MoKSYmaS5kb20uaXNDaGlsZE9mKHQscil8fCh0PXIpLG49W10saS5kb20uZ2V0UGFyZW50KHQsZnVuY3Rpb24oZSl7aWYoZT09PXIpcmV0dXJuITA7bi5wdXNoKGUpfSksKGU9ZXx8e30pLmVsZW1lbnQ9dCxlLnBhcmVudHM9bixpLmZpcmUoIk5vZGVDaGFuZ2UiLGUpKX19dmFyIE9nLFBnLExnPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvO3JldHVybiBvPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj0odD1lLm93bmVyRG9jdW1lbnQpLmRvY3VtZW50RWxlbWVudCxyPXQuZGVmYXVsdFZpZXcse3RvcDpvLnRvcCtyLnBhZ2VZT2Zmc2V0LW4uY2xpZW50VG9wLGxlZnQ6by5sZWZ0K3IucGFnZVhPZmZzZXQtbi5jbGllbnRMZWZ0fX0sSWc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbj0odT1lKS5pbmxpbmU/TGcodS5nZXRCb2R5KCkpOntsZWZ0OjAsdG9wOjB9LGE9KGk9ZSkuZ2V0Qm9keSgpLHI9aS5pbmxpbmU/e2xlZnQ6YS5zY3JvbGxMZWZ0LHRvcDphLnNjcm9sbFRvcH06e2xlZnQ6MCx0b3A6MH0se3BhZ2VYOihvPWZ1bmN0aW9uKGUsdCl7aWYodC50YXJnZXQub3duZXJEb2N1bWVudCE9PWUuZ2V0RG9jKCkpe3ZhciBuPUxnKGUuZ2V0Q29udGVudEFyZWFDb250YWluZXIoKSkscj0oaT0obz1lKS5nZXRCb2R5KCksYT1vLmdldERvYygpLmRvY3VtZW50RWxlbWVudCx1PXtsZWZ0Omkuc2Nyb2xsTGVmdCx0b3A6aS5zY3JvbGxUb3B9LHM9e2xlZnQ6aS5zY3JvbGxMZWZ0fHxhLnNjcm9sbExlZnQsdG9wOmkuc2Nyb2xsVG9wfHxhLnNjcm9sbFRvcH0sby5pbmxpbmU/dTpzKTtyZXR1cm57bGVmdDp0LnBhZ2VYLW4ubGVmdCtyLmxlZnQsdG9wOnQucGFnZVktbi50b3Arci50b3B9fXZhciBvLGksYSx1LHM7cmV0dXJue2xlZnQ6dC5wYWdlWCx0b3A6dC5wYWdlWX19KGUsdCkpLmxlZnQtbi5sZWZ0K3IubGVmdCxwYWdlWTpvLnRvcC1uLnRvcCtyLnRvcH07dmFyIG4scixvLGksYSx1fSxNZz1Pby5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlLEZnPU9vLmlzQ29udGVudEVkaXRhYmxlVHJ1ZSx6Zz1mdW5jdGlvbihlKXtlJiZlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX0sVWc9ZnVuY3Rpb24odSxzKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoMD09PWUuYnV0dG9uKXt2YXIgdD1CdC5maW5kKHMuZG9tLmdldFBhcmVudHMoZS50YXJnZXQpLGRhLm9yKE1nLEZnKSk7aWYoaT1zLmdldEJvZHkoKSxNZyhhPXQpJiZhIT09aSl7dmFyIG49cy5kb20uZ2V0UG9zKHQpLHI9cy5nZXRCb2R5KCksbz1zLmdldERvYygpLmRvY3VtZW50RWxlbWVudDt1LmVsZW1lbnQ9dCx1LnNjcmVlblg9ZS5zY3JlZW5YLHUuc2NyZWVuWT1lLnNjcmVlblksdS5tYXhYPShzLmlubGluZT9yLnNjcm9sbFdpZHRoOm8ub2Zmc2V0V2lkdGgpLTIsdS5tYXhZPShzLmlubGluZT9yLnNjcm9sbEhlaWdodDpvLm9mZnNldEhlaWdodCktMix1LnJlbFg9ZS5wYWdlWC1uLngsdS5yZWxZPWUucGFnZVktbi55LHUud2lkdGg9dC5vZmZzZXRXaWR0aCx1LmhlaWdodD10Lm9mZnNldEhlaWdodCx1Lmdob3N0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXQuY2xvbmVOb2RlKCEwKTtlLmRvbS5zZXRTdHlsZXMobyx7d2lkdGg6bixoZWlnaHQ6cn0pLGUuZG9tLnNldEF0dHJpYihvLCJkYXRhLW1jZS1zZWxlY3RlZCIsbnVsbCk7dmFyIGk9ZS5kb20uY3JlYXRlKCJkaXYiLHsiY2xhc3MiOiJtY2UtZHJhZy1jb250YWluZXIiLCJkYXRhLW1jZS1ib2d1cyI6ImFsbCIsdW5zZWxlY3RhYmxlOiJvbiIsY29udGVudGVkaXRhYmxlOiJmYWxzZSJ9KTtyZXR1cm4gZS5kb20uc2V0U3R5bGVzKGkse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsb3BhY2l0eTouNSxvdmVyZmxvdzoiaGlkZGVuIixib3JkZXI6MCxwYWRkaW5nOjAsbWFyZ2luOjAsd2lkdGg6bixoZWlnaHQ6cn0pLGUuZG9tLnNldFN0eWxlcyhvLHttYXJnaW46MCxib3hTaXppbmc6ImJvcmRlci1ib3gifSksaS5hcHBlbmRDaGlsZChvKSxpfShzLHQsdS53aWR0aCx1LmhlaWdodCl9fXZhciBpLGF9fSxxZz1mdW5jdGlvbihsLGYpe3JldHVybiBmdW5jdGlvbihlKXtpZihsLmRyYWdnaW5nJiYocz0oaT1mKS5zZWxlY3Rpb24sYz1zLmdldFNlbCgpLmdldFJhbmdlQXQoMCkuc3RhcnRDb250YWluZXIsYT0zPT09Yy5ub2RlVHlwZT9jLnBhcmVudE5vZGU6Yyx1PWwuZWxlbWVudCxhIT09dSYmIWkuZG9tLmlzQ2hpbGRPZihhLHUpJiYhTWcoYSkpKXt2YXIgdD0ocj1sLmVsZW1lbnQsKG89ci5jbG9uZU5vZGUoITApKS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIiksbyksbj1mLmZpcmUoImRyb3AiLHt0YXJnZXRDbG9uZTp0LGNsaWVudFg6ZS5jbGllbnRYLGNsaWVudFk6ZS5jbGllbnRZfSk7bi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHQ9bi50YXJnZXRDbG9uZSxmLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7emcobC5lbGVtZW50KSxmLmluc2VydENvbnRlbnQoZi5kb20uZ2V0T3V0ZXJIVE1MKHQpKSxmLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpfSkpfXZhciByLG8saSxhLHUscyxjO1ZnKGwpfX0sVmc9ZnVuY3Rpb24oZSl7ZS5kcmFnZ2luZz0hMSxlLmVsZW1lbnQ9bnVsbCx6ZyhlLmdob3N0KX0sSGc9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLGcsaCx2LHUscyxjPXt9O3Q9dmkuRE9NLGE9ZG9jdW1lbnQsbj1VZyhjLGUpLGc9YyxoPWUsdj13ZS50aHJvdHRsZShmdW5jdGlvbihlLHQpe2guX3NlbGVjdGlvbk92ZXJyaWRlcy5oaWRlRmFrZUNhcmV0KCksaC5zZWxlY3Rpb24ucGxhY2VDYXJldEF0KGUsdCl9LDApLHI9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhLHUscyxjLGwsZixkLG09TWF0aC5tYXgoTWF0aC5hYnMoZS5zY3JlZW5YLWcuc2NyZWVuWCksTWF0aC5hYnMoZS5zY3JlZW5ZLWcuc2NyZWVuWSkpO2lmKGcuZWxlbWVudCYmIWcuZHJhZ2dpbmcmJjEwPG0pe2lmKGguZmlyZSgiZHJhZ3N0YXJ0Iix7dGFyZ2V0OmcuZWxlbWVudH0pLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjtnLmRyYWdnaW5nPSEwLGguZm9jdXMoKX1pZihnLmRyYWdnaW5nKXt2YXIgcD0oZj1nLHtwYWdlWDooZD1JZyhoLGUpKS5wYWdlWC1mLnJlbFgscGFnZVk6ZC5wYWdlWSs1fSk7Yz1nLmdob3N0LGw9aC5nZXRCb2R5KCksYy5wYXJlbnROb2RlIT09bCYmbC5hcHBlbmRDaGlsZChjKSx0PWcuZ2hvc3Qsbj1wLHI9Zy53aWR0aCxvPWcuaGVpZ2h0LGk9Zy5tYXhYLGE9Zy5tYXhZLHM9dT0wLHQuc3R5bGUubGVmdD1uLnBhZ2VYKyJweCIsdC5zdHlsZS50b3A9bi5wYWdlWSsicHgiLG4ucGFnZVgrcj5pJiYodT1uLnBhZ2VYK3ItaSksbi5wYWdlWStvPmEmJihzPW4ucGFnZVkrby1hKSx0LnN0eWxlLndpZHRoPXItdSsicHgiLHQuc3R5bGUuaGVpZ2h0PW8tcysicHgiLHYoZS5jbGllbnRYLGUuY2xpZW50WSl9fSxvPXFnKGMsZSksdT1jLGk9ZnVuY3Rpb24oKXt1LmRyYWdnaW5nJiZzLmZpcmUoImRyYWdlbmQiKSxWZyh1KX0sKHM9ZSkub24oIm1vdXNlZG93biIsbiksZS5vbigibW91c2Vtb3ZlIixyKSxlLm9uKCJtb3VzZXVwIixvKSx0LmJpbmQoYSwibW91c2Vtb3ZlIixyKSx0LmJpbmQoYSwibW91c2V1cCIsaSksZS5vbigicmVtb3ZlIixmdW5jdGlvbigpe3QudW5iaW5kKGEsIm1vdXNlbW92ZSIsciksdC51bmJpbmQoYSwibW91c2V1cCIsaSl9KX0samc9ZnVuY3Rpb24oZSl7dmFyIG47SGcoZSksKG49ZSkub24oImRyb3AiLGZ1bmN0aW9uKGUpe3ZhciB0PSJ1bmRlZmluZWQiIT10eXBlb2YgZS5jbGllbnRYP24uZ2V0RG9jKCkuZWxlbWVudEZyb21Qb2ludChlLmNsaWVudFgsZS5jbGllbnRZKTpudWxsOyhNZyh0KXx8TWcobi5kb20uZ2V0Q29udGVudEVkaXRhYmxlUGFyZW50KHQpKSkmJmUucHJldmVudERlZmF1bHQoKX0pfSwkZz1mdW5jdGlvbihlKXtyZXR1cm4gQnQucmVkdWNlKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQoZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24oZSl7cmV0dXJuIEJ0Lm1hcChlLGZ1bmN0aW9uKGUpe3JldHVybihlPXRhKGUpKS5ub2RlPXQsZX0pfTtpZihPby5pc0VsZW1lbnQodCkpcmV0dXJuIGUodC5nZXRDbGllbnRSZWN0cygpKTtpZihPby5pc1RleHQodCkpe3ZhciBuPXQub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybiBuLnNldFN0YXJ0KHQsMCksbi5zZXRFbmQodCx0LmRhdGEubGVuZ3RoKSxlKG4uZ2V0Q2xpZW50UmVjdHMoKSl9fSh0KSl9LFtdKX07KFBnPU9nfHwoT2c9e30pKVtQZy5VcD0tMV09IlVwIixQZ1tQZy5Eb3duPTFdPSJEb3duIjt2YXIgV2c9ZnVuY3Rpb24obyxpLGEsZSx1LHQpe3ZhciBuLHMsYz0wLGw9W10scj1mdW5jdGlvbihlKXt2YXIgdCxuLHI7Zm9yKHI9JGcoW2VdKSwtMT09PW8mJihyPXIucmV2ZXJzZSgpKSx0PTA7dDxyLmxlbmd0aDt0KyspaWYobj1yW3RdLCFhKG4scykpe2lmKDA8bC5sZW5ndGgmJmkobixCdC5sYXN0KGwpKSYmYysrLG4ubGluZT1jLHUobikpcmV0dXJuITA7bC5wdXNoKG4pfX07cmV0dXJuKHM9QnQubGFzdCh0LmdldENsaWVudFJlY3RzKCkpKSYmKHIobj10LmdldE5vZGUoKSksZnVuY3Rpb24oZSx0LG4scil7Zm9yKDtyPXZzKHIsZSxaaSx0KTspaWYobihyKSlyZXR1cm59KG8sZSxyLG4pKSxsfSxLZz1WLmN1cnJ5KFdnLE9nLlVwLG9hLGlhKSxYZz1WLmN1cnJ5KFdnLE9nLkRvd24saWEsb2EpLFlnPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdD1uLGUubGluZT50O3ZhciB0fX0sR2c9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0PW4sZS5saW5lPT09dDt2YXIgdH19LEpnPU9vLmlzQ29udGVudEVkaXRhYmxlRmFsc2UsUWc9dnMsWmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5hYnMoZS5sZWZ0LXQpfSxlaD1mdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLmFicyhlLnJpZ2h0LXQpfSx0aD1mdW5jdGlvbihlLHQpe3JldHVybiBlPj10LmxlZnQmJmU8PXQucmlnaHR9LG5oPWZ1bmN0aW9uKGUsbyl7cmV0dXJuIEJ0LnJlZHVjZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG4scjtyZXR1cm4gbj1NYXRoLm1pbihaZyhlLG8pLGVoKGUsbykpLHI9TWF0aC5taW4oWmcodCxvKSxlaCh0LG8pKSx0aChvLHQpP3Q6dGgobyxlKT9lOnI9PT1uJiZKZyh0Lm5vZGUpP3Q6cjxuP3Q6ZX0pfSxyaD1mdW5jdGlvbihlLHQsbixyKXtmb3IoO3I9UWcocixlLFppLHQpOylpZihuKHIpKXJldHVybn0sb2g9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscyxjLGwsZj0kZygobz1lLEJ0LmZpbHRlcihCdC50b0FycmF5KG8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksYXMpKSksZD1CdC5maWx0ZXIoZixmdW5jdGlvbihlKXtyZXR1cm4gbj49ZS50b3AmJm48PWUuYm90dG9tfSk7cmV0dXJuKHI9bmgoZCx0KSkmJihyPW5oKCh1PWUsbD1mdW5jdGlvbih0LGUpe3ZhciBuO3JldHVybiBuPUJ0LmZpbHRlcigkZyhbZV0pLGZ1bmN0aW9uKGUpe3JldHVybiF0KGUscyl9KSxjPWMuY29uY2F0KG4pLDA9PT1uLmxlbmd0aH0sKGM9W10pLnB1c2gocz1yKSxyaChPZy5VcCx1LFYuY3VycnkobCxvYSkscy5ub2RlKSxyaChPZy5Eb3duLHUsVi5jdXJyeShsLGlhKSxzLm5vZGUpLGMpLHQpKSYmYXMoci5ub2RlKT8oYT10LHtub2RlOihpPXIpLm5vZGUsYmVmb3JlOlpnKGksYSk8ZWgoaSxhKX0pOm51bGx9LGloPWZ1bmN0aW9uKGksYSxlKXtyZXR1cm4hZS5jb2xsYXBzZWQmJkguZm9sZGwoZS5nZXRDbGllbnRSZWN0cygpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGV8fChvPWEsKHI9aSk+PShuPXQpLmxlZnQmJnI8PW4ucmlnaHQmJm8+PW4udG9wJiZvPD1uLmJvdHRvbSk7dmFyIG4scixvfSwhMSl9LGFoPWZ1bmN0aW9uKHQsbil7dmFyIHI9bnVsbDtyZXR1cm57Y2FuY2VsOmZ1bmN0aW9uKCl7bnVsbCE9PXImJihjbGVhclRpbWVvdXQocikscj1udWxsKX0sdGhyb3R0bGU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7bnVsbD09PXImJihyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmFwcGx5KG51bGwsZSksZT1yPW51bGx9LG4pKX19fSx1aD1mdW5jdGlvbih0KXt2YXIgZT1haChmdW5jdGlvbigpe2lmKCF0LnJlbW92ZWQmJnQuc2VsZWN0aW9uLmdldFJuZygpLmNvbGxhcHNlZCl7dmFyIGU9b3UodCx0LnNlbGVjdGlvbi5nZXRSbmcoKSwhMSk7dC5zZWxlY3Rpb24uc2V0Um5nKGUpfX0sMCk7dC5vbigiZm9jdXMiLGZ1bmN0aW9uKCl7ZS50aHJvdHRsZSgpfSksdC5vbigiYmx1ciIsZnVuY3Rpb24oKXtlLmNhbmNlbCgpfSl9LHNoPXtCQUNLU1BBQ0U6OCxERUxFVEU6NDYsRE9XTjo0MCxFTlRFUjoxMyxMRUZUOjM3LFJJR0hUOjM5LFNQQUNFQkFSOjMyLFRBQjo5LFVQOjM4LG1vZGlmaWVyUHJlc3NlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5zaGlmdEtleXx8ZS5jdHJsS2V5fHxlLmFsdEtleXx8dGhpcy5tZXRhS2V5UHJlc3NlZChlKX0sbWV0YUtleVByZXNzZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZlLm1hYz9lLm1ldGFLZXk6ZS5jdHJsS2V5JiYhZS5hbHRLZXl9fSxjaD1Pby5pc0NvbnRlbnRFZGl0YWJsZVRydWUsbGg9T28uaXNDb250ZW50RWRpdGFibGVGYWxzZSxmaD1CcyxkaD1fcyxtaD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmdldEJvZHkoKTt0JiZ0IT09bjspe2lmKGNoKHQpfHxsaCh0KSlyZXR1cm4gdDt0PXQucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0scGg9ZnVuY3Rpb24ocCl7dmFyIGcsZSx0LGE9cC5nZXRCb2R5KCksbz1pcyhwLmdldEJvZHkoKSxmdW5jdGlvbihlKXtyZXR1cm4gcC5kb20uaXNCbG9jayhlKX0sZnVuY3Rpb24oKXtyZXR1cm4genAocCl9KSxoPSJzZWwtIitwLmRvbS51bmlxdWVJZCgpLHU9ZnVuY3Rpb24oZSl7ZSYmcC5zZWxlY3Rpb24uc2V0Um5nKGUpfSxzPWZ1bmN0aW9uKCl7cmV0dXJuIHAuc2VsZWN0aW9uLmdldFJuZygpfSx2PWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0hMCkscC5maXJlKCJTaG93Q2FyZXQiLHt0YXJnZXQ6dCxkaXJlY3Rpb246ZSxiZWZvcmU6bn0pLmlzRGVmYXVsdFByZXZlbnRlZCgpP251bGw6KHImJnAuc2VsZWN0aW9uLnNjcm9sbEludG9WaWV3KHQsLTE9PT1lKSxvLnNob3cobix0KSl9LHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD1TcyhlLGEsdCksLTE9PT1lP0xhLmZyb21SYW5nZVN0YXJ0KHQpOkxhLmZyb21SYW5nZUVuZCh0KX0sbj1mdW5jdGlvbihlKXtyZXR1cm4gTGkoZSl8fFVpKGUpfHxxaShlKX0sYj1mdW5jdGlvbihlKXtyZXR1cm4gbihlLnN0YXJ0Q29udGFpbmVyKXx8bihlLmVuZENvbnRhaW5lcil9LGM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhLHUscyxjLGwsZixkPXAuJCxtPXAuZG9tO2lmKCFlKXJldHVybiBudWxsO2lmKGUuY29sbGFwc2VkKXtpZighYihlKSlpZighMT09PXQpe2lmKGM9eSgtMSxlKSxhcyhjLmdldE5vZGUoITApKSlyZXR1cm4gdigtMSxjLmdldE5vZGUoITApLCExLCExKTtpZihhcyhjLmdldE5vZGUoKSkpcmV0dXJuIHYoLTEsYy5nZXROb2RlKCksIWMuaXNBdEVuZCgpLCExKX1lbHNle2lmKGM9eSgxLGUpLGFzKGMuZ2V0Tm9kZSgpKSlyZXR1cm4gdigxLGMuZ2V0Tm9kZSgpLCFjLmlzQXRFbmQoKSwhMSk7aWYoYXMoYy5nZXROb2RlKCEwKSkpcmV0dXJuIHYoMSxjLmdldE5vZGUoITApLCExLCExKX1yZXR1cm4gbnVsbH1yZXR1cm4gaT1lLnN0YXJ0Q29udGFpbmVyLGE9ZS5zdGFydE9mZnNldCx1PWUuZW5kT2Zmc2V0LDM9PT1pLm5vZGVUeXBlJiYwPT09YSYmbGgoaS5wYXJlbnROb2RlKSYmKGk9aS5wYXJlbnROb2RlLGE9bS5ub2RlSW5kZXgoaSksaT1pLnBhcmVudE5vZGUpLDEhPT1pLm5vZGVUeXBlP251bGw6KHU9PT1hKzEmJihuPWkuY2hpbGROb2Rlc1thXSksbGgobik/KGw9Zj1uLmNsb25lTm9kZSghMCksKHM9cC5maXJlKCJPYmplY3RTZWxlY3RlZCIse3RhcmdldDpuLHRhcmdldENsb25lOmx9KSkuaXNEZWZhdWx0UHJldmVudGVkKCk/bnVsbDoocj1UbChWbi5mcm9tRG9tKHAuZ2V0Qm9keSgpKSwiIyIraCkuZm9sZChmdW5jdGlvbigpe3JldHVybiBkKFtdKX0sZnVuY3Rpb24oZSl7cmV0dXJuIGQoW2UuZG9tKCldKX0pLGw9cy50YXJnZXRDbG9uZSwwPT09ci5sZW5ndGgmJihyPWQoJzxkaXYgZGF0YS1tY2UtYm9ndXM9ImFsbCIgY2xhc3M9Im1jZS1vZmZzY3JlZW4tc2VsZWN0aW9uIj48L2Rpdj4nKS5hdHRyKCJpZCIsaCkpLmFwcGVuZFRvKHAuZ2V0Qm9keSgpKSxlPXAuZG9tLmNyZWF0ZVJuZygpLGw9PT1mJiZ2ZS5pZT8oci5lbXB0eSgpLmFwcGVuZCgnPHAgc3R5bGU9ImZvbnQtc2l6ZTogMCIgZGF0YS1tY2UtYm9ndXM9ImFsbCI+XHhhMDwvcD4nKS5hcHBlbmQobCksZS5zZXRTdGFydEFmdGVyKHJbMF0uZmlyc3RDaGlsZC5maXJzdENoaWxkKSxlLnNldEVuZEFmdGVyKGwpKTooci5lbXB0eSgpLmFwcGVuZCgiXHhhMCIpLmFwcGVuZChsKS5hcHBlbmQoIlx4YTAiKSxlLnNldFN0YXJ0KHJbMF0uZmlyc3RDaGlsZCwxKSxlLnNldEVuZChyWzBdLmxhc3RDaGlsZCwwKSksci5jc3Moe3RvcDptLmdldFBvcyhuLHAuZ2V0Qm9keSgpKS55fSksclswXS5mb2N1cygpLChvPXAuc2VsZWN0aW9uLmdldFNlbCgpKS5yZW1vdmVBbGxSYW5nZXMoKSxvLmFkZFJhbmdlKGUpLEguZWFjaChodShWbi5mcm9tRG9tKHAuZ2V0Qm9keSgpKSwiKltkYXRhLW1jZS1zZWxlY3RlZF0iKSxmdW5jdGlvbihlKXtsci5yZW1vdmUoZSwiZGF0YS1tY2Utc2VsZWN0ZWQiKX0pLG4uc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIsIjEiKSxnPW4sQygpLGUpKTpudWxsKX0sbD1mdW5jdGlvbigpe2cmJmcucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpLFRsKFZuLmZyb21Eb20ocC5nZXRCb2R5KCkpLCIjIitoKS5lYWNoKEhjLnJlbW92ZSksZz1udWxsfSxDPWZ1bmN0aW9uKCl7by5oaWRlKCl9O3JldHVybiB2ZS5jZUZhbHNlJiYoZnVuY3Rpb24oKXtwLm9uKCJtb3VzZXVwIixmdW5jdGlvbihlKXt2YXIgdD1zKCk7dC5jb2xsYXBzZWQmJldwKHAsZS5jbGllbnRYLGUuY2xpZW50WSkmJnUocnUocCx0LCExKSl9KSxwLm9uKCJjbGljayIsZnVuY3Rpb24oZSl7dmFyIHQ7KHQ9bWgocCxlLnRhcmdldCkpJiYobGgodCkmJihlLnByZXZlbnREZWZhdWx0KCkscC5mb2N1cygpKSxjaCh0KSYmcC5kb20uaXNDaGlsZE9mKHQscC5zZWxlY3Rpb24uZ2V0Tm9kZSgpKSYmbCgpKX0pLHAub24oImJsdXIgTmV3QmxvY2siLGZ1bmN0aW9uKCl7bCgpfSkscC5vbigiUmVzaXplV2luZG93IEZ1bGxzY3JlZW5TdGF0ZUNoYW5nZWQiLGZ1bmN0aW9uKCl7cmV0dXJuIG8ucmVwb3NpdGlvbigpfSk7dmFyIG4scixpPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPXAuZG9tLmdldFBhcmVudChlLHAuZG9tLmlzQmxvY2spLGk9cC5kb20uZ2V0UGFyZW50KHQscC5kb20uaXNCbG9jayk7cmV0dXJuISghb3x8IXAuZG9tLmlzQ2hpbGRPZihvLGkpfHwhMSE9PWxoKG1oKHAsbykpKXx8byYmKG49byxyPWksIShwLmRvbS5nZXRQYXJlbnQobixwLmRvbS5pc0Jsb2NrKT09PXAuZG9tLmdldFBhcmVudChyLHAuZG9tLmlzQmxvY2spKSkmJmZ1bmN0aW9uKGUpe3ZhciB0PVlzKGUpO2lmKCFlLmZpcnN0Q2hpbGQpcmV0dXJuITE7dmFyIG49TGEuYmVmb3JlKGUuZmlyc3RDaGlsZCkscj10Lm5leHQobik7cmV0dXJuIHImJiFkaChyKSYmIWZoKHIpfShvKX07cj0hMSwobj1wKS5vbigidG91Y2hzdGFydCIsZnVuY3Rpb24oKXtyPSExfSksbi5vbigidG91Y2htb3ZlIixmdW5jdGlvbigpe3I9ITB9KSxuLm9uKCJ0b3VjaGVuZCIsZnVuY3Rpb24oZSl7dmFyIHQ9bWgobixlLnRhcmdldCk7bGgodCkmJihyfHwoZS5wcmV2ZW50RGVmYXVsdCgpLGMobnUobix0KSkpKX0pLHAub24oIm1vdXNlZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnRhcmdldDtpZigobj09PWF8fCJIVE1MIj09PW4ubm9kZU5hbWV8fHAuZG9tLmlzQ2hpbGRPZihuLGEpKSYmITEhPT1XcChwLGUuY2xpZW50WCxlLmNsaWVudFkpKWlmKHQ9bWgocCxuKSlsaCh0KT8oZS5wcmV2ZW50RGVmYXVsdCgpLGMobnUocCx0KSkpOihsKCksY2godCkmJmUuc2hpZnRLZXl8fGloKGUuY2xpZW50WCxlLmNsaWVudFkscC5zZWxlY3Rpb24uZ2V0Um5nKCkpfHwoQygpLHAuc2VsZWN0aW9uLnBsYWNlQ2FyZXRBdChlLmNsaWVudFgsZS5jbGllbnRZKSkpO2Vsc2UgaWYoITE9PT1hcyhuKSl7bCgpLEMoKTt2YXIgcj1vaChhLGUuY2xpZW50WCxlLmNsaWVudFkpO2lmKHImJiFpKGUudGFyZ2V0LHIubm9kZSkpe2UucHJldmVudERlZmF1bHQoKTt2YXIgbz12KDEsci5ub2RlLHIuYmVmb3JlLCExKTtwLmdldEJvZHkoKS5mb2N1cygpLHUobyl9fX0pLHAub24oImtleXByZXNzIixmdW5jdGlvbihlKXtzaC5tb2RpZmllclByZXNzZWQoZSl8fChlLmtleUNvZGUsbGgocC5zZWxlY3Rpb24uZ2V0Tm9kZSgpKSYmZS5wcmV2ZW50RGVmYXVsdCgpKX0pLHAub24oImdldFNlbGVjdGlvblJhbmdlIixmdW5jdGlvbihlKXt2YXIgdD1lLnJhbmdlO2lmKGcpe2lmKCFnLnBhcmVudE5vZGUpcmV0dXJuIHZvaWQoZz1udWxsKTsodD10LmNsb25lUmFuZ2UoKSkuc2VsZWN0Tm9kZShnKSxlLnJhbmdlPXR9fSkscC5vbigic2V0U2VsZWN0aW9uUmFuZ2UiLGZ1bmN0aW9uKGUpe3ZhciB0Oyh0PWMoZS5yYW5nZSxlLmZvcndhcmQpKSYmKGUucmFuZ2U9dCl9KSxwLm9uKCJBZnRlclNldFNlbGVjdGlvblJhbmdlIixmdW5jdGlvbihlKXt2YXIgdCxuPWUucmFuZ2U7YihuKXx8QygpLHQ9bi5zdGFydENvbnRhaW5lci5wYXJlbnROb2RlLHAuZG9tLmhhc0NsYXNzKHQsIm1jZS1vZmZzY3JlZW4tc2VsZWN0aW9uIil8fGwoKX0pLHAub24oImNvcHkiLGZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5jbGlwYm9hcmREYXRhO2lmKCFlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZlLmNsaXBib2FyZERhdGEmJiF2ZS5pZSl7dmFyIHI9KHQ9cC5kb20uZ2V0KGgpKT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIilbMF06dDtyJiYoZS5wcmV2ZW50RGVmYXVsdCgpLG4uY2xlYXJEYXRhKCksbi5zZXREYXRhKCJ0ZXh0L2h0bWwiLHIub3V0ZXJIVE1MKSxuLnNldERhdGEoInRleHQvcGxhaW4iLHIub3V0ZXJUZXh0KSl9fSksamcocCksdWgocCl9KCksZT1wLmNvbnRlbnRTdHlsZXMsdD0iLm1jZS1jb250ZW50LWJvZHkiLGUucHVzaChvLmdldENzcygpKSxlLnB1c2godCsiIC5tY2Utb2Zmc2NyZWVuLXNlbGVjdGlvbiB7cG9zaXRpb246IGFic29sdXRlO2xlZnQ6IC05OTk5OTk5OTk5cHg7bWF4LXdpZHRoOiAxMDAwMDAwcHg7fSIrdCsiICpbY29udGVudEVkaXRhYmxlPWZhbHNlXSB7Y3Vyc29yOiBkZWZhdWx0O30iK3QrIiAqW2NvbnRlbnRFZGl0YWJsZT10cnVlXSB7Y3Vyc29yOiB0ZXh0O30iKSkse3Nob3dDYXJldDp2LHNob3dCbG9ja0NhcmV0Q29udGFpbmVyOmZ1bmN0aW9uKGUpe2UuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpJiYoVmkoZSksdShzKCkpLHAuc2VsZWN0aW9uLnNjcm9sbEludG9WaWV3KGVbMF0pKX0saGlkZUZha2VDYXJldDpDLGRlc3Ryb3k6ZnVuY3Rpb24oKXtvLmRlc3Ryb3koKSxnPW51bGx9fX0sZ2g9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHU9MTtmb3IoYT1lLmdldFNob3J0RW5kZWRFbGVtZW50cygpLChpPS88KFshP1wvXSk/KFtBLVphLXowLTlcLV9cOlwuXSspKCg/OlxzK1teIlwnPl0rKD86KD86IlteIl0qIil8KD86XCdbXlwnXSpcJyl8W14+XSopKSp8XC98XHMrKT4vZykubGFzdEluZGV4PXI9bjtvPWkuZXhlYyh0KTspe2lmKHI9aS5sYXN0SW5kZXgsIi8iPT09b1sxXSl1LS07ZWxzZSBpZighb1sxXSl7aWYob1syXWluIGEpY29udGludWU7dSsrfWlmKDA9PT11KWJyZWFrfXJldHVybiByfTtmdW5jdGlvbiBoaChGLHope3ZvaWQgMD09PXomJih6PW9pKCkpO3ZhciBlPWZ1bmN0aW9uKCl7fTshMSE9PShGPUZ8fHt9KS5maXhfc2VsZl9jbG9zaW5nJiYoRi5maXhfc2VsZl9jbG9zaW5nPSEwKTt2YXIgVT1GLmNvbW1lbnQ/Ri5jb21tZW50OmUscT1GLmNkYXRhP0YuY2RhdGE6ZSxWPUYudGV4dD9GLnRleHQ6ZSxIPUYuc3RhcnQ/Ri5zdGFydDplLGo9Ri5lbmQ/Ri5lbmQ6ZSwkPUYucGk/Ri5waTplLFc9Ri5kb2N0eXBlP0YuZG9jdHlwZTplO3JldHVybntwYXJzZTpmdW5jdGlvbihlKXt2YXIgdCxuLHIsZCxvLGksYSxtLHUscyxwLGMsZyxsLGYsaCx2LHksYixDLHgsdyxOLEUsUyxrLFQsQSxSLF89MCxCPVtdLEQ9MCxPPUtvLmRlY29kZSxQPUl0Lm1ha2VNYXAoInNyYyxocmVmLGRhdGEsYmFja2dyb3VuZCxmb3JtYWN0aW9uLHBvc3Rlcix4bGluazpocmVmIiksTD0vKChqYXZhfHZiKXNjcmlwdHxtaHRtbCk6L2ksST1mdW5jdGlvbihlKXt2YXIgdCxuO2Zvcih0PUIubGVuZ3RoO3QtLSYmQlt0XS5uYW1lIT09ZTspO2lmKDA8PXQpe2ZvcihuPUIubGVuZ3RoLTE7dDw9bjtuLS0pKGU9QltuXSkudmFsaWQmJmooZS5uYW1lKTtCLmxlbmd0aD10fX0sTT1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEsdSxzLGM7aWYobj0odD10LnRvTG93ZXJDYXNlKCkpaW4gcD90Ok8obnx8cnx8b3x8IiIpLGcmJiFtJiYwPT0oMD09PSh1PXQpLmluZGV4T2YoImRhdGEtIil8fDA9PT11LmluZGV4T2YoImFyaWEtIikpKXtpZighKGk9eVt0XSkmJmIpe2ZvcihhPWIubGVuZ3RoO2EtLSYmIShpPWJbYV0pLnBhdHRlcm4udGVzdCh0KTspOy0xPT09YSYmKGk9bnVsbCl9aWYoIWkpcmV0dXJuO2lmKGkudmFsaWRWYWx1ZXMmJiEobiBpbiBpLnZhbGlkVmFsdWVzKSlyZXR1cm59aWYoUFt0XSYmIUYuYWxsb3dfc2NyaXB0X3VybHMpe3ZhciBsPW4ucmVwbGFjZSgvW1xzXHUwMDAwLVx1MDAxRl0rL2csIiIpO3RyeXtsPWRlY29kZVVSSUNvbXBvbmVudChsKX1jYXRjaChmKXtsPXVuZXNjYXBlKGwpfWlmKEwudGVzdChsKSlyZXR1cm47aWYoYz1sLCEocz1GKS5hbGxvd19odG1sX2RhdGFfdXJscyYmKC9eZGF0YTppbWFnZVwvL2kudGVzdChjKT8hMT09PXMuYWxsb3dfc3ZnX2RhdGFfdXJscyYmL15kYXRhOmltYWdlXC9zdmdcK3htbC9pLnRlc3QoYyk6L15kYXRhOi9pLnRlc3QoYykpKXJldHVybn1tJiYodCBpbiBQfHwwPT09dC5pbmRleE9mKCJvbiIpKXx8KGQubWFwW3RdPW4sZC5wdXNoKHtuYW1lOnQsdmFsdWU6bn0pKX07Zm9yKFM9bmV3IFJlZ0V4cCgiPCg/Oig/OiEtLShbXFx3XFxXXSo/KS0tXHgzZSl8KD86IVxcW0NEQVRBXFxbKFtcXHdcXFddKj8pXFxdXFxdPil8KD86IURPQ1RZUEUoW1xcd1xcV10qPyk+KXwoPzpcXD8oW15cXHNcXC88Pl0rKSA/KFtcXHdcXFddKj8pWz8vXT4pfCg/OlxcLyhbQS1aYS16XVtBLVphLXowLTlcXC1fXFw6XFwuXSopPil8KD86KFtBLVphLXpdW0EtWmEtejAtOVxcLV9cXDpcXC5dKikoKD86XFxzK1teXCInPl0rKD86KD86XCJbXlwiXSpcIil8KD86J1teJ10qJyl8W14+XSopKSp8XFwvfFxccyspPikpIiwiZyIpLGs9LyhbXHc6XC1dKykoPzpccyo9XHMqKD86KD86XCIoKD86W15cIl0pKilcIil8KD86XCcoKD86W15cJ10pKilcJyl8KFtePlxzXSspKSk/L2cscz16LmdldFNob3J0RW5kZWRFbGVtZW50cygpLEU9Ri5zZWxmX2Nsb3NpbmdfZWxlbWVudHN8fHouZ2V0U2VsZkNsb3NpbmdFbGVtZW50cygpLHA9ei5nZXRCb29sQXR0cnMoKSxnPUYudmFsaWRhdGUsdT1GLnJlbW92ZV9pbnRlcm5hbHMsUj1GLmZpeF9zZWxmX2Nsb3NpbmcsVD16LmdldFNwZWNpYWxFbGVtZW50cygpLE49ZSsiPiI7dD1TLmV4ZWMoTik7KXtpZihfPHQuaW5kZXgmJlYoTyhlLnN1YnN0cihfLHQuaW5kZXgtXykpKSxuPXRbNl0pIjoiPT09KG49bi50b0xvd2VyQ2FzZSgpKS5jaGFyQXQoMCkmJihuPW4uc3Vic3RyKDEpKSxJKG4pO2Vsc2UgaWYobj10WzddKXtpZih0LmluZGV4K3RbMF0ubGVuZ3RoPmUubGVuZ3RoKXtWKE8oZS5zdWJzdHIodC5pbmRleCkpKSxfPXQuaW5kZXgrdFswXS5sZW5ndGg7Y29udGludWV9aWYoIjoiPT09KG49bi50b0xvd2VyQ2FzZSgpKS5jaGFyQXQoMCkmJihuPW4uc3Vic3RyKDEpKSxjPW4gaW4gcyxSJiZFW25dJiYwPEIubGVuZ3RoJiZCW0IubGVuZ3RoLTFdLm5hbWU9PT1uJiZJKG4pLCFnfHwobD16LmdldEVsZW1lbnRSdWxlKG4pKSl7aWYoZj0hMCxnJiYoeT1sLmF0dHJpYnV0ZXMsYj1sLmF0dHJpYnV0ZVBhdHRlcm5zKSwodj10WzhdKT8oKG09LTEhPT12LmluZGV4T2YoImRhdGEtbWNlLXR5cGUiKSkmJnUmJihmPSExKSwoZD1bXSkubWFwPXt9LHYucmVwbGFjZShrLE0pKTooZD1bXSkubWFwPXt9LGcmJiFtKXtpZihDPWwuYXR0cmlidXRlc1JlcXVpcmVkLHg9bC5hdHRyaWJ1dGVzRGVmYXVsdCx3PWwuYXR0cmlidXRlc0ZvcmNlZCxsLnJlbW92ZUVtcHR5QXR0cnMmJiFkLmxlbmd0aCYmKGY9ITEpLHcpZm9yKG89dy5sZW5ndGg7by0tOylhPShoPXdbb10pLm5hbWUsInskdWlkfSI9PT0oQT1oLnZhbHVlKSYmKEE9Im1jZV8iK0QrKyksZC5tYXBbYV09QSxkLnB1c2goe25hbWU6YSx2YWx1ZTpBfSk7aWYoeClmb3Iobz14Lmxlbmd0aDtvLS07KShhPShoPXhbb10pLm5hbWUpaW4gZC5tYXB8fCgieyR1aWR9Ij09PShBPWgudmFsdWUpJiYoQT0ibWNlXyIrRCsrKSxkLm1hcFthXT1BLGQucHVzaCh7bmFtZTphLHZhbHVlOkF9KSk7aWYoQyl7Zm9yKG89Qy5sZW5ndGg7by0tJiYhKENbb11pbiBkLm1hcCk7KTstMT09PW8mJihmPSExKX1pZihoPWQubWFwWyJkYXRhLW1jZS1ib2d1cyJdKXtpZigiYWxsIj09PWgpe189Z2goeixlLFMubGFzdEluZGV4KSxTLmxhc3RJbmRleD1fO2NvbnRpbnVlfWY9ITF9fWYmJkgobixkLGMpfWVsc2UgZj0hMTtpZihyPVRbbl0pe3IubGFzdEluZGV4PV89dC5pbmRleCt0WzBdLmxlbmd0aCwodD1yLmV4ZWMoZSkpPyhmJiYoaT1lLnN1YnN0cihfLHQuaW5kZXgtXykpLF89dC5pbmRleCt0WzBdLmxlbmd0aCk6KGk9ZS5zdWJzdHIoXyksXz1lLmxlbmd0aCksZiYmKDA8aS5sZW5ndGgmJlYoaSwhMCksaihuKSksUy5sYXN0SW5kZXg9Xztjb250aW51ZX1jfHwodiYmdi5pbmRleE9mKCIvIik9PT12Lmxlbmd0aC0xP2YmJmoobik6Qi5wdXNoKHtuYW1lOm4sdmFsaWQ6Zn0pKX1lbHNlKG49dFsxXSk/KCI+Ij09PW4uY2hhckF0KDApJiYobj0iICIrbiksRi5hbGxvd19jb25kaXRpb25hbF9jb21tZW50c3x8IltpZiIhPT1uLnN1YnN0cigwLDMpLnRvTG93ZXJDYXNlKCl8fChuPSIgIituKSxVKG4pKToobj10WzJdKT9xKG4ucmVwbGFjZSgvPCEtLXwtLT4vZywiIikpOihuPXRbM10pP1cobik6KG49dFs0XSkmJiQobix0WzVdKTtfPXQuaW5kZXgrdFswXS5sZW5ndGh9Zm9yKF88ZS5sZW5ndGgmJlYoTyhlLnN1YnN0cihfKSkpLG89Qi5sZW5ndGgtMTswPD1vO28tLSkobj1CW29dKS52YWxpZCYmaihuLm5hbWUpfX19KGhofHwoaGg9e30pKS5maW5kRW5kVGFnPWdoO3ZhciB2aD1oaCx5aD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEsdSxzLGMsbD10LGY9LzwoXHcrKSBbXj5dKmRhdGEtbWNlLWJvZ3VzPSJhbGwiW14+XSo+L2csZD1lLnNjaGVtYTtmb3IodT1lLmdldFRlbXBBdHRycygpLHM9bCxjPW5ldyBSZWdFeHAoWyJcXHM/KCIrdS5qb2luKCJ8IikrJyk9IlteIl0rIiddLmpvaW4oInwiKSwiZ2kiKSxsPXMucmVwbGFjZShjLCIiKSxhPWQuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCk7aT1mLmV4ZWMobCk7KXI9Zi5sYXN0SW5kZXgsbz1pWzBdLmxlbmd0aCxuPWFbaVsxXV0/cjp2aC5maW5kRW5kVGFnKGQsbCxyKSxsPWwuc3Vic3RyaW5nKDAsci1vKStsLnN1YnN0cmluZyhuKSxmLmxhc3RJbmRleD1yLW87cmV0dXJuIF9pKGwpfSxiaD17dHJpbUV4dGVybmFsOnloLHRyaW1JbnRlcm5hbDp5aH0sQ2g9MCx4aD0yLHdoPTEsTmg9ZnVuY3Rpb24ocCxnKXt2YXIgZT1wLmxlbmd0aCtnLmxlbmd0aCsyLGg9bmV3IEFycmF5KGUpLHY9bmV3IEFycmF5KGUpLGM9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaT1sKGUsdCxuLHIpO2lmKG51bGw9PT1pfHxpLnN0YXJ0PT09dCYmaS5kaWFnPT09dC1yfHxpLmVuZD09PWUmJmkuZGlhZz09PWUtbilmb3IodmFyIGE9ZSx1PW47YTx0fHx1PHI7KWE8dCYmdTxyJiZwW2FdPT09Z1t1XT8oby5wdXNoKFswLHBbYV1dKSwrK2EsKyt1KTpyLW48dC1lPyhvLnB1c2goWzIscFthXV0pLCsrYSk6KG8ucHVzaChbMSxnW3VdXSksKyt1KTtlbHNle2MoZSxpLnN0YXJ0LG4saS5zdGFydC1pLmRpYWcsbyk7Zm9yKHZhciBzPWkuc3RhcnQ7czxpLmVuZDsrK3Mpby5wdXNoKFswLHBbc11dKTtjKGkuZW5kLHQsaS5lbmQtaS5kaWFnLHIsbyl9fSx5PWZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgbz1lO28tdDxyJiZvPG4mJnBbb109PT1nW28tdF07KSsrbztyZXR1cm57c3RhcnQ6ZSxlbmQ6byxkaWFnOnR9fSxsPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXQtZSxpPXItbjtpZigwPT09b3x8MD09PWkpcmV0dXJuIG51bGw7dmFyIGEsdSxzLGMsbCxmPW8taSxkPWkrbyxtPShkJTI9PTA/ZDpkKzEpLzI7Zm9yKGhbMSttXT1lLHZbMSttXT10KzEsYT0wO2E8PW07KythKXtmb3IodT0tYTt1PD1hO3UrPTIpe2ZvcihzPXUrbSx1PT09LWF8fHUhPT1hJiZoW3MtMV08aFtzKzFdP2hbc109aFtzKzFdOmhbc109aFtzLTFdKzEsbD0oYz1oW3NdKS1lK24tdTtjPHQmJmw8ciYmcFtjXT09PWdbbF07KWhbc109KytjLCsrbDtpZihmJTIhPTAmJmYtYTw9dSYmdTw9ZithJiZ2W3MtZl08PWhbc10pcmV0dXJuIHkodltzLWZdLHUrZS1uLHQscil9Zm9yKHU9Zi1hO3U8PWYrYTt1Kz0yKXtmb3Iocz11K20tZix1PT09Zi1hfHx1IT09ZithJiZ2W3MrMV08PXZbcy0xXT92W3NdPXZbcysxXS0xOnZbc109dltzLTFdLGw9KGM9dltzXS0xKS1lK24tdTtlPD1jJiZuPD1sJiZwW2NdPT09Z1tsXTspdltzXT1jLS0sbC0tO2lmKGYlMj09MCYmLWE8PXUmJnU8PWEmJnZbc108PWhbcytmXSlyZXR1cm4geSh2W3NdLHUrZS1uLHQscil9fX0sdD1bXTtyZXR1cm4gYygwLHAubGVuZ3RoLDAsZy5sZW5ndGgsdCksdH0sRWg9ZnVuY3Rpb24oZSl7cmV0dXJuIE9vLmlzRWxlbWVudChlKT9lLm91dGVySFRNTDpPby5pc1RleHQoZSk/S28uZW5jb2RlUmF3KGUuZGF0YSwhMSk6T28uaXNDb21tZW50KGUpPyJceDNjIS0tIitlLmRhdGErIi0tXHgzZSI6IiJ9LFNoPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdCxuLHI7Zm9yKHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdD1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZSYmKHIuaW5uZXJIVE1MPWUpO249ci5maXJzdENoaWxkOyl0LmFwcGVuZENoaWxkKG4pO3JldHVybiB0fSh0KTtpZihlLmhhc0NoaWxkTm9kZXMoKSYmbjxlLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgbz1lLmNoaWxkTm9kZXNbbl07by5wYXJlbnROb2RlLmluc2VydEJlZm9yZShyLG8pfWVsc2UgZS5hcHBlbmRDaGlsZChyKX0sa2g9ZnVuY3Rpb24oZSl7cmV0dXJuIEJ0LmZpbHRlcihCdC5tYXAoZS5jaGlsZE5vZGVzLEVoKSxmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aH0pfSxUaD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpPUJ0Lm1hcCh0LmNoaWxkTm9kZXMsRWgpO3JldHVybiBuPU5oKGksZSkscj10LG89MCxCdC5lYWNoKG4sZnVuY3Rpb24oZSl7ZVswXT09PUNoP28rKzplWzBdPT09d2g/KFNoKHIsZVsxXSxvKSxvKyspOmVbMF09PT14aCYmZnVuY3Rpb24oZSx0KXtpZihlLmhhc0NoaWxkTm9kZXMoKSYmdDxlLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgbj1lLmNoaWxkTm9kZXNbdF07bi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pfX0ocixvKX0pLHR9LEFoPWZ1bmN0aW9uKGUsdCl7dmFyIG49KHR8fGRvY3VtZW50KS5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gbi5pbm5lckhUTUw9ZSwkci5jaGlsZHJlbihWbi5mcm9tRG9tKG4pKX0sUmg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tKCkuaW5uZXJIVE1MfSxfaD1SaCxCaD1mdW5jdGlvbihlLHQpe3ZhciBuPSRyLm93bmVyKGUpLmRvbSgpLHI9Vm4uZnJvbURvbShuLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSksbz1BaCh0LG4pO3FjKHIsbyksSGMuZW1wdHkoZSksSHUuYXBwZW5kKGUscil9LERoPW5zKEEubm9uZSgpKSxPaD1mdW5jdGlvbihlKXtyZXR1cm57dHlwZToiZnJhZ21lbnRlZCIsZnJhZ21lbnRzOmUsY29udGVudDoiIixib29rbWFyazpudWxsLGJlZm9yZUJvb2ttYXJrOm51bGx9fSxQaD1mdW5jdGlvbihlKXtyZXR1cm57dHlwZToiY29tcGxldGUiLGZyYWdtZW50czpudWxsLGNvbnRlbnQ6ZSxib29rbWFyazpudWxsLGJlZm9yZUJvb2ttYXJrOm51bGx9fSxMaD1mdW5jdGlvbihlKXtyZXR1cm4iZnJhZ21lbnRlZCI9PT1lLnR5cGU/ZS5mcmFnbWVudHMuam9pbigiIik6ZS5jb250ZW50fSxJaD1mdW5jdGlvbihlKXt2YXIgdD1Wbi5mcm9tVGFnKCJib2R5IixEaC5nZXQoKS5nZXRPclRodW5rKGZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCJ1bmRvIik7cmV0dXJuIERoLnNldChBLnNvbWUoZSkpLGV9KSk7cmV0dXJuIEJoKHQsTGgoZSkpLEguZWFjaChodSh0LCIqW2RhdGEtbWNlLWJvZ3VzXSIpLEhjLnVud3JhcCksX2godCl9LE1oPWZ1bmN0aW9uKG4pe3ZhciBlLHQscjtyZXR1cm4gZT1raChuLmdldEJvZHkoKSksLTEhPT0odD0ocj1ILmJpbmQoZSxmdW5jdGlvbihlKXt2YXIgdD1iaC50cmltSW50ZXJuYWwobi5zZXJpYWxpemVyLGUpO3JldHVybiAwPHQubGVuZ3RoP1t0XTpbXX0pKS5qb2luKCIiKSkuaW5kZXhPZigiPC9pZnJhbWU+Iik/T2gocik6UGgodCl9LEZoPWZ1bmN0aW9uKGUsdCxuKXsiZnJhZ21lbnRlZCI9PT10LnR5cGU/VGgodC5mcmFnbWVudHMsZS5nZXRCb2R5KCkpOmUuc2V0Q29udGVudCh0LmNvbnRlbnQse2Zvcm1hdDoicmF3In0pLGUuc2VsZWN0aW9uLm1vdmVUb0Jvb2ttYXJrKG4/dC5iZWZvcmVCb29rbWFyazp0LmJvb2ttYXJrKX0semg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hKCFlfHwhdCkmJihyPXQsTGgoZSk9PT1MaChyKXx8KG49dCxJaChlKT09PUloKG4pKSk7dmFyIG4scn07ZnVuY3Rpb24gVWgodSl7dmFyIHMscixvPXRoaXMsYz0wLGw9W10sdD0wLGY9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXR9LGk9ZnVuY3Rpb24oZSl7ZigpJiYoby50eXBpbmc9ZSl9LGQ9ZnVuY3Rpb24oZSl7dS5zZXREaXJ0eShlKX0sYT1mdW5jdGlvbihlKXtpKCExKSxvLmFkZCh7fSxlKX0sbj1mdW5jdGlvbigpe28udHlwaW5nJiYoaSghMSksby5hZGQoKSl9O3JldHVybiB1Lm9uKCJpbml0IixmdW5jdGlvbigpe28uYWRkKCl9KSx1Lm9uKCJCZWZvcmVFeGVjQ29tbWFuZCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb21tYW5kOyJVbmRvIiE9PXQmJiJSZWRvIiE9PXQmJiJtY2VSZXBhaW50IiE9PXQmJihuKCksby5iZWZvcmVDaGFuZ2UoKSl9KSx1Lm9uKCJFeGVjQ29tbWFuZCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5jb21tYW5kOyJVbmRvIiE9PXQmJiJSZWRvIiE9PXQmJiJtY2VSZXBhaW50IiE9PXQmJmEoZSl9KSx1Lm9uKCJPYmplY3RSZXNpemVTdGFydCBDdXQiLGZ1bmN0aW9uKCl7by5iZWZvcmVDaGFuZ2UoKX0pLHUub24oIlNhdmVDb250ZW50IE9iamVjdFJlc2l6ZWQgYmx1ciIsYSksdS5vbigiRHJhZ0VuZCIsYSksdS5vbigiS2V5VXAiLGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5Q29kZTtlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoKDMzPD10JiZ0PD0zNnx8Mzc8PXQmJnQ8PTQwfHw0NT09PXR8fGUuY3RybEtleSkmJihhKCksdS5ub2RlQ2hhbmdlZCgpKSw0NiE9PXQmJjghPT10fHx1Lm5vZGVDaGFuZ2VkKCksciYmby50eXBpbmcmJiExPT09emgoTWgodSksbFswXSkmJighMT09PXUuaXNEaXJ0eSgpJiYoZCghMCksdS5maXJlKCJjaGFuZ2UiLHtsZXZlbDpsWzBdLGxhc3RMZXZlbDpudWxsfSkpLHUuZmlyZSgiVHlwaW5nVW5kbyIpLHI9ITEsdS5ub2RlQ2hhbmdlZCgpKSl9KSx1Lm9uKCJLZXlEb3duIixmdW5jdGlvbihlKXt2YXIgdD1lLmtleUNvZGU7aWYoIWUuaXNEZWZhdWx0UHJldmVudGVkKCkpaWYoMzM8PXQmJnQ8PTM2fHwzNzw9dCYmdDw9NDB8fDQ1PT09dClvLnR5cGluZyYmYShlKTtlbHNle3ZhciBuPWUuY3RybEtleSYmIWUuYWx0S2V5fHxlLm1ldGFLZXk7ISh0PDE2fHwyMDx0KXx8MjI0PT09dHx8OTE9PT10fHxvLnR5cGluZ3x8bnx8KG8uYmVmb3JlQ2hhbmdlKCksaSghMCksby5hZGQoe30sZSkscj0hMCl9fSksdS5vbigiTW91c2VEb3duIixmdW5jdGlvbihlKXtvLnR5cGluZyYmYShlKX0pLHUub24oImlucHV0IixmdW5jdGlvbihlKXt2YXIgdDtlLmlucHV0VHlwZSYmKCJpbnNlcnRSZXBsYWNlbWVudFRleHQiPT09ZS5pbnB1dFR5cGV8fCJpbnNlcnRUZXh0Ij09PSh0PWUpLmlucHV0VHlwZSYmbnVsbD09PXQuZGF0YSkmJmEoZSl9KSx1LmFkZFNob3J0Y3V0KCJtZXRhK3oiLCIiLCJVbmRvIiksdS5hZGRTaG9ydGN1dCgibWV0YSt5LG1ldGErc2hpZnQreiIsIiIsIlJlZG8iKSx1Lm9uKCJBZGRVbmRvIFVuZG8gUmVkbyBDbGVhclVuZG9zIixmdW5jdGlvbihlKXtlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHx1Lm5vZGVDaGFuZ2VkKCl9KSxvPXtkYXRhOmwsdHlwaW5nOiExLGJlZm9yZUNoYW5nZTpmdW5jdGlvbigpe2YoKSYmKHM9RWMuZ2V0VW5kb0Jvb2ttYXJrKHUuc2VsZWN0aW9uKSl9LGFkZDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpPXUuc2V0dGluZ3M7aWYobz1NaCh1KSxlPWV8fHt9LGU9SXQuZXh0ZW5kKGUsbyksITE9PT1mKCl8fHUucmVtb3ZlZClyZXR1cm4gbnVsbDtpZihyPWxbY10sdS5maXJlKCJCZWZvcmVBZGRVbmRvIix7bGV2ZWw6ZSxsYXN0TGV2ZWw6cixvcmlnaW5hbEV2ZW50OnR9KS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4gbnVsbDtpZihyJiZ6aChyLGUpKXJldHVybiBudWxsO2lmKGxbY10mJihsW2NdLmJlZm9yZUJvb2ttYXJrPXMpLGkuY3VzdG9tX3VuZG9fcmVkb19sZXZlbHMmJmwubGVuZ3RoPmkuY3VzdG9tX3VuZG9fcmVkb19sZXZlbHMpe2ZvcihuPTA7bjxsLmxlbmd0aC0xO24rKylsW25dPWxbbisxXTtsLmxlbmd0aC0tLGM9bC5sZW5ndGh9ZS5ib29rbWFyaz1FYy5nZXRVbmRvQm9va21hcmsodS5zZWxlY3Rpb24pLGM8bC5sZW5ndGgtMSYmKGwubGVuZ3RoPWMrMSksbC5wdXNoKGUpLGM9bC5sZW5ndGgtMTt2YXIgYT17bGV2ZWw6ZSxsYXN0TGV2ZWw6cixvcmlnaW5hbEV2ZW50OnR9O3JldHVybiB1LmZpcmUoIkFkZFVuZG8iLGEpLDA8YyYmKGQoITApLHUuZmlyZSgiY2hhbmdlIixhKSksZX0sdW5kbzpmdW5jdGlvbigpe3ZhciBlO3JldHVybiBvLnR5cGluZyYmKG8uYWRkKCksby50eXBpbmc9ITEsaSghMSkpLDA8YyYmKGU9bFstLWNdLEZoKHUsZSwhMCksZCghMCksdS5maXJlKCJ1bmRvIix7bGV2ZWw6ZX0pKSxlfSxyZWRvOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGM8bC5sZW5ndGgtMSYmKGU9bFsrK2NdLEZoKHUsZSwhMSksZCghMCksdS5maXJlKCJyZWRvIix7bGV2ZWw6ZX0pKSxlfSxjbGVhcjpmdW5jdGlvbigpe2w9W10sYz0wLG8udHlwaW5nPSExLG8uZGF0YT1sLHUuZmlyZSgiQ2xlYXJVbmRvcyIpfSxoYXNVbmRvOmZ1bmN0aW9uKCl7cmV0dXJuIDA8Y3x8by50eXBpbmcmJmxbMF0mJiF6aChNaCh1KSxsWzBdKX0saGFzUmVkbzpmdW5jdGlvbigpe3JldHVybiBjPGwubGVuZ3RoLTEmJiFvLnR5cGluZ30sdHJhbnNhY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIG4oKSxvLmJlZm9yZUNoYW5nZSgpLG8uaWdub3JlKGUpLG8uYWRkKCl9LGlnbm9yZTpmdW5jdGlvbihlKXt0cnl7dCsrLGUoKX1maW5hbGx5e3QtLX19LGV4dHJhOmZ1bmN0aW9uKGUsdCl7dmFyIG4scjtvLnRyYW5zYWN0KGUpJiYocj1sW2NdLmJvb2ttYXJrLG49bFtjLTFdLEZoKHUsbiwhMCksby50cmFuc2FjdCh0KSYmKGxbYy0xXS5iZWZvcmVCb29rbWFyaz1yKSl9fX12YXIgcWgsVmgsSGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJi9eKElNRykkLy50ZXN0KGUubm9kZU5hbWUpfSxqaD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmMz09PWUubm9kZVR5cGUmJi9eKFtcdCBcclxuXSt8KSQvLnRlc3QoZS5ub2RlVmFsdWUpfSwkaD1mdW5jdGlvbihlLHQsbil7cmV0dXJuImNvbG9yIiE9PW4mJiJiYWNrZ3JvdW5kQ29sb3IiIT09bnx8KHQ9ZS50b0hleCh0KSksImZvbnRXZWlnaHQiPT09biYmNzAwPT09dCYmKHQ9ImJvbGQiKSwiZm9udEZhbWlseSI9PT1uJiYodD10LnJlcGxhY2UoL1tcJ1wiXS9nLCIiKS5yZXBsYWNlKC8sXHMrL2csIiwiKSksIiIrdH0sV2g9e2lzSW5saW5lQmxvY2s6SGgsbW92ZVN0YXJ0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYT1uLnN0YXJ0T2Zmc2V0LHU9bi5zdGFydENvbnRhaW5lcjtpZigobi5zdGFydENvbnRhaW5lciE9PW4uZW5kQ29udGFpbmVyfHwhSGgobi5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW24uc3RhcnRPZmZzZXRdKSkmJjE9PT11Lm5vZGVUeXBlKWZvcihhPChpPXUuY2hpbGROb2RlcykubGVuZ3RoP3I9bmV3IGFvKHU9aVthXSxlLmdldFBhcmVudCh1LGUuaXNCbG9jaykpOihyPW5ldyBhbyh1PWlbaS5sZW5ndGgtMV0sZS5nZXRQYXJlbnQodSxlLmlzQmxvY2spKSkubmV4dCghMCksbz1yLmN1cnJlbnQoKTtvO289ci5uZXh0KCkpaWYoMz09PW8ubm9kZVR5cGUmJiFqaChvKSlyZXR1cm4gbi5zZXRTdGFydChvLDApLHZvaWQgdC5zZXRSbmcobil9LGdldE5vbldoaXRlU3BhY2VTaWJsaW5nOmZ1bmN0aW9uKGUsdCxuKXtpZihlKWZvcih0PXQ/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixlPW4/ZTplW3RdO2U7ZT1lW3RdKWlmKDE9PT1lLm5vZGVUeXBlfHwhamgoZSkpcmV0dXJuIGV9LGlzVGV4dEJsb2NrOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQubm9kZVR5cGUmJih0PXQubm9kZU5hbWUpLCEhZS5zY2hlbWEuZ2V0VGV4dEJsb2NrRWxlbWVudHMoKVt0LnRvTG93ZXJDYXNlKCldfSxpc1ZhbGlkOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5zY2hlbWEuaXNWYWxpZENoaWxkKHQsbil9LGlzV2hpdGVTcGFjZU5vZGU6amgscmVwbGFjZVZhcnM6ZnVuY3Rpb24oZSxuKXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGU/ZT1lKG4pOm4mJihlPWUucmVwbGFjZSgvJShcdyspL2csZnVuY3Rpb24oZSx0KXtyZXR1cm4gblt0XXx8ZX0pKSxlfSxpc0VxOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8IiIsZT0iIisoKGU9ZXx8IiIpLm5vZGVOYW1lfHxlKSx0PSIiKyh0Lm5vZGVOYW1lfHx0KSxlLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9LG5vcm1hbGl6ZVN0eWxlVmFsdWU6JGgsZ2V0U3R5bGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAkaChlLGUuZ2V0U3R5bGUodCxuKSxuKX0sZ2V0VGV4dERlY29yYXRpb246ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gdC5nZXRQYXJlbnQoZSxmdW5jdGlvbihlKXtyZXR1cm4obj10LmdldFN0eWxlKGUsInRleHQtZGVjb3JhdGlvbiIpKSYmIm5vbmUiIT09bn0pLG59LGdldFBhcmVudHM6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmdldFBhcmVudHModCxuLGUuZ2V0Um9vdCgpKX19LEtoPU1jLFhoPVdoLmdldFBhcmVudHMsWWg9V2guaXNXaGl0ZVNwYWNlTm9kZSxHaD1XaC5pc1RleHRCbG9jayxKaD1mdW5jdGlvbihlLHQpe2Zvcih2b2lkIDA9PT10JiYodD0zPT09ZS5ub2RlVHlwZT9lLmxlbmd0aDplLmNoaWxkTm9kZXMubGVuZ3RoKTtlJiZlLmhhc0NoaWxkTm9kZXMoKTspKGU9ZS5jaGlsZE5vZGVzW3RdKSYmKHQ9Mz09PWUubm9kZVR5cGU/ZS5sZW5ndGg6ZS5jaGlsZE5vZGVzLmxlbmd0aCk7cmV0dXJue25vZGU6ZSxvZmZzZXQ6dH19LFFoPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXQ7bjspe2lmKDE9PT1uLm5vZGVUeXBlJiZlLmdldENvbnRlbnRFZGl0YWJsZShuKSlyZXR1cm4iZmFsc2UiPT09ZS5nZXRDb250ZW50RWRpdGFibGUobik/bjp0O249bi5wYXJlbnROb2RlfXJldHVybiB0fSxaaD1mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGE9bi5ub2RlVmFsdWU7cmV0dXJuIHZvaWQgMD09PXImJihyPWU/YS5sZW5ndGg6MCksZT8obz1hLmxhc3RJbmRleE9mKCIgIixyKSwtMT09PShvPShpPWEubGFzdEluZGV4T2YoIlx4YTAiLHIpKTxvP286aSl8fHR8fG8rKyk6KG89YS5pbmRleE9mKCIgIixyKSxpPWEuaW5kZXhPZigiXHhhMCIsciksbz0tMSE9PW8mJigtMT09PWl8fG88aSk/bzppKSxvfSxldj1mdW5jdGlvbihlLHQsbixyLG8saSl7dmFyIGEsdSxzLGM7aWYoMz09PW4ubm9kZVR5cGUpe2lmKC0xIT09KHM9WmgobyxpLG4scikpKXJldHVybntjb250YWluZXI6bixvZmZzZXQ6c307Yz1ufWZvcihhPW5ldyBhbyhuLGUuZ2V0UGFyZW50KG4sZS5pc0Jsb2NrKXx8dCk7dT1hW28/InByZXYiOiJuZXh0Il0oKTspaWYoMz09PXUubm9kZVR5cGUpe2lmKC0xIT09KHM9WmgobyxpLGM9dSkpKXJldHVybntjb250YWluZXI6dSxvZmZzZXQ6c319ZWxzZSBpZihlLmlzQmxvY2sodSkpYnJlYWs7aWYoYylyZXR1cm57Y29udGFpbmVyOmMsb2Zmc2V0OnI9bz8wOmMubGVuZ3RofX0sdHY9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHUscztmb3IoMz09PXIubm9kZVR5cGUmJjA9PT1yLm5vZGVWYWx1ZS5sZW5ndGgmJnJbb10mJihyPXJbb10pLGk9WGgoZSxyKSxhPTA7YTxpLmxlbmd0aDthKyspZm9yKHU9MDt1PHQubGVuZ3RoO3UrKylpZighKCJjb2xsYXBzZWQiaW4ocz10W3VdKSYmcy5jb2xsYXBzZWQhPT1uLmNvbGxhcHNlZCkmJmUuaXMoaVthXSxzLnNlbGVjdG9yKSlyZXR1cm4gaVthXTtyZXR1cm4gcn0sbnY9ZnVuY3Rpb24odCxlLG4scil7dmFyIG8saT10LmRvbSxhPWkuZ2V0Um9vdCgpO2lmKGVbMF0ud3JhcHBlcnx8KG89aS5nZXRQYXJlbnQobixlWzBdLmJsb2NrLGEpKSwhbyl7dmFyIHU9aS5nZXRQYXJlbnQobiwiTEksVEQsVEgiKTtvPWkuZ2V0UGFyZW50KDM9PT1uLm5vZGVUeXBlP24ucGFyZW50Tm9kZTpuLGZ1bmN0aW9uKGUpe3JldHVybiBlIT09YSYmR2godCxlKX0sdSl9aWYobyYmZVswXS53cmFwcGVyJiYobz1YaChpLG8sInVsLG9sIikucmV2ZXJzZSgpWzBdfHxvKSwhbylmb3Iobz1uO29bcl0mJiFpLmlzQmxvY2sob1tyXSkmJihvPW9bcl0sIVdoLmlzRXEobywiYnIiKSk7KTtyZXR1cm4gb3x8bn0scnY9ZnVuY3Rpb24oZSx0LG4scixvLGksYSl7dmFyIHUscyxjLGwsZixkO2lmKHU9cz1hP246byxsPWE/InByZXZpb3VzU2libGluZyI6Im5leHRTaWJsaW5nIixmPWUuZ2V0Um9vdCgpLDM9PT11Lm5vZGVUeXBlJiYhWWgodSkmJihhPzA8cjppPHUubm9kZVZhbHVlLmxlbmd0aCkpcmV0dXJuIHU7Zm9yKDs7KXtpZighdFswXS5ibG9ja19leHBhbmQmJmUuaXNCbG9jayhzKSlyZXR1cm4gcztmb3IoYz1zW2xdO2M7Yz1jW2xdKWlmKCFLaChjKSYmIVloKGMpJiYoIkJSIiE9PShkPWMpLm5vZGVOYW1lfHwhZC5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIil8fGQubmV4dFNpYmxpbmcpKXJldHVybiBzO2lmKHM9PT1mfHxzLnBhcmVudE5vZGU9PT1mKXt1PXM7YnJlYWt9cz1zLnBhcmVudE5vZGV9cmV0dXJuIHV9LG92PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGk9dC5zdGFydENvbnRhaW5lcixhPXQuc3RhcnRPZmZzZXQsdT10LmVuZENvbnRhaW5lcixzPXQuZW5kT2Zmc2V0LGM9ZS5kb207cmV0dXJuIDE9PT1pLm5vZGVUeXBlJiZpLmhhc0NoaWxkTm9kZXMoKSYmMz09PShpPXVhKGksYSkpLm5vZGVUeXBlJiYoYT0wKSwxPT09dS5ub2RlVHlwZSYmdS5oYXNDaGlsZE5vZGVzKCkmJjM9PT0odT11YSh1LHQuY29sbGFwc2VkP3M6cy0xKSkubm9kZVR5cGUmJihzPXUubm9kZVZhbHVlLmxlbmd0aCksaT1RaChjLGkpLHU9UWgoYyx1KSwoS2goaS5wYXJlbnROb2RlKXx8S2goaSkpJiYzPT09KGk9KGk9S2goaSk/aTppLnBhcmVudE5vZGUpLm5leHRTaWJsaW5nfHxpKS5ub2RlVHlwZSYmKGE9MCksKEtoKHUucGFyZW50Tm9kZSl8fEtoKHUpKSYmMz09PSh1PSh1PUtoKHUpP3U6dS5wYXJlbnROb2RlKS5wcmV2aW91c1NpYmxpbmd8fHUpLm5vZGVUeXBlJiYocz11Lmxlbmd0aCksblswXS5pbmxpbmUmJih0LmNvbGxhcHNlZCYmKChvPWV2KGMsZS5nZXRCb2R5KCksaSxhLCEwLHIpKSYmKGk9by5jb250YWluZXIsYT1vLm9mZnNldCksKG89ZXYoYyxlLmdldEJvZHkoKSx1LHMsITEscikpJiYodT1vLmNvbnRhaW5lcixzPW8ub2Zmc2V0KSksdT1yP3U6ZnVuY3Rpb24oZSx0KXt2YXIgbj1KaChlLHQpO2lmKG4ubm9kZSl7Zm9yKDtuLm5vZGUmJjA9PT1uLm9mZnNldCYmbi5ub2RlLnByZXZpb3VzU2libGluZzspbj1KaChuLm5vZGUucHJldmlvdXNTaWJsaW5nKTtuLm5vZGUmJjA8bi5vZmZzZXQmJjM9PT1uLm5vZGUubm9kZVR5cGUmJiIgIj09PW4ubm9kZS5ub2RlVmFsdWUuY2hhckF0KG4ub2Zmc2V0LTEpJiYxPG4ub2Zmc2V0JiYoZT1uLm5vZGUpLnNwbGl0VGV4dChuLm9mZnNldC0xKX1yZXR1cm4gZX0odSxzKSksKG5bMF0uaW5saW5lfHxuWzBdLmJsb2NrX2V4cGFuZCkmJihuWzBdLmlubGluZSYmMz09PWkubm9kZVR5cGUmJjAhPT1hfHwoaT1ydihjLG4saSxhLHUscywhMCkpLG5bMF0uaW5saW5lJiYzPT09dS5ub2RlVHlwZSYmcyE9PXUubm9kZVZhbHVlLmxlbmd0aHx8KHU9cnYoYyxuLGksYSx1LHMsITEpKSksblswXS5zZWxlY3RvciYmITEhPT1uWzBdLmV4cGFuZCYmIW5bMF0uaW5saW5lJiYoaT10dihjLG4sdCxpLCJwcmV2aW91c1NpYmxpbmciKSx1PXR2KGMsbix0LHUsIm5leHRTaWJsaW5nIikpLChuWzBdLmJsb2NrfHxuWzBdLnNlbGVjdG9yKSYmKGk9bnYoZSxuLGksInByZXZpb3VzU2libGluZyIpLHU9bnYoZSxuLHUsIm5leHRTaWJsaW5nIiksblswXS5ibG9jayYmKGMuaXNCbG9jayhpKXx8KGk9cnYoYyxuLGksYSx1LHMsITApKSxjLmlzQmxvY2sodSl8fCh1PXJ2KGMsbixpLGEsdSxzLCExKSkpKSwxPT09aS5ub2RlVHlwZSYmKGE9Yy5ub2RlSW5kZXgoaSksaT1pLnBhcmVudE5vZGUpLDE9PT11Lm5vZGVUeXBlJiYocz1jLm5vZGVJbmRleCh1KSsxLHU9dS5wYXJlbnROb2RlKSx7c3RhcnRDb250YWluZXI6aSxzdGFydE9mZnNldDphLGVuZENvbnRhaW5lcjp1LGVuZE9mZnNldDpzfX0saXY9V2guaXNFcSxhdj1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZS5mb3JtYXR0ZXIuZ2V0KG4pO2lmKHIpZm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspaWYoITE9PT1yW29dLmluaGVyaXQmJmUuZG9tLmlzKHQscltvXS5zZWxlY3RvcikpcmV0dXJuITA7cmV0dXJuITF9LHV2PWZ1bmN0aW9uKHQsZSxuLHIpe3ZhciBvPXQuZG9tLmdldFJvb3QoKTtyZXR1cm4gZSE9PW8mJihlPXQuZG9tLmdldFBhcmVudChlLGZ1bmN0aW9uKGUpe3JldHVybiEhYXYodCxlLG4pfHxlLnBhcmVudE5vZGU9PT1vfHwhIWx2KHQsZSxuLHIsITApfSksbHYodCxlLG4scikpfSxzdj1mdW5jdGlvbihlLHQsbil7cmV0dXJuISFpdih0LG4uaW5saW5lKXx8ISFpdih0LG4uYmxvY2spfHwobi5zZWxlY3Rvcj8xPT09dC5ub2RlVHlwZSYmZS5pcyh0LG4uc2VsZWN0b3IpOnZvaWQgMCl9LGN2PWZ1bmN0aW9uKGUsdCxuLHIsbyxpKXt2YXIgYSx1LHMsYz1uW3JdO2lmKG4ub25tYXRjaClyZXR1cm4gbi5vbm1hdGNoKHQsbixyKTtpZihjKWlmKCJ1bmRlZmluZWQiPT10eXBlb2YgYy5sZW5ndGgpe2ZvcihhIGluIGMpaWYoYy5oYXNPd25Qcm9wZXJ0eShhKSl7aWYodT0iYXR0cmlidXRlcyI9PT1yP2UuZ2V0QXR0cmliKHQsYSk6V2guZ2V0U3R5bGUoZSx0LGEpLG8mJiF1JiYhbi5leGFjdClyZXR1cm47aWYoKCFvfHxuLmV4YWN0KSYmIWl2KHUsV2gubm9ybWFsaXplU3R5bGVWYWx1ZShlLFdoLnJlcGxhY2VWYXJzKGNbYV0saSksYSkpKXJldHVybn19ZWxzZSBmb3Iocz0wO3M8Yy5sZW5ndGg7cysrKWlmKCJhdHRyaWJ1dGVzIj09PXI/ZS5nZXRBdHRyaWIodCxjW3NdKTpXaC5nZXRTdHlsZShlLHQsY1tzXSkpcmV0dXJuIG47cmV0dXJuIG59LGx2PWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYSx1LHMsYz1lLmZvcm1hdHRlci5nZXQobiksbD1lLmRvbTtpZihjJiZ0KWZvcihhPTA7YTxjLmxlbmd0aDthKyspaWYoaT1jW2FdLHN2KGUuZG9tLHQsaSkmJmN2KGwsdCxpLCJhdHRyaWJ1dGVzIixvLHIpJiZjdihsLHQsaSwic3R5bGVzIixvLHIpKXtpZihzPWkuY2xhc3Nlcylmb3IodT0wO3U8cy5sZW5ndGg7dSsrKWlmKCFlLmRvbS5oYXNDbGFzcyh0LHNbdV0pKXJldHVybjtyZXR1cm4gaX19LGZ2PXttYXRjaE5vZGU6bHYsbWF0Y2hOYW1lOnN2LG1hdGNoOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvO3JldHVybiByP3V2KGUscix0LG4pOihyPWUuc2VsZWN0aW9uLmdldE5vZGUoKSwhIXV2KGUscix0LG4pfHwhKChvPWUuc2VsZWN0aW9uLmdldFN0YXJ0KCkpPT09cnx8IXV2KGUsbyx0LG4pKSl9LG1hdGNoQWxsOmZ1bmN0aW9uKHIsbyxpKXt2YXIgZSxhPVtdLHU9e307cmV0dXJuIGU9ci5zZWxlY3Rpb24uZ2V0U3RhcnQoKSxyLmRvbS5nZXRQYXJlbnQoZSxmdW5jdGlvbihlKXt2YXIgdCxuO2Zvcih0PTA7dDxvLmxlbmd0aDt0Kyspbj1vW3RdLCF1W25dJiZsdihyLGUsbixpKSYmKHVbbl09ITAsYS5wdXNoKG4pKX0sci5kb20uZ2V0Um9vdCgpKSxhfSxjYW5BcHBseTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpLGEsdT1lLmZvcm1hdHRlci5nZXQodCkscz1lLmRvbTtpZih1KWZvcihuPWUuc2VsZWN0aW9uLmdldFN0YXJ0KCkscj1XaC5nZXRQYXJlbnRzKHMsbiksaT11Lmxlbmd0aC0xOzA8PWk7aS0tKXtpZighKGE9dVtpXS5zZWxlY3Rvcil8fHVbaV0uZGVmYXVsdEJsb2NrKXJldHVybiEwO2ZvcihvPXIubGVuZ3RoLTE7MDw9bztvLS0paWYocy5pcyhyW29dLGEpKXJldHVybiEwfXJldHVybiExfSxtYXRjaGVzVW5Jbmhlcml0ZWRGb3JtYXRTZWxlY3Rvcjphdn0sZHY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zcGxpdFRleHQodCl9LG12PWZ1bmN0aW9uKGUpe3ZhciB0PWUuc3RhcnRDb250YWluZXIsbj1lLnN0YXJ0T2Zmc2V0LHI9ZS5lbmRDb250YWluZXIsbz1lLmVuZE9mZnNldDtyZXR1cm4gdD09PXImJk9vLmlzVGV4dCh0KT8wPG4mJm48dC5ub2RlVmFsdWUubGVuZ3RoJiYodD0ocj1kdih0LG4pKS5wcmV2aW91c1NpYmxpbmcsbjxvPyh0PXI9ZHYocixvLT1uKS5wcmV2aW91c1NpYmxpbmcsbz1yLm5vZGVWYWx1ZS5sZW5ndGgsbj0wKTpvPTApOihPby5pc1RleHQodCkmJjA8biYmbjx0Lm5vZGVWYWx1ZS5sZW5ndGgmJih0PWR2KHQsbiksbj0wKSxPby5pc1RleHQocikmJjA8byYmbzxyLm5vZGVWYWx1ZS5sZW5ndGgmJihvPShyPWR2KHIsbykucHJldmlvdXNTaWJsaW5nKS5ub2RlVmFsdWUubGVuZ3RoKSkse3N0YXJ0Q29udGFpbmVyOnQsc3RhcnRPZmZzZXQ6bixlbmRDb250YWluZXI6cixlbmRPZmZzZXQ6b319LHB2PVJpLGd2PSJfbWNlX2NhcmV0Iixodj1mdW5jdGlvbihlKXtyZXR1cm4gMDxmdW5jdGlvbihlKXtmb3IodmFyIHQ9W107ZTspe2lmKDM9PT1lLm5vZGVUeXBlJiZlLm5vZGVWYWx1ZSE9PXB2fHwxPGUuY2hpbGROb2Rlcy5sZW5ndGgpcmV0dXJuW107MT09PWUubm9kZVR5cGUmJnQucHVzaChlKSxlPWUuZmlyc3RDaGlsZH1yZXR1cm4gdH0oZSkubGVuZ3RofSx2dj1mdW5jdGlvbihlKXt2YXIgdDtpZihlKWZvcihlPSh0PW5ldyBhbyhlLGUpKS5jdXJyZW50KCk7ZTtlPXQubmV4dCgpKWlmKDM9PT1lLm5vZGVUeXBlKXJldHVybiBlO3JldHVybiBudWxsfSx5dj1mdW5jdGlvbihlKXt2YXIgdD1Wbi5mcm9tVGFnKCJzcGFuIik7cmV0dXJuIGxyLnNldEFsbCh0LHtpZDpndiwiZGF0YS1tY2UtYm9ndXMiOiIxIiwiZGF0YS1tY2UtdHlwZSI6ImZvcm1hdC1jYXJldCJ9KSxlJiZIdS5hcHBlbmQodCxWbi5mcm9tVGV4dChwdikpLHR9LGJ2PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1O289dC5nZXRSbmcoITApLGk9ZS5nZXRQYXJlbnQobixlLmlzQmxvY2spLGh2KG4pPyghMSE9PXImJihvLnNldFN0YXJ0QmVmb3JlKG4pLG8uc2V0RW5kQmVmb3JlKG4pKSxlLnJlbW92ZShuKSk6KCh1PXZ2KG4pKSYmdS5ub2RlVmFsdWUuY2hhckF0KDApPT09cHYmJnUuZGVsZXRlRGF0YSgwLDEpLGE9dSxvLnN0YXJ0Q29udGFpbmVyPT09YSYmMDxvLnN0YXJ0T2Zmc2V0JiZvLnNldFN0YXJ0KGEsby5zdGFydE9mZnNldC0xKSxvLmVuZENvbnRhaW5lcj09PWEmJjA8by5lbmRPZmZzZXQmJm8uc2V0RW5kKGEsby5lbmRPZmZzZXQtMSksZS5yZW1vdmUobiwhMCkpLGkmJmUuaXNFbXB0eShpKSYmS2MoVm4uZnJvbURvbShpKSksdC5zZXRSbmcobyl9LEN2PWZ1bmN0aW9uKGUsdCxuLHIsbyl7aWYocilidih0LG4scixvKTtlbHNlIGlmKCEocj1UYyhlLG4uZ2V0U3RhcnQoKSkpKWZvcig7cj10LmdldChndik7KWJ2KHQsbixyLCExKX0seHY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZG9tLG89ci5nZXRQYXJlbnQobixkYS5jdXJyeShXaC5pc1RleHRCbG9jayxlKSk7byYmci5pc0VtcHR5KG8pP24ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodCxuKTooV2MoVm4uZnJvbURvbShuKSksci5pc0VtcHR5KG4pP24ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodCxuKTpyLmluc2VydEFmdGVyKHQsbikpfSx3dj1mdW5jdGlvbihlLHQpe3JldHVybiBlLmFwcGVuZENoaWxkKHQpLHR9LE52PWZ1bmN0aW9uKGUsdCl7dmFyIG49SC5mb2xkcihlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHd2KGUsdC5jbG9uZU5vZGUoITEpKX0sdCk7cmV0dXJuIHd2KG4sbi5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHB2KSl9LEV2PWZ1bmN0aW9uKGUpe3ZhciBpPWUuZG9tLGE9ZS5zZWxlY3Rpb24sdT1lLmdldEJvZHkoKTtlLm9uKCJtb3VzZXVwIGtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvO3Q9dSxuPWkscj1hLG89ZS5rZXlDb2RlLEN2KHQsbixyLG51bGwsITEpLDg9PT1vJiZyLmlzQ29sbGFwc2VkKCkmJnIuZ2V0U3RhcnQoKS5pbm5lckhUTUw9PT1wdiYmQ3YodCxuLHIsVGModCxyLmdldFN0YXJ0KCkpKSwzNyE9PW8mJjM5IT09b3x8Q3YodCxuLHIsVGModCxyLmdldFN0YXJ0KCkpKX0pfSxTdj1mdW5jdGlvbihlLHQpe3JldHVybiBlLnNjaGVtYS5nZXRUZXh0SW5saW5lRWxlbWVudHMoKS5oYXNPd25Qcm9wZXJ0eShabi5uYW1lKHQpKSYmIWtjKHQuZG9tKCkpJiYhT28uaXNCb2d1cyh0LmRvbSgpKX0sa3Y9e30sVHY9QnQuZmlsdGVyLEF2PUJ0LmVhY2g7Vmg9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWUuc2VsZWN0aW9uLmdldFJuZygpO3Q9T28ubWF0Y2hOb2RlTmFtZXMoInByZSIpLHIuY29sbGFwc2VkfHwobj1lLnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpLEF2KFR2KFR2KG4sdCksZnVuY3Rpb24oZSl7cmV0dXJuIHQoZS5wcmV2aW91c1NpYmxpbmcpJiYtMSE9PUJ0LmluZGV4T2YobixlLnByZXZpb3VzU2libGluZyl9KSxmdW5jdGlvbihlKXt2YXIgdCxuO3Q9ZS5wcmV2aW91c1NpYmxpbmcsdG4obj1lKS5yZW1vdmUoKSx0bih0KS5hcHBlbmQoIjxicj48YnI+IikuYXBwZW5kKG4uY2hpbGROb2Rlcyl9KSl9LGt2W3FoPSJwcmUiXXx8KGt2W3FoXT1bXSksa3ZbcWhdLnB1c2goVmgpO3ZhciBSdj1mdW5jdGlvbihlLHQpe0F2KGt2W2VdLGZ1bmN0aW9uKGUpe2UodCl9KX0sX3Y9SXQuZWFjaCxCdj1mdW5jdGlvbihlLHQsbyl7dmFyIG4scixpLGEsdSxzLGMsbD10LnN0YXJ0Q29udGFpbmVyLGY9dC5zdGFydE9mZnNldCxkPXQuZW5kQ29udGFpbmVyLG09dC5lbmRPZmZzZXQ7aWYoMDwoYz1lLnNlbGVjdCgidGRbZGF0YS1tY2Utc2VsZWN0ZWRdLHRoW2RhdGEtbWNlLXNlbGVjdGVkXSIpKS5sZW5ndGgpX3YoYyxmdW5jdGlvbihlKXtvKFtlXSl9KTtlbHNle3ZhciBwLGcsaCx2PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAzPT09KHQ9ZVswXSkubm9kZVR5cGUmJnQ9PT1sJiZmPj10Lm5vZGVWYWx1ZS5sZW5ndGgmJmUuc3BsaWNlKDAsMSksdD1lW2UubGVuZ3RoLTFdLDA9PT1tJiYwPGUubGVuZ3RoJiZ0PT09ZCYmMz09PXQubm9kZVR5cGUmJmUuc3BsaWNlKGUubGVuZ3RoLTEsMSksZX0seT1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPVtdO2UmJmUhPT1uO2U9ZVt0XSlyLnB1c2goZSk7cmV0dXJuIHJ9LGI9ZnVuY3Rpb24oZSx0KXtkb3tpZihlLnBhcmVudE5vZGU9PT10KXJldHVybiBlO2U9ZS5wYXJlbnROb2RlfXdoaWxlKGUpfSxDPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uPyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyI7Zm9yKHU9KGE9ZSkucGFyZW50Tm9kZTthJiZhIT09dDthPXUpdT1hLnBhcmVudE5vZGUsKHM9eShhPT09ZT9hOmFbcl0scikpLmxlbmd0aCYmKG58fHMucmV2ZXJzZSgpLG8odihzKSkpfTtpZigxPT09bC5ub2RlVHlwZSYmbC5oYXNDaGlsZE5vZGVzKCkmJihsPWwuY2hpbGROb2Rlc1tmXSksMT09PWQubm9kZVR5cGUmJmQuaGFzQ2hpbGROb2RlcygpJiYoZz1tLGg9KHA9ZCkuY2hpbGROb2RlcywtLWc+aC5sZW5ndGgtMT9nPWgubGVuZ3RoLTE6ZzwwJiYoZz0wKSxkPWhbZ118fHApLGw9PT1kKXJldHVybiBvKHYoW2xdKSk7Zm9yKG49ZS5maW5kQ29tbW9uQW5jZXN0b3IobCxkKSxhPWw7YTthPWEucGFyZW50Tm9kZSl7aWYoYT09PWQpcmV0dXJuIEMobCxuLCEwKTtpZihhPT09bilicmVha31mb3IoYT1kO2E7YT1hLnBhcmVudE5vZGUpe2lmKGE9PT1sKXJldHVybiBDKGQsbik7aWYoYT09PW4pYnJlYWt9cj1iKGwsbil8fGwsaT1iKGQsbil8fGQsQyhsLHIsITApLChzPXkocj09PWw/cjpyLm5leHRTaWJsaW5nLCJuZXh0U2libGluZyIsaT09PWQ/aS5uZXh0U2libGluZzppKSkubGVuZ3RoJiZvKHYocykpLEMoZCxpKX19LER2PS9eKHNyY3xocmVmfHN0eWxlKSQvLE92PUl0LmVhY2gsUHY9V2guaXNFcSxMdj1mdW5jdGlvbihlKXtyZXR1cm4vXihUSHxURCkkLy50ZXN0KGUubm9kZU5hbWUpfSxJdj1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpO3JldHVybiByPXRbbj8ic3RhcnRDb250YWluZXIiOiJlbmRDb250YWluZXIiXSxvPXRbbj8ic3RhcnRPZmZzZXQiOiJlbmRPZmZzZXQiXSxPby5pc0VsZW1lbnQocikmJihpPXIuY2hpbGROb2Rlcy5sZW5ndGgtMSwhbiYmbyYmby0tLHI9ci5jaGlsZE5vZGVzW2k8bz9pOm9dKSxPby5pc1RleHQocikmJm4mJm8+PXIubm9kZVZhbHVlLmxlbmd0aCYmKHI9bmV3IGFvKHIsZS5nZXRCb2R5KCkpLm5leHQoKXx8ciksT28uaXNUZXh0KHIpJiYhbiYmMD09PW8mJihyPW5ldyBhbyhyLGUuZ2V0Qm9keSgpKS5wcmV2KCl8fHIpLHJ9LE12PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPWUuY3JlYXRlKG4scik7cmV0dXJuIHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobyx0KSxvLmFwcGVuZENoaWxkKHQpLG99LEZ2PWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiEodD1XaC5nZXROb25XaGl0ZVNwYWNlU2libGluZyh0LG4scikpfHwiQlIiPT09dC5ub2RlTmFtZXx8ZS5pc0Jsb2NrKHQpfSx6dj1mdW5jdGlvbihlLG4scixvLGkpe3ZhciB0LGEsdSxzLGMsbCxmLGQsbSxwLGcsaCx2LHksYj1lLmRvbTtpZihjPWIsIShQdihsPW8sKGY9bikuaW5saW5lKXx8UHYobCxmLmJsb2NrKXx8KGYuc2VsZWN0b3I/T28uaXNFbGVtZW50KGwpJiZjLmlzKGwsZi5zZWxlY3Rvcik6dm9pZCAwKXx8KHM9byxuLmxpbmtzJiYiQSI9PT1zLnRhZ05hbWUpKSlyZXR1cm4hMTtpZigiYWxsIiE9PW4ucmVtb3ZlKWZvcihPdihuLnN0eWxlcyxmdW5jdGlvbihlLHQpe2U9V2gubm9ybWFsaXplU3R5bGVWYWx1ZShiLFdoLnJlcGxhY2VWYXJzKGUsciksdCksIm51bWJlciI9PXR5cGVvZiB0JiYodD1lLGk9MCksKG4ucmVtb3ZlX3NpbWlsYXJ8fCFpfHxQdihXaC5nZXRTdHlsZShiLGksdCksZSkpJiZiLnNldFN0eWxlKG8sdCwiIiksdT0xfSksdSYmIiI9PT1iLmdldEF0dHJpYihvLCJzdHlsZSIpJiYoby5yZW1vdmVBdHRyaWJ1dGUoInN0eWxlIiksby5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXN0eWxlIikpLE92KG4uYXR0cmlidXRlcyxmdW5jdGlvbihlLHQpe3ZhciBuO2lmKGU9V2gucmVwbGFjZVZhcnMoZSxyKSwibnVtYmVyIj09dHlwZW9mIHQmJih0PWUsaT0wKSwhaXx8UHYoYi5nZXRBdHRyaWIoaSx0KSxlKSl7aWYoImNsYXNzIj09PXQmJihlPWIuZ2V0QXR0cmliKG8sdCkpJiYobj0iIixPdihlLnNwbGl0KC9ccysvKSxmdW5jdGlvbihlKXsvbWNlXC1cdysvLnRlc3QoZSkmJihuKz0obj8iICI6IiIpK2UpfSksbikpcmV0dXJuIHZvaWQgYi5zZXRBdHRyaWIobyx0LG4pOyJjbGFzcyI9PT10JiZvLnJlbW92ZUF0dHJpYnV0ZSgiY2xhc3NOYW1lIiksRHYudGVzdCh0KSYmby5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLSIrdCksby5yZW1vdmVBdHRyaWJ1dGUodCl9fSksT3Yobi5jbGFzc2VzLGZ1bmN0aW9uKGUpe2U9V2gucmVwbGFjZVZhcnMoZSxyKSxpJiYhYi5oYXNDbGFzcyhpLGUpfHxiLnJlbW92ZUNsYXNzKG8sZSl9KSxhPWIuZ2V0QXR0cmlicyhvKSx0PTA7dDxhLmxlbmd0aDt0Kyspe3ZhciBDPWFbdF0ubm9kZU5hbWU7aWYoMCE9PUMuaW5kZXhPZigiXyIpJiYwIT09Qy5pbmRleE9mKCJkYXRhLSIpKXJldHVybiExfXJldHVybiJub25lIiE9PW4ucmVtb3ZlPyhkPWUscD1uLGg9KG09bykucGFyZW50Tm9kZSx2PWQuZG9tLHk9ZC5zZXR0aW5ncy5mb3JjZWRfcm9vdF9ibG9jayxwLmJsb2NrJiYoeT9oPT09di5nZXRSb290KCkmJihwLmxpc3RfYmxvY2smJlB2KG0scC5saXN0X2Jsb2NrKXx8T3YoSXQuZ3JlcChtLmNoaWxkTm9kZXMpLGZ1bmN0aW9uKGUpe1doLmlzVmFsaWQoZCx5LGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk/Zz9nLmFwcGVuZENoaWxkKGUpOihnPU12KHYsZSx5KSx2LnNldEF0dHJpYnMoZyxkLnNldHRpbmdzLmZvcmNlZF9yb290X2Jsb2NrX2F0dHJzKSk6Zz0wfSkpOnYuaXNCbG9jayhtKSYmIXYuaXNCbG9jayhoKSYmKEZ2KHYsbSwhMSl8fEZ2KHYsbS5maXJzdENoaWxkLCEwLDEpfHxtLmluc2VydEJlZm9yZSh2LmNyZWF0ZSgiYnIiKSxtLmZpcnN0Q2hpbGQpLEZ2KHYsbSwhMCl8fEZ2KHYsbS5sYXN0Q2hpbGQsITEsMSl8fG0uYXBwZW5kQ2hpbGQodi5jcmVhdGUoImJyIikpKSkscC5zZWxlY3RvciYmcC5pbmxpbmUmJiFQdihwLmlubGluZSxtKXx8di5yZW1vdmUobSwxKSwhMCk6dm9pZCAwfSxVdj16dixxdj1mdW5jdGlvbihzLGMsbCxlLGYpe3ZhciB0LG4sZD1zLmZvcm1hdHRlci5nZXQoYyksbT1kWzBdLGE9ITAsdT1zLmRvbSxyPXMuc2VsZWN0aW9uLG89ZnVuY3Rpb24oZSl7dmFyIG4sdCxyLG8saSxhLHU9KG49cyx0PWUscj1jLG89bCxpPWYsT3YoV2guZ2V0UGFyZW50cyhuLmRvbSx0LnBhcmVudE5vZGUpLnJldmVyc2UoKSxmdW5jdGlvbihlKXt2YXIgdDthfHwiX3N0YXJ0Ij09PWUuaWR8fCJfZW5kIj09PWUuaWR8fCh0PWZ2Lm1hdGNoTm9kZShuLGUscixvLGkpKSYmITEhPT10LnNwbGl0JiYoYT1lKX0pLGEpO3JldHVybiBmdW5jdGlvbihlLHQsbixyLG8saSxhLHUpe3ZhciBzLGMsbCxmLGQsbSxwPWUuZG9tO2lmKG4pe2ZvcihtPW4ucGFyZW50Tm9kZSxzPXIucGFyZW50Tm9kZTtzJiZzIT09bTtzPXMucGFyZW50Tm9kZSl7Zm9yKGM9cC5jbG9uZShzLCExKSxkPTA7ZDx0Lmxlbmd0aDtkKyspaWYoenYoZSx0W2RdLHUsYyxjKSl7Yz0wO2JyZWFrfWMmJihsJiZjLmFwcGVuZENoaWxkKGwpLGZ8fChmPWMpLGw9Yyl9IWl8fGEubWl4ZWQmJnAuaXNCbG9jayhuKXx8KHI9cC5zcGxpdChuLHIpKSxsJiYoby5wYXJlbnROb2RlLmluc2VydEJlZm9yZShsLG8pLGYuYXBwZW5kQ2hpbGQobykpfXJldHVybiByfShzLGQsdSxlLGUsITAsbSxsKX0scD1mdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpO2lmKE9vLmlzRWxlbWVudChlKSYmdS5nZXRDb250ZW50RWRpdGFibGUoZSkmJihvPWEsYT0idHJ1ZSI9PT11LmdldENvbnRlbnRFZGl0YWJsZShlKSxpPSEwKSx0PUl0LmdyZXAoZS5jaGlsZE5vZGVzKSxhJiYhaSlmb3Iobj0wLHI9ZC5sZW5ndGg7bjxyJiYhenYocyxkW25dLGwsZSxlKTtuKyspO2lmKG0uZGVlcCYmdC5sZW5ndGgpe2ZvcihuPTAscj10Lmxlbmd0aDtuPHI7bisrKXAodFtuXSk7aSYmKGE9byl9fSxpPWZ1bmN0aW9uKGUpe3ZhciB0PXUuZ2V0KGU/Il9zdGFydCI6Il9lbmQiKSxuPXRbZT8iZmlyc3RDaGlsZCI6Imxhc3RDaGlsZCJdO3JldHVybiBNYyhuKSYmKG49bltlPyJmaXJzdENoaWxkIjoibGFzdENoaWxkIl0pLE9vLmlzVGV4dChuKSYmMD09PW4uZGF0YS5sZW5ndGgmJihuPWU/dC5wcmV2aW91c1NpYmxpbmd8fHQubmV4dFNpYmxpbmc6dC5uZXh0U2libGluZ3x8dC5wcmV2aW91c1NpYmxpbmcpLHUucmVtb3ZlKHQsITApLG59LGc9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWUuY29tbW9uQW5jZXN0b3JDb250YWluZXI7aWYoZT1vdihzLGUsZCwhMCksbS5zcGxpdCl7aWYoKHQ9SXYocyxlLCEwKSkhPT0obj1JdihzLGUpKSl7aWYoL14oVFJ8VEh8VEQpJC8udGVzdCh0Lm5vZGVOYW1lKSYmdC5maXJzdENoaWxkJiYodD0iVFIiPT09dC5ub2RlTmFtZT90LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZHx8dDp0LmZpcnN0Q2hpbGR8fHQpLHImJi9eVChIRUFEfEJPRFl8Rk9PVHxSKSQvLnRlc3Qoci5ub2RlTmFtZSkmJkx2KG4pJiZuLmZpcnN0Q2hpbGQmJihuPW4uZmlyc3RDaGlsZHx8biksdS5pc0NoaWxkT2YodCxuKSYmdCE9PW4mJiF1LmlzQmxvY2sobikmJiFMdih0KSYmIUx2KG4pKXJldHVybiB0PU12KHUsdCwic3BhbiIse2lkOiJfc3RhcnQiLCJkYXRhLW1jZS10eXBlIjoiYm9va21hcmsifSksbyh0KSx2b2lkKHQ9aSghMCkpO3Q9TXYodSx0LCJzcGFuIix7aWQ6Il9zdGFydCIsImRhdGEtbWNlLXR5cGUiOiJib29rbWFyayJ9KSxuPU12KHUsbiwic3BhbiIse2lkOiJfZW5kIiwiZGF0YS1tY2UtdHlwZSI6ImJvb2ttYXJrIn0pLG8odCksbyhuKSx0PWkoITApLG49aSgpfWVsc2UgdD1uPW8odCk7ZS5zdGFydENvbnRhaW5lcj10LnBhcmVudE5vZGU/dC5wYXJlbnROb2RlOnQsZS5zdGFydE9mZnNldD11Lm5vZGVJbmRleCh0KSxlLmVuZENvbnRhaW5lcj1uLnBhcmVudE5vZGU/bi5wYXJlbnROb2RlOm4sZS5lbmRPZmZzZXQ9dS5ub2RlSW5kZXgobikrMX1Cdih1LGUsZnVuY3Rpb24oZSl7T3YoZSxmdW5jdGlvbihlKXtwKGUpLE9vLmlzRWxlbWVudChlKSYmInVuZGVybGluZSI9PT1zLmRvbS5nZXRTdHlsZShlLCJ0ZXh0LWRlY29yYXRpb24iKSYmZS5wYXJlbnROb2RlJiYidW5kZXJsaW5lIj09PVdoLmdldFRleHREZWNvcmF0aW9uKHUsZS5wYXJlbnROb2RlKSYmenYocyx7ZGVlcDohMSxleGFjdDohMCxpbmxpbmU6InNwYW4iLHN0eWxlczp7dGV4dERlY29yYXRpb246InVuZGVybGluZSJ9fSxudWxsLGUpfSl9KX07aWYoZSllLm5vZGVUeXBlPygobj11LmNyZWF0ZVJuZygpKS5zZXRTdGFydEJlZm9yZShlKSxuLnNldEVuZEFmdGVyKGUpLGcobikpOmcoZSk7ZWxzZSBpZigiZmFsc2UiIT09dS5nZXRDb250ZW50RWRpdGFibGUoci5nZXROb2RlKCkpKXIuaXNDb2xsYXBzZWQoKSYmbS5pbmxpbmUmJiF1LnNlbGVjdCgidGRbZGF0YS1tY2Utc2VsZWN0ZWRdLHRoW2RhdGEtbWNlLXNlbGVjdGVkXSIpLmxlbmd0aD9mdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpLGEsdSxzLGMsbCxmPWUuZG9tLGQ9ZS5zZWxlY3Rpb24sbT1bXSxwPWQuZ2V0Um5nKCk7Zm9yKG89cC5zdGFydENvbnRhaW5lcixpPXAuc3RhcnRPZmZzZXQsMz09PShzPW8pLm5vZGVUeXBlJiYoaSE9PW8ubm9kZVZhbHVlLmxlbmd0aCYmKHU9ITApLHM9cy5wYXJlbnROb2RlKTtzOyl7aWYoZnYubWF0Y2hOb2RlKGUscyx0LG4scikpe2M9czticmVha31zLm5leHRTaWJsaW5nJiYodT0hMCksbS5wdXNoKHMpLHM9cy5wYXJlbnROb2RlfWlmKGMpaWYodSl7YT1kLmdldEJvb2ttYXJrKCkscC5jb2xsYXBzZSghMCk7dmFyIGc9b3YoZSxwLGUuZm9ybWF0dGVyLmdldCh0KSwhMCk7Zz1tdihnKSxlLmZvcm1hdHRlci5yZW1vdmUodCxuLGcpLGQubW92ZVRvQm9va21hcmsoYSl9ZWxzZXtsPVRjKGUuZ2V0Qm9keSgpLGMpO3ZhciBoPXl2KCExKS5kb20oKSx2PU52KG0saCk7eHYoZSxoLGx8fGMpLGJ2KGYsZCxsLCExKSxkLnNldEN1cnNvckxvY2F0aW9uKHYsMSksZi5pc0VtcHR5KGMpJiZmLnJlbW92ZShjKX19KHMsYyxsLGYpOih0PUVjLmdldFBlcnNpc3RlbnRCb29rbWFyayhzLnNlbGVjdGlvbiwhMCksZyhyLmdldFJuZygpKSxyLm1vdmVUb0Jvb2ttYXJrKHQpLG0uaW5saW5lJiZmdi5tYXRjaChzLGMsbCxyLmdldFN0YXJ0KCkpJiZXaC5tb3ZlU3RhcnQodSxyLHIuZ2V0Um5nKCkpLHMubm9kZUNoYW5nZWQoKSk7ZWxzZXtlPXIuZ2V0Tm9kZSgpO2Zvcih2YXIgaD0wLHY9ZC5sZW5ndGg7aDx2JiYoIWRbaF0uY2VGYWxzZU92ZXJyaWRlfHwhenYocyxkW2hdLGwsZSxlKSk7aCsrKTt9fSxWdj1JdC5lYWNoLEh2PWZ1bmN0aW9uKGUpe3JldHVybiBlJiYxPT09ZS5ub2RlVHlwZSYmIU1jKGUpJiYha2MoZSkmJiFPby5pc0JvZ3VzKGUpfSxqdj1mdW5jdGlvbihlLHQpe3ZhciBuO2ZvcihuPWU7bjtuPW5bdF0pe2lmKDM9PT1uLm5vZGVUeXBlJiYwIT09bi5ub2RlVmFsdWUubGVuZ3RoKXJldHVybiBlO2lmKDE9PT1uLm5vZGVUeXBlJiYhTWMobikpcmV0dXJuIG59cmV0dXJuIGV9LCR2PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGk9bmV3IHpjKGUpO2lmKHQmJm4mJih0PWp2KHQsInByZXZpb3VzU2libGluZyIpLG49anYobiwibmV4dFNpYmxpbmciKSxpLmNvbXBhcmUodCxuKSkpe2ZvcihyPXQubmV4dFNpYmxpbmc7ciYmciE9PW47KXI9KG89cikubmV4dFNpYmxpbmcsdC5hcHBlbmRDaGlsZChvKTtyZXR1cm4gZS5yZW1vdmUobiksSXQuZWFjaChJdC5ncmVwKG4uY2hpbGROb2RlcyksZnVuY3Rpb24oZSl7dC5hcHBlbmRDaGlsZChlKX0pLHR9cmV0dXJuIG59LFd2PWZ1bmN0aW9uKGUsdCxuKXtWdihlLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7SHYoZSkmJih0KGUpJiZuKGUpLGUuaGFzQ2hpbGROb2RlcygpJiZXdihlLHQsbikpfSl9LEt2PWZ1bmN0aW9uKG4sZSl7cmV0dXJuIFYuY3VycnkoZnVuY3Rpb24oZSx0KXtyZXR1cm4hKCF0fHwhV2guZ2V0U3R5bGUobix0LGUpKX0sZSl9LFh2PWZ1bmN0aW9uKHIsZSx0KXtyZXR1cm4gVi5jdXJyeShmdW5jdGlvbihlLHQsbil7ci5zZXRTdHlsZShuLGUsdCksIiI9PT1uLmdldEF0dHJpYnV0ZSgic3R5bGUiKSYmbi5yZW1vdmVBdHRyaWJ1dGUoInN0eWxlIiksWXYocixuKX0sZSx0KX0sWXY9ZnVuY3Rpb24oZSx0KXsiU1BBTiI9PT10Lm5vZGVOYW1lJiYwPT09ZS5nZXRBdHRyaWJzKHQpLmxlbmd0aCYmZS5yZW1vdmUodCwhMCl9LEd2PWZ1bmN0aW9uKGUsdCl7dmFyIG47MT09PXQubm9kZVR5cGUmJnQucGFyZW50Tm9kZSYmMT09PXQucGFyZW50Tm9kZS5ub2RlVHlwZSYmKG49V2guZ2V0VGV4dERlY29yYXRpb24oZSx0LnBhcmVudE5vZGUpLGUuZ2V0U3R5bGUodCwiY29sb3IiKSYmbj9lLnNldFN0eWxlKHQsInRleHQtZGVjb3JhdGlvbiIsbik6ZS5nZXRTdHlsZSh0LCJ0ZXh0LWRlY29yYXRpb24iKT09PW4mJmUuc2V0U3R5bGUodCwidGV4dC1kZWNvcmF0aW9uIixudWxsKSl9LEp2PWZ1bmN0aW9uKG4sZSxyLG8pe1Z2KGUsZnVuY3Rpb24odCl7VnYobi5kb20uc2VsZWN0KHQuaW5saW5lLG8pLGZ1bmN0aW9uKGUpe0h2KGUpJiZVdihuLHQscixlLHQuZXhhY3Q/ZTpudWxsKX0pLGZ1bmN0aW9uKHIsZSx0KXtpZihlLmNsZWFyX2NoaWxkX3N0eWxlcyl7dmFyIG49ZS5saW5rcz8iKjpub3QoYSkiOiIqIjtWdihyLnNlbGVjdChuLHQpLGZ1bmN0aW9uKG4pe0h2KG4pJiZWdihlLnN0eWxlcyxmdW5jdGlvbihlLHQpe3Iuc2V0U3R5bGUobix0LCIiKX0pfSl9fShuLmRvbSx0LG8pfSl9LFF2PWZ1bmN0aW9uKGUsdCxuLHIpeyh0LnN0eWxlcy5jb2xvcnx8dC5zdHlsZXMudGV4dERlY29yYXRpb24pJiYoSXQud2FsayhyLFYuY3VycnkoR3YsZSksImNoaWxkTm9kZXMiKSxHdihlLHIpKX0sWnY9ZnVuY3Rpb24oZSx0LG4scil7dC5zdHlsZXMmJnQuc3R5bGVzLmJhY2tncm91bmRDb2xvciYmV3YocixLdihlLCJmb250U2l6ZSIpLFh2KGUsImJhY2tncm91bmRDb2xvciIsV2gucmVwbGFjZVZhcnModC5zdHlsZXMuYmFja2dyb3VuZENvbG9yLG4pKSl9LGV5PWZ1bmN0aW9uKGUsdCxuLHIpeyJzdWIiIT09dC5pbmxpbmUmJiJzdXAiIT09dC5pbmxpbmV8fChXdihyLEt2KGUsImZvbnRTaXplIiksWHYoZSwiZm9udFNpemUiLCIiKSksZS5yZW1vdmUoZS5zZWxlY3QoInN1cCI9PT10LmlubGluZT8ic3ViIjoic3VwIixyKSwhMCkpfSx0eT1mdW5jdGlvbihlLHQsbixyKXtyJiYhMSE9PXQubWVyZ2Vfc2libGluZ3MmJihyPSR2KGUsV2guZ2V0Tm9uV2hpdGVTcGFjZVNpYmxpbmcocikscikscj0kdihlLHIsV2guZ2V0Tm9uV2hpdGVTcGFjZVNpYmxpbmcociwhMCkpKX0sbnk9ZnVuY3Rpb24odCxuLHIsbyxpKXtmdi5tYXRjaE5vZGUodCxpLnBhcmVudE5vZGUscixvKSYmVXYodCxuLG8saSl8fG4ubWVyZ2Vfd2l0aF9wYXJlbnRzJiZ0LmRvbS5nZXRQYXJlbnQoaS5wYXJlbnROb2RlLGZ1bmN0aW9uKGUpe2lmKGZ2Lm1hdGNoTm9kZSh0LGUscixvKSlyZXR1cm4gVXYodCxuLG8saSksITB9KX0scnk9SXQuZWFjaCxveT1mdW5jdGlvbihwLGcsaCxyKXt2YXIgZSx0LHY9cC5mb3JtYXR0ZXIuZ2V0KGcpLHk9dlswXSxvPSFyJiZwLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpLGk9cC5kb20sbj1wLnNlbGVjdGlvbixiPWZ1bmN0aW9uKG4sZSl7aWYoZT1lfHx5LG4pe2lmKGUub25mb3JtYXQmJmUub25mb3JtYXQobixlLGgscikscnkoZS5zdHlsZXMsZnVuY3Rpb24oZSx0KXtpLnNldFN0eWxlKG4sdCxXaC5yZXBsYWNlVmFycyhlLGgpKX0pLGUuc3R5bGVzKXt2YXIgdD1pLmdldEF0dHJpYihuLCJzdHlsZSIpO3QmJm4uc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1zdHlsZSIsdCl9cnkoZS5hdHRyaWJ1dGVzLGZ1bmN0aW9uKGUsdCl7aS5zZXRBdHRyaWIobix0LFdoLnJlcGxhY2VWYXJzKGUsaCkpfSkscnkoZS5jbGFzc2VzLGZ1bmN0aW9uKGUpe2U9V2gucmVwbGFjZVZhcnMoZSxoKSxpLmhhc0NsYXNzKG4sZSl8fGkuYWRkQ2xhc3MobixlKX0pfX0sQz1mdW5jdGlvbihlLHQpe3ZhciBuPSExO3JldHVybiEheS5zZWxlY3RvciYmKHJ5KGUsZnVuY3Rpb24oZSl7aWYoISgiY29sbGFwc2VkImluIGUmJmUuY29sbGFwc2VkIT09bykpcmV0dXJuIGkuaXModCxlLnNlbGVjdG9yKSYmIWtjKHQpPyhiKHQsZSksIShuPSEwKSk6dm9pZCAwfSksbil9LGE9ZnVuY3Rpb24ocyxlLHQsYyl7dmFyIGwsZixkPVtdLG09ITA7bD15LmlubGluZXx8eS5ibG9jayxmPXMuY3JlYXRlKGwpLGIoZiksQnYocyxlLGZ1bmN0aW9uKGUpe3ZhciBhLHU9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG87aWYobz1tLHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG49ZS5wYXJlbnROb2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksMT09PWUubm9kZVR5cGUmJnMuZ2V0Q29udGVudEVkaXRhYmxlKGUpJiYobz1tLG09InRydWUiPT09cy5nZXRDb250ZW50RWRpdGFibGUoZSkscj0hMCksV2guaXNFcSh0LCJiciIpKXJldHVybiBhPTAsdm9pZCh5LmJsb2NrJiZzLnJlbW92ZShlKSk7aWYoeS53cmFwcGVyJiZmdi5tYXRjaE5vZGUocCxlLGcsaCkpYT0wO2Vsc2V7aWYobSYmIXImJnkuYmxvY2smJiF5LndyYXBwZXImJldoLmlzVGV4dEJsb2NrKHAsdCkmJldoLmlzVmFsaWQocCxuLGwpKXJldHVybiBlPXMucmVuYW1lKGUsbCksYihlKSxkLnB1c2goZSksdm9pZChhPTApO2lmKHkuc2VsZWN0b3Ipe3ZhciBpPUModixlKTtpZigheS5pbmxpbmV8fGkpcmV0dXJuIHZvaWQoYT0wKX0hbXx8cnx8IVdoLmlzVmFsaWQocCxsLHQpfHwhV2guaXNWYWxpZChwLG4sbCl8fCFjJiYzPT09ZS5ub2RlVHlwZSYmMT09PWUubm9kZVZhbHVlLmxlbmd0aCYmNjUyNzk9PT1lLm5vZGVWYWx1ZS5jaGFyQ29kZUF0KDApfHxrYyhlKXx8eS5pbmxpbmUmJnMuaXNCbG9jayhlKT8oYT0wLHJ5KEl0LmdyZXAoZS5jaGlsZE5vZGVzKSx1KSxyJiYobT1vKSxhPTApOihhfHwoYT1zLmNsb25lKGYsITEpLGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSxlKSxkLnB1c2goYSkpLGEuYXBwZW5kQ2hpbGQoZSkpfX07cnkoZSx1KX0pLCEwPT09eS5saW5rcyYmcnkoZCxmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXsiQSI9PT1lLm5vZGVOYW1lJiZiKGUseSkscnkoSXQuZ3JlcChlLmNoaWxkTm9kZXMpLHQpfTt0KGUpfSkscnkoZCxmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpLGE9ZnVuY3Rpb24oZSl7dmFyIG49ITE7cmV0dXJuIHJ5KGUuY2hpbGROb2RlcyxmdW5jdGlvbihlKXtpZigodD1lKSYmMT09PXQubm9kZVR5cGUmJiFNYyh0KSYmIWtjKHQpJiYhT28uaXNCb2d1cyh0KSlyZXR1cm4gbj1lLCExO3ZhciB0fSksbn07bj0wLHJ5KGUuY2hpbGROb2RlcyxmdW5jdGlvbihlKXtXaC5pc1doaXRlU3BhY2VOb2RlKGUpfHxNYyhlKXx8bisrfSksdD1uLCEoMTxkLmxlbmd0aCkmJnMuaXNCbG9jayhlKXx8MCE9PXQ/KHkuaW5saW5lfHx5LndyYXBwZXIpJiYoeS5leGFjdHx8MSE9PXR8fCgobz1hKHI9ZSkpJiYhTWMobykmJmZ2Lm1hdGNoTmFtZShzLG8seSkmJihpPXMuY2xvbmUobywhMSksYihpKSxzLnJlcGxhY2UoaSxyLCEwKSxzLnJlbW92ZShvLDEpKSxlPWl8fHIpLEp2KHAsdixoLGUpLG55KHAseSxnLGgsZSksWnYocyx5LGgsZSksZXkocyx5LGgsZSksdHkocyx5LGgsZSkpOnMucmVtb3ZlKGUsMSl9KX07aWYoImZhbHNlIiE9PWkuZ2V0Q29udGVudEVkaXRhYmxlKG4uZ2V0Tm9kZSgpKSl7aWYoeSl7aWYocilyLm5vZGVUeXBlP0ModixyKXx8KCh0PWkuY3JlYXRlUm5nKCkpLnNldFN0YXJ0QmVmb3JlKHIpLHQuc2V0RW5kQWZ0ZXIociksYShpLG92KHAsdCx2KSwwLCEwKSk6YShpLHIsMCwhMCk7ZWxzZSBpZihvJiZ5LmlubGluZSYmIWkuc2VsZWN0KCJ0ZFtkYXRhLW1jZS1zZWxlY3RlZF0sdGhbZGF0YS1tY2Utc2VsZWN0ZWRdIikubGVuZ3RoKSFmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdSxzLGM9ZS5zZWxlY3Rpb247YT0ocj1jLmdldFJuZyghMCkpLnN0YXJ0T2Zmc2V0LHM9ci5zdGFydENvbnRhaW5lci5ub2RlVmFsdWUsKG89VGMoZS5nZXRCb2R5KCksYy5nZXRTdGFydCgpKSkmJihpPXZ2KG8pKTt2YXIgbCxmLGQ9L1teXHNcdTAwYTBcdTAwYWRcdTIwMGJcdWZlZmZdLztzJiYwPGEmJmE8cy5sZW5ndGgmJmQudGVzdChzLmNoYXJBdChhKSkmJmQudGVzdChzLmNoYXJBdChhLTEpKT8odT1jLmdldEJvb2ttYXJrKCksci5jb2xsYXBzZSghMCkscj1vdihlLHIsZS5mb3JtYXR0ZXIuZ2V0KHQpKSxyPW12KHIpLGUuZm9ybWF0dGVyLmFwcGx5KHQsbixyKSxjLm1vdmVUb0Jvb2ttYXJrKHUpKToobyYmaS5ub2RlVmFsdWU9PT1wdnx8KGw9ZS5nZXREb2MoKSxmPXl2KCEwKS5kb20oKSxpPShvPWwuaW1wb3J0Tm9kZShmLCEwKSkuZmlyc3RDaGlsZCxyLmluc2VydE5vZGUobyksYT0xKSxlLmZvcm1hdHRlci5hcHBseSh0LG4sbyksYy5zZXRDdXJzb3JMb2NhdGlvbihpLGEpKX0ocCxnLGgpO2Vsc2V7dmFyIHU9cC5zZWxlY3Rpb24uZ2V0Tm9kZSgpO3Auc2V0dGluZ3MuZm9yY2VkX3Jvb3RfYmxvY2t8fCF2WzBdLmRlZmF1bHRCbG9ja3x8aS5nZXRQYXJlbnQodSxpLmlzQmxvY2spfHxveShwLHZbMF0uZGVmYXVsdEJsb2NrKSxwLnNlbGVjdGlvbi5zZXRSbmcoWmMocC5zZWxlY3Rpb24uZ2V0Um5nKCkpKSxlPUVjLmdldFBlcnNpc3RlbnRCb29rbWFyayhwLnNlbGVjdGlvbiwhMCksYShpLG92KHAsbi5nZXRSbmcoKSx2KSkseS5zdHlsZXMmJlF2KGkseSxoLHUpLG4ubW92ZVRvQm9va21hcmsoZSksV2gubW92ZVN0YXJ0KGksbixuLmdldFJuZygpKSxwLm5vZGVDaGFuZ2VkKCl9UnYoZyxwKX19ZWxzZXtyPW4uZ2V0Tm9kZSgpO2Zvcih2YXIgcz0wLGM9di5sZW5ndGg7czxjO3MrKylpZih2W3NdLmNlRmFsc2VPdmVycmlkZSYmaS5pcyhyLHZbc10uc2VsZWN0b3IpKXJldHVybiB2b2lkIGIocix2W3NdKX19LGl5PXthcHBseUZvcm1hdDpveX0sYXk9SXQuZWFjaCx1eT1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpLGEsdSxzLGMsbCxmLGQ7bnVsbD09PXQuZ2V0KCkmJihhPWUsdT17fSwoaT10KS5zZXQoe30pLGEub24oIk5vZGVDaGFuZ2UiLGZ1bmN0aW9uKG4pe3ZhciByPVdoLmdldFBhcmVudHMoYS5kb20sbi5lbGVtZW50KSxvPXt9O3I9SXQuZ3JlcChyLGZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZSYmIWUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpfSksYXkoaS5nZXQoKSxmdW5jdGlvbihlLG4pe2F5KHIsZnVuY3Rpb24odCl7cmV0dXJuIGEuZm9ybWF0dGVyLm1hdGNoTm9kZSh0LG4se30sZS5zaW1pbGFyKT8odVtuXXx8KGF5KGUsZnVuY3Rpb24oZSl7ZSghMCx7bm9kZTp0LGZvcm1hdDpuLHBhcmVudHM6cn0pfSksdVtuXT1lKSxvW25dPWUsITEpOiFmdi5tYXRjaGVzVW5Jbmhlcml0ZWRGb3JtYXRTZWxlY3RvcihhLHQsbikmJnZvaWQgMH0pfSksYXkodSxmdW5jdGlvbihlLHQpe29bdF18fChkZWxldGUgdVt0XSxheShlLGZ1bmN0aW9uKGUpe2UoITEse25vZGU6bi5lbGVtZW50LGZvcm1hdDp0LHBhcmVudHM6cn0pfSkpfSl9KSksYz1uLGw9cixmPW8sZD0ocz10KS5nZXQoKSxheShjLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7ZFtlXXx8KGRbZV09W10sZFtlXS5zaW1pbGFyPWYpLGRbZV0ucHVzaChsKX0pLHMuc2V0KGQpfSxzeT17Z2V0OmZ1bmN0aW9uKHIpe3ZhciB0PXt2YWxpZ250b3A6W3tzZWxlY3RvcjoidGQsdGgiLHN0eWxlczp7dmVydGljYWxBbGlnbjoidG9wIn19XSx2YWxpZ25taWRkbGU6W3tzZWxlY3RvcjoidGQsdGgiLHN0eWxlczp7dmVydGljYWxBbGlnbjoibWlkZGxlIn19XSx2YWxpZ25ib3R0b206W3tzZWxlY3RvcjoidGQsdGgiLHN0eWxlczp7dmVydGljYWxBbGlnbjoiYm90dG9tIn19XSxhbGlnbmxlZnQ6W3tzZWxlY3RvcjoiZmlndXJlLmltYWdlIixjb2xsYXBzZWQ6ITEsY2xhc3NlczoiYWxpZ24tbGVmdCIsY2VGYWxzZU92ZXJyaWRlOiEwLHByZXZpZXc6ImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSJ9LHtzZWxlY3RvcjoiZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpIixzdHlsZXM6e3RleHRBbGlnbjoibGVmdCJ9LGluaGVyaXQ6ITEscHJldmlldzohMSxkZWZhdWx0QmxvY2s6ImRpdiJ9LHtzZWxlY3RvcjoiaW1nLHRhYmxlIixjb2xsYXBzZWQ6ITEsc3R5bGVzOnsiZmxvYXQiOiJsZWZ0In0scHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn1dLGFsaWduY2VudGVyOlt7c2VsZWN0b3I6ImZpZ3VyZSxwLGgxLGgyLGgzLGg0LGg1LGg2LHRkLHRoLHRyLGRpdix1bCxvbCxsaSIsc3R5bGVzOnt0ZXh0QWxpZ246ImNlbnRlciJ9LGluaGVyaXQ6ITEscHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIixkZWZhdWx0QmxvY2s6ImRpdiJ9LHtzZWxlY3RvcjoiZmlndXJlLmltYWdlIixjb2xsYXBzZWQ6ITEsY2xhc3NlczoiYWxpZ24tY2VudGVyIixjZUZhbHNlT3ZlcnJpZGU6ITAscHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn0se3NlbGVjdG9yOiJpbWciLGNvbGxhcHNlZDohMSxzdHlsZXM6e2Rpc3BsYXk6ImJsb2NrIixtYXJnaW5MZWZ0OiJhdXRvIixtYXJnaW5SaWdodDoiYXV0byJ9LHByZXZpZXc6ITF9LHtzZWxlY3RvcjoidGFibGUiLGNvbGxhcHNlZDohMSxzdHlsZXM6e21hcmdpbkxlZnQ6ImF1dG8iLG1hcmdpblJpZ2h0OiJhdXRvIn0scHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn1dLGFsaWducmlnaHQ6W3tzZWxlY3RvcjoiZmlndXJlLmltYWdlIixjb2xsYXBzZWQ6ITEsY2xhc3NlczoiYWxpZ24tcmlnaHQiLGNlRmFsc2VPdmVycmlkZTohMCxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUifSx7c2VsZWN0b3I6ImZpZ3VyZSxwLGgxLGgyLGgzLGg0LGg1LGg2LHRkLHRoLHRyLGRpdix1bCxvbCxsaSIsc3R5bGVzOnt0ZXh0QWxpZ246InJpZ2h0In0saW5oZXJpdDohMSxwcmV2aWV3OiJmb250LWZhbWlseSBmb250LXNpemUiLGRlZmF1bHRCbG9jazoiZGl2In0se3NlbGVjdG9yOiJpbWcsdGFibGUiLGNvbGxhcHNlZDohMSxzdHlsZXM6eyJmbG9hdCI6InJpZ2h0In0scHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn1dLGFsaWduanVzdGlmeTpbe3NlbGVjdG9yOiJmaWd1cmUscCxoMSxoMixoMyxoNCxoNSxoNix0ZCx0aCx0cixkaXYsdWwsb2wsbGkiLHN0eWxlczp7dGV4dEFsaWduOiJqdXN0aWZ5In0saW5oZXJpdDohMSxkZWZhdWx0QmxvY2s6ImRpdiIscHJldmlldzoiZm9udC1mYW1pbHkgZm9udC1zaXplIn1dLGJvbGQ6W3tpbmxpbmU6InN0cm9uZyIscmVtb3ZlOiJhbGwifSx7aW5saW5lOiJzcGFuIixzdHlsZXM6e2ZvbnRXZWlnaHQ6ImJvbGQifX0se2lubGluZToiYiIscmVtb3ZlOiJhbGwifV0saXRhbGljOlt7aW5saW5lOiJlbSIscmVtb3ZlOiJhbGwifSx7aW5saW5lOiJzcGFuIixzdHlsZXM6e2ZvbnRTdHlsZToiaXRhbGljIn19LHtpbmxpbmU6ImkiLHJlbW92ZToiYWxsIn1dLHVuZGVybGluZTpbe2lubGluZToic3BhbiIsc3R5bGVzOnt0ZXh0RGVjb3JhdGlvbjoidW5kZXJsaW5lIn0sZXhhY3Q6ITB9LHtpbmxpbmU6InUiLHJlbW92ZToiYWxsIn1dLHN0cmlrZXRocm91Z2g6W3tpbmxpbmU6InNwYW4iLHN0eWxlczp7dGV4dERlY29yYXRpb246ImxpbmUtdGhyb3VnaCJ9LGV4YWN0OiEwfSx7aW5saW5lOiJzdHJpa2UiLHJlbW92ZToiYWxsIn1dLGZvcmVjb2xvcjp7aW5saW5lOiJzcGFuIixzdHlsZXM6e2NvbG9yOiIldmFsdWUifSxsaW5rczohMCxyZW1vdmVfc2ltaWxhcjohMCxjbGVhcl9jaGlsZF9zdHlsZXM6ITB9LGhpbGl0ZWNvbG9yOntpbmxpbmU6InNwYW4iLHN0eWxlczp7YmFja2dyb3VuZENvbG9yOiIldmFsdWUifSxsaW5rczohMCxyZW1vdmVfc2ltaWxhcjohMCxjbGVhcl9jaGlsZF9zdHlsZXM6ITB9LGZvbnRuYW1lOntpbmxpbmU6InNwYW4iLHRvZ2dsZTohMSxzdHlsZXM6e2ZvbnRGYW1pbHk6IiV2YWx1ZSJ9LGNsZWFyX2NoaWxkX3N0eWxlczohMH0sZm9udHNpemU6e2lubGluZToic3BhbiIsdG9nZ2xlOiExLHN0eWxlczp7Zm9udFNpemU6IiV2YWx1ZSJ9LGNsZWFyX2NoaWxkX3N0eWxlczohMH0sZm9udHNpemVfY2xhc3M6e2lubGluZToic3BhbiIsYXR0cmlidXRlczp7ImNsYXNzIjoiJXZhbHVlIn19LGJsb2NrcXVvdGU6e2Jsb2NrOiJibG9ja3F1b3RlIix3cmFwcGVyOjEscmVtb3ZlOiJhbGwifSxzdWJzY3JpcHQ6e2lubGluZToic3ViIn0sc3VwZXJzY3JpcHQ6e2lubGluZToic3VwIn0sY29kZTp7aW5saW5lOiJjb2RlIn0sbGluazp7aW5saW5lOiJhIixzZWxlY3RvcjoiYSIscmVtb3ZlOiJhbGwiLHNwbGl0OiEwLGRlZXA6ITAsb25tYXRjaDpmdW5jdGlvbigpe3JldHVybiEwfSxvbmZvcm1hdDpmdW5jdGlvbihuLGUsdCl7SXQuZWFjaCh0LGZ1bmN0aW9uKGUsdCl7ci5zZXRBdHRyaWIobix0LGUpfSl9fSxyZW1vdmVmb3JtYXQ6W3tzZWxlY3RvcjoiYixzdHJvbmcsZW0saSxmb250LHUsc3RyaWtlLHN1YixzdXAsZGZuLGNvZGUsc2FtcCxrYmQsdmFyLGNpdGUsbWFyayxxLGRlbCxpbnMiLHJlbW92ZToiYWxsIixzcGxpdDohMCxleHBhbmQ6ITEsYmxvY2tfZXhwYW5kOiEwLGRlZXA6ITB9LHtzZWxlY3Rvcjoic3BhbiIsYXR0cmlidXRlczpbInN0eWxlIiwiY2xhc3MiXSxyZW1vdmU6ImVtcHR5IixzcGxpdDohMCxleHBhbmQ6ITEsZGVlcDohMH0se3NlbGVjdG9yOiIqIixhdHRyaWJ1dGVzOlsic3R5bGUiLCJjbGFzcyJdLHNwbGl0OiExLGV4cGFuZDohMSxkZWVwOiEwfV19O3JldHVybiBJdC5lYWNoKCJwIGgxIGgyIGgzIGg0IGg1IGg2IGRpdiBhZGRyZXNzIHByZSBkaXYgZHQgZGQgc2FtcCIuc3BsaXQoL1xzLyksZnVuY3Rpb24oZSl7dFtlXT17YmxvY2s6ZSxyZW1vdmU6ImFsbCJ9fSksdH19LGN5PUl0LmVhY2gsbHk9dmkuRE9NLGZ5PWZ1bmN0aW9uKGUsdCl7dmFyIG4sbyxyLG09dCYmdC5zY2hlbWF8fG9pKHt9KSxwPWZ1bmN0aW9uKGUpe3ZhciB0LG4scjtyZXR1cm4gbz0ic3RyaW5nIj09dHlwZW9mIGU/e25hbWU6ZSxjbGFzc2VzOltdLGF0dHJzOnt9fTplLHQ9bHkuY3JlYXRlKG8ubmFtZSksbj10LChyPW8pLmNsYXNzZXMubGVuZ3RoJiZseS5hZGRDbGFzcyhuLHIuY2xhc3Nlcy5qb2luKCIgIikpLGx5LnNldEF0dHJpYnMobixyLmF0dHJzKSx0fSxnPWZ1bmN0aW9uKG4sZSx0KXt2YXIgcixvLGksYSx1LHMsYyxsLGY9MDxlLmxlbmd0aCYmZVswXSxkPWYmJmYubmFtZTtpZih1PWQscz0ic3RyaW5nIiE9dHlwZW9mKGE9bik/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOmEsYz1tLmdldEVsZW1lbnRSdWxlKHMpLGk9ISghKGw9YyYmYy5wYXJlbnRzUmVxdWlyZWQpfHwhbC5sZW5ndGgpJiYodSYmLTEhPT1JdC5pbkFycmF5KGwsdSk/dTpsWzBdKSlkPT09aT8obz1lWzBdLGU9ZS5zbGljZSgxKSk6bz1pO2Vsc2UgaWYoZilvPWVbMF0sZT1lLnNsaWNlKDEpO2Vsc2UgaWYoIXQpcmV0dXJuIG47cmV0dXJuIG8mJihyPXAobykpLmFwcGVuZENoaWxkKG4pLHQmJihyfHwocj1seS5jcmVhdGUoImRpdiIpKS5hcHBlbmRDaGlsZChuKSxJdC5lYWNoKHQsZnVuY3Rpb24oZSl7dmFyIHQ9cChlKTtyLmluc2VydEJlZm9yZSh0LG4pfSkpLGcocixlLG8mJm8uc2libGluZ3MpfTtyZXR1cm4gZSYmZS5sZW5ndGg/KG89ZVswXSxuPXAobyksKHI9bHkuY3JlYXRlKCJkaXYiKSkuYXBwZW5kQ2hpbGQoZyhuLGUuc2xpY2UoMSksby5zaWJsaW5ncykpLHIpOiIifSxkeT1mdW5jdGlvbihlKXt2YXIgdCxhPXtjbGFzc2VzOltdLGF0dHJzOnt9fTtyZXR1cm4iKiIhPT0oZT1hLnNlbGVjdG9yPUl0LnRyaW0oZSkpJiYodD1lLnJlcGxhY2UoLyg/OihbI1wuXXw6Oj8pKFtcd1wtXSspfChcWykoW15cXV0rKVxdPykvZyxmdW5jdGlvbihlLHQsbixyLG8pe3N3aXRjaCh0KXtjYXNlIiMiOmEuYXR0cnMuaWQ9bjticmVhaztjYXNlIi4iOmEuY2xhc3Nlcy5wdXNoKG4pO2JyZWFrO2Nhc2UiOiI6LTEhPT1JdC5pbkFycmF5KCJjaGVja2VkIGRpc2FibGVkIGVuYWJsZWQgcmVhZC1vbmx5IHJlcXVpcmVkIi5zcGxpdCgiICIpLG4pJiYoYS5hdHRyc1tuXT1uKX1pZigiWyI9PT1yKXt2YXIgaT1vLm1hdGNoKC8oW1x3XC1dKykoPzpcPVwiKFteXCJdKykpPy8pO2kmJihhLmF0dHJzW2lbMV1dPWlbMl0pfXJldHVybiIifSkpLGEubmFtZT10fHwiZGl2IixhfSxteT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmInN0cmluZyI9PXR5cGVvZiBlPyhlPShlPWUuc3BsaXQoL1xzKixccyovKVswXSkucmVwbGFjZSgvXHMqKH5cK3x+fFwrfD4pXHMqL2csIiQxIiksSXQubWFwKGUuc3BsaXQoLyg/Oj58XHMrKD8hW15cW1xdXStcXSkpLyksZnVuY3Rpb24oZSl7dmFyIHQ9SXQubWFwKGUuc3BsaXQoLyg/On5cK3x+fFwrKS8pLGR5KSxuPXQucG9wKCk7cmV0dXJuIHQubGVuZ3RoJiYobi5zaWJsaW5ncz10KSxufSkucmV2ZXJzZSgpKTpbXX0scHk9ZnVuY3Rpb24obixlKXt2YXIgdCxyLG8saSxhLHUscz0iIjtpZighMT09PSh1PW4uc2V0dGluZ3MucHJldmlld19zdHlsZXMpKXJldHVybiIiOyJzdHJpbmciIT10eXBlb2YgdSYmKHU9ImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSBmb250LXdlaWdodCBmb250LXN0eWxlIHRleHQtZGVjb3JhdGlvbiB0ZXh0LXRyYW5zZm9ybSBjb2xvciBiYWNrZ3JvdW5kLWNvbG9yIGJvcmRlciBib3JkZXItcmFkaXVzIG91dGxpbmUgdGV4dC1zaGFkb3ciKTt2YXIgYz1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8lKFx3KykvZywiIil9O2lmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYoIShlPW4uZm9ybWF0dGVyLmdldChlKSkpcmV0dXJuO2U9ZVswXX1yZXR1cm4icHJldmlldyJpbiBlJiYhMT09PSh1PWUucHJldmlldyk/IiI6KHQ9ZS5ibG9ja3x8ZS5pbmxpbmV8fCJzcGFuIiwoaT1teShlLnNlbGVjdG9yKSkubGVuZ3RoPyhpWzBdLm5hbWV8fChpWzBdLm5hbWU9dCksdD1lLnNlbGVjdG9yLHI9ZnkoaSxuKSk6cj1meShbdF0sbiksbz1seS5zZWxlY3QodCxyKVswXXx8ci5maXJzdENoaWxkLGN5KGUuc3R5bGVzLGZ1bmN0aW9uKGUsdCl7KGU9YyhlKSkmJmx5LnNldFN0eWxlKG8sdCxlKX0pLGN5KGUuYXR0cmlidXRlcyxmdW5jdGlvbihlLHQpeyhlPWMoZSkpJiZseS5zZXRBdHRyaWIobyx0LGUpfSksY3koZS5jbGFzc2VzLGZ1bmN0aW9uKGUpe2U9YyhlKSxseS5oYXNDbGFzcyhvLGUpfHxseS5hZGRDbGFzcyhvLGUpfSksbi5maXJlKCJQcmV2aWV3Rm9ybWF0cyIpLGx5LnNldFN0eWxlcyhyLHtwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6LTY1NTM1fSksbi5nZXRCb2R5KCkuYXBwZW5kQ2hpbGQociksYT1seS5nZXRTdHlsZShuLmdldEJvZHkoKSwiZm9udFNpemUiLCEwKSxhPS9weCQvLnRlc3QoYSk/cGFyc2VJbnQoYSwxMCk6MCxjeSh1LnNwbGl0KCIgIiksZnVuY3Rpb24oZSl7dmFyIHQ9bHkuZ2V0U3R5bGUobyxlLCEwKTtpZighKCJiYWNrZ3JvdW5kLWNvbG9yIj09PWUmJi90cmFuc3BhcmVudHxyZ2JhXHMqXChbXildKyxccyowXCkvLnRlc3QodCkmJih0PWx5LmdldFN0eWxlKG4uZ2V0Qm9keSgpLGUsITApLCIjZmZmZmZmIj09PWx5LnRvSGV4KHQpLnRvTG93ZXJDYXNlKCkpfHwiY29sb3IiPT09ZSYmIiMwMDAwMDAiPT09bHkudG9IZXgodCkudG9Mb3dlckNhc2UoKSkpe2lmKCJmb250LXNpemUiPT09ZSYmL2VtfCUkLy50ZXN0KHQpKXtpZigwPT09YSlyZXR1cm47dD1wYXJzZUZsb2F0KHQpLygvJSQvLnRlc3QodCk/MTAwOjEpKmErInB4In0iYm9yZGVyIj09PWUmJnQmJihzKz0icGFkZGluZzowIDJweDsiKSxzKz1lKyI6Iit0KyI7In19KSxuLmZpcmUoIkFmdGVyUHJldmlld0Zvcm1hdHMiKSxseS5yZW1vdmUocikscyl9LGd5PWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGk9dC5nZXQobik7IWZ2Lm1hdGNoKGUsbixyLG8pfHwidG9nZ2xlImluIGlbMF0mJiFpWzBdLnRvZ2dsZT9peS5hcHBseUZvcm1hdChlLG4scixvKTpxdihlLG4scixvKX0saHk9ZnVuY3Rpb24oZSl7ZS5hZGRTaG9ydGN1dCgibWV0YStiIiwiIiwiQm9sZCIpLGUuYWRkU2hvcnRjdXQoIm1ldGEraSIsIiIsIkl0YWxpYyIpLGUuYWRkU2hvcnRjdXQoIm1ldGErdSIsIiIsIlVuZGVybGluZSIpO2Zvcih2YXIgdD0xO3Q8PTY7dCsrKWUuYWRkU2hvcnRjdXQoImFjY2VzcysiK3QsIiIsWyJGb3JtYXRCbG9jayIsITEsImgiK3RdKTtlLmFkZFNob3J0Y3V0KCJhY2Nlc3MrNyIsIiIsWyJGb3JtYXRCbG9jayIsITEsInAiXSksZS5hZGRTaG9ydGN1dCgiYWNjZXNzKzgiLCIiLFsiRm9ybWF0QmxvY2siLCExLCJkaXYiXSksZS5hZGRTaG9ydGN1dCgiYWNjZXNzKzkiLCIiLFsiRm9ybWF0QmxvY2siLCExLCJhZGRyZXNzIl0pfTtmdW5jdGlvbiB2eShlKXt2YXIgdCxuLHIsbz0odD1lLG49e30sKHI9ZnVuY3Rpb24oZSx0KXtlJiYoInN0cmluZyIhPXR5cGVvZiBlP0l0LmVhY2goZSxmdW5jdGlvbihlLHQpe3IodCxlKX0pOih0PXQubGVuZ3RoP3Q6W3RdLEl0LmVhY2godCxmdW5jdGlvbihlKXsidW5kZWZpbmVkIj09dHlwZW9mIGUuZGVlcCYmKGUuZGVlcD0hZS5zZWxlY3RvciksInVuZGVmaW5lZCI9PXR5cGVvZiBlLnNwbGl0JiYoZS5zcGxpdD0hZS5zZWxlY3Rvcnx8ZS5pbmxpbmUpLCJ1bmRlZmluZWQiPT10eXBlb2YgZS5yZW1vdmUmJmUuc2VsZWN0b3ImJiFlLmlubGluZSYmKGUucmVtb3ZlPSJub25lIiksZS5zZWxlY3RvciYmZS5pbmxpbmUmJihlLm1peGVkPSEwLGUuYmxvY2tfZXhwYW5kPSEwKSwic3RyaW5nIj09dHlwZW9mIGUuY2xhc3NlcyYmKGUuY2xhc3Nlcz1lLmNsYXNzZXMuc3BsaXQoL1xzKy8pKX0pLG5bZV09dCkpfSkoc3kuZ2V0KHQuZG9tKSkscih0LnNldHRpbmdzLmZvcm1hdHMpLHtnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/bltlXTpufSxyZWdpc3RlcjpyLHVucmVnaXN0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJm5bZV0mJmRlbGV0ZSBuW2VdLG59fSksaT1ucyhudWxsKTtyZXR1cm4gaHkoZSksRXYoZSkse2dldDpvLmdldCxyZWdpc3RlcjpvLnJlZ2lzdGVyLHVucmVnaXN0ZXI6by51bnJlZ2lzdGVyLGFwcGx5OlYuY3VycnkoaXkuYXBwbHlGb3JtYXQsZSkscmVtb3ZlOlYuY3VycnkocXYsZSksdG9nZ2xlOlYuY3VycnkoZ3ksZSxvKSxtYXRjaDpWLmN1cnJ5KGZ2Lm1hdGNoLGUpLG1hdGNoQWxsOlYuY3VycnkoZnYubWF0Y2hBbGwsZSksbWF0Y2hOb2RlOlYuY3VycnkoZnYubWF0Y2hOb2RlLGUpLGNhbkFwcGx5OlYuY3VycnkoZnYuY2FuQXBwbHksZSksZm9ybWF0Q2hhbmdlZDpWLmN1cnJ5KHV5LGUsaSksZ2V0Q3NzVGV4dDpWLmN1cnJ5KHB5LGUpfX12YXIgeXk9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSx0PTA7dDxlLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07aWYoMD09PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiQ2FuJ3QgbWVyZ2UgemVybyBvYmplY3RzIik7Zm9yKHZhciBuPXt9LHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXTtmb3IodmFyIGkgaW4gbylvLmhhc093blByb3BlcnR5KGkpJiYobltpXT1hKG5baV0sb1tpXSkpfXJldHVybiBufX0sYnk9eXkoZnVuY3Rpb24oZSx0KXtyZXR1cm4gay5pc09iamVjdChlKSYmay5pc09iamVjdCh0KT9ieShlLHQpOnR9KSxDeT15eShmdW5jdGlvbihlLHQpe3JldHVybiB0fSkseHk9e2RlZXBNZXJnZTpieSxtZXJnZTpDeX0sd3k9e3JlZ2lzdGVyOmZ1bmN0aW9uKHQscyxjKXt0LmFkZEF0dHJpYnV0ZUZpbHRlcigiZGF0YS1tY2UtdGFiaW5kZXgiLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9ZS5sZW5ndGg7ci0tOykobj1lW3JdKS5hdHRyKCJ0YWJpbmRleCIsbi5hdHRyaWJ1dGVzLm1hcFsiZGF0YS1tY2UtdGFiaW5kZXgiXSksbi5hdHRyKHQsbnVsbCl9KSx0LmFkZEF0dHJpYnV0ZUZpbHRlcigic3JjLGhyZWYsc3R5bGUiLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHIsbz1lLmxlbmd0aCxpPSJkYXRhLW1jZS0iK3QsYT1zLnVybF9jb252ZXJ0ZXIsdT1zLnVybF9jb252ZXJ0ZXJfc2NvcGU7by0tOykocj0obj1lW29dKS5hdHRyaWJ1dGVzLm1hcFtpXSkhPT11bmRlZmluZWQ/KG4uYXR0cih0LDA8ci5sZW5ndGg/cjpudWxsKSxuLmF0dHIoaSxudWxsKSk6KHI9bi5hdHRyaWJ1dGVzLm1hcFt0XSwic3R5bGUiPT09dD9yPWMuc2VyaWFsaXplU3R5bGUoYy5wYXJzZVN0eWxlKHIpLG4ubmFtZSk6YSYmKHI9YS5jYWxsKHUscix0LG4ubmFtZSkpLG4uYXR0cih0LDA8ci5sZW5ndGg/cjpudWxsKSl9KSx0LmFkZEF0dHJpYnV0ZUZpbHRlcigiY2xhc3MiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHI9ZS5sZW5ndGg7ci0tOykobj0odD1lW3JdKS5hdHRyKCJjbGFzcyIpKSYmKG49dC5hdHRyKCJjbGFzcyIpLnJlcGxhY2UoLyg/Ol58XHMpbWNlLWl0ZW0tXHcrKD8hXFMpL2csIiIpLHQuYXR0cigiY2xhc3MiLDA8bi5sZW5ndGg/bjpudWxsKSl9KSx0LmFkZEF0dHJpYnV0ZUZpbHRlcigiZGF0YS1tY2UtdHlwZSIsZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcixvPWUubGVuZ3RoO28tLTspImJvb2ttYXJrIiE9PShyPWVbb10pLmF0dHJpYnV0ZXMubWFwWyJkYXRhLW1jZS10eXBlIl18fG4uY2xlYW51cHx8ci5yZW1vdmUoKX0pLHQuYWRkTm9kZUZpbHRlcigibm9zY3JpcHQiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPWUubGVuZ3RoO24tLTspKHQ9ZVtuXS5maXJzdENoaWxkKSYmKHQudmFsdWU9S28uZGVjb2RlKHQudmFsdWUpKX0pLHQuYWRkTm9kZUZpbHRlcigic2NyaXB0LHN0eWxlIixmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyLG8saT1lLmxlbmd0aCxhPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyg8IS0tXFtDREFUQVxbfFxdXF0tLT4pL2csIlxuIikucmVwbGFjZSgvXltcclxuXSp8W1xyXG5dKiQvZywiIikucmVwbGFjZSgvXlxzKigoPCEtLSk/KFxzKlwvXC8pP1xzKjwhXFtDREFUQVxbfCg8IS0tXHMqKT9cL1wqXHMqPCFcW0NEQVRBXFtccypcKlwvfChcL1wvKT9ccyo8IS0tfFwvXCpccyo8IS0tXHMqXCpcLylccypbXHJcbl0qL2dpLCIiKS5yZXBsYWNlKC9ccyooXC9cKlxzKlxdXF0+XHMqXCpcLygtLT4pP3xccypcL1wvXHMqXF1cXT4oLS0+KT98XC9cL1xzKigtLT4pP3xcXVxdPnxcL1wqXHMqLS0+XHMqXCpcL3xccyotLT5ccyopXHMqJC9nLCIiKX07aS0tOylyPShuPWVbaV0pLmZpcnN0Q2hpbGQ/bi5maXJzdENoaWxkLnZhbHVlOiIiLCJzY3JpcHQiPT09dD8oKG89bi5hdHRyKCJ0eXBlIikpJiZuLmF0dHIoInR5cGUiLCJtY2Utbm8vdHlwZSI9PT1vP251bGw6by5yZXBsYWNlKC9ebWNlXC0vLCIiKSksInhodG1sIj09PXMuZWxlbWVudF9mb3JtYXQmJjA8ci5sZW5ndGgmJihuLmZpcnN0Q2hpbGQudmFsdWU9Ii8vIDwhW0NEQVRBW1xuIithKHIpKyJcbi8vIF1dPiIpKToieGh0bWwiPT09cy5lbGVtZW50X2Zvcm1hdCYmMDxyLmxlbmd0aCYmKG4uZmlyc3RDaGlsZC52YWx1ZT0iXHgzYyEtLVxuIithKHIpKyJcbi0tXHgzZSIpfSksdC5hZGROb2RlRmlsdGVyKCIjY29tbWVudCIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49ZS5sZW5ndGg7bi0tOykwPT09KHQ9ZVtuXSkudmFsdWUuaW5kZXhPZigiW0NEQVRBWyIpPyh0Lm5hbWU9IiNjZGF0YSIsdC50eXBlPTQsdC52YWx1ZT10LnZhbHVlLnJlcGxhY2UoL15cW0NEQVRBXFt8XF1cXSQvZywiIikpOjA9PT10LnZhbHVlLmluZGV4T2YoIm1jZTpwcm90ZWN0ZWQgIikmJih0Lm5hbWU9IiN0ZXh0Iix0LnR5cGU9Myx0LnJhdz0hMCx0LnZhbHVlPXVuZXNjYXBlKHQudmFsdWUpLnN1YnN0cigxNCkpfSksdC5hZGROb2RlRmlsdGVyKCJ4bWw6bmFtZXNwYWNlLGlucHV0IixmdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPWUubGVuZ3RoO3ItLTspNz09PShuPWVbcl0pLnR5cGU/bi5yZW1vdmUoKToxPT09bi50eXBlJiYoImlucHV0IiE9PXR8fCJ0eXBlImluIG4uYXR0cmlidXRlcy5tYXB8fG4uYXR0cigidHlwZSIsInRleHQiKSl9KSx0LmFkZEF0dHJpYnV0ZUZpbHRlcigiZGF0YS1tY2UtdHlwZSIsZnVuY3Rpb24oZSl7SC5lYWNoKGUsZnVuY3Rpb24oZSl7ImZvcm1hdC1jYXJldCI9PT1lLmF0dHIoImRhdGEtbWNlLXR5cGUiKSYmKGUuaXNFbXB0eSh0LnNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCkpP2UucmVtb3ZlKCk6ZS51bndyYXAoKSl9KX0pLHQuYWRkQXR0cmlidXRlRmlsdGVyKCJkYXRhLW1jZS1zcmMsZGF0YS1tY2UtaHJlZixkYXRhLW1jZS1zdHlsZSxkYXRhLW1jZS1zZWxlY3RlZCxkYXRhLW1jZS1leHBhbmRvLGRhdGEtbWNlLXR5cGUsZGF0YS1tY2UtcmVzaXplIixmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KWVbbl0uYXR0cih0LG51bGwpfSl9LHRyaW1UcmFpbGluZ0JyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmImJyIj09PWUubmFtZX07cih0PWUubGFzdENoaWxkKSYmcihuPXQucHJldikmJih0LnJlbW92ZSgpLG4ucmVtb3ZlKCkpfX0sTnk9e3Byb2Nlc3M6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmPW4sKGw9ZSkmJmwuaGFzRXZlbnRMaXN0ZW5lcnMoIlByZVByb2Nlc3MiKSYmIWYubm9fZXZlbnRzPyhvPXQsaT1uLGM9KHI9ZSkuZG9tLG89by5jbG9uZU5vZGUoITApLChhPWRvY3VtZW50LmltcGxlbWVudGF0aW9uKS5jcmVhdGVIVE1MRG9jdW1lbnQmJih1PWEuY3JlYXRlSFRNTERvY3VtZW50KCIiKSxJdC5lYWNoKCJCT0RZIj09PW8ubm9kZU5hbWU/by5jaGlsZE5vZGVzOltvXSxmdW5jdGlvbihlKXt1LmJvZHkuYXBwZW5kQ2hpbGQodS5pbXBvcnROb2RlKGUsITApKX0pLG89IkJPRFkiIT09by5ub2RlTmFtZT91LmJvZHkuZmlyc3RDaGlsZDp1LmJvZHkscz1jLmRvYyxjLmRvYz11KSxjcChyLHh5Lm1lcmdlKGkse25vZGU6b30pKSxzJiYoYy5kb2M9cyksbyk6dDt2YXIgcixvLGksYSx1LHMsYyxsLGZ9fSxFeT1mdW5jdGlvbihlLHUscyl7ZS5hZGROb2RlRmlsdGVyKCJmb250IixmdW5jdGlvbihlKXtILmVhY2goZSxmdW5jdGlvbihlKXt2YXIgdCxuLHI9dS5wYXJzZShlLmF0dHIoInN0eWxlIikpLG89ZS5hdHRyKCJjb2xvciIpLGk9ZS5hdHRyKCJmYWNlIiksYT1lLmF0dHIoInNpemUiKTtvJiYoci5jb2xvcj1vKSxpJiYoclsiZm9udC1mYW1pbHkiXT1pKSxhJiYoclsiZm9udC1zaXplIl09c1twYXJzZUludChlLmF0dHIoInNpemUiKSwxMCktMV0pLGUubmFtZT0ic3BhbiIsZS5hdHRyKCJzdHlsZSIsdS5zZXJpYWxpemUocikpLHQ9ZSxuPVsiY29sb3IiLCJmYWNlIiwic2l6ZSJdLEguZWFjaChuLGZ1bmN0aW9uKGUpe3QuYXR0cihlLG51bGwpfSl9KX0pfSxTeT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9YWkoKTt0LmNvbnZlcnRfZm9udHNfdG9fc3BhbnMmJkV5KGUscixJdC5leHBsb2RlKHQuZm9udF9zaXplX2xlZ2FjeV92YWx1ZXMpKSxuPXIsZS5hZGROb2RlRmlsdGVyKCJzdHJpa2UiLGZ1bmN0aW9uKGUpe0guZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciB0PW4ucGFyc2UoZS5hdHRyKCJzdHlsZSIpKTt0WyJ0ZXh0LWRlY29yYXRpb24iXT0ibGluZS10aHJvdWdoIixlLm5hbWU9InNwYW4iLGUuYXR0cigic3R5bGUiLG4uc2VyaWFsaXplKHQpKX0pfSl9LGt5PXtyZWdpc3RlcjpmdW5jdGlvbihlLHQpe3QuaW5saW5lX3N0eWxlcyYmU3koZSx0KX19LFR5PS9eWyBcdFxyXG5dKiQvLEF5PXsiI3RleHQiOjMsIiNjb21tZW50Ijo4LCIjY2RhdGEiOjQsIiNwaSI6NywiI2RvY3R5cGUiOjEwLCIjZG9jdW1lbnQtZnJhZ21lbnQiOjExfSxSeT1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpPW4/Imxhc3RDaGlsZCI6ImZpcnN0Q2hpbGQiLGE9bj8icHJldiI6Im5leHQiO2lmKGVbaV0pcmV0dXJuIGVbaV07aWYoZSE9PXQpe2lmKHI9ZVthXSlyZXR1cm4gcjtmb3Iobz1lLnBhcmVudDtvJiZvIT09dDtvPW8ucGFyZW50KWlmKHI9b1thXSlyZXR1cm4gcn19LF95PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShlLHQpe3RoaXMubmFtZT1lLDE9PT0odGhpcy50eXBlPXQpJiYodGhpcy5hdHRyaWJ1dGVzPVtdLHRoaXMuYXR0cmlidXRlcy5tYXA9e30pfXJldHVybiBhLmNyZWF0ZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI7aWYobj1uZXcgYShlLEF5W2VdfHwxKSx0KWZvcihyIGluIHQpbi5hdHRyKHIsdFtyXSk7cmV0dXJuIG59LGEucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50JiZlLnJlbW92ZSgpLHRoaXMuaW5zZXJ0KGUsdGhpcyksdGhpcy5yZW1vdmUoKSx0aGlzfSxhLnByb3RvdHlwZS5hdHRyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scjtpZigic3RyaW5nIiE9dHlwZW9mIGUpe2ZvcihyIGluIGUpdGhpcy5hdHRyKHIsZVtyXSk7cmV0dXJuIHRoaXN9aWYobj10aGlzLmF0dHJpYnV0ZXMpe2lmKHQhPT11bmRlZmluZWQpe2lmKG51bGw9PT10KXtpZihlIGluIG4ubWFwKWZvcihkZWxldGUgbi5tYXBbZV0scj1uLmxlbmd0aDtyLS07KWlmKG5bcl0ubmFtZT09PWUpcmV0dXJuIG49bi5zcGxpY2UociwxKSx0aGlzO3JldHVybiB0aGlzfWlmKGUgaW4gbi5tYXApe2ZvcihyPW4ubGVuZ3RoO3ItLTspaWYobltyXS5uYW1lPT09ZSl7bltyXS52YWx1ZT10O2JyZWFrfX1lbHNlIG4ucHVzaCh7bmFtZTplLHZhbHVlOnR9KTtyZXR1cm4gbi5tYXBbZV09dCx0aGlzfXJldHVybiBuLm1hcFtlXX19LGEucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsbyxpPW5ldyBhKHRoaXMubmFtZSx0aGlzLnR5cGUpO2lmKG49dGhpcy5hdHRyaWJ1dGVzKXtmb3IoKG89W10pLm1hcD17fSxlPTAsdD1uLmxlbmd0aDtlPHQ7ZSsrKSJpZCIhPT0ocj1uW2VdKS5uYW1lJiYob1tvLmxlbmd0aF09e25hbWU6ci5uYW1lLHZhbHVlOnIudmFsdWV9LG8ubWFwW3IubmFtZV09ci52YWx1ZSk7aS5hdHRyaWJ1dGVzPW99cmV0dXJuIGkudmFsdWU9dGhpcy52YWx1ZSxpLnNob3J0RW5kZWQ9dGhpcy5zaG9ydEVuZGVkLGl9LGEucHJvdG90eXBlLndyYXA9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50Lmluc2VydChlLHRoaXMpLGUuYXBwZW5kKHRoaXMpLHRoaXN9LGEucHJvdG90eXBlLnVud3JhcD1mdW5jdGlvbigpe3ZhciBlLHQ7Zm9yKGU9dGhpcy5maXJzdENoaWxkO2U7KXQ9ZS5uZXh0LHRoaXMuaW5zZXJ0KGUsdGhpcywhMCksZT10O3RoaXMucmVtb3ZlKCl9LGEucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMucGFyZW50LHQ9dGhpcy5uZXh0LG49dGhpcy5wcmV2O3JldHVybiBlJiYoZS5maXJzdENoaWxkPT09dGhpcz8oZS5maXJzdENoaWxkPXQpJiYodC5wcmV2PW51bGwpOm4ubmV4dD10LGUubGFzdENoaWxkPT09dGhpcz8oZS5sYXN0Q2hpbGQ9bikmJihuLm5leHQ9bnVsbCk6dC5wcmV2PW4sdGhpcy5wYXJlbnQ9dGhpcy5uZXh0PXRoaXMucHJldj1udWxsKSx0aGlzfSxhLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUucGFyZW50JiZlLnJlbW92ZSgpLCh0PXRoaXMubGFzdENoaWxkKT8oKHQubmV4dD1lKS5wcmV2PXQsdGhpcy5sYXN0Q2hpbGQ9ZSk6dGhpcy5sYXN0Q2hpbGQ9dGhpcy5maXJzdENoaWxkPWUsZS5wYXJlbnQ9dGhpcyxlfSxhLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiBlLnBhcmVudCYmZS5yZW1vdmUoKSxyPXQucGFyZW50fHx0aGlzLG4/KHQ9PT1yLmZpcnN0Q2hpbGQ/ci5maXJzdENoaWxkPWU6dC5wcmV2Lm5leHQ9ZSxlLnByZXY9dC5wcmV2LChlLm5leHQ9dCkucHJldj1lKToodD09PXIubGFzdENoaWxkP3IubGFzdENoaWxkPWU6dC5uZXh0LnByZXY9ZSxlLm5leHQ9dC5uZXh0LChlLnByZXY9dCkubmV4dD1lKSxlLnBhcmVudD1yLGV9LGEucHJvdG90eXBlLmdldEFsbD1mdW5jdGlvbihlKXt2YXIgdCxuPVtdO2Zvcih0PXRoaXMuZmlyc3RDaGlsZDt0O3Q9UnkodCx0aGlzKSl0Lm5hbWU9PT1lJiZuLnB1c2godCk7cmV0dXJuIG59LGEucHJvdG90eXBlLmVtcHR5PWZ1bmN0aW9uKCl7dmFyIGUsdCxuO2lmKHRoaXMuZmlyc3RDaGlsZCl7Zm9yKGU9W10sbj10aGlzLmZpcnN0Q2hpbGQ7bjtuPVJ5KG4sdGhpcykpZS5wdXNoKG4pO2Zvcih0PWUubGVuZ3RoO3QtLTspKG49ZVt0XSkucGFyZW50PW4uZmlyc3RDaGlsZD1uLmxhc3RDaGlsZD1uLm5leHQ9bi5wcmV2PW51bGx9cmV0dXJuIHRoaXMuZmlyc3RDaGlsZD10aGlzLmxhc3RDaGlsZD1udWxsLHRoaXN9LGEucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saT10aGlzLmZpcnN0Q2hpbGQ7aWYodD10fHx7fSxpKWRve2lmKDE9PT1pLnR5cGUpe2lmKGkuYXR0cmlidXRlcy5tYXBbImRhdGEtbWNlLWJvZ3VzIl0pY29udGludWU7aWYoZVtpLm5hbWVdKXJldHVybiExO2ZvcihyPWkuYXR0cmlidXRlcy5sZW5ndGg7ci0tOylpZigibmFtZSI9PT0obz1pLmF0dHJpYnV0ZXNbcl0ubmFtZSl8fDA9PT1vLmluZGV4T2YoImRhdGEtbWNlLWJvb2ttYXJrIikpcmV0dXJuITF9aWYoOD09PWkudHlwZSlyZXR1cm4hMTtpZigzPT09aS50eXBlJiYhVHkudGVzdChpLnZhbHVlKSlyZXR1cm4hMTtpZigzPT09aS50eXBlJiZpLnBhcmVudCYmdFtpLnBhcmVudC5uYW1lXSYmVHkudGVzdChpLnZhbHVlKSlyZXR1cm4hMTtpZihuJiZuKGkpKXJldHVybiExfXdoaWxlKGk9UnkoaSx0aGlzKSk7cmV0dXJuITB9LGEucHJvdG90eXBlLndhbGs9ZnVuY3Rpb24oZSl7cmV0dXJuIFJ5KHRoaXMsbnVsbCxlKX0sYX0oKSxCeT1mdW5jdGlvbihlLHQsbixyKXsoZS5wYWRkX2VtcHR5X3dpdGhfYnJ8fHQuaW5zZXJ0KSYmbltyLm5hbWVdP3IuZW1wdHkoKS5hcHBlbmQobmV3IF95KCJiciIsMSkpLnNob3J0RW5kZWQ9ITA6ci5lbXB0eSgpLmFwcGVuZChuZXcgX3koIiN0ZXh0IiwzKSkudmFsdWU9Ilx4YTAifSxEeT1mdW5jdGlvbihlKXtyZXR1cm4gT3koZSwiI3RleHQiKSYmIlx4YTAiPT09ZS5maXJzdENoaWxkLnZhbHVlfSxPeT1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLmZpcnN0Q2hpbGQmJmUuZmlyc3RDaGlsZD09PWUubGFzdENoaWxkJiZlLmZpcnN0Q2hpbGQubmFtZT09PXR9LFB5PWZ1bmN0aW9uKHIsZSx0LG4pe3JldHVybiBuLmlzRW1wdHkoZSx0LGZ1bmN0aW9uKGUpe3JldHVybiB0PWUsKG49ci5nZXRFbGVtZW50UnVsZSh0Lm5hbWUpKSYmbi5wYWRkRW1wdHk7dmFyIHQsbn0pfSxMeT1mdW5jdGlvbihlLHQpe3JldHVybiBlJiYodFtlLm5hbWVdfHwiYnIiPT09ZS5uYW1lKX0sSXk9ZnVuY3Rpb24oZSxnKXt2YXIgaD1lLnNjaGVtYTtnLnJlbW92ZV90cmFpbGluZ19icnMmJmUuYWRkTm9kZUZpbHRlcigiYnIiLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYyxsLGY9ZS5sZW5ndGgsZD1JdC5leHRlbmQoe30saC5nZXRCbG9ja0VsZW1lbnRzKCkpLG09aC5nZXROb25FbXB0eUVsZW1lbnRzKCkscD1oLmdldE5vbkVtcHR5RWxlbWVudHMoKTtmb3IoZC5ib2R5PTEscj0wO3I8ZjtyKyspaWYoaT0obz1lW3JdKS5wYXJlbnQsZFtvLnBhcmVudC5uYW1lXSYmbz09PWkubGFzdENoaWxkKXtmb3IodT1vLnByZXY7dTspe2lmKCJzcGFuIiE9PShzPXUubmFtZSl8fCJib29rbWFyayIhPT11LmF0dHIoImRhdGEtbWNlLXR5cGUiKSl7aWYoImJyIiE9PXMpYnJlYWs7aWYoImJyIj09PXMpe289bnVsbDticmVha319dT11LnByZXZ9byYmKG8ucmVtb3ZlKCksUHkoaCxtLHAsaSkmJihjPWguZ2V0RWxlbWVudFJ1bGUoaS5uYW1lKSkmJihjLnJlbW92ZUVtcHR5P2kucmVtb3ZlKCk6Yy5wYWRkRW1wdHkmJkJ5KGcsbixkLGkpKSl9ZWxzZXtmb3IoYT1vO2kmJmkuZmlyc3RDaGlsZD09PWEmJmkubGFzdENoaWxkPT09YSYmIWRbKGE9aSkubmFtZV07KWk9aS5wYXJlbnQ7YT09PWkmJiEwIT09Zy5wYWRkX2VtcHR5X3dpdGhfYnImJigobD1uZXcgX3koIiN0ZXh0IiwzKSkudmFsdWU9Ilx4YTAiLG8ucmVwbGFjZShsKSl9fSksZS5hZGRBdHRyaWJ1dGVGaWx0ZXIoImhyZWYiLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixvPWUubGVuZ3RoO2lmKCFnLmFsbG93X3Vuc2FmZV9saW5rX3RhcmdldClmb3IoO28tLTspImEiPT09KHQ9ZVtvXSkubmFtZSYmIl9ibGFuayI9PT10LmF0dHIoInRhcmdldCIpJiZ0LmF0dHIoInJlbCIsKG49dC5hdHRyKCJyZWwiKSxyPW4/SXQudHJpbShuKToiIiwvXGIobm9vcGVuZXIpXGIvZy50ZXN0KHIpP3I6ci5zcGxpdCgiICIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmxlbmd0aH0pLmNvbmNhdChbIm5vb3BlbmVyIl0pLnNvcnQoKS5qb2luKCIgIikpKX0pLGcuYWxsb3dfaHRtbF9pbl9uYW1lZF9hbmNob3J8fGUuYWRkQXR0cmlidXRlRmlsdGVyKCJpZCxuYW1lIixmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLG8saT1lLmxlbmd0aDtpLS07KWlmKCJhIj09PShvPWVbaV0pLm5hbWUmJm8uZmlyc3RDaGlsZCYmIW8uYXR0cigiaHJlZiIpKWZvcihyPW8ucGFyZW50LHQ9by5sYXN0Q2hpbGQ7bj10LnByZXYsci5pbnNlcnQodCxvKSx0PW47KTt9KSxnLmZpeF9saXN0X2VsZW1lbnRzJiZlLmFkZE5vZGVGaWx0ZXIoInVsLG9sIixmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyPWUubGVuZ3RoO3ItLTspaWYoInVsIj09PShuPSh0PWVbcl0pLnBhcmVudCkubmFtZXx8Im9sIj09PW4ubmFtZSlpZih0LnByZXYmJiJsaSI9PT10LnByZXYubmFtZSl0LnByZXYuYXBwZW5kKHQpO2Vsc2V7dmFyIG89bmV3IF95KCJsaSIsMSk7by5hdHRyKCJzdHlsZSIsImxpc3Qtc3R5bGUtdHlwZTogbm9uZSIpLHQud3JhcChvKX19KSxnLnZhbGlkYXRlJiZoLmdldFZhbGlkQ2xhc3NlcygpJiZlLmFkZEF0dHJpYnV0ZUZpbHRlcigiY2xhc3MiLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsbyxpLGEsdSxzPWUubGVuZ3RoLGM9aC5nZXRWYWxpZENsYXNzZXMoKTtzLS07KXtmb3Iobj0odD1lW3NdKS5hdHRyKCJjbGFzcyIpLnNwbGl0KCIgIiksaT0iIixyPTA7cjxuLmxlbmd0aDtyKyspbz1uW3JdLHU9ITEsKGE9Y1siKiJdKSYmYVtvXSYmKHU9ITApLGE9Y1t0Lm5hbWVdLCF1JiZhJiZhW29dJiYodT0hMCksdSYmKGkmJihpKz0iICIpLGkrPW8pO2kubGVuZ3RofHwoaT1udWxsKSx0LmF0dHIoImNsYXNzIixpKX19KX0sTXk9SXQubWFrZU1hcCxGeT1JdC5lYWNoLHp5PUl0LmV4cGxvZGUsVXk9SXQuZXh0ZW5kO2Z1bmN0aW9uIHF5KGssVCl7dm9pZCAwPT09VCYmKFQ9b2koKSk7dmFyIEE9e30sUj1bXSxfPXt9LEI9e307KGs9a3x8e30pLnZhbGlkYXRlPSEoInZhbGlkYXRlImluIGspfHxrLnZhbGlkYXRlLGsucm9vdF9uYW1lPWsucm9vdF9uYW1lfHwiYm9keSI7dmFyIEQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyO24gaW4gQSYmKChyPV9bbl0pP3IucHVzaChlKTpfW25dPVtlXSksdD1SLmxlbmd0aDtmb3IoO3QtLTspKG49Ult0XS5uYW1lKWluIGUuYXR0cmlidXRlcy5tYXAmJigocj1CW25dKT9yLnB1c2goZSk6QltuXT1bZV0pO3JldHVybiBlfSxlPXtzY2hlbWE6VCxhZGRBdHRyaWJ1dGVGaWx0ZXI6ZnVuY3Rpb24oZSxuKXtGeSh6eShlKSxmdW5jdGlvbihlKXt2YXIgdDtmb3IodD0wO3Q8Ui5sZW5ndGg7dCsrKWlmKFJbdF0ubmFtZT09PWUpcmV0dXJuIHZvaWQgUlt0XS5jYWxsYmFja3MucHVzaChuKTtSLnB1c2goe25hbWU6ZSxjYWxsYmFja3M6W25dfSl9KX0sZ2V0QXR0cmlidXRlRmlsdGVyczpmdW5jdGlvbigpe3JldHVybltdLmNvbmNhdChSKX0sYWRkTm9kZUZpbHRlcjpmdW5jdGlvbihlLG4pe0Z5KHp5KGUpLGZ1bmN0aW9uKGUpe3ZhciB0PUFbZV07dHx8KEFbZV09dD1bXSksdC5wdXNoKG4pfSl9LGdldE5vZGVGaWx0ZXJzOmZ1bmN0aW9uKCl7dmFyIGU9W107Zm9yKHZhciB0IGluIEEpQS5oYXNPd25Qcm9wZXJ0eSh0KSYmZS5wdXNoKHtuYW1lOnQsY2FsbGJhY2tzOkFbdF19KTtyZXR1cm4gZX0sZmlsdGVyTm9kZTpELHBhcnNlOmZ1bmN0aW9uKGUsYSl7dmFyIHQsbixyLG8saSx1LHMsYyxsLGYsZCxtPVtdO2E9YXx8e30sXz17fSxCPXt9LGw9VXkoTXkoInNjcmlwdCxzdHlsZSxoZWFkLGh0bWwsYm9keSx0aXRsZSxtZXRhLHBhcmFtIiksVC5nZXRCbG9ja0VsZW1lbnRzKCkpO3ZhciBwPVQuZ2V0Tm9uRW1wdHlFbGVtZW50cygpLGc9VC5jaGlsZHJlbixoPWsudmFsaWRhdGUsdj0iZm9yY2VkX3Jvb3RfYmxvY2siaW4gYT9hLmZvcmNlZF9yb290X2Jsb2NrOmsuZm9yY2VkX3Jvb3RfYmxvY2sseT1ULmdldFdoaXRlU3BhY2VFbGVtZW50cygpLGI9L15bIFx0XHJcbl0rLyxDPS9bIFx0XHJcbl0rJC8seD0vWyBcdFxyXG5dKy9nLHc9L15bIFx0XHJcbl0rJC87Zj15Lmhhc093blByb3BlcnR5KGEuY29udGV4dCl8fHkuaGFzT3duUHJvcGVydHkoay5yb290X25hbWUpO3ZhciBOPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1uZXcgX3koZSx0KTtyZXR1cm4gZSBpbiBBJiYoKG49X1tlXSk/bi5wdXNoKHIpOl9bZV09W3JdKSxyfSxFPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGk9VC5nZXRCbG9ja0VsZW1lbnRzKCk7Zm9yKHQ9ZS5wcmV2O3QmJjM9PT10LnR5cGU7KXtpZigwPChyPXQudmFsdWUucmVwbGFjZShDLCIiKSkubGVuZ3RoKXJldHVybiB2b2lkKHQudmFsdWU9cik7aWYobj10Lm5leHQpe2lmKDM9PT1uLnR5cGUmJm4udmFsdWUubGVuZ3RoKXt0PXQucHJldjtjb250aW51ZX1pZighaVtuLm5hbWVdJiYic2NyaXB0IiE9PW4ubmFtZSYmInN0eWxlIiE9PW4ubmFtZSl7dD10LnByZXY7Y29udGludWV9fW89dC5wcmV2LHQucmVtb3ZlKCksdD1vfX07dD12aCh7dmFsaWRhdGU6aCxhbGxvd19zY3JpcHRfdXJsczprLmFsbG93X3NjcmlwdF91cmxzLGFsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzOmsuYWxsb3dfY29uZGl0aW9uYWxfY29tbWVudHMsc2VsZl9jbG9zaW5nX2VsZW1lbnRzOmZ1bmN0aW9uKGUpe3ZhciB0LG49e307Zm9yKHQgaW4gZSkibGkiIT09dCYmInAiIT09dCYmKG5bdF09ZVt0XSk7cmV0dXJuIG59KFQuZ2V0U2VsZkNsb3NpbmdFbGVtZW50cygpKSxjZGF0YTpmdW5jdGlvbihlKXtkLmFwcGVuZChOKCIjY2RhdGEiLDQpKS52YWx1ZT1lfSx0ZXh0OmZ1bmN0aW9uKGUsdCl7dmFyIG47Znx8KGU9ZS5yZXBsYWNlKHgsIiAiKSxMeShkLmxhc3RDaGlsZCxsKSYmKGU9ZS5yZXBsYWNlKGIsIiIpKSksMCE9PWUubGVuZ3RoJiYoKG49TigiI3RleHQiLDMpKS5yYXc9ISF0LGQuYXBwZW5kKG4pLnZhbHVlPWUpfSxjb21tZW50OmZ1bmN0aW9uKGUpe2QuYXBwZW5kKE4oIiNjb21tZW50Iiw4KSkudmFsdWU9ZX0scGk6ZnVuY3Rpb24oZSx0KXtkLmFwcGVuZChOKGUsNykpLnZhbHVlPXQsRShkKX0sZG9jdHlwZTpmdW5jdGlvbihlKXtkLmFwcGVuZChOKCIjZG9jdHlwZSIsMTApKS52YWx1ZT1lLEUoZCl9LHN0YXJ0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1O2lmKGk9aD9ULmdldEVsZW1lbnRSdWxlKGUpOnt9KXtmb3IoKHI9TihpLm91dHB1dE5hbWV8fGUsMSkpLmF0dHJpYnV0ZXM9dCxyLnNob3J0RW5kZWQ9bixkLmFwcGVuZChyKSwodT1nW2QubmFtZV0pJiZnW3IubmFtZV0mJiF1W3IubmFtZV0mJm0ucHVzaChyKSxvPVIubGVuZ3RoO28tLTspKGE9UltvXS5uYW1lKWluIHQubWFwJiYoKHM9QlthXSk/cy5wdXNoKHIpOkJbYV09W3JdKTtsW2VdJiZFKHIpLG58fChkPXIpLCFmJiZ5W2VdJiYoZj0hMCl9fSxlbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saTtpZihuPWg/VC5nZXRFbGVtZW50UnVsZShlKTp7fSl7aWYobFtlXSYmIWYpe2lmKCh0PWQuZmlyc3RDaGlsZCkmJjM9PT10LnR5cGUpaWYoMDwocj10LnZhbHVlLnJlcGxhY2UoYiwiIikpLmxlbmd0aCl0LnZhbHVlPXIsdD10Lm5leHQ7ZWxzZSBmb3Iobz10Lm5leHQsdC5yZW1vdmUoKSx0PW87dCYmMz09PXQudHlwZTspcj10LnZhbHVlLG89dC5uZXh0LCgwPT09ci5sZW5ndGh8fHcudGVzdChyKSkmJih0LnJlbW92ZSgpLHQ9byksdD1vO2lmKCh0PWQubGFzdENoaWxkKSYmMz09PXQudHlwZSlpZigwPChyPXQudmFsdWUucmVwbGFjZShDLCIiKSkubGVuZ3RoKXQudmFsdWU9cix0PXQucHJldjtlbHNlIGZvcihvPXQucHJldix0LnJlbW92ZSgpLHQ9bzt0JiYzPT09dC50eXBlOylyPXQudmFsdWUsbz10LnByZXYsKDA9PT1yLmxlbmd0aHx8dy50ZXN0KHIpKSYmKHQucmVtb3ZlKCksdD1vKSx0PW99aWYoZiYmeVtlXSYmKGY9ITEpLG4ucmVtb3ZlRW1wdHkmJlB5KFQscCx5LGQpJiYhZC5hdHRyaWJ1dGVzLm1hcC5uYW1lJiYhZC5hdHRyKCJpZCIpKXJldHVybiBpPWQucGFyZW50LGxbZC5uYW1lXT9kLmVtcHR5KCkucmVtb3ZlKCk6ZC51bndyYXAoKSx2b2lkKGQ9aSk7bi5wYWRkRW1wdHkmJihEeShkKXx8UHkoVCxwLHksZCkpJiZCeShrLGEsbCxkKSxkPWQucGFyZW50fX19LFQpO3ZhciBTPWQ9bmV3IF95KGEuY29udGV4dHx8ay5yb290X25hbWUsMTEpO2lmKHQucGFyc2UoZSksaCYmbS5sZW5ndGgmJihhLmNvbnRleHQ/YS5pbnZhbGlkPSEwOmZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYSx1LHMsYyxsLGYsZCxtLHAsZyxoO2ZvcihkPU15KCJ0cix0ZCx0aCx0Ym9keSx0aGVhZCx0Zm9vdCx0YWJsZSIpLGw9VC5nZXROb25FbXB0eUVsZW1lbnRzKCksZj1ULmdldFdoaXRlU3BhY2VFbGVtZW50cygpLG09VC5nZXRUZXh0QmxvY2tFbGVtZW50cygpLHA9VC5nZXRTcGVjaWFsRWxlbWVudHMoKSx0PTA7dDxlLmxlbmd0aDt0KyspaWYoKG49ZVt0XSkucGFyZW50JiYhbi5maXhlZClpZihtW24ubmFtZV0mJiJsaSI9PT1uLnBhcmVudC5uYW1lKXtmb3IoZz1uLm5leHQ7ZyYmbVtnLm5hbWVdOylnLm5hbWU9ImxpIixnLmZpeGVkPSEwLG4ucGFyZW50Lmluc2VydChnLG4ucGFyZW50KSxnPWcubmV4dDtuLnVud3JhcChuKX1lbHNle2ZvcihvPVtuXSxyPW4ucGFyZW50O3ImJiFULmlzVmFsaWRDaGlsZChyLm5hbWUsbi5uYW1lKSYmIWRbci5uYW1lXTtyPXIucGFyZW50KW8ucHVzaChyKTtpZihyJiYxPG8ubGVuZ3RoKXtmb3Ioby5yZXZlcnNlKCksaT1hPUQob1swXS5jbG9uZSgpKSxjPTA7YzxvLmxlbmd0aC0xO2MrKyl7Zm9yKFQuaXNWYWxpZENoaWxkKGEubmFtZSxvW2NdLm5hbWUpPyh1PUQob1tjXS5jbG9uZSgpKSxhLmFwcGVuZCh1KSk6dT1hLHM9b1tjXS5maXJzdENoaWxkO3MmJnMhPT1vW2MrMV07KWg9cy5uZXh0LHUuYXBwZW5kKHMpLHM9aDthPXV9UHkoVCxsLGYsaSk/ci5pbnNlcnQobixvWzBdLCEwKTooci5pbnNlcnQoaSxvWzBdLCEwKSxyLmluc2VydChuLGkpKSxyPW9bMF0sKFB5KFQsbCxmLHIpfHxPeShyLCJiciIpKSYmci5lbXB0eSgpLnJlbW92ZSgpfWVsc2UgaWYobi5wYXJlbnQpe2lmKCJsaSI9PT1uLm5hbWUpe2lmKChnPW4ucHJldikmJigidWwiPT09Zy5uYW1lfHwidWwiPT09Zy5uYW1lKSl7Zy5hcHBlbmQobik7Y29udGludWV9aWYoKGc9bi5uZXh0KSYmKCJ1bCI9PT1nLm5hbWV8fCJ1bCI9PT1nLm5hbWUpKXtnLmluc2VydChuLGcuZmlyc3RDaGlsZCwhMCk7Y29udGludWV9bi53cmFwKEQobmV3IF95KCJ1bCIsMSkpKTtjb250aW51ZX1ULmlzVmFsaWRDaGlsZChuLnBhcmVudC5uYW1lLCJkaXYiKSYmVC5pc1ZhbGlkQ2hpbGQoImRpdiIsbi5uYW1lKT9uLndyYXAoRChuZXcgX3koImRpdiIsMSkpKTpwW24ubmFtZV0/bi5lbXB0eSgpLnJlbW92ZSgpOm4udW53cmFwKCl9fX0obSkpLHYmJigiYm9keSI9PT1TLm5hbWV8fGEuaXNSb290Q29udGVudCkmJmZ1bmN0aW9uKCl7dmFyIGUsdCxuPVMuZmlyc3RDaGlsZCxyPWZ1bmN0aW9uKGUpe2UmJigobj1lLmZpcnN0Q2hpbGQpJiYzPT09bi50eXBlJiYobi52YWx1ZT1uLnZhbHVlLnJlcGxhY2UoYiwiIikpLChuPWUubGFzdENoaWxkKSYmMz09PW4udHlwZSYmKG4udmFsdWU9bi52YWx1ZS5yZXBsYWNlKEMsIiIpKSl9O2lmKFQuaXNWYWxpZENoaWxkKFMubmFtZSx2LnRvTG93ZXJDYXNlKCkpKXtmb3IoO247KWU9bi5uZXh0LDM9PT1uLnR5cGV8fDE9PT1uLnR5cGUmJiJwIiE9PW4ubmFtZSYmIWxbbi5uYW1lXSYmIW4uYXR0cigiZGF0YS1tY2UtdHlwZSIpPyh0fHwoKHQ9Tih2LDEpKS5hdHRyKGsuZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnMpLFMuaW5zZXJ0KHQsbikpLHQuYXBwZW5kKG4pKToocih0KSx0PW51bGwpLG49ZTtyKHQpfX0oKSwhYS5pbnZhbGlkKXtmb3IoYyBpbiBfKXtmb3Iocz1BW2NdLGk9KG49X1tjXSkubGVuZ3RoO2ktLTspbltpXS5wYXJlbnR8fG4uc3BsaWNlKGksMSk7Zm9yKHI9MCxvPXMubGVuZ3RoO3I8bztyKyspc1tyXShuLGMsYSl9Zm9yKHI9MCxvPVIubGVuZ3RoO3I8bztyKyspaWYoKHM9UltyXSkubmFtZSBpbiBCKXtmb3IoaT0obj1CW3MubmFtZV0pLmxlbmd0aDtpLS07KW5baV0ucGFyZW50fHxuLnNwbGljZShpLDEpO2ZvcihpPTAsdT1zLmNhbGxiYWNrcy5sZW5ndGg7aTx1O2krKylzLmNhbGxiYWNrc1tpXShuLHMubmFtZSxhKX19cmV0dXJuIFN9fTtyZXR1cm4gSXkoZSxrKSxreS5yZWdpc3RlcihlLGspLGV9dmFyIFZ5PWZ1bmN0aW9uKGUsdCxuKXstMT09PUl0LmluQXJyYXkodCxuKSYmKGUuYWRkQXR0cmlidXRlRmlsdGVyKG4sZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5sZW5ndGg7bi0tOyllW25dLmF0dHIodCxudWxsKX0pLHQucHVzaChuKSl9LEh5PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1faShuLmdldElubmVyP3QuaW5uZXJIVE1MOmUuZ2V0T3V0ZXJIVE1MKHQpKTtyZXR1cm4gbi5zZWxlY3Rpb258fHdvKFZuLmZyb21Eb20odCkpP3I6SXQudHJpbShyKX0sank9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4uc2VsZWN0aW9uP3h5Lm1lcmdlKHtmb3JjZWRfcm9vdF9ibG9jazohMX0sbik6bixvPWUucGFyc2UodCxyKTtyZXR1cm4gd3kudHJpbVRyYWlsaW5nQnIobyksb30sJHk9ZnVuY3Rpb24oZSx0LG4scixvKXt2YXIgaSxhLHUscyxjPShpPXIsSmModCxuKS5zZXJpYWxpemUoaSkpO3JldHVybiBhPWUscz1jLCEodT1vKS5ub19ldmVudHMmJmE/bHAoYSx4eS5tZXJnZSh1LHtjb250ZW50OnN9KSkuY29udGVudDpzfTtmdW5jdGlvbiBXeShlLHQpe3ZhciBhLHUscyxjLGwsbixyPShhPWUsbj1bImRhdGEtbWNlLXNlbGVjdGVkIl0scz0odT10KSYmdS5kb20/dS5kb206dmkuRE9NLGM9dSYmdS5zY2hlbWE/dS5zY2hlbWE6b2koYSksYS5lbnRpdHlfZW5jb2Rpbmc9YS5lbnRpdHlfZW5jb2Rpbmd8fCJuYW1lZCIsYS5yZW1vdmVfdHJhaWxpbmdfYnJzPSEoInJlbW92ZV90cmFpbGluZ19icnMiaW4gYSl8fGEucmVtb3ZlX3RyYWlsaW5nX2JycyxsPXF5KGEsYyksd3kucmVnaXN0ZXIobCxhLHMpLHtzY2hlbWE6YyxhZGROb2RlRmlsdGVyOmwuYWRkTm9kZUZpbHRlcixhZGRBdHRyaWJ1dGVGaWx0ZXI6bC5hZGRBdHRyaWJ1dGVGaWx0ZXIsc2VyaWFsaXplOmZ1bmN0aW9uKGUsdCl7dmFyIG49eHkubWVyZ2Uoe2Zvcm1hdDoiaHRtbCJ9LHR8fHt9KSxyPU55LnByb2Nlc3ModSxlLG4pLG89SHkocyxyLG4pLGk9ankobCxvLG4pO3JldHVybiJ0cmVlIj09PW4uZm9ybWF0P2k6JHkodSxhLGMsaSxuKX0sYWRkUnVsZXM6ZnVuY3Rpb24oZSl7Yy5hZGRWYWxpZEVsZW1lbnRzKGUpfSxzZXRSdWxlczpmdW5jdGlvbihlKXtjLnNldFZhbGlkRWxlbWVudHMoZSl9LGFkZFRlbXBBdHRyOlYuY3VycnkoVnksbCxuKSxnZXRUZW1wQXR0cnM6ZnVuY3Rpb24oKXtyZXR1cm4gbn19KTtyZXR1cm57c2NoZW1hOnIuc2NoZW1hLGFkZE5vZGVGaWx0ZXI6ci5hZGROb2RlRmlsdGVyLGFkZEF0dHJpYnV0ZUZpbHRlcjpyLmFkZEF0dHJpYnV0ZUZpbHRlcixzZXJpYWxpemU6ci5zZXJpYWxpemUsYWRkUnVsZXM6ci5hZGRSdWxlcyxzZXRSdWxlczpyLnNldFJ1bGVzLGFkZFRlbXBBdHRyOnIuYWRkVGVtcEF0dHIsZ2V0VGVtcEF0dHJzOnIuZ2V0VGVtcEF0dHJzfX1mdW5jdGlvbiBLeShlKXtyZXR1cm57Z2V0Qm9va21hcms6Vi5jdXJyeShMYyxlKSxtb3ZlVG9Cb29rbWFyazpWLmN1cnJ5KEljLGUpfX0oS3l8fChLeT17fSkpLmlzQm9va21hcmtOb2RlPU1jO3ZhciBYeT1LeSxZeT1Pby5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlLEd5PU9vLmlzQ29udGVudEVkaXRhYmxlVHJ1ZSxKeT1mdW5jdGlvbihyLGEpe3ZhciB1LHMsYyxsLGYsZCxtLHAsZyxoLHYseSxpLGIsQyx4LHcsTj1hLmRvbSxFPUl0LmVhY2gsUz1hLmdldERvYygpLGs9ZG9jdW1lbnQsVD1NYXRoLmFicyxBPU1hdGgucm91bmQsUj1hLmdldEJvZHkoKTtsPXtudzpbMCwwLC0xLC0xXSxuZTpbMSwwLDEsLTFdLHNlOlsxLDEsMSwxXSxzdzpbMCwxLC0xLDFdfTt2YXIgZT0iLm1jZS1jb250ZW50LWJvZHkiO2EuY29udGVudFN0eWxlcy5wdXNoKGUrIiBkaXYubWNlLXJlc2l6ZWhhbmRsZSB7cG9zaXRpb246IGFic29sdXRlO2JvcmRlcjogMXB4IHNvbGlkIGJsYWNrO2JveC1zaXppbmc6IGNvbnRlbnQtYm94O2JhY2tncm91bmQ6ICNGRkY7d2lkdGg6IDdweDtoZWlnaHQ6IDdweDt6LWluZGV4OiAxMDAwMH0iK2UrIiAubWNlLXJlc2l6ZWhhbmRsZTpob3ZlciB7YmFja2dyb3VuZDogIzAwMH0iK2UrIiBpbWdbZGF0YS1tY2Utc2VsZWN0ZWRdLCIrZSsiIGhyW2RhdGEtbWNlLXNlbGVjdGVkXSB7b3V0bGluZTogMXB4IHNvbGlkIGJsYWNrO3Jlc2l6ZTogbm9uZX0iK2UrIiAubWNlLWNsb25lZHJlc2l6YWJsZSB7cG9zaXRpb246IGFic29sdXRlOyIrKHZlLmdlY2tvPyIiOiJvdXRsaW5lOiAxcHggZGFzaGVkIGJsYWNrOyIpKyJvcGFjaXR5OiAuNTtmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NTApO3otaW5kZXg6IDEwMDAwfSIrZSsiIC5tY2UtcmVzaXplLWhlbHBlciB7YmFja2dyb3VuZDogIzU1NTtiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuNzUpO2JvcmRlci1yYWRpdXM6IDNweDtib3JkZXI6IDFweDtjb2xvcjogd2hpdGU7ZGlzcGxheTogbm9uZTtmb250LWZhbWlseTogc2Fucy1zZXJpZjtmb250LXNpemU6IDEycHg7d2hpdGUtc3BhY2U6IG5vd3JhcDtsaW5lLWhlaWdodDogMTRweDttYXJnaW46IDVweCAxMHB4O3BhZGRpbmc6IDVweDtwb3NpdGlvbjogYWJzb2x1dGU7ei1pbmRleDogMTAwMDF9Iik7dmFyIF89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJigiSU1HIj09PWUubm9kZU5hbWV8fGEuZG9tLmlzKGUsImZpZ3VyZS5pbWFnZSIpKX0sbj1mdW5jdGlvbihlKXt2YXIgdCxuLHI9ZS50YXJnZXQ7dD1lLG49YS5zZWxlY3Rpb24uZ2V0Um5nKCksIV8odC50YXJnZXQpfHxpaCh0LmNsaWVudFgsdC5jbGllbnRZLG4pfHxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZS5wcmV2ZW50RGVmYXVsdCgpLGEuc2VsZWN0aW9uLnNlbGVjdChyKSl9LEI9ZnVuY3Rpb24oZSl7cmV0dXJuIGEuZG9tLmlzKGUsImZpZ3VyZS5pbWFnZSIpP2UucXVlcnlTZWxlY3RvcigiaW1nIik6ZX0sRD1mdW5jdGlvbihlKXt2YXIgdD1hLnNldHRpbmdzLm9iamVjdF9yZXNpemluZztyZXR1cm4hMSE9PXQmJiF2ZS5pT1MmJigic3RyaW5nIiE9dHlwZW9mIHQmJih0PSJ0YWJsZSxpbWcsZmlndXJlLmltYWdlLGRpdiIpLCJmYWxzZSIhPT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtcmVzaXplIikmJmUhPT1hLmdldEJvZHkoKSYmUHIuaXMoVm4uZnJvbURvbShlKSx0KSl9LE89ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG87dD1lLnNjcmVlblgtZCxuPWUuc2NyZWVuWS1tLGI9dCpmWzJdK2gsQz1uKmZbM10rdixiPWI8NT81OmIsQz1DPDU/NTpDLChfKHUpJiYhMSE9PWEuc2V0dGluZ3MucmVzaXplX2ltZ19wcm9wb3J0aW9uYWw/IXNoLm1vZGlmaWVyUHJlc3NlZChlKTpzaC5tb2RpZmllclByZXNzZWQoZSl8fF8odSkmJmZbMl0qZlszXSE9MCkmJihUKHQpPlQobik/KEM9QShiKnkpLGI9QShDL3kpKTooYj1BKEMveSksQz1BKGIqeSkpKSxOLnNldFN0eWxlcyhCKHMpLHt3aWR0aDpiLGhlaWdodDpDfSkscj0wPChyPWYuc3RhcnRQb3MueCt0KT9yOjAsbz0wPChvPWYuc3RhcnRQb3MueStuKT9vOjAsTi5zZXRTdHlsZXMoYyx7bGVmdDpyLHRvcDpvLGRpc3BsYXk6ImJsb2NrIn0pLGMuaW5uZXJIVE1MPWIrIiAmdGltZXM7ICIrQyxmWzJdPDAmJnMuY2xpZW50V2lkdGg8PWImJk4uc2V0U3R5bGUocywibGVmdCIscCsoaC1iKSksZlszXTwwJiZzLmNsaWVudEhlaWdodDw9QyYmTi5zZXRTdHlsZShzLCJ0b3AiLGcrKHYtQykpLCh0PVIuc2Nyb2xsV2lkdGgteCkrKG49Ui5zY3JvbGxIZWlnaHQtdykhPTAmJk4uc2V0U3R5bGVzKGMse2xlZnQ6ci10LHRvcDpvLW59KSxpfHwobXAoYSx1LGgsdiksaT0hMCl9LFA9ZnVuY3Rpb24oKXtpPSExO3ZhciBlPWZ1bmN0aW9uKGUsdCl7dCYmKHUuc3R5bGVbZV18fCFhLnNjaGVtYS5pc1ZhbGlkKHUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxlKT9OLnNldFN0eWxlKEIodSksZSx0KTpOLnNldEF0dHJpYihCKHUpLGUsdCkpfTtlKCJ3aWR0aCIsYiksZSgiaGVpZ2h0IixDKSxOLnVuYmluZChTLCJtb3VzZW1vdmUiLE8pLE4udW5iaW5kKFMsIm1vdXNldXAiLFApLGshPT1TJiYoTi51bmJpbmQoaywibW91c2Vtb3ZlIixPKSxOLnVuYmluZChrLCJtb3VzZXVwIixQKSksTi5yZW1vdmUocyksTi5yZW1vdmUoYyksbyh1KSxwcChhLHUsYixDKSxOLnNldEF0dHJpYih1LCJzdHlsZSIsTi5nZXRBdHRyaWIodSwic3R5bGUiKSksYS5ub2RlQ2hhbmdlZCgpfSxvPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbyxuLGk7TCgpLEYoKSx0PU4uZ2V0UG9zKGUsUikscD10LngsZz10LnksaT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHI9aS53aWR0aHx8aS5yaWdodC1pLmxlZnQsbz1pLmhlaWdodHx8aS5ib3R0b20taS50b3AsdSE9PWUmJih1PWUsYj1DPTApLG49YS5maXJlKCJPYmplY3RTZWxlY3RlZCIse3RhcmdldDplfSksRChlKSYmIW4uaXNEZWZhdWx0UHJldmVudGVkKCk/RShsLGZ1bmN0aW9uKG4sZSl7dmFyIHQ7KHQ9Ti5nZXQoIm1jZVJlc2l6ZUhhbmRsZSIrZSkpJiZOLnJlbW92ZSh0KSx0PU4uYWRkKFIsImRpdiIse2lkOiJtY2VSZXNpemVIYW5kbGUiK2UsImRhdGEtbWNlLWJvZ3VzIjoiYWxsIiwiY2xhc3MiOiJtY2UtcmVzaXplaGFuZGxlIix1bnNlbGVjdGFibGU6ITAsc3R5bGU6ImN1cnNvcjoiK2UrIi1yZXNpemU7IG1hcmdpbjowOyBwYWRkaW5nOjAifSksMTE9PT12ZS5pZSYmKHQuY29udGVudEVkaXRhYmxlPSExKSxOLmJpbmQodCwibW91c2Vkb3duIixmdW5jdGlvbihlKXt2YXIgdDtlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGUucHJldmVudERlZmF1bHQoKSxkPSh0PWUpLnNjcmVlblgsbT10LnNjcmVlblksaD1CKHUpLmNsaWVudFdpZHRoLHY9Qih1KS5jbGllbnRIZWlnaHQseT12L2gsKGY9bikuc3RhcnRQb3M9e3g6cipuWzBdK3AseTpvKm5bMV0rZ30seD1SLnNjcm9sbFdpZHRoLHc9Ui5zY3JvbGxIZWlnaHQscz11LmNsb25lTm9kZSghMCksTi5hZGRDbGFzcyhzLCJtY2UtY2xvbmVkcmVzaXphYmxlIiksTi5zZXRBdHRyaWIocywiZGF0YS1tY2UtYm9ndXMiLCJhbGwiKSxzLmNvbnRlbnRFZGl0YWJsZT0hMSxzLnVuU2VsZWN0YWJlPSEwLE4uc2V0U3R5bGVzKHMse2xlZnQ6cCx0b3A6ZyxtYXJnaW46MH0pLHMucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpLFIuYXBwZW5kQ2hpbGQocyksTi5iaW5kKFMsIm1vdXNlbW92ZSIsTyksTi5iaW5kKFMsIm1vdXNldXAiLFApLGshPT1TJiYoTi5iaW5kKGssIm1vdXNlbW92ZSIsTyksTi5iaW5kKGssIm1vdXNldXAiLFApKSxjPU4uYWRkKFIsImRpdiIseyJjbGFzcyI6Im1jZS1yZXNpemUtaGVscGVyIiwiZGF0YS1tY2UtYm9ndXMiOiJhbGwifSxoKyIgJnRpbWVzOyAiK3YpfSksbi5lbG09dCxOLnNldFN0eWxlcyh0LHtsZWZ0OnIqblswXStwLXQub2Zmc2V0V2lkdGgvMix0b3A6bypuWzFdK2ctdC5vZmZzZXRIZWlnaHQvMn0pfSk6TCgpLHUuc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIsIjEiKX0sTD1mdW5jdGlvbigpe3ZhciBlLHQ7Zm9yKGUgaW4gRigpLHUmJnUucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpLGwpKHQ9Ti5nZXQoIm1jZVJlc2l6ZUhhbmRsZSIrZSkpJiYoTi51bmJpbmQodCksTi5yZW1vdmUodCkpfSxJPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZnVuY3Rpb24oZSx0KXtpZihlKWRve2lmKGU9PT10KXJldHVybiEwfXdoaWxlKGU9ZS5wYXJlbnROb2RlKX07aXx8YS5yZW1vdmVkfHwoRShOLnNlbGVjdCgiaW1nW2RhdGEtbWNlLXNlbGVjdGVkXSxocltkYXRhLW1jZS1zZWxlY3RlZF0iKSxmdW5jdGlvbihlKXtlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc2VsZWN0ZWQiKX0pLHQ9Im1vdXNlZG93biI9PT1lLnR5cGU/ZS50YXJnZXQ6ci5nZXROb2RlKCksbih0PU4uJCh0KS5jbG9zZXN0KCJ0YWJsZSxpbWcsZmlndXJlLmltYWdlLGhyIilbMF0sUikmJih6KCksbihyLmdldFN0YXJ0KCEwKSx0KSYmbihyLmdldEVuZCghMCksdCkpP28odCk6TCgpKX0sTT1mdW5jdGlvbihlKXtyZXR1cm4gWXkoZnVuY3Rpb24oZSx0KXtmb3IoO3QmJnQhPT1lOyl7aWYoR3kodCl8fFl5KHQpKXJldHVybiB0O3Q9dC5wYXJlbnROb2RlfXJldHVybiBudWxsfShhLmdldEJvZHkoKSxlKSl9LEY9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gbCl7dmFyIHQ9bFtlXTt0LmVsbSYmKE4udW5iaW5kKHQuZWxtKSxkZWxldGUgdC5lbG0pfX0sej1mdW5jdGlvbigpe3RyeXthLmdldERvYygpLmV4ZWNDb21tYW5kKCJlbmFibGVPYmplY3RSZXNpemluZyIsITEsITEpfWNhdGNoKGUpe319O3JldHVybiBhLm9uKCJpbml0IixmdW5jdGlvbigpe3ooKSx2ZS5pZSYmMTE8PXZlLmllJiYoYS5vbigibW91c2Vkb3duIGNsaWNrIixmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldCxuPXQubm9kZU5hbWU7aXx8IS9eKFRBQkxFfElNR3xIUikkLy50ZXN0KG4pfHxNKHQpfHwoMiE9PWUuYnV0dG9uJiZhLnNlbGVjdGlvbi5zZWxlY3QodCwiVEFCTEUiPT09biksIm1vdXNlZG93biI9PT1lLnR5cGUmJmEubm9kZUNoYW5nZWQoKSl9KSxhLmRvbS5iaW5kKFIsIm1zY29udHJvbHNlbGVjdCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7d2Uuc2V0RWRpdG9yVGltZW91dChhLGZ1bmN0aW9uKCl7YS5zZWxlY3Rpb24uc2VsZWN0KGUpfSl9O2lmKE0oZS50YXJnZXQpKXJldHVybiBlLnByZXZlbnREZWZhdWx0KCksdm9pZCB0KGUudGFyZ2V0KTsvXihUQUJMRXxJTUd8SFIpJC8udGVzdChlLnRhcmdldC5ub2RlTmFtZSkmJihlLnByZXZlbnREZWZhdWx0KCksIklNRyI9PT1lLnRhcmdldC50YWdOYW1lJiZ0KGUudGFyZ2V0KSl9KSk7dmFyIHQ9d2UudGhyb3R0bGUoZnVuY3Rpb24oZSl7YS5jb21wb3Npbmd8fEkoZSl9KTthLm9uKCJub2RlY2hhbmdlIFJlc2l6ZUVkaXRvciBSZXNpemVXaW5kb3cgZHJvcCBGdWxsc2NyZWVuU3RhdGVDaGFuZ2VkIix0KSxhLm9uKCJrZXl1cCBjb21wb3NpdGlvbmVuZCIsZnVuY3Rpb24oZSl7dSYmIlRBQkxFIj09PXUubm9kZU5hbWUmJnQoZSl9KSxhLm9uKCJoaWRlIGJsdXIiLEwpLGEub24oImNvbnRleHRtZW51IixuKX0pLGEub24oInJlbW92ZSIsRikse2lzUmVzaXphYmxlOkQsc2hvd1Jlc2l6ZVJlY3Q6byxoaWRlUmVzaXplUmVjdDpMLHVwZGF0ZVJlc2l6ZVJlY3Q6SSxkZXN0cm95OmZ1bmN0aW9uKCl7dT1zPW51bGx9fX0sUXk9ZnVuY3Rpb24oZSl7cmV0dXJuIE9vLmlzQ29udGVudEVkaXRhYmxlVHJ1ZShlKXx8T28uaXNDb250ZW50RWRpdGFibGVGYWxzZShlKX0sWnk9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscz1uO2lmKHMuY2FyZXRQb3NpdGlvbkZyb21Qb2ludCkobz1zLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoZSx0KSkmJigocj1uLmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KG8ub2Zmc2V0Tm9kZSxvLm9mZnNldCksci5jb2xsYXBzZSghMCkpO2Vsc2UgaWYobi5jYXJldFJhbmdlRnJvbVBvaW50KXI9bi5jYXJldFJhbmdlRnJvbVBvaW50KGUsdCk7ZWxzZSBpZihzLmJvZHkuY3JlYXRlVGV4dFJhbmdlKXtyPXMuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTt0cnl7ci5tb3ZlVG9Qb2ludChlLHQpLHIuY29sbGFwc2UoITApfWNhdGNoKGMpe3I9ZnVuY3Rpb24oZSxuLHQpe3ZhciByLG8saTtpZihyPXQuZWxlbWVudEZyb21Qb2ludChlLG4pLG89dC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpLHImJiJIVE1MIiE9PXIudGFnTmFtZXx8KHI9dC5ib2R5KSxvLm1vdmVUb0VsZW1lbnRUZXh0KHIpLDA8KGk9KGk9SXQudG9BcnJheShvLmdldENsaWVudFJlY3RzKCkpKS5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuKGU9TWF0aC5hYnMoTWF0aC5tYXgoZS50b3AtbixlLmJvdHRvbS1uKSkpLSh0PU1hdGguYWJzKE1hdGgubWF4KHQudG9wLW4sdC5ib3R0b20tbikpKX0pKS5sZW5ndGgpe249KGlbMF0uYm90dG9tK2lbMF0udG9wKS8yO3RyeXtyZXR1cm4gby5tb3ZlVG9Qb2ludChlLG4pLG8uY29sbGFwc2UoITApLG99Y2F0Y2goYSl7fX1yZXR1cm4gbnVsbH0oZSx0LG4pfXJldHVybiBpPXIsYT1uLmJvZHksdT1pJiZpLnBhcmVudEVsZW1lbnQ/aS5wYXJlbnRFbGVtZW50KCk6bnVsbCxPby5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlKGZ1bmN0aW9uKGUsdCxuKXtmb3IoO2UmJmUhPT10Oyl7aWYobihlKSlyZXR1cm4gZTtlPWUucGFyZW50Tm9kZX1yZXR1cm4gbnVsbH0odSxhLFF5KSk/bnVsbDppfXJldHVybiByfSxlYj1mdW5jdGlvbihuLGUpe3JldHVybiBILm1hcChlLGZ1bmN0aW9uKGUpe3ZhciB0PW4uZmlyZSgiR2V0U2VsZWN0aW9uUmFuZ2UiLHtyYW5nZTplfSk7cmV0dXJuIHQucmFuZ2UhPT1lP3QucmFuZ2U6ZX0pfSx0Yj1mdW5jdGlvbihlLHQpe3JldHVybiBWbi5mcm9tRG9tKGUuZG9tKCkuY2xvbmVOb2RlKHQpKX0sbmI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRiKGUsITApfSxyYj1mdW5jdGlvbihlKXtyZXR1cm4gdGIoZSwhMSl9LG9iPW5iLGliPWZ1bmN0aW9uKGUsdCl7dmFyIG49KHR8fGRvY3VtZW50KS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cmV0dXJuIEguZWFjaChlLGZ1bmN0aW9uKGUpe24uYXBwZW5kQ2hpbGQoZS5kb20oKSl9KSxWbi5mcm9tRG9tKG4pfSxhYj1rci5pbW11dGFibGUoImVsZW1lbnQiLCJ3aWR0aCIsInJvd3MiKSx1Yj1rci5pbW11dGFibGUoImVsZW1lbnQiLCJjZWxscyIpLHNiPWtyLmltbXV0YWJsZSgieCIsInkiKSxjYj1mdW5jdGlvbihlLHQpe3ZhciBuPXBhcnNlSW50KGxyLmdldChlLHQpLDEwKTtyZXR1cm4gaXNOYU4obik/MTpufSxsYj1mdW5jdGlvbihlKXtyZXR1cm4gSC5mb2xkbChlLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuY2VsbHMoKS5sZW5ndGg+ZT90LmNlbGxzKCkubGVuZ3RoOmV9LDApfSxmYj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLnJvd3MoKSxyPTA7cjxuLmxlbmd0aDtyKyspZm9yKHZhciBvPW5bcl0uY2VsbHMoKSxpPTA7aTxvLmxlbmd0aDtpKyspaWYoTXIuZXEob1tpXSx0KSlyZXR1cm4gQS5zb21lKHNiKGkscikpO3JldHVybiBBLm5vbmUoKX0sZGI9ZnVuY3Rpb24oZSx0LG4scixvKXtmb3IodmFyIGk9W10sYT1lLnJvd3MoKSx1PW47dTw9bzt1Kyspe3ZhciBzPWFbdV0uY2VsbHMoKSxjPXQ8cj9zLnNsaWNlKHQscisxKTpzLnNsaWNlKHIsdCsxKTtpLnB1c2godWIoYVt1XS5lbGVtZW50KCksYykpfXJldHVybiBpfSxtYj1mdW5jdGlvbihlKXt2YXIgbz1hYihyYihlKSwwLFtdKTtyZXR1cm4gSC5lYWNoKGh1KGUsInRyIiksZnVuY3Rpb24obixyKXtILmVhY2goaHUobiwidGQsdGgiKSxmdW5jdGlvbihlLHQpeyFmdW5jdGlvbihlLHQsbixyLG8pe2Zvcih2YXIgaT1jYihvLCJyb3dzcGFuIiksYT1jYihvLCJjb2xzcGFuIiksdT1lLnJvd3MoKSxzPW47czxuK2k7cysrKXt1W3NdfHwodVtzXT11YihvYihyKSxbXSkpO2Zvcih2YXIgYz10O2M8dCthO2MrKyl1W3NdLmNlbGxzKClbY109cz09PW4mJmM9PT10P286cmIobyl9fShvLGZ1bmN0aW9uKGUsdCxuKXtmb3IoO3I9dCxvPW4saT12b2lkIDAsKChpPWUucm93cygpKVtvXT9pW29dLmNlbGxzKCk6W10pW3JdOyl0Kys7dmFyIHIsbyxpO3JldHVybiB0fShvLHQscikscixuLGUpfSl9KSxhYihvLmVsZW1lbnQoKSxsYihvLnJvd3MoKSksby5yb3dzKCkpfSxwYj1mdW5jdGlvbihlKXtyZXR1cm4gaT10PWUsbj1ILm1hcChpLnJvd3MoKSxmdW5jdGlvbihlKXt2YXIgdD1ILm1hcChlLmNlbGxzKCksZnVuY3Rpb24oZSl7dmFyIHQ9b2IoZSk7cmV0dXJuIGxyLnJlbW92ZSh0LCJjb2xzcGFuIiksbHIucmVtb3ZlKHQsInJvd3NwYW4iKSx0fSksbj1yYihlLmVsZW1lbnQoKSk7cmV0dXJuIHFjKG4sdCksbn0pLHI9cmIodC5lbGVtZW50KCkpLG89Vm4uZnJvbVRhZygidGJvZHkiKSxxYyhvLG4pLEh1LmFwcGVuZChyLG8pLHI7dmFyIHQsbixyLG8saX0sZ2I9ZnVuY3Rpb24obCxlLHQpe3JldHVybiBmYihsLGUpLmJpbmQoZnVuY3Rpb24oYyl7cmV0dXJuIGZiKGwsdCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0PWwscj1lLG89KG49YykueCgpLGk9bi55KCksYT1yLngoKSx1PXIueSgpLHM9aTx1P2RiKHQsbyxpLGEsdSk6ZGIodCxvLHUsYSxpKSxhYih0LmVsZW1lbnQoKSxsYihzKSxzKTt2YXIgdCxuLHIsbyxpLGEsdSxzfSl9KX0saGI9ZnVuY3Rpb24obix0KXtyZXR1cm4gSC5maW5kKG4sZnVuY3Rpb24oZSl7cmV0dXJuImxpIj09PVpuLm5hbWUoZSkmJlJnKGUsdCl9KS5mb2xkKFYuY29uc3RhbnQoW10pLGZ1bmN0aW9uKGUpe3JldHVybih0PW4sSC5maW5kKHQsZnVuY3Rpb24oZSl7cmV0dXJuInVsIj09PVpuLm5hbWUoZSl8fCJvbCI9PT1abi5uYW1lKGUpfSkpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5bVm4uZnJvbVRhZygibGkiKSxWbi5mcm9tVGFnKFpuLm5hbWUoZSkpXX0pLmdldE9yKFtdKTt2YXIgdH0pfSx2Yj1mdW5jdGlvbihlLHQpe3ZhciBuLHI9Vm4uZnJvbURvbSh0LmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKSxvPWpsKHIsZSksaT1ILmZpbHRlcihvLGZ1bmN0aW9uKGUpe3JldHVybiBwbyhlKXx8Zm8oZSl9KSxhPWhiKG8sdCksdT1pLmNvbmNhdChhLmxlbmd0aD9hOnlvKG49cik/JHIucGFyZW50KG4pLmZpbHRlcih2bykuZm9sZChWLmNvbnN0YW50KFtdKSxmdW5jdGlvbihlKXtyZXR1cm5bbixlXX0pOnZvKG4pP1tuXTpbXSk7cmV0dXJuIEgubWFwKHUscmIpfSx5Yj1mdW5jdGlvbigpe3JldHVybiBpYihbXSl9LGJiPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG49Vm4uZnJvbURvbSh0LmNsb25lQ29udGVudHMoKSkscj12YihlLHQpLG89SC5mb2xkbChyLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEh1LmFwcGVuZCh0LGUpLHR9LG4pLDA8ci5sZW5ndGg/aWIoW29dKTpvO3ZhciBuLHIsb30sQ2I9ZnVuY3Rpb24oZSxvKXtyZXR1cm4odD1lLG49b1swXSxrbChuLCJ0YWJsZSIsVi5jdXJyeShNci5lcSx0KSkpLmJpbmQoZnVuY3Rpb24oZSl7dmFyIHQ9b1swXSxuPW9bby5sZW5ndGgtMV0scj1tYihlKTtyZXR1cm4gZ2Iocix0LG4pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gaWIoW3BiKGUpXSl9KX0pLmdldE9yVGh1bmsoeWIpO3ZhciB0LG59LHhiPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvPVBkKHQsZSk7cmV0dXJuIDA8by5sZW5ndGg/Q2IoZSxvKToobj1lLDA8KHI9dCkubGVuZ3RoJiZyWzBdLmNvbGxhcHNlZD95YigpOmJiKG4sclswXSkpfSx3Yj1mdW5jdGlvbihlLHQpe3ZhciBuLHI9ZS5zZWxlY3Rpb24uZ2V0Um5nKCksbz1lLmRvbS5jcmVhdGUoImJvZHkiKSxpPWUuc2VsZWN0aW9uLmdldFNlbCgpLGE9ZWIoZSxBZChpKSk7aWYoKHQ9dHx8e30pLmdldD0hMCx0LmZvcm1hdD10LmZvcm1hdHx8Imh0bWwiLHQuc2VsZWN0aW9uPSEwLCh0PWUuZmlyZSgiQmVmb3JlR2V0Q29udGVudCIsdCkpLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiBlLmZpcmUoIkdldENvbnRlbnQiLHQpLHQuY29udGVudDtpZigidGV4dCI9PT10LmZvcm1hdClyZXR1cm4gZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKT8iIjpfaShyLnRleHR8fChpLnRvU3RyaW5nP2kudG9TdHJpbmcoKToiIikpO3IuY2xvbmVDb250ZW50cz8obj10LmNvbnRleHR1YWw/eGIoVm4uZnJvbURvbShlLmdldEJvZHkoKSksYSkuZG9tKCk6ci5jbG9uZUNvbnRlbnRzKCkpJiZvLmFwcGVuZENoaWxkKG4pOnIuaXRlbSE9PXVuZGVmaW5lZHx8ci5odG1sVGV4dCE9PXVuZGVmaW5lZD8oby5pbm5lckhUTUw9Ijxicj4iKyhyLml0ZW0/ci5pdGVtKDApLm91dGVySFRNTDpyLmh0bWxUZXh0KSxvLnJlbW92ZUNoaWxkKG8uZmlyc3RDaGlsZCkpOm8uaW5uZXJIVE1MPXIudG9TdHJpbmcoKSx0LmdldElubmVyPSEwO3ZhciB1PWUuc2VsZWN0aW9uLnNlcmlhbGl6ZXIuc2VyaWFsaXplKG8sdCk7cmV0dXJuInRyZWUiPT09dC5mb3JtYXQ/dToodC5jb250ZW50PWUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCk/IiI6dSxlLmZpcmUoIkdldENvbnRlbnQiLHQpLHQuY29udGVudCl9LE5iPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYT1lLnNlbGVjdGlvbi5nZXRSbmcoKSx1PWUuZ2V0RG9jKCk7aWYoKG49bnx8e2Zvcm1hdDoiaHRtbCJ9KS5zZXQ9ITAsbi5zZWxlY3Rpb249ITAsbi5jb250ZW50PXQsbi5ub19ldmVudHN8fCEobj1lLmZpcmUoIkJlZm9yZVNldENvbnRlbnQiLG4pKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7aWYodD1uLmNvbnRlbnQsYS5pbnNlcnROb2RlKXt0Kz0nPHNwYW4gaWQ9Il9fY2FyZXQiPl88L3NwYW4+JyxhLnN0YXJ0Q29udGFpbmVyPT09dSYmYS5lbmRDb250YWluZXI9PT11P3UuYm9keS5pbm5lckhUTUw9dDooYS5kZWxldGVDb250ZW50cygpLDA9PT11LmJvZHkuY2hpbGROb2Rlcy5sZW5ndGg/dS5ib2R5LmlubmVySFRNTD10OmEuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50P2EuaW5zZXJ0Tm9kZShhLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCh0KSk6KG89dS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksaT11LmNyZWF0ZUVsZW1lbnQoImRpdiIpLG8uYXBwZW5kQ2hpbGQoaSksaS5vdXRlckhUTUw9dCxhLmluc2VydE5vZGUobykpKSxyPWUuZG9tLmdldCgiX19jYXJldCIpLChhPXUuY3JlYXRlUmFuZ2UoKSkuc2V0U3RhcnRCZWZvcmUociksYS5zZXRFbmRCZWZvcmUociksZS5zZWxlY3Rpb24uc2V0Um5nKGEpLGUuZG9tLnJlbW92ZSgiX19jYXJldCIpO3RyeXtlLnNlbGVjdGlvbi5zZXRSbmcoYSl9Y2F0Y2gocyl7fX1lbHNlIGEuaXRlbSYmKHUuZXhlY0NvbW1hbmQoIkRlbGV0ZSIsITEsbnVsbCksYT1lLmdldFJuZygpKSwvXlxzKy8udGVzdCh0KT8oYS5wYXN0ZUhUTUwoJzxzcGFuIGlkPSJfX21jZV90bXAiPl88L3NwYW4+Jyt0KSxlLmRvbS5yZW1vdmUoIl9fbWNlX3RtcCIpKTphLnBhc3RlSFRNTCh0KTtuLm5vX2V2ZW50c3x8ZS5maXJlKCJTZXRDb250ZW50IixuKX1lbHNlIGUuZmlyZSgiU2V0Q29udGVudCIsbil9LEViPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGk9bj90LnN0YXJ0Q29udGFpbmVyOnQuZW5kQ29udGFpbmVyLGE9bj90LnN0YXJ0T2Zmc2V0OnQuZW5kT2Zmc2V0O3JldHVybiBBLmZyb20oaSkubWFwKFZuLmZyb21Eb20pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gciYmdC5jb2xsYXBzZWQ/ZTokci5jaGlsZChlLG8oZSxhKSkuZ2V0T3IoZSl9KS5iaW5kKGZ1bmN0aW9uKGUpe3JldHVybiBabi5pc0VsZW1lbnQoZSk/QS5zb21lKGUpOiRyLnBhcmVudChlKX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5kb20oKX0pLmdldE9yKGUpfSxTYj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEViKGUsdCwhMCxuLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGgubWluKCRyLmNoaWxkTm9kZXNDb3VudChlKSx0KX0pfSxrYj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEViKGUsdCwhMSxuLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA8dD90LTE6dH0pfSxUYj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lO2UmJk9vLmlzVGV4dChlKSYmMD09PWUubGVuZ3RoOyllPXQ/ZS5uZXh0U2libGluZzplLnByZXZpb3VzU2libGluZztyZXR1cm4gZXx8bn0sQWI9SXQuZWFjaCxSYj1mdW5jdGlvbihlKXtyZXR1cm4hIWUuc2VsZWN0fSxfYj1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS5vd25lckRvY3VtZW50KSYmTXIuY29udGFpbnMoVm4uZnJvbURvbShlLm93bmVyRG9jdW1lbnQpLFZuLmZyb21Eb20oZSkpfSxCYj1mdW5jdGlvbih1LHMsZSxjKXt2YXIgbix0LGwsZixhLHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTmIoYyxlLHQpfSxvPWZ1bmN0aW9uKGUpe3ZhciB0PW0oKTt0LmNvbGxhcHNlKCEhZSksaSh0KX0sZD1mdW5jdGlvbigpe3JldHVybiBzLmdldFNlbGVjdGlvbj9zLmdldFNlbGVjdGlvbigpOnMuZG9jdW1lbnQuc2VsZWN0aW9ufSxtPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsbz1mdW5jdGlvbihlLHQsbil7dHJ5e3JldHVybiB0LmNvbXBhcmVCb3VuZGFyeVBvaW50cyhlLG4pfWNhdGNoKHIpe3JldHVybi0xfX07aWYoIXMpcmV0dXJuIG51bGw7aWYobnVsbD09KHI9cy5kb2N1bWVudCkpcmV0dXJuIG51bGw7aWYoYy5ib29rbWFyayE9PXVuZGVmaW5lZCYmITE9PT16cChjKSl7dmFyIGk9TW0oYyk7aWYoaS5pc1NvbWUoKSlyZXR1cm4gaS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGViKGMsW2VdKVswXX0pLmdldE9yKHIuY3JlYXRlUmFuZ2UoKSl9dHJ5eyhlPWQoKSkmJih0PTA8ZS5yYW5nZUNvdW50P2UuZ2V0UmFuZ2VBdCgwKTplLmNyZWF0ZVJhbmdlP2UuY3JlYXRlUmFuZ2UoKTpyLmNyZWF0ZVJhbmdlKCkpfWNhdGNoKGEpe31yZXR1cm4odD1lYihjLFt0XSlbMF0pfHwodD1yLmNyZWF0ZVJhbmdlP3IuY3JlYXRlUmFuZ2UoKTpyLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCkpLHQuc2V0U3RhcnQmJjk9PT10LnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlJiZ0LmNvbGxhcHNlZCYmKG49dS5nZXRSb290KCksdC5zZXRTdGFydChuLDApLHQuc2V0RW5kKG4sMCkpLGwmJmYmJigwPT09byh0LlNUQVJUX1RPX1NUQVJULHQsbCkmJjA9PT1vKHQuRU5EX1RPX0VORCx0LGwpP3Q9ZjpmPWw9bnVsbCksdH0saT1mdW5jdGlvbihlLHQpe3ZhciBuLHI7aWYoKG89ZSkmJihSYihvKXx8X2Ioby5zdGFydENvbnRhaW5lcikmJl9iKG8uZW5kQ29udGFpbmVyKSkpe3ZhciBvLGk9UmIoZSk/ZTpudWxsO2lmKGkpe2Y9bnVsbDt0cnl7aS5zZWxlY3QoKX1jYXRjaChhKXt9fWVsc2V7aWYobj1kKCksZT1jLmZpcmUoIlNldFNlbGVjdGlvblJhbmdlIix7cmFuZ2U6ZSxmb3J3YXJkOnR9KS5yYW5nZSxuKXtmPWU7dHJ5e24ucmVtb3ZlQWxsUmFuZ2VzKCksbi5hZGRSYW5nZShlKX1jYXRjaChhKXt9ITE9PT10JiZuLmV4dGVuZCYmKG4uY29sbGFwc2UoZS5lbmRDb250YWluZXIsZS5lbmRPZmZzZXQpLG4uZXh0ZW5kKGUuc3RhcnRDb250YWluZXIsZS5zdGFydE9mZnNldCkpLGw9MDxuLnJhbmdlQ291bnQ/bi5nZXRSYW5nZUF0KDApOm51bGx9ZS5jb2xsYXBzZWR8fGUuc3RhcnRDb250YWluZXIhPT1lLmVuZENvbnRhaW5lcnx8IW4uc2V0QmFzZUFuZEV4dGVudHx8dmUuaWV8fGUuZW5kT2Zmc2V0LWUuc3RhcnRPZmZzZXQ8MiYmZS5zdGFydENvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkmJihyPWUuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tlLnN0YXJ0T2Zmc2V0XSkmJiJJTUciPT09ci50YWdOYW1lJiYobi5zZXRCYXNlQW5kRXh0ZW50KGUuc3RhcnRDb250YWluZXIsZS5zdGFydE9mZnNldCxlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCksbi5hbmNob3JOb2RlPT09ZS5zdGFydENvbnRhaW5lciYmbi5mb2N1c05vZGU9PT1lLmVuZENvbnRhaW5lcnx8bi5zZXRCYXNlQW5kRXh0ZW50KHIsMCxyLDEpKSxjLmZpcmUoIkFmdGVyU2V0U2VsZWN0aW9uUmFuZ2UiLHtyYW5nZTplLGZvcndhcmQ6dH0pfX19LHA9ZnVuY3Rpb24oKXt2YXIgZSx0LG49ZCgpO3JldHVybiEobiYmbi5hbmNob3JOb2RlJiZuLmZvY3VzTm9kZSl8fCgoZT11LmNyZWF0ZVJuZygpKS5zZXRTdGFydChuLmFuY2hvck5vZGUsbi5hbmNob3JPZmZzZXQpLGUuY29sbGFwc2UoITApLCh0PXUuY3JlYXRlUm5nKCkpLnNldFN0YXJ0KG4uZm9jdXNOb2RlLG4uZm9jdXNPZmZzZXQpLHQuY29sbGFwc2UoITApLGUuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGUuU1RBUlRfVE9fU1RBUlQsdCk8PTApfSxnPXtib29rbWFya01hbmFnZXI6bnVsbCxjb250cm9sU2VsZWN0aW9uOm51bGwsZG9tOnUsd2luOnMsc2VyaWFsaXplcjplLGVkaXRvcjpjLGNvbGxhcHNlOm8sc2V0Q3Vyc29yTG9jYXRpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj11LmNyZWF0ZVJuZygpO2U/KG4uc2V0U3RhcnQoZSx0KSxuLnNldEVuZChlLHQpLGkobiksbyghMSkpOihfZyh1LG4sYy5nZXRCb2R5KCksITApLGkobikpfSxnZXRDb250ZW50OmZ1bmN0aW9uKGUpe3JldHVybiB3YihjLGUpfSxzZXRDb250ZW50OnIsZ2V0Qm9va21hcms6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5nZXRCb29rbWFyayhlLHQpfSxtb3ZlVG9Cb29rbWFyazpmdW5jdGlvbihlKXtyZXR1cm4gbi5tb3ZlVG9Cb29rbWFyayhlKX0sc2VsZWN0OmZ1bmN0aW9uKGUsdCl7dmFyIHIsbixvO3JldHVybihyPXUsbj1lLG89dCxBLmZyb20obikubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PXIubm9kZUluZGV4KGUpLG49ci5jcmVhdGVSbmcoKTtyZXR1cm4gbi5zZXRTdGFydChlLnBhcmVudE5vZGUsdCksbi5zZXRFbmQoZS5wYXJlbnROb2RlLHQrMSksbyYmKF9nKHIsbixlLCEwKSxfZyhyLG4sZSwhMSkpLG59KSkuZWFjaChpKSxlfSxpc0NvbGxhcHNlZDpmdW5jdGlvbigpe3ZhciBlPW0oKSx0PWQoKTtyZXR1cm4hKCFlfHxlLml0ZW0pJiYoZS5jb21wYXJlRW5kUG9pbnRzPzA9PT1lLmNvbXBhcmVFbmRQb2ludHMoIlN0YXJ0VG9FbmQiLGUpOiF0fHxlLmNvbGxhcHNlZCl9LGlzRm9yd2FyZDpwLHNldE5vZGU6ZnVuY3Rpb24oZSl7cmV0dXJuIHIodS5nZXRPdXRlckhUTUwoZSkpLGV9LGdldE5vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gZT1jLmdldEJvZHkoKSwodD1tKCkpPyhyPXQuc3RhcnRDb250YWluZXIsbz10LmVuZENvbnRhaW5lcixpPXQuc3RhcnRPZmZzZXQsYT10LmVuZE9mZnNldCxuPXQuY29tbW9uQW5jZXN0b3JDb250YWluZXIsIXQuY29sbGFwc2VkJiYocj09PW8mJmEtaTwyJiZyLmhhc0NoaWxkTm9kZXMoKSYmKG49ci5jaGlsZE5vZGVzW2ldKSwzPT09ci5ub2RlVHlwZSYmMz09PW8ubm9kZVR5cGUmJihyPXIubGVuZ3RoPT09aT9UYihyLm5leHRTaWJsaW5nLCEwKTpyLnBhcmVudE5vZGUsbz0wPT09YT9UYihvLnByZXZpb3VzU2libGluZywhMSk6by5wYXJlbnROb2RlLHImJnI9PT1vKSk/cjpuJiYzPT09bi5ub2RlVHlwZT9uLnBhcmVudE5vZGU6bik6ZTt2YXIgZSx0LG4scixvLGksYX0sZ2V0U2VsOmQsc2V0Um5nOmksZ2V0Um5nOm0sZ2V0U3RhcnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFNiKGMuZ2V0Qm9keSgpLG0oKSxlKX0sZ2V0RW5kOmZ1bmN0aW9uKGUpe3JldHVybiBrYihjLmdldEJvZHkoKSxtKCksZSl9LGdldFNlbGVjdGVkQmxvY2tzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYT1bXTtpZihpPWUuZ2V0Um9vdCgpLG49ZS5nZXRQYXJlbnQobnx8U2IoaSx0LCExKSxlLmlzQmxvY2spLHI9ZS5nZXRQYXJlbnQocnx8a2IoaSx0LCExKSxlLmlzQmxvY2spLG4mJm4hPT1pJiZhLnB1c2gobiksbiYmciYmbiE9PXIpZm9yKHZhciB1PW5ldyBhbyhvPW4saSk7KG89dS5uZXh0KCkpJiZvIT09cjspZS5pc0Jsb2NrKG8pJiZhLnB1c2gobyk7cmV0dXJuIHImJm4hPT1yJiZyIT09aSYmYS5wdXNoKHIpLGF9KHUsbSgpLGUsdCl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe3ZhciBlPW0oKSx0PWQoKTtpZighX2QodCkmJkJnKGMpKXt2YXIgbj11bSh1LGUpO3JldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7aShlLHAoKSl9KSxuLmdldE9yKGUpfXJldHVybiBlfSxzZWxlY3RvckNoYW5nZWQ6ZnVuY3Rpb24oZSx0KXt2YXIgaTtyZXR1cm4gYXx8KGE9e30saT17fSxjLm9uKCJOb2RlQ2hhbmdlIixmdW5jdGlvbihlKXt2YXIgbj1lLmVsZW1lbnQscj11LmdldFBhcmVudHMobixudWxsLHUuZ2V0Um9vdCgpKSxvPXt9O0FiKGEsZnVuY3Rpb24oZSxuKXtBYihyLGZ1bmN0aW9uKHQpe2lmKHUuaXModCxuKSlyZXR1cm4gaVtuXXx8KEFiKGUsZnVuY3Rpb24oZSl7ZSghMCx7bm9kZTp0LHNlbGVjdG9yOm4scGFyZW50czpyfSl9KSxpW25dPWUpLG9bbl09ZSwhMX0pfSksQWIoaSxmdW5jdGlvbihlLHQpe29bdF18fChkZWxldGUgaVt0XSxBYihlLGZ1bmN0aW9uKGUpe2UoITEse25vZGU6bixzZWxlY3Rvcjp0LHBhcmVudHM6cn0pfSkpfSl9KSksYVtlXXx8KGFbZV09W10pLGFbZV0ucHVzaCh0KSxnfSxnZXRTY3JvbGxDb250YWluZXI6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD11LmdldFJvb3QoKTt0JiYiQk9EWSIhPT10Lm5vZGVOYW1lOyl7aWYodC5zY3JvbGxIZWlnaHQ+dC5jbGllbnRIZWlnaHQpe2U9dDticmVha310PXQucGFyZW50Tm9kZX1yZXR1cm4gZX0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTnUoYyxlLHQpfSxwbGFjZUNhcmV0QXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShaeShlLHQsYy5nZXREb2MoKSkpfSxnZXRCb3VuZGluZ0NsaWVudFJlY3Q6ZnVuY3Rpb24oKXt2YXIgZT1tKCk7cmV0dXJuIGUuY29sbGFwc2VkP0xhLmZyb21SYW5nZVN0YXJ0KGUpLmdldENsaWVudFJlY3RzKClbMF06ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX0sZGVzdHJveTpmdW5jdGlvbigpe3M9bD1mPW51bGwsdC5kZXN0cm95KCl9fTtyZXR1cm4gbj1YeShnKSx0PUp5KGcsYyksZy5ib29rbWFya01hbmFnZXI9bixnLmNvbnRyb2xTZWxlY3Rpb249dCxnfSxEYj1Pby5pc0NvbnRlbnRFZGl0YWJsZUZhbHNlLE9iPWFhLFBiPUJzLExiPV9zLEliPWZ1bmN0aW9uKGUsdCl7Zm9yKDt0PWUodCk7KWlmKHQuaXNWaXNpYmxlKCkpcmV0dXJuIHQ7cmV0dXJuIHR9LE1iPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYyxsPWU9PT1pdS5Gb3J3YXJkcyxmPWw/TGI6UGI7cmV0dXJuIXIuY29sbGFwc2VkJiYobz1PYihyKSxEYihvKSk/dHUoZSx0LG8sZT09PWl1LkJhY2t3YXJkcywhMCk6KHU9T2koci5zdGFydENvbnRhaW5lciksZihpPVJzKGUsdC5nZXRCb2R5KCkscikpP251KHQsaS5nZXROb2RlKCFsKSk6KGk9bihpKSk/ZihpKT90dShlLHQsaS5nZXROb2RlKCFsKSxsLCEwKTpmKGE9bihpKSkmJighKGM9YnMocz1pLGEpKSYmT28uaXNCcihzLmdldE5vZGUoKSl8fGMpP3R1KGUsdCxhLmdldE5vZGUoIWwpLGwsITApOnU/b3UodCxpLnRvUmFuZ2UoKSwhMCk6bnVsbDp1P3I6bnVsbCl9LEZiPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHMsYyxsLGYsZDtpZihkPU9iKHIpLG89UnMoZSx0LmdldEJvZHkoKSxyKSxpPW4odC5nZXRCb2R5KCksWWcoMSksbyksYT1CdC5maWx0ZXIoaSxHZygxKSkscz1CdC5sYXN0KG8uZ2V0Q2xpZW50UmVjdHMoKSksKExiKG8pfHxEcyhvKSkmJihkPW8uZ2V0Tm9kZSgpKSwoUGIobyl8fE9zKG8pKSYmKGQ9by5nZXROb2RlKCEwKSksIXMpcmV0dXJuIG51bGw7aWYoYz1zLmxlZnQsKHU9bmgoYSxjKSkmJkRiKHUubm9kZSkpcmV0dXJuIGw9TWF0aC5hYnMoYy11LmxlZnQpLGY9TWF0aC5hYnMoYy11LnJpZ2h0KSx0dShlLHQsdS5ub2RlLGw8ZiwhMCk7aWYoZCl7dmFyIG09ZnVuY3Rpb24oZSx0LG4scil7dmFyIG8saSxhLHUscyxjLGw9WXModCksZj1bXSxkPTAsbT1mdW5jdGlvbihlKXtyZXR1cm4gQnQubGFzdChlLmdldENsaWVudFJlY3RzKCkpfTsxPT09ZT8obz1sLm5leHQsaT1pYSxhPW9hLHU9TGEuYWZ0ZXIocikpOihvPWwucHJldixpPW9hLGE9aWEsdT1MYS5iZWZvcmUocikpLGM9bSh1KTtkb3tpZih1LmlzVmlzaWJsZSgpJiYhYShzPW0odSksYykpe2lmKDA8Zi5sZW5ndGgmJmkocyxCdC5sYXN0KGYpKSYmZCsrLChzPXRhKHMpKS5wb3NpdGlvbj11LHMubGluZT1kLG4ocykpcmV0dXJuIGY7Zi5wdXNoKHMpfX13aGlsZSh1PW8odSkpO3JldHVybiBmfShlLHQuZ2V0Qm9keSgpLFlnKDEpLGQpO2lmKHU9bmgoQnQuZmlsdGVyKG0sR2coMSkpLGMpKXJldHVybiBvdSh0LHUucG9zaXRpb24udG9SYW5nZSgpLCEwKTtpZih1PUJ0Lmxhc3QoQnQuZmlsdGVyKG0sR2coMCkpKSlyZXR1cm4gb3UodCx1LnBvc2l0aW9uLnRvUmFuZ2UoKSwhMCl9fSx6Yj1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdT1ZcyhlLmdldEJvZHkoKSkscz1kYS5jdXJyeShJYix1Lm5leHQpLGM9ZGEuY3VycnkoSWIsdS5wcmV2KTtpZihuLmNvbGxhcHNlZCYmZS5zZXR0aW5ncy5mb3JjZWRfcm9vdF9ibG9jayl7aWYoIShyPWUuZG9tLmdldFBhcmVudChuLnN0YXJ0Q29udGFpbmVyLCJQUkUiKSkpcmV0dXJuOygxPT09dD9zKExhLmZyb21SYW5nZVN0YXJ0KG4pKTpjKExhLmZyb21SYW5nZVN0YXJ0KG4pKSl8fChhPShpPWUpLmRvbS5jcmVhdGUoaS5zZXR0aW5ncy5mb3JjZWRfcm9vdF9ibG9jayksKCF2ZS5pZXx8MTE8PXZlLmllKSYmKGEuaW5uZXJIVE1MPSc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPicpLG89YSwxPT09dD9lLiQocikuYWZ0ZXIobyk6ZS4kKHIpLmJlZm9yZShvKSxlLnNlbGVjdGlvbi5zZWxlY3QobywhMCksZS5zZWxlY3Rpb24uY29sbGFwc2UoKSl9fSxVYj1mdW5jdGlvbihsLGYpe3JldHVybiBmdW5jdGlvbigpe3ZhciBlLHQsbixyLG8saSxhLHUscyxjPSh0PWYscj1ZcygoZT1sKS5nZXRCb2R5KCkpLG89ZGEuY3VycnkoSWIsci5uZXh0KSxpPWRhLmN1cnJ5KEliLHIucHJldiksYT10P2l1LkZvcndhcmRzOml1LkJhY2t3YXJkcyx1PXQ/bzppLHM9ZS5zZWxlY3Rpb24uZ2V0Um5nKCksKG49TWIoYSxlLHUscykpP246KG49emIoZSxhLHMpKXx8bnVsbCk7cmV0dXJuISFjJiYobC5zZWxlY3Rpb24uc2V0Um5nKGMpLCEwKX19LHFiPWZ1bmN0aW9uKHUscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsbyxpLGE9KHI9KHQ9cyk/MTotMSxvPXQ/WGc6S2csaT0oZT11KS5zZWxlY3Rpb24uZ2V0Um5nKCksKG49RmIocixlLG8saSkpP246KG49emIoZSxyLGkpKXx8bnVsbCk7cmV0dXJuISFhJiYodS5zZWxlY3Rpb24uc2V0Um5nKGEpLCEwKX19LFZiPWZ1bmN0aW9uKGUscil7cmV0dXJuIEguYmluZCgodD1lLEgubWFwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIHh5Lm1lcmdlKHtzaGlmdEtleTohMSxhbHRLZXk6ITEsY3RybEtleTohMSxtZXRhS2V5OiExLGtleUNvZGU6MCxhY3Rpb246Vi5ub29wfSxlKX0pKSxmdW5jdGlvbihlKXtyZXR1cm4gdD1lLChuPXIpLmtleUNvZGU9PT10LmtleUNvZGUmJm4uc2hpZnRLZXk9PT10LnNoaWZ0S2V5JiZuLmFsdEtleT09PXQuYWx0S2V5JiZuLmN0cmxLZXk9PT10LmN0cmxLZXkmJm4ubWV0YUtleT09PXQubWV0YUtleT9bZV06W107dmFyIHQsbn0pO3ZhciB0fSxIYj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkobnVsbCxyKX19LGpiPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEguZmluZChWYihlLHQpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmFjdGlvbigpfSl9LCRiPWZ1bmN0aW9uKGksYSl7aS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbixyLG87ITE9PT1lLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYodD1pLG49YSxyPWUsbz1Vbi5kZXRlY3QoKS5vcyxqYihbe2tleUNvZGU6c2guUklHSFQsYWN0aW9uOlViKHQsITApfSx7a2V5Q29kZTpzaC5MRUZULGFjdGlvbjpVYih0LCExKX0se2tleUNvZGU6c2guVVAsYWN0aW9uOnFiKHQsITEpfSx7a2V5Q29kZTpzaC5ET1dOLGFjdGlvbjpxYih0LCEwKX0se2tleUNvZGU6c2guUklHSFQsYWN0aW9uOmVzKHQsITApfSx7a2V5Q29kZTpzaC5MRUZULGFjdGlvbjplcyh0LCExKX0se2tleUNvZGU6c2guVVAsYWN0aW9uOnRzKHQsITEpfSx7a2V5Q29kZTpzaC5ET1dOLGFjdGlvbjp0cyh0LCEwKX0se2tleUNvZGU6c2guUklHSFQsYWN0aW9uOnNkLm1vdmUodCxuLCEwKX0se2tleUNvZGU6c2guTEVGVCxhY3Rpb246c2QubW92ZSh0LG4sITEpfSx7a2V5Q29kZTpzaC5SSUdIVCxjdHJsS2V5OiFvLmlzT1NYKCksYWx0S2V5Om8uaXNPU1goKSxhY3Rpb246c2QubW92ZU5leHRXb3JkKHQsbil9LHtrZXlDb2RlOnNoLkxFRlQsY3RybEtleTohby5pc09TWCgpLGFsdEtleTpvLmlzT1NYKCksYWN0aW9uOnNkLm1vdmVQcmV2V29yZCh0LG4pfV0scikuZWFjaChmdW5jdGlvbihlKXtyLnByZXZlbnREZWZhdWx0KCl9KSl9KX0sV2I9ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT0kci5jaGlsZHJlbihlKS5sZW5ndGh9LEtiPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvLGksYSx1LHM9Vi5jdXJyeShTdix0KSxjPUgubWFwKEguZmlsdGVyKHIscyksZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tKCl9KTtpZigwPT09Yy5sZW5ndGgpdmYodCxlLG4pO2Vsc2V7dmFyIGw9KG89bi5kb20oKSxpPWMsYT15dighMSksdT1OdihpLGEuZG9tKCkpLEh1LmJlZm9yZShWbi5mcm9tRG9tKG8pLGEpLEhjLnJlbW92ZShWbi5mcm9tRG9tKG8pKSxMYSh1LDApKTt0LnNlbGVjdGlvbi5zZXRSbmcobC50b1JhbmdlKCkpfX0sWGI9ZnVuY3Rpb24obixyKXt2YXIgdCxlPVZuLmZyb21Eb20obi5nZXRCb2R5KCkpLG89Vm4uZnJvbURvbShuLnNlbGVjdGlvbi5nZXRTdGFydCgpKSxpPUguZmlsdGVyKCh0PWpsKG8sZSksSC5maW5kSW5kZXgodCxtbykuZm9sZChWLmNvbnN0YW50KHQpLGZ1bmN0aW9uKGUpe3JldHVybiB0LnNsaWNlKDAsZSl9KSksV2IpO3JldHVybiBILmxhc3QoaSkubWFwKGZ1bmN0aW9uKGUpe3ZhciB0PUxhLmZyb21SYW5nZVN0YXJ0KG4uc2VsZWN0aW9uLmdldFJuZygpKTtyZXR1cm4hIUVsKHIsdCxlLmRvbSgpKSYmKEtiKHIsbixlLGkpLCEwKX0pLmdldE9yKCExKX0sWWI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIWUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJlhiKGUsdCl9LEdiPWZ1bmN0aW9uKG8saSl7by5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbixyOyExPT09ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHQ9byxuPWkscj1lLGpiKFt7a2V5Q29kZTpzaC5CQUNLU1BBQ0UsYWN0aW9uOkhiKENmLHQsITEpfSx7a2V5Q29kZTpzaC5ERUxFVEUsYWN0aW9uOkhiKENmLHQsITApfSx7a2V5Q29kZTpzaC5CQUNLU1BBQ0UsYWN0aW9uOkhiKGRkLHQsbiwhMSl9LHtrZXlDb2RlOnNoLkRFTEVURSxhY3Rpb246SGIoZGQsdCxuLCEwKX0se2tleUNvZGU6c2guQkFDS1NQQUNFLGFjdGlvbjpIYih0Zix0LCExKX0se2tleUNvZGU6c2guREVMRVRFLGFjdGlvbjpIYih0Zix0LCEwKX0se2tleUNvZGU6c2guQkFDS1NQQUNFLGFjdGlvbjpIYihKbCx0LCExKX0se2tleUNvZGU6c2guREVMRVRFLGFjdGlvbjpIYihKbCx0LCEwKX0se2tleUNvZGU6c2guQkFDS1NQQUNFLGFjdGlvbjpIYigkZCx0LCExKX0se2tleUNvZGU6c2guREVMRVRFLGFjdGlvbjpIYigkZCx0LCEwKX0se2tleUNvZGU6c2guQkFDS1NQQUNFLGFjdGlvbjpIYihZYix0LCExKX0se2tleUNvZGU6c2guREVMRVRFLGFjdGlvbjpIYihZYix0LCEwKX1dLHIpLmVhY2goZnVuY3Rpb24oZSl7ci5wcmV2ZW50RGVmYXVsdCgpfSkpfSksby5vbigia2V5dXAiLGZ1bmN0aW9uKGUpe3ZhciB0LG47ITE9PT1lLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYodD1vLG49ZSxqYihbe2tleUNvZGU6c2guQkFDS1NQQUNFLGFjdGlvbjpIYih4Zix0KX0se2tleUNvZGU6c2guREVMRVRFLGFjdGlvbjpIYih4Zix0KX1dLG4pKX0pfSxKYj1mdW5jdGlvbihlKXtyZXR1cm4gQS5mcm9tKGUuZG9tLmdldFBhcmVudChlLnNlbGVjdGlvbi5nZXRTdGFydCghMCksZS5kb20uaXNCbG9jaykpfSxRYj1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpPXQsYT1lLmRvbSx1PWUuc2NoZW1hLmdldE1vdmVDYXJldEJlZm9yZU9uRW50ZXJFbGVtZW50cygpO2lmKHQpe2lmKC9eKExJfERUfEREKSQvLnRlc3QodC5ub2RlTmFtZSkpe3ZhciBzPWZ1bmN0aW9uKGUpe2Zvcig7ZTspe2lmKDE9PT1lLm5vZGVUeXBlfHwzPT09ZS5ub2RlVHlwZSYmZS5kYXRhJiYvW1xyXG5cc10vLnRlc3QoZS5kYXRhKSlyZXR1cm4gZTtlPWUubmV4dFNpYmxpbmd9fSh0LmZpcnN0Q2hpbGQpO3MmJi9eKFVMfE9MfERMKSQvLnRlc3Qocy5ub2RlTmFtZSkmJnQuaW5zZXJ0QmVmb3JlKGEuZG9jLmNyZWF0ZVRleHROb2RlKCJceGEwIiksdC5maXJzdENoaWxkKX1pZihvPWEuY3JlYXRlUm5nKCksdC5ub3JtYWxpemUoKSx0Lmhhc0NoaWxkTm9kZXMoKSl7Zm9yKG49bmV3IGFvKHQsdCk7cj1uLmN1cnJlbnQoKTspe2lmKE9vLmlzVGV4dChyKSl7by5zZXRTdGFydChyLDApLG8uc2V0RW5kKHIsMCk7YnJlYWt9aWYodVtyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXtvLnNldFN0YXJ0QmVmb3JlKHIpLG8uc2V0RW5kQmVmb3JlKHIpO2JyZWFrfWk9cixyPW4ubmV4dCgpfXJ8fChvLnNldFN0YXJ0KGksMCksby5zZXRFbmQoaSwwKSl9ZWxzZSBPby5pc0JyKHQpP3QubmV4dFNpYmxpbmcmJmEuaXNCbG9jayh0Lm5leHRTaWJsaW5nKT8oby5zZXRTdGFydEJlZm9yZSh0KSxvLnNldEVuZEJlZm9yZSh0KSk6KG8uc2V0U3RhcnRBZnRlcih0KSxvLnNldEVuZEFmdGVyKHQpKTooby5zZXRTdGFydCh0LDApLG8uc2V0RW5kKHQsMCkpO2Uuc2VsZWN0aW9uLnNldFJuZyhvKSxhLnJlbW92ZSh2b2lkIDApLGUuc2VsZWN0aW9uLnNjcm9sbEludG9WaWV3KHQpfX0sWmI9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG89ZS5nZXRSb290KCk7Zm9yKG49dDtuIT09byYmImZhbHNlIiE9PWUuZ2V0Q29udGVudEVkaXRhYmxlKG4pOykidHJ1ZSI9PT1lLmdldENvbnRlbnRFZGl0YWJsZShuKSYmKHI9biksbj1uLnBhcmVudE5vZGU7cmV0dXJuIG4hPT1vP3I6b30sZUM9SmIsdEM9ZnVuY3Rpb24oZSl7cmV0dXJuIEpiKGUpLmZvbGQoVi5jb25zdGFudCgiIiksZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUudG9VcHBlckNhc2UoKX0pfSxuQz1mdW5jdGlvbihlKXtyZXR1cm4gSmIoZSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB5byhWbi5mcm9tRG9tKGUpKX0pLmlzU29tZSgpfSxyQz1mdW5jdGlvbihlLHQpe3JldHVybiBlJiZlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5ub2RlTmFtZT09PXR9LG9DPWZ1bmN0aW9uKGUpe3JldHVybiBlJiYvXihPTHxVTHxMSSkkLy50ZXN0KGUubm9kZU5hbWUpfSxpQz1mdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuL14oTEl8RFR8REQpJC8udGVzdCh0Lm5vZGVOYW1lKT90OmV9LGFDPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9ZVtuPyJmaXJzdENoaWxkIjoibGFzdENoaWxkIl07ciYmIU9vLmlzRWxlbWVudChyKTspcj1yW24/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIl07cmV0dXJuIHI9PT10fSx1Qz1mdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPWUuZG9tLGE9ZS5zZWxlY3Rpb24uZ2V0Um5nKCk7aWYobiE9PWUuZ2V0Qm9keSgpKXt2YXIgdTtvQyh1PW4pJiZvQyh1LnBhcmVudE5vZGUpJiYobz0iTEkiKTt2YXIgcyxjLGw9bz90KG8pOmkuY3JlYXRlKCJCUiIpO2lmKGFDKG4sciwhMCkmJmFDKG4sciwhMSkpckMobiwiTEkiKT9pLmluc2VydEFmdGVyKGwsaUMobikpOmkucmVwbGFjZShsLG4pO2Vsc2UgaWYoYUMobixyLCEwKSlyQyhuLCJMSSIpPyhpLmluc2VydEFmdGVyKGwsaUMobikpLGwuYXBwZW5kQ2hpbGQoaS5kb2MuY3JlYXRlVGV4dE5vZGUoIiAiKSksbC5hcHBlbmRDaGlsZChuKSk6bi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShsLG4pO2Vsc2UgaWYoYUMobixyLCExKSlpLmluc2VydEFmdGVyKGwsaUMobikpO2Vsc2V7bj1pQyhuKTt2YXIgZj1hLmNsb25lUmFuZ2UoKTtmLnNldFN0YXJ0QWZ0ZXIociksZi5zZXRFbmRBZnRlcihuKTt2YXIgZD1mLmV4dHJhY3RDb250ZW50cygpOyJMSSI9PT1vJiYoYz0iTEkiLChzPWQpLmZpcnN0Q2hpbGQmJnMuZmlyc3RDaGlsZC5ub2RlTmFtZT09PWMpPyhsPWQuZmlyc3RDaGlsZCxpLmluc2VydEFmdGVyKGQsbikpOihpLmluc2VydEFmdGVyKGQsbiksaS5pbnNlcnRBZnRlcihsLG4pKX1pLnJlbW92ZShyKSxRYihlLGwpfX0sc0M9ZnVuY3Rpb24oZSl7ZS5pbm5lckhUTUw9JzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+J30sY0M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5ub2RlTmFtZT09PXR8fGUucHJldmlvdXNTaWJsaW5nJiZlLnByZXZpb3VzU2libGluZy5ub2RlTmFtZT09PXR9LGxDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQmJmUuaXNCbG9jayh0KSYmIS9eKFREfFRIfENBUFRJT058Rk9STSkkLy50ZXN0KHQubm9kZU5hbWUpJiYhL14oZml4ZWR8YWJzb2x1dGUpL2kudGVzdCh0LnN0eWxlLnBvc2l0aW9uKSYmInRydWUiIT09ZS5nZXRDb250ZW50RWRpdGFibGUodCl9LGZDPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4hMT09PU9vLmlzVGV4dCh0KT9uOmU/MT09PW4mJnQuZGF0YS5jaGFyQXQobi0xKT09PVJpPzA6bjpuPT09dC5kYXRhLmxlbmd0aC0xJiZ0LmRhdGEuY2hhckF0KG4pPT09Umk/dC5kYXRhLmxlbmd0aDpufSxkQz1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbz1lLmdldFJvb3QoKTtmb3Iobj10O24hPT1vJiYiZmFsc2UiIT09ZS5nZXRDb250ZW50RWRpdGFibGUobik7KSJ0cnVlIj09PWUuZ2V0Q29udGVudEVkaXRhYmxlKG4pJiYocj1uKSxuPW4ucGFyZW50Tm9kZTtyZXR1cm4gbiE9PW8/cjpvfSxtQz1mdW5jdGlvbihlLHQpe3ZhciBuPU91KGUpO24mJm4udG9Mb3dlckNhc2UoKT09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZlLmRvbS5zZXRBdHRyaWJzKHQsUHUoZSkpfSxwQz1mdW5jdGlvbihhLGUpe3ZhciB0LHUscyxpLGMsbixyLG8sbCxmLGQsbSxwLGcsaCx2LHksYixDPWEuZG9tLHg9YS5zY2hlbWEsdz14LmdldE5vbkVtcHR5RWxlbWVudHMoKSxOPWEuc2VsZWN0aW9uLmdldFJuZygpLEU9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89cyxpPXguZ2V0VGV4dElubGluZUVsZW1lbnRzKCk7aWYoZXx8IlRBQkxFIj09PWZ8fCJIUiI9PT1mPyh0PUMuY3JlYXRlKGV8fG0pLG1DKGEsdCkpOnQ9Yy5jbG9uZU5vZGUoITEpLHI9dCwhMT09PU11KGEpKUMuc2V0QXR0cmliKHQsInN0eWxlIixudWxsKSxDLnNldEF0dHJpYih0LCJjbGFzcyIsbnVsbCk7ZWxzZSBkb3tpZihpW28ubm9kZU5hbWVdKXtpZihrYyhvKSljb250aW51ZTtuPW8uY2xvbmVOb2RlKCExKSxDLnNldEF0dHJpYihuLCJpZCIsIiIpLHQuaGFzQ2hpbGROb2RlcygpP24uYXBwZW5kQ2hpbGQodC5maXJzdENoaWxkKTpyPW4sdC5hcHBlbmRDaGlsZChuKX19d2hpbGUoKG89by5wYXJlbnROb2RlKSYmbyE9PXUpO3JldHVybiBzQyhyKSx0fSxTPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvO2lmKG89ZkMoZSxzLGkpLE9vLmlzVGV4dChzKSYmKGU/MDxvOm88cy5ub2RlVmFsdWUubGVuZ3RoKSlyZXR1cm4hMTtpZihzLnBhcmVudE5vZGU9PT1jJiZwJiYhZSlyZXR1cm4hMDtpZihlJiZPby5pc0VsZW1lbnQocykmJnM9PT1jLmZpcnN0Q2hpbGQpcmV0dXJuITA7aWYoY0MocywiVEFCTEUiKXx8Y0MocywiSFIiKSlyZXR1cm4gcCYmIWV8fCFwJiZlO2Zvcih0PW5ldyBhbyhzLGMpLE9vLmlzVGV4dChzKSYmKGUmJjA9PT1vP3QucHJldigpOmV8fG8hPT1zLm5vZGVWYWx1ZS5sZW5ndGh8fHQubmV4dCgpKTtuPXQuY3VycmVudCgpOyl7aWYoT28uaXNFbGVtZW50KG4pKXtpZighbi5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikmJihyPW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSx3W3JdJiYiYnIiIT09cikpcmV0dXJuITF9ZWxzZSBpZihPby5pc1RleHQobikmJiEvXlsgXHRcclxuXSokLy50ZXN0KG4ubm9kZVZhbHVlKSlyZXR1cm4hMTtlP3QucHJldigpOnQubmV4dCgpfXJldHVybiEwfSxrPWZ1bmN0aW9uKCl7cj0vXihIWzEtNl18UFJFfEZJR1VSRSkkLy50ZXN0KGYpJiYiSEdST1VQIiE9PWQ/RShtKTpFKCksRnUoYSkmJmxDKEMsbCkmJkMuaXNFbXB0eShjKT9yPUMuc3BsaXQobCxjKTpDLmluc2VydEFmdGVyKHIsYyksUWIoYSxyKX07dW0oQyxOKS5lYWNoKGZ1bmN0aW9uKGUpe04uc2V0U3RhcnQoZS5zdGFydENvbnRhaW5lcixlLnN0YXJ0T2Zmc2V0KSxOLnNldEVuZChlLmVuZENvbnRhaW5lcixlLmVuZE9mZnNldCl9KSxzPU4uc3RhcnRDb250YWluZXIsaT1OLnN0YXJ0T2Zmc2V0LG09T3UoYSksbj1lLnNoaWZ0S2V5LE9vLmlzRWxlbWVudChzKSYmcy5oYXNDaGlsZE5vZGVzKCkmJihwPWk+cy5jaGlsZE5vZGVzLmxlbmd0aC0xLHM9cy5jaGlsZE5vZGVzW01hdGgubWluKGkscy5jaGlsZE5vZGVzLmxlbmd0aC0xKV18fHMsaT1wJiZPby5pc1RleHQocyk/cy5ub2RlVmFsdWUubGVuZ3RoOjApLCh1PWRDKEMscykpJiYoKG0mJiFufHwhbSYmbikmJihzPWZ1bmN0aW9uKGUsdCxuLHIsbyl7dmFyIGksYSx1LHMsYyxsLGYsZD10fHwiUCIsbT1lLmRvbSxwPWRDKG0scik7aWYoIShhPW0uZ2V0UGFyZW50KHIsbS5pc0Jsb2NrKSl8fCFsQyhtLGEpKXtpZihsPShhPWF8fHApPT09ZS5nZXRCb2R5KCl8fChmPWEpJiYvXihURHxUSHxDQVBUSU9OKSQvLnRlc3QoZi5ub2RlTmFtZSk/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOmEucGFyZW50Tm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCFhLmhhc0NoaWxkTm9kZXMoKSlyZXR1cm4gaT1tLmNyZWF0ZShkKSxtQyhlLGkpLGEuYXBwZW5kQ2hpbGQoaSksbi5zZXRTdGFydChpLDApLG4uc2V0RW5kKGksMCksaTtmb3Iocz1yO3MucGFyZW50Tm9kZSE9PWE7KXM9cy5wYXJlbnROb2RlO2Zvcig7cyYmIW0uaXNCbG9jayhzKTspcz0odT1zKS5wcmV2aW91c1NpYmxpbmc7aWYodSYmZS5zY2hlbWEuaXNWYWxpZENoaWxkKGwsZC50b0xvd2VyQ2FzZSgpKSl7Zm9yKGk9bS5jcmVhdGUoZCksbUMoZSxpKSx1LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGksdSkscz11O3MmJiFtLmlzQmxvY2socyk7KWM9cy5uZXh0U2libGluZyxpLmFwcGVuZENoaWxkKHMpLHM9YztuLnNldFN0YXJ0KHIsbyksbi5zZXRFbmQocixvKX19cmV0dXJuIHJ9KGEsbSxOLHMsaSkpLGM9Qy5nZXRQYXJlbnQocyxDLmlzQmxvY2spLGw9Yz9DLmdldFBhcmVudChjLnBhcmVudE5vZGUsQy5pc0Jsb2NrKTpudWxsLGY9Yz9jLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk6IiIsIkxJIiE9PShkPWw/bC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpOiIiKXx8ZS5jdHJsS2V5fHwobD0oYz1sKS5wYXJlbnROb2RlLGY9ZCksL14oTEl8RFR8REQpJC8udGVzdChmKSYmQy5pc0VtcHR5KGMpP3VDKGEsRSxsLGMsbSk6bSYmYz09PWEuZ2V0Qm9keSgpfHwobT1tfHwiUCIsT2koYyk/KHI9VmkoYyksQy5pc0VtcHR5KGMpJiZzQyhjKSxRYihhLHIpKTpTKCk/aygpOlMoITApPyhyPWMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoRSgpLGMpLFFiKGEsY0MoYywiSFIiKT9yOmMpKTooKHQ9KHk9TixiPXkuY2xvbmVSYW5nZSgpLGIuc2V0U3RhcnQoeS5zdGFydENvbnRhaW5lcixmQyghMCx5LnN0YXJ0Q29udGFpbmVyLHkuc3RhcnRPZmZzZXQpKSxiLnNldEVuZCh5LmVuZENvbnRhaW5lcixmQyghMSx5LmVuZENvbnRhaW5lcix5LmVuZE9mZnNldCkpLGIpLmNsb25lUmFuZ2UoKSkuc2V0RW5kQWZ0ZXIoYyksZnVuY3Rpb24oZSl7Zm9yKDtPby5pc1RleHQoZSkmJihlLm5vZGVWYWx1ZT1lLm5vZGVWYWx1ZS5yZXBsYWNlKC9eW1xyXG5dKy8sIiIpKSxlPWUuZmlyc3RDaGlsZDspO30obz10LmV4dHJhY3RDb250ZW50cygpKSxyPW8uZmlyc3RDaGlsZCxDLmluc2VydEFmdGVyKG8sYyksZnVuY3Rpb24oZSx0LG4pe3ZhciByLG89bixpPVtdO2lmKG8pe2Zvcig7bz1vLmZpcnN0Q2hpbGQ7KXtpZihlLmlzQmxvY2sobykpcmV0dXJuO09vLmlzRWxlbWVudChvKSYmIXRbby5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSYmaS5wdXNoKG8pfWZvcihyPWkubGVuZ3RoO3ItLTspIShvPWlbcl0pLmhhc0NoaWxkTm9kZXMoKXx8by5maXJzdENoaWxkPT09by5sYXN0Q2hpbGQmJiIiPT09by5maXJzdENoaWxkLm5vZGVWYWx1ZT9lLnJlbW92ZShvKTooYT1vKSYmIkEiPT09YS5ub2RlTmFtZSYmMD09PUl0LnRyaW0oX2koYS5pbm5lclRleHR8fGEudGV4dENvbnRlbnQpKS5sZW5ndGgmJmUucmVtb3ZlKG8pO3ZhciBhfX0oQyx3LHIpLGc9QywoaD1jKS5ub3JtYWxpemUoKSwodj1oLmxhc3RDaGlsZCkmJiEvXihsZWZ0fHJpZ2h0KSQvZ2kudGVzdChnLmdldFN0eWxlKHYsImZsb2F0IiwhMCkpfHxnLmFkZChoLCJiciIpLEMuaXNFbXB0eShjKSYmc0MoYyksci5ub3JtYWxpemUoKSxDLmlzRW1wdHkocik/KEMucmVtb3ZlKHIpLGsoKSk6UWIoYSxyKSksQy5zZXRBdHRyaWIociwiaWQiLCIiKSxhLmZpcmUoIk5ld0Jsb2NrIix7bmV3QmxvY2s6cn0pKSl9LGdDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVDKGUpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMDx0Lmxlbmd0aCYmUHIuaXMoVm4uZnJvbURvbShlKSx0KX0pLmlzU29tZSgpfSxoQz1mdW5jdGlvbihlKXtyZXR1cm4gZ0MoZSxMdShlKSl9LHZDPWZ1bmN0aW9uKGUpe3JldHVybiBnQyhlLEl1KGUpKX0seUM9bmYoW3ticjpbXX0se2Jsb2NrOltdfSx7bm9uZTpbXX1dKSxiQz1mdW5jdGlvbihlLHQpe3JldHVybiB2QyhlKX0sQ0M9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIiI9PT1PdShlKT09PW59fSx4Qz1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gbkMoZSk9PT1ufX0sd0M9ZnVuY3Rpb24obixyKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gdEMoZSk9PT1uLnRvVXBwZXJDYXNlKCk9PT1yfX0sTkM9ZnVuY3Rpb24oZSl7cmV0dXJuIHdDKCJwcmUiLGUpfSxFQz1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gRHUoZSk9PT1ufX0sU0M9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaEMoZSl9LGtDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9LFRDPWZ1bmN0aW9uKGUpe3ZhciB0PU91KGUpLG49WmIoZS5kb20sZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSk7cmV0dXJuIG4mJmUuc2NoZW1hLmlzVmFsaWRDaGlsZChuLm5vZGVOYW1lLHR8fCJQIil9LEFDPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIEguZm9sZGwoZSxmdW5jdGlvbihlLHQpe3JldHVybiBlJiZ0KG4scil9LCEwKT9BLnNvbWUodCk6QS5ub25lKCl9fSxSQz1mdW5jdGlvbihlLHQpe3JldHVybiBEZihbQUMoW2JDXSx5Qy5ub25lKCkpLEFDKFt3Qygic3VtbWFyeSIsITApXSx5Qy5icigpKSxBQyhbTkMoITApLEVDKCExKSxrQ10seUMuYnIoKSksQUMoW05DKCEwKSxFQyghMSldLHlDLmJsb2NrKCkpLEFDKFtOQyghMCksRUMoITApLGtDXSx5Qy5ibG9jaygpKSxBQyhbTkMoITApLEVDKCEwKV0seUMuYnIoKSksQUMoW3hDKCEwKSxrQ10seUMuYnIoKSksQUMoW3hDKCEwKV0seUMuYmxvY2soKSksQUMoW0NDKCEwKSxrQyxUQ10seUMuYmxvY2soKSksQUMoW0NDKCEwKV0seUMuYnIoKSksQUMoW1NDXSx5Qy5icigpKSxBQyhbQ0MoITEpLGtDXSx5Qy5icigpKSxBQyhbVENdLHlDLmJsb2NrKCkpXSxbZSx0LnNoaWZ0S2V5XSkuZ2V0T3IoeUMubm9uZSgpKX0sX0M9ZnVuY3Rpb24oZSx0KXtSQyhlLHQpLmZvbGQoZnVuY3Rpb24oKXt2bShlLHQpfSxmdW5jdGlvbigpe3BDKGUsdCl9LFYubm9vcCl9LEJDPWZ1bmN0aW9uKG8pe28ub24oImtleWRvd24iLGZ1bmN0aW9uKGUpe3ZhciB0LG4scjtlLmtleUNvZGU9PT1zaC5FTlRFUiYmKHQ9bywobj1lKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KG4ucHJldmVudERlZmF1bHQoKSwocj10LnVuZG9NYW5hZ2VyKS50eXBpbmcmJihyLnR5cGluZz0hMSxyLmFkZCgpKSx0LnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uKCl7ITE9PT10LnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpJiZ0LmV4ZWNDb21tYW5kKCJEZWxldGUiKSxfQyh0LG4pfSkpKX0pfSxEQz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHU9dCwhKCFPQyhuKXx8IU9vLmlzVGV4dCh1LmNvbnRhaW5lcigpKXx8KHI9ZSxpPShvPXQpLmNvbnRhaW5lcigpLGE9by5vZmZzZXQoKSxpLmluc2VydERhdGEoYSwiXHhhMCIpLHIuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKGksYSsxKSwwKSk7dmFyIHIsbyxpLGEsdX0sT0M9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9sZChWLmNvbnN0YW50KCExKSxWLmNvbnN0YW50KCEwKSxWLmNvbnN0YW50KCEwKSxWLmNvbnN0YW50KCExKSl9LFBDPWZ1bmN0aW9uKGUpe3JldHVybiEhZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSYmKHQ9ZSxuPVYuY3VycnkoeGwuaXNJbmxpbmVUYXJnZXQsdCkscj1MYS5mcm9tUmFuZ2VTdGFydCh0LnNlbGVjdGlvbi5nZXRSbmcoKSksR2Yobix0LmdldEJvZHkoKSxyKS5tYXAoVi5jdXJyeShEQyx0LHIpKS5nZXRPcighMSkpO3ZhciB0LG4scn0sTEM9ZnVuY3Rpb24ocil7ci5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbjshMT09PWUuaXNEZWZhdWx0UHJldmVudGVkKCkmJih0PXIsbj1lLGpiKFt7a2V5Q29kZTpzaC5TUEFDRUJBUixhY3Rpb246SGIoUEMsdCl9XSxuKS5lYWNoKGZ1bmN0aW9uKGUpe24ucHJldmVudERlZmF1bHQoKX0pKX0pfSxJQz1mdW5jdGlvbihlLHQpe3ZhciBuO3QuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpJiYoVmkodCksKG49ZSkuc2VsZWN0aW9uLnNldFJuZyhuLnNlbGVjdGlvbi5nZXRSbmcoKSksZS5zZWxlY3Rpb24uc2Nyb2xsSW50b1ZpZXcodCkpfSxNQz1mdW5jdGlvbihlLHQpe3ZhciBuLHI9KG49ZSxUbChWbi5mcm9tRG9tKG4uZ2V0Qm9keSgpKSwiKltkYXRhLW1jZS1jYXJldF0iKS5mb2xkKFYuY29uc3RhbnQobnVsbCksZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9tKCl9KSk7aWYocilyZXR1cm4iY29tcG9zaXRpb25zdGFydCI9PT10LnR5cGU/KHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHZvaWQgSUMoZSxyKSk6dm9pZChJaShyKSYmKElDKGUsciksZS51bmRvTWFuYWdlci5hZGQoKSkpfSxGQz1mdW5jdGlvbihlKXtlLm9uKCJrZXl1cCBjb21wb3NpdGlvbnN0YXJ0IixWLmN1cnJ5KE1DLGUpKX0sekM9ZnVuY3Rpb24oZSl7dmFyIHQ9c2Quc2V0dXBTZWxlY3RlZFN0YXRlKGUpO0ZDKGUpLCRiKGUsdCksR2IoZSx0KSxCQyhlKSxMQyhlKX07ZnVuY3Rpb24gVUModSl7dmFyIHMsbixyLG89SXQuZWFjaCxjPXNoLkJBQ0tTUEFDRSxsPXNoLkRFTEVURSxmPXUuZG9tLGQ9dS5zZWxlY3Rpb24sZT11LnNldHRpbmdzLHQ9dS5wYXJzZXIsaT12ZS5nZWNrbyxhPXZlLmllLG09dmUud2Via2l0LHA9ImRhdGE6dGV4dC9tY2UtaW50ZXJuYWwsIixnPWE/IlRleHQiOiJVUkwiLGg9ZnVuY3Rpb24oZSx0KXt0cnl7dS5nZXREb2MoKS5leGVjQ29tbWFuZChlLCExLHQpfWNhdGNoKG4pe319LHY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNEZWZhdWx0UHJldmVudGVkKCl9LHk9ZnVuY3Rpb24oKXt1LnNob3J0Y3V0cy5hZGQoIm1ldGErYSIsbnVsbCwiU2VsZWN0QWxsIil9LGI9ZnVuY3Rpb24oKXt1Lm9uKCJrZXlkb3duIixmdW5jdGlvbihlKXtpZighdihlKSYmZS5rZXlDb2RlPT09YyYmZC5pc0NvbGxhcHNlZCgpJiYwPT09ZC5nZXRSbmcoKS5zdGFydE9mZnNldCl7dmFyIHQ9ZC5nZXROb2RlKCkucHJldmlvdXNTaWJsaW5nO2lmKHQmJnQubm9kZU5hbWUmJiJ0YWJsZSI9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGUucHJldmVudERlZmF1bHQoKSwhMX19KX0sQz1mdW5jdGlvbigpe3UuaW5saW5lfHwodS5jb250ZW50U3R5bGVzLnB1c2goImJvZHkge21pbi1oZWlnaHQ6IDE1MHB4fSIpLHUub24oImNsaWNrIixmdW5jdGlvbihlKXt2YXIgdDtpZigiSFRNTCI9PT1lLnRhcmdldC5ub2RlTmFtZSl7aWYoMTE8dmUuaWUpcmV0dXJuIHZvaWQgdS5nZXRCb2R5KCkuZm9jdXMoKTt0PXUuc2VsZWN0aW9uLmdldFJuZygpLHUuZ2V0Qm9keSgpLmZvY3VzKCksdS5zZWxlY3Rpb24uc2V0Um5nKHQpLHUuc2VsZWN0aW9uLm5vcm1hbGl6ZSgpLHUubm9kZUNoYW5nZWQoKX19KSl9O3JldHVybiB1Lm9uKCJrZXlkb3duIixmdW5jdGlvbihlKXt2YXIgdCxuLHIsbyxpO2lmKCF2KGUpJiZlLmtleUNvZGU9PT1zaC5CQUNLU1BBQ0UmJihuPSh0PWQuZ2V0Um5nKCkpLnN0YXJ0Q29udGFpbmVyLHI9dC5zdGFydE9mZnNldCxvPWYuZ2V0Um9vdCgpLGk9bix0LmNvbGxhcHNlZCYmMD09PXIpKXtmb3IoO2kmJmkucGFyZW50Tm9kZSYmaS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQ9PT1pJiZpLnBhcmVudE5vZGUhPT1vOylpPWkucGFyZW50Tm9kZTsiQkxPQ0tRVU9URSI9PT1pLnRhZ05hbWUmJih1LmZvcm1hdHRlci50b2dnbGUoImJsb2NrcXVvdGUiLG51bGwsaSksKHQ9Zi5jcmVhdGVSbmcoKSkuc2V0U3RhcnQobiwwKSx0LnNldEVuZChuLDApLGQuc2V0Um5nKHQpKX19KSxzPWZ1bmN0aW9uKGUpe3ZhciB0PWYuY3JlYXRlKCJib2R5Iiksbj1lLmNsb25lQ29udGVudHMoKTtyZXR1cm4gdC5hcHBlbmRDaGlsZChuKSxkLnNlcmlhbGl6ZXIuc2VyaWFsaXplKHQse2Zvcm1hdDoiaHRtbCJ9KX0sdS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxhPWUua2V5Q29kZTtpZighdihlKSYmKGE9PT1sfHxhPT09Yykpe2lmKHQ9dS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSxuPXUuZ2V0Qm9keSgpLHQmJiFmLmlzRW1wdHkobikpcmV0dXJuO2lmKCF0JiYocj11LnNlbGVjdGlvbi5nZXRSbmcoKSxvPXMociksKGk9Zi5jcmVhdGVSbmcoKSkuc2VsZWN0Tm9kZSh1LmdldEJvZHkoKSksbyE9PXMoaSkpKXJldHVybjtlLnByZXZlbnREZWZhdWx0KCksdS5zZXRDb250ZW50KCIiKSxuLmZpcnN0Q2hpbGQmJmYuaXNCbG9jayhuLmZpcnN0Q2hpbGQpP3Uuc2VsZWN0aW9uLnNldEN1cnNvckxvY2F0aW9uKG4uZmlyc3RDaGlsZCwwKTp1LnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbihuLDApLHUubm9kZUNoYW5nZWQoKX19KSx2ZS53aW5kb3dzUGhvbmV8fHUub24oImtleXVwIGZvY3VzaW4gbW91c2V1cCIsZnVuY3Rpb24oZSl7c2gubW9kaWZpZXJQcmVzc2VkKGUpfHxkLm5vcm1hbGl6ZSgpfSwhMCksbSYmKHUuc2V0dGluZ3MuY29udGVudF9lZGl0YWJsZXx8Zi5iaW5kKHUuZ2V0RG9jKCksIm1vdXNlZG93biBtb3VzZXVwIixmdW5jdGlvbihlKXt2YXIgdDtpZihlLnRhcmdldD09PXUuZ2V0RG9jKCkuZG9jdW1lbnRFbGVtZW50KWlmKHQ9ZC5nZXRSbmcoKSx1LmdldEJvZHkoKS5mb2N1cygpLCJtb3VzZWRvd24iPT09ZS50eXBlKXtpZihMaSh0LnN0YXJ0Q29udGFpbmVyKSlyZXR1cm47ZC5wbGFjZUNhcmV0QXQoZS5jbGllbnRYLGUuY2xpZW50WSl9ZWxzZSBkLnNldFJuZyh0KX0pLHUub24oImNsaWNrIixmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDsvXihJTUd8SFIpJC8udGVzdCh0Lm5vZGVOYW1lKSYmImZhbHNlIiE9PWYuZ2V0Q29udGVudEVkaXRhYmxlUGFyZW50KHQpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHUuc2VsZWN0aW9uLnNlbGVjdCh0KSx1Lm5vZGVDaGFuZ2VkKCkpLCJBIj09PXQubm9kZU5hbWUmJmYuaGFzQ2xhc3ModCwibWNlLWl0ZW0tYW5jaG9yIikmJihlLnByZXZlbnREZWZhdWx0KCksZC5zZWxlY3QodCkpfSksZS5mb3JjZWRfcm9vdF9ibG9jayYmdS5vbigiaW5pdCIsZnVuY3Rpb24oKXtoKCJEZWZhdWx0UGFyYWdyYXBoU2VwYXJhdG9yIixlLmZvcmNlZF9yb290X2Jsb2NrKX0pLHUub24oImluaXQiLGZ1bmN0aW9uKCl7dS5kb20uYmluZCh1LmdldEJvZHkoKSwic3VibWl0IixmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCl9KX0pLGIoKSx0LmFkZE5vZGVGaWx0ZXIoImJyIixmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7dC0tOykiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZSI9PT1lW3RdLmF0dHIoImNsYXNzIikmJmVbdF0ucmVtb3ZlKCl9KSx2ZS5pT1M/KHUuaW5saW5lfHx1Lm9uKCJrZXlkb3duIixmdW5jdGlvbigpe2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT1kb2N1bWVudC5ib2R5JiZ1LmdldFdpbigpLmZvY3VzKCl9KSxDKCksdS5vbigiY2xpY2siLGZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0O2Rve2lmKCJBIj09PXQudGFnTmFtZSlyZXR1cm4gdm9pZCBlLnByZXZlbnREZWZhdWx0KCl9d2hpbGUodD10LnBhcmVudE5vZGUpfSksdS5jb250ZW50U3R5bGVzLnB1c2goIi5tY2UtY29udGVudC1ib2R5IHstd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmV9IikpOnkoKSksMTE8PXZlLmllJiYoQygpLGIoKSksdmUuaWUmJih5KCksaCgiQXV0b1VybERldGVjdCIsITEpLHUub24oImRyYWdzdGFydCIsZnVuY3Rpb24oZSl7dmFyIHQsbixyOyh0PWUpLmRhdGFUcmFuc2ZlciYmKHUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkmJiJJTUciPT09dC50YXJnZXQudGFnTmFtZSYmZC5zZWxlY3QodC50YXJnZXQpLDA8KG49dS5zZWxlY3Rpb24uZ2V0Q29udGVudCgpKS5sZW5ndGgmJihyPXArZXNjYXBlKHUuaWQpKyIsIitlc2NhcGUobiksdC5kYXRhVHJhbnNmZXIuc2V0RGF0YShnLHIpKSl9KSx1Lm9uKCJkcm9wIixmdW5jdGlvbihlKXtpZighdihlKSl7dmFyIHQ9KGk9ZSkuZGF0YVRyYW5zZmVyJiYoYT1pLmRhdGFUcmFuc2Zlci5nZXREYXRhKGcpKSYmMDw9YS5pbmRleE9mKHApPyhhPWEuc3Vic3RyKHAubGVuZ3RoKS5zcGxpdCgiLCIpLHtpZDp1bmVzY2FwZShhWzBdKSxodG1sOnVuZXNjYXBlKGFbMV0pfSk6bnVsbDtpZih0JiZ0LmlkIT09dS5pZCl7ZS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPVp5KGUueCxlLnksdS5nZXREb2MoKSk7ZC5zZXRSbmcobikscj10Lmh0bWwsbz0hMCx1LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCgibWNlSW5zZXJ0Q2xpcGJvYXJkQ29udGVudCIpP3UuZXhlY0NvbW1hbmQoIm1jZUluc2VydENsaXBib2FyZENvbnRlbnQiLCExLHtjb250ZW50OnIsaW50ZXJuYWw6b30pOnUuZXhlY0NvbW1hbmQoIm1jZUluc2VydENvbnRlbnQiLCExLHIpfX12YXIgcixvLGksYX0pKSxpJiYodS5vbigia2V5ZG93biIsZnVuY3Rpb24oZSl7aWYoIXYoZSkmJmUua2V5Q29kZT09PWMpe2lmKCF1LmdldEJvZHkoKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaHIiKS5sZW5ndGgpcmV0dXJuO2lmKGQuaXNDb2xsYXBzZWQoKSYmMD09PWQuZ2V0Um5nKCkuc3RhcnRPZmZzZXQpe3ZhciB0PWQuZ2V0Tm9kZSgpLG49dC5wcmV2aW91c1NpYmxpbmc7aWYoIkhSIj09PXQubm9kZU5hbWUpcmV0dXJuIGYucmVtb3ZlKHQpLHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpO24mJm4ubm9kZU5hbWUmJiJociI9PT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJihmLnJlbW92ZShuKSxlLnByZXZlbnREZWZhdWx0KCkpfX19KSxSYW5nZS5wcm90b3R5cGUuZ2V0Q2xpZW50UmVjdHN8fHUub24oIm1vdXNlZG93biIsZnVuY3Rpb24oZSl7aWYoIXYoZSkmJiJIVE1MIj09PWUudGFyZ2V0Lm5vZGVOYW1lKXt2YXIgdD11LmdldEJvZHkoKTt0LmJsdXIoKSx3ZS5zZXRFZGl0b3JUaW1lb3V0KHUsZnVuY3Rpb24oKXt0LmZvY3VzKCl9KX19KSxuPWZ1bmN0aW9uKCl7dmFyIGU9Zi5nZXRBdHRyaWJzKGQuZ2V0U3RhcnQoKS5jbG9uZU5vZGUoITEpKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1kLmdldFN0YXJ0KCk7dCE9PXUuZ2V0Qm9keSgpJiYoZi5zZXRBdHRyaWIodCwic3R5bGUiLG51bGwpLG8oZSxmdW5jdGlvbihlKXt0LnNldEF0dHJpYnV0ZU5vZGUoZS5jbG9uZU5vZGUoITApKX0pKX19LHI9ZnVuY3Rpb24oKXtyZXR1cm4hZC5pc0NvbGxhcHNlZCgpJiZmLmdldFBhcmVudChkLmdldFN0YXJ0KCksZi5pc0Jsb2NrKSE9PWYuZ2V0UGFyZW50KGQuZ2V0RW5kKCksZi5pc0Jsb2NrKX0sdS5vbigia2V5cHJlc3MiLGZ1bmN0aW9uKGUpe3ZhciB0O2lmKCF2KGUpJiYoOD09PWUua2V5Q29kZXx8NDY9PT1lLmtleUNvZGUpJiZyKCkpcmV0dXJuIHQ9bigpLHUuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoImRlbGV0ZSIsITEsbnVsbCksdCgpLGUucHJldmVudERlZmF1bHQoKSwhMX0pLGYuYmluZCh1LmdldERvYygpLCJjdXQiLGZ1bmN0aW9uKGUpe3ZhciB0OyF2KGUpJiZyKCkmJih0PW4oKSx3ZS5zZXRFZGl0b3JUaW1lb3V0KHUsZnVuY3Rpb24oKXt0KCl9KSl9KSxlLnJlYWRvbmx5fHx1Lm9uKCJCZWZvcmVFeGVjQ29tbWFuZCBNb3VzZURvd24iLGZ1bmN0aW9uKCl7aCgiU3R5bGVXaXRoQ1NTIiwhMSksaCgiZW5hYmxlSW5saW5lVGFibGVFZGl0aW5nIiwhMSksZS5vYmplY3RfcmVzaXppbmd8fGgoImVuYWJsZU9iamVjdFJlc2l6aW5nIiwhMSl9KSx1Lm9uKCJTZXRDb250ZW50IEV4ZWNDb21tYW5kIixmdW5jdGlvbihlKXsic2V0Y29udGVudCIhPT1lLnR5cGUmJiJtY2VJbnNlcnRMaW5rIiE9PWUuY29tbWFuZHx8byhmLnNlbGVjdCgiYSIpLGZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZSxuPWYuZ2V0Um9vdCgpO2lmKHQubGFzdENoaWxkPT09ZSl7Zm9yKDt0JiYhZi5pc0Jsb2NrKHQpOyl7aWYodC5wYXJlbnROb2RlLmxhc3RDaGlsZCE9PXR8fHQ9PT1uKXJldHVybjt0PXQucGFyZW50Tm9kZX1mLmFkZCh0LCJiciIseyJkYXRhLW1jZS1ib2d1cyI6MX0pfX0pfSksdS5jb250ZW50U3R5bGVzLnB1c2goImltZzotbW96LWJyb2tlbiB7LW1vei1mb3JjZS1icm9rZW4taW1hZ2UtaWNvbjoxO21pbi13aWR0aDoyNHB4O21pbi1oZWlnaHQ6MjRweH0iKSx2ZS5tYWMmJnUub24oImtleWRvd24iLGZ1bmN0aW9uKGUpeyFzaC5tZXRhS2V5UHJlc3NlZChlKXx8ZS5zaGlmdEtleXx8MzchPT1lLmtleUNvZGUmJjM5IT09ZS5rZXlDb2RlfHwoZS5wcmV2ZW50RGVmYXVsdCgpLHUuc2VsZWN0aW9uLmdldFNlbCgpLm1vZGlmeSgibW92ZSIsMzc9PT1lLmtleUNvZGU/ImJhY2t3YXJkIjoiZm9yd2FyZCIsImxpbmVib3VuZGFyeSIpKX0pLGIoKSkse3JlZnJlc2hDb250ZW50RWRpdGFibGU6ZnVuY3Rpb24oKXt9LGlzSGlkZGVuOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIWl8fHUucmVtb3ZlZD8wOiEoZT11LnNlbGVjdGlvbi5nZXRTZWwoKSl8fCFlLnJhbmdlQ291bnR8fDA9PT1lLnJhbmdlQ291bnR9fX12YXIgcUM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9vLmlzRWxlbWVudChlKSYmaG8oVm4uZnJvbURvbShlKSl9LFZDPWZ1bmN0aW9uKHQpe3Qub24oImNsaWNrIixmdW5jdGlvbihlKXszPT09ZS5kZXRhaWwmJmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2VsZWN0aW9uLmdldFJuZygpLG49RGEuZnJvbVJhbmdlU3RhcnQodCkscj1EYS5mcm9tUmFuZ2VFbmQodCk7aWYoRGEuaXNFbGVtZW50UG9zaXRpb24obikpe3ZhciBvPW4uY29udGFpbmVyKCk7cUMobykmJlFhLmZpcnN0UG9zaXRpb25JbihvKS5lYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnNldFN0YXJ0KGUuY29udGFpbmVyKCksZS5vZmZzZXQoKSl9KX1EYS5pc0VsZW1lbnRQb3NpdGlvbihyKSYmKG89bi5jb250YWluZXIoKSxxQyhvKSYmUWEubGFzdFBvc2l0aW9uSW4obykuZWFjaChmdW5jdGlvbihlKXtyZXR1cm4gdC5zZXRFbmQoZS5jb250YWluZXIoKSxlLm9mZnNldCgpKX0pKSxlLnNlbGVjdGlvbi5zZXRSbmcoWmModCkpfSh0KX0pfSxIQz1mdW5jdGlvbihlKXt2YXIgdCxuOyh0PWUpLm9uKCJjbGljayIsZnVuY3Rpb24oZSl7dC5kb20uZ2V0UGFyZW50KGUudGFyZ2V0LCJkZXRhaWxzIikmJmUucHJldmVudERlZmF1bHQoKX0pLChuPWUpLnBhcnNlci5hZGROb2RlRmlsdGVyKCJkZXRhaWxzIixmdW5jdGlvbihlKXtILmVhY2goZSxmdW5jdGlvbihlKXtlLmF0dHIoImRhdGEtbWNlLW9wZW4iLGUuYXR0cigib3BlbiIpKSxlLmF0dHIoIm9wZW4iLCJvcGVuIil9KX0pLG4uc2VyaWFsaXplci5hZGROb2RlRmlsdGVyKCJkZXRhaWxzIixmdW5jdGlvbihlKXtILmVhY2goZSxmdW5jdGlvbihlKXt2YXIgdD1lLmF0dHIoImRhdGEtbWNlLW9wZW4iKTtlLmF0dHIoIm9wZW4iLGsuaXNTdHJpbmcodCk/dDpudWxsKSxlLmF0dHIoImRhdGEtbWNlLW9wZW4iLG51bGwpfSl9KX0sakM9dmkuRE9NLCRDPWZ1bmN0aW9uKGUpe3ZhciB0O2UuYmluZFBlbmRpbmdFdmVudERlbGVnYXRlcygpLGUuaW5pdGlhbGl6ZWQ9ITAsZS5maXJlKCJpbml0IiksZS5mb2N1cyghMCksZS5ub2RlQ2hhbmdlZCh7aW5pdGlhbDohMH0pLGUuZXhlY0NhbGxiYWNrKCJpbml0X2luc3RhbmNlX2NhbGxiYWNrIixlKSwodD1lKS5zZXR0aW5ncy5hdXRvX2ZvY3VzJiZ3ZS5zZXRFZGl0b3JUaW1lb3V0KHQsZnVuY3Rpb24oKXt2YXIgZTsoZT0hMD09PXQuc2V0dGluZ3MuYXV0b19mb2N1cz90OnQuZWRpdG9yTWFuYWdlci5nZXQodC5zZXR0aW5ncy5hdXRvX2ZvY3VzKSkuZGVzdHJveWVkfHxlLmZvY3VzKCl9LDEwMCl9LFdDPWZ1bmN0aW9uKHQsZSl7dmFyIG4scix1LG8saSxhLHMsYyxsLGY9dC5zZXR0aW5ncyxkPXQuZ2V0RWxlbWVudCgpLG09dC5nZXREb2MoKTtmLmlubGluZXx8KHQuZ2V0RWxlbWVudCgpLnN0eWxlLnZpc2liaWxpdHk9dC5vcmdWaXNpYmlsaXR5KSxlfHxmLmNvbnRlbnRfZWRpdGFibGV8fChtLm9wZW4oKSxtLndyaXRlKHQuaWZyYW1lSFRNTCksbS5jbG9zZSgpKSxmLmNvbnRlbnRfZWRpdGFibGUmJih0Lm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXRCb2R5KCk7akMucmVtb3ZlQ2xhc3MoZSwibWNlLWNvbnRlbnQtYm9keSIpLGpDLnJlbW92ZUNsYXNzKGUsIm1jZS1lZGl0LWZvY3VzIiksakMuc2V0QXR0cmliKGUsImNvbnRlbnRFZGl0YWJsZSIsbnVsbCl9KSxqQy5hZGRDbGFzcyhkLCJtY2UtY29udGVudC1ib2R5IiksdC5jb250ZW50RG9jdW1lbnQ9bT1mLmNvbnRlbnRfZG9jdW1lbnR8fGRvY3VtZW50LHQuY29udGVudFdpbmRvdz1mLmNvbnRlbnRfd2luZG93fHx3aW5kb3csdC5ib2R5RWxlbWVudD1kLGYuY29udGVudF9kb2N1bWVudD1mLmNvbnRlbnRfd2luZG93PW51bGwsZi5yb290X25hbWU9ZC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSwobj10LmdldEJvZHkoKSkuZGlzYWJsZWQ9ITAsdC5yZWFkb25seT1mLnJlYWRvbmx5LHQucmVhZG9ubHl8fCh0LmlubGluZSYmInN0YXRpYyI9PT1qQy5nZXRTdHlsZShuLCJwb3NpdGlvbiIsITApJiYobi5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxuLmNvbnRlbnRFZGl0YWJsZT10LmdldFBhcmFtKCJjb250ZW50X2VkaXRhYmxlX3N0YXRlIiwhMCkpLG4uZGlzYWJsZWQ9ITEsdC5lZGl0b3JVcGxvYWQ9d2codCksdC5zY2hlbWE9b2koZiksdC5kb209dmkobSx7a2VlcF92YWx1ZXM6ITAsdXJsX2NvbnZlcnRlcjp0LmNvbnZlcnRVUkwsdXJsX2NvbnZlcnRlcl9zY29wZTp0LGhleF9jb2xvcnM6Zi5mb3JjZV9oZXhfc3R5bGVfY29sb3JzLGNsYXNzX2ZpbHRlcjpmLmNsYXNzX2ZpbHRlcix1cGRhdGVfc3R5bGVzOiEwLHJvb3RfZWxlbWVudDp0LmlubGluZT90LmdldEJvZHkoKTpudWxsLGNvbGxlY3Q6Zi5jb250ZW50X2VkaXRhYmxlLHNjaGVtYTp0LnNjaGVtYSxvblNldEF0dHJpYjpmdW5jdGlvbihlKXt0LmZpcmUoIlNldEF0dHJpYiIsZSl9fSksdC5wYXJzZXI9KChvPXF5KCh1PXQpLnNldHRpbmdzLHUuc2NoZW1hKSkuYWRkQXR0cmlidXRlRmlsdGVyKCJzcmMsaHJlZixzdHlsZSx0YWJpbmRleCIsZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scixvLGk9ZS5sZW5ndGgsYT11LmRvbTtpLS07KWlmKHI9KG49ZVtpXSkuYXR0cih0KSxvPSJkYXRhLW1jZS0iK3QsIW4uYXR0cmlidXRlcy5tYXBbb10pe2lmKDA9PT1yLmluZGV4T2YoImRhdGE6Iil8fDA9PT1yLmluZGV4T2YoImJsb2I6IikpY29udGludWU7InN0eWxlIj09PXQ/KChyPWEuc2VyaWFsaXplU3R5bGUoYS5wYXJzZVN0eWxlKHIpLG4ubmFtZSkpLmxlbmd0aHx8KHI9bnVsbCksbi5hdHRyKG8sciksbi5hdHRyKHQscikpOiJ0YWJpbmRleCI9PT10PyhuLmF0dHIobyxyKSxuLmF0dHIodCxudWxsKSk6bi5hdHRyKG8sdS5jb252ZXJ0VVJMKHIsdCxuLm5hbWUpKX19KSxvLmFkZE5vZGVGaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4scj1lLmxlbmd0aDtyLS07KTAhPT0obj0odD1lW3JdKS5hdHRyKCJ0eXBlIil8fCJuby90eXBlIikuaW5kZXhPZigibWNlLSIpJiZ0LmF0dHIoInR5cGUiLCJtY2UtIituKX0pLG8uYWRkTm9kZUZpbHRlcigiI2NkYXRhIixmdW5jdGlvbihlKXtmb3IodmFyIHQsbj1lLmxlbmd0aDtuLS07KSh0PWVbbl0pLnR5cGU9OCx0Lm5hbWU9IiNjb21tZW50Iix0LnZhbHVlPSJbQ0RBVEFbIit0LnZhbHVlKyJdXSJ9KSxvLmFkZE5vZGVGaWx0ZXIoInAsaDEsaDIsaDMsaDQsaDUsaDYsZGl2IixmdW5jdGlvbihlKXtmb3IodmFyIHQsbj1lLmxlbmd0aCxyPXUuc2NoZW1hLmdldE5vbkVtcHR5RWxlbWVudHMoKTtuLS07KSh0PWVbbl0pLmlzRW1wdHkocikmJjA9PT10LmdldEFsbCgiYnIiKS5sZW5ndGgmJih0LmFwcGVuZChuZXcgX3koImJyIiwxKSkuc2hvcnRFbmRlZD0hMCl9KSxvKSx0LnNlcmlhbGl6ZXI9V3koZix0KSx0LnNlbGVjdGlvbj1CYih0LmRvbSx0LmdldFdpbigpLHQuc2VyaWFsaXplcix0KSx0LmZvcm1hdHRlcj12eSh0KSx0LnVuZG9NYW5hZ2VyPVVoKHQpLHQuX25vZGVDaGFuZ2VEaXNwYXRjaGVyPW5ldyBEZyh0KSx0Ll9zZWxlY3Rpb25PdmVycmlkZXM9cGgodCksSEModCksVkModCksekModCksa2codCksdC5maXJlKCJQcmVJbml0IiksZi5icm93c2VyX3NwZWxsY2hlY2t8fGYuZ2Vja29fc3BlbGxjaGVja3x8KG0uYm9keS5zcGVsbGNoZWNrPSExLGpDLnNldEF0dHJpYihuLCJzcGVsbGNoZWNrIiwiZmFsc2UiKSksdC5xdWlya3M9VUModCksdC5maXJlKCJQb3N0UmVuZGVyIiksZi5kaXJlY3Rpb25hbGl0eSYmKG4uZGlyPWYuZGlyZWN0aW9uYWxpdHkpLGYubm93cmFwJiYobi5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiKSxmLnByb3RlY3QmJnQub24oIkJlZm9yZVNldENvbnRlbnQiLGZ1bmN0aW9uKHQpe0l0LmVhY2goZi5wcm90ZWN0LGZ1bmN0aW9uKGUpe3QuY29udGVudD10LmNvbnRlbnQucmVwbGFjZShlLGZ1bmN0aW9uKGUpe3JldHVybiJceDNjIS0tbWNlOnByb3RlY3RlZCAiK2VzY2FwZShlKSsiLS1ceDNlIn0pfSl9KSx0Lm9uKCJTZXRDb250ZW50IixmdW5jdGlvbigpe3QuYWRkVmlzdWFsKHQuZ2V0Qm9keSgpKX0pLHQubG9hZCh7aW5pdGlhbDohMCxmb3JtYXQ6Imh0bWwifSksdC5zdGFydENvbnRlbnQ9dC5nZXRDb250ZW50KHtmb3JtYXQ6InJhdyJ9KSx0Lm9uKCJjb21wb3NpdGlvbnN0YXJ0IGNvbXBvc2l0aW9uZW5kIixmdW5jdGlvbihlKXt0LmNvbXBvc2luZz0iY29tcG9zaXRpb25zdGFydCI9PT1lLnR5cGV9KSwwPHQuY29udGVudFN0eWxlcy5sZW5ndGgmJihyPSIiLEl0LmVhY2godC5jb250ZW50U3R5bGVzLGZ1bmN0aW9uKGUpe3IrPWUrIlxyXG4ifSksdC5kb20uYWRkU3R5bGUocikpLChpPXQsaS5pbmxpbmU/akMuc3R5bGVTaGVldExvYWRlcjppLmRvbS5zdHlsZVNoZWV0TG9hZGVyKS5sb2FkQWxsKHQuY29udGVudENTUyxmdW5jdGlvbihlKXskQyh0KX0sZnVuY3Rpb24oZSl7JEModCl9KSxmLmNvbnRlbnRfc3R5bGUmJihhPXQscz1mLmNvbnRlbnRfc3R5bGUsYz1Wbi5mcm9tRG9tKGEuZ2V0RG9jKCkuaGVhZCksbD1Wbi5mcm9tVGFnKCJzdHlsZSIpLGxyLnNldChsLCJ0eXBlIiwidGV4dC9jc3MiKSxIdS5hcHBlbmQobCxWbi5mcm9tVGV4dChzKSksSHUuYXBwZW5kKGMsbCkpfSxLQz12aS5ET00sWEM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saSxhLHUscyxjPWUuZWRpdG9yTWFuYWdlci50cmFuc2xhdGUoIlJpY2ggVGV4dCBBcmVhLiBQcmVzcyBBTFQtRjkgZm9yIG1lbnUuIFByZXNzIEFMVC1GMTAgZm9yIHRvb2xiYXIuIFByZXNzIEFMVC0wIGZvciBoZWxwIiksbD0obj1lLmlkLHI9YyxvPXQuaGVpZ2h0LGk9a3UoZSkscz1Wbi5mcm9tVGFnKCJpZnJhbWUiKSxsci5zZXRBbGwocyxpKSxsci5zZXRBbGwocyx7aWQ6bisiX2lmciIsZnJhbWVCb3JkZXI6IjAiLGFsbG93VHJhbnNwYXJlbmN5OiJ0cnVlIix0aXRsZTpyfSkseXIocyx7d2lkdGg6IjEwMCUiLGhlaWdodDooYT1vLHU9Im51bWJlciI9PXR5cGVvZiBhP2ErInB4IjphLHV8fCIiKSxkaXNwbGF5OiJibG9jayJ9KSxzKS5kb20oKTtsLm9ubG9hZD1mdW5jdGlvbigpe2wub25sb2FkPW51bGwsZS5maXJlKCJsb2FkIil9O3ZhciBmLGQsbSxwLGc9ZnVuY3Rpb24oZSx0KXtpZihkb2N1bWVudC5kb21haW4hPT13aW5kb3cubG9jYXRpb24uaG9zdG5hbWUmJnZlLmllJiZ2ZS5pZTwxMil7dmFyIG49eGcudXVpZCgibWNlIik7ZVtuXT1mdW5jdGlvbigpe1dDKGUpfTt2YXIgcj0namF2YXNjcmlwdDooZnVuY3Rpb24oKXtkb2N1bWVudC5vcGVuKCk7ZG9jdW1lbnQuZG9tYWluPSInK2RvY3VtZW50LmRvbWFpbisnIjt2YXIgZWQgPSB3aW5kb3cucGFyZW50LnRpbnltY2UuZ2V0KCInK2UuaWQrJyIpO2RvY3VtZW50LndyaXRlKGVkLmlmcmFtZUhUTUwpO2RvY3VtZW50LmNsb3NlKCk7ZWQuJytuKyIodHJ1ZSk7fSkoKSI7cmV0dXJuIEtDLnNldEF0dHJpYih0LCJzcmMiLHIpLCEwfXJldHVybiExfShlLGwpO3JldHVybiBlLmNvbnRlbnRBcmVhQ29udGFpbmVyPXQuaWZyYW1lQ29udGFpbmVyLGUuaWZyYW1lRWxlbWVudD1sLGUuaWZyYW1lSFRNTD0ocD1UdShmPWUpKyI8aHRtbD48aGVhZD4iLEF1KGYpIT09Zi5kb2N1bWVudEJhc2VVcmwmJihwKz0nPGJhc2UgaHJlZj0iJytmLmRvY3VtZW50QmFzZVVSSS5nZXRVUkkoKSsnIiAvPicpLHArPSc8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD1VVEYtOCIgLz4nLGQ9UnUoZiksbT1fdShmKSxCdShmKSYmKHArPSc8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVNlY3VyaXR5LVBvbGljeSIgY29udGVudD0iJytCdShmKSsnIiAvPicpLHArPSc8L2hlYWQ+PGJvZHkgaWQ9IicrZCsnIiBjbGFzcz0ibWNlLWNvbnRlbnQtYm9keSAnK20rJyIgZGF0YS1pZD0iJytmLmlkKyciPjxicj48L2JvZHk+PC9odG1sPicpLEtDLmFkZCh0LmlmcmFtZUNvbnRhaW5lcixsKSxnfSxZQz1mdW5jdGlvbihlLHQpe3ZhciBuPVhDKGUsdCk7dC5lZGl0b3JDb250YWluZXImJihLQy5nZXQodC5lZGl0b3JDb250YWluZXIpLnN0eWxlLmRpc3BsYXk9ZS5vcmdEaXNwbGF5LGUuaGlkZGVuPUtDLmlzSGlkZGVuKHQuZWRpdG9yQ29udGFpbmVyKSksZS5nZXRFbGVtZW50KCkuc3R5bGUuZGlzcGxheT0ibm9uZSIsS0Muc2V0QXR0cmliKGUuaWQsImFyaWEtaGlkZGVuIiwidHJ1ZSIpLG58fFdDKGUpfSxHQz12aS5ET00sSkM9ZnVuY3Rpb24odCxuLGUpe3ZhciByLG8saT1vZy5nZXQoZSk7aWYocj1vZy51cmxzW2VdfHx0LmRvY3VtZW50QmFzZVVybC5yZXBsYWNlKC9cLyQvLCIiKSxlPUl0LnRyaW0oZSksaSYmLTE9PT1JdC5pbkFycmF5KG4sZSkpe2lmKEl0LmVhY2gob2cuZGVwZW5kZW5jaWVzKGUpLGZ1bmN0aW9uKGUpe0pDKHQsbixlKX0pLHQucGx1Z2luc1tlXSlyZXR1cm47bz1uZXcgaSh0LHIsdC4kKSwodC5wbHVnaW5zW2VdPW8pLmluaXQmJihvLmluaXQodCxyKSxuLnB1c2goZSkpfX0sUUM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXlwtLywiIil9LFpDPWZ1bmN0aW9uKGUpe3JldHVybntlZGl0b3JDb250YWluZXI6ZSxpZnJhbWVDb250YWluZXI6ZX19LGV4PWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1lLmdldEVsZW1lbnQoKTtyZXR1cm4gZS5pbmxpbmU/WkMobnVsbCk6KHQ9cixuPUdDLmNyZWF0ZSgiZGl2IiksR0MuaW5zZXJ0QWZ0ZXIobix0KSxaQyhuKSl9LHR4PWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYSx1LHMsYyxsLGYsZD1lLnNldHRpbmdzLG09ZS5nZXRFbGVtZW50KCk7cmV0dXJuIGUub3JnRGlzcGxheT1tLnN0eWxlLmRpc3BsYXksay5pc1N0cmluZyhkLnRoZW1lKT8obD0obz1lKS5zZXR0aW5ncyxmPW8uZ2V0RWxlbWVudCgpLGk9bC53aWR0aHx8R0MuZ2V0U3R5bGUoZiwid2lkdGgiKXx8IjEwMCUiLGE9bC5oZWlnaHR8fEdDLmdldFN0eWxlKGYsImhlaWdodCIpfHxmLm9mZnNldEhlaWdodCx1PWwubWluX2hlaWdodHx8MTAwLChzPS9eWzAtOVwuXSsofHB4KSQvaSkudGVzdCgiIitpKSYmKGk9TWF0aC5tYXgocGFyc2VJbnQoaSwxMCksMTAwKSkscy50ZXN0KCIiK2EpJiYoYT1NYXRoLm1heChwYXJzZUludChhLDEwKSx1KSksYz1vLnRoZW1lLnJlbmRlclVJKHt0YXJnZXROb2RlOmYsd2lkdGg6aSxoZWlnaHQ6YSxkZWx0YVdpZHRoOmwuZGVsdGFfd2lkdGgsZGVsdGFIZWlnaHQ6bC5kZWx0YV9oZWlnaHR9KSxsLmNvbnRlbnRfZWRpdGFibGV8fChhPShjLmlmcmFtZUhlaWdodHx8YSkrKCJudW1iZXIiPT10eXBlb2YgYT9jLmRlbHRhSGVpZ2h0fHwwOiIiKSk8dSYmKGE9dSksYy5oZWlnaHQ9YSxjKTprLmlzRnVuY3Rpb24oZC50aGVtZSk/KHI9KHQ9ZSkuZ2V0RWxlbWVudCgpLChuPXQuc2V0dGluZ3MudGhlbWUodCxyKSkuZWRpdG9yQ29udGFpbmVyLm5vZGVUeXBlJiYobi5lZGl0b3JDb250YWluZXIuaWQ9bi5lZGl0b3JDb250YWluZXIuaWR8fHQuaWQrIl9wYXJlbnQiKSxuLmlmcmFtZUNvbnRhaW5lciYmbi5pZnJhbWVDb250YWluZXIubm9kZVR5cGUmJihuLmlmcmFtZUNvbnRhaW5lci5pZD1uLmlmcmFtZUNvbnRhaW5lci5pZHx8dC5pZCsiX2lmcmFtZWNvbnRhaW5lciIpLG4uaGVpZ2h0PW4uaWZyYW1lSGVpZ2h0P24uaWZyYW1lSGVpZ2h0OnIub2Zmc2V0SGVpZ2h0LG4pOmV4KGUpfSxueD1mdW5jdGlvbih0KXt2YXIgZSxuLHIsbyxpLGEsdT10LnNldHRpbmdzLHM9dC5nZXRFbGVtZW50KCk7cmV0dXJuIHQucnRsPXUucnRsX3VpfHx0LmVkaXRvck1hbmFnZXIuaTE4bi5ydGwsdC5lZGl0b3JNYW5hZ2VyLmkxOG4uc2V0Q29kZSh1Lmxhbmd1YWdlKSx1LmFyaWFfbGFiZWw9dS5hcmlhX2xhYmVsfHxHQy5nZXRBdHRyaWIocywiYXJpYS1sYWJlbCIsdC5nZXRMYW5nKCJhcmlhLnJpY2hfdGV4dF9hcmVhIikpLHQuZmlyZSgiU2NyaXB0c0xvYWRlZCIpLG89KG49dCkuc2V0dGluZ3MudGhlbWUsay5pc1N0cmluZyhvKT8obi5zZXR0aW5ncy50aGVtZT1RQyhvKSxyPWlnLmdldChvKSxuLnRoZW1lPW5ldyByKG4saWcudXJsc1tvXSksbi50aGVtZS5pbml0JiZuLnRoZW1lLmluaXQobixpZy51cmxzW29dfHxuLmRvY3VtZW50QmFzZVVybC5yZXBsYWNlKC9cLyQvLCIiKSxuLiQpKTpuLnRoZW1lPXt9LGk9dCxhPVtdLEl0LmVhY2goaS5zZXR0aW5ncy5wbHVnaW5zLnNwbGl0KC9bICxdLyksZnVuY3Rpb24oZSl7SkMoaSxhLFFDKGUpKX0pLGU9dHgodCksdC5lZGl0b3JDb250YWluZXI9ZS5lZGl0b3JDb250YWluZXI/ZS5lZGl0b3JDb250YWluZXI6bnVsbCx1LmNvbnRlbnRfY3NzJiZJdC5lYWNoKEl0LmV4cGxvZGUodS5jb250ZW50X2NzcyksZnVuY3Rpb24oZSl7dC5jb250ZW50Q1NTLnB1c2godC5kb2N1bWVudEJhc2VVUkkudG9BYnNvbHV0ZShlKSl9KSx1LmNvbnRlbnRfZWRpdGFibGU/V0ModCk6WUModCxlKX0scng9dmkuRE9NLG94PWZ1bmN0aW9uKGUpe3JldHVybiItIj09PWUuY2hhckF0KDApfSxpeD1mdW5jdGlvbihpLGEpe3ZhciB1PXdpLlNjcmlwdExvYWRlcjshZnVuY3Rpb24oZSx0LG4scil7dmFyIG89dC5zZXR0aW5ncyxpPW8udGhlbWU7aWYoay5pc1N0cmluZyhpKSl7aWYoIW94KGkpJiYhaWcudXJscy5oYXNPd25Qcm9wZXJ0eShpKSl7dmFyIGE9by50aGVtZV91cmw7YT9pZy5sb2FkKGksdC5kb2N1bWVudEJhc2VVUkkudG9BYnNvbHV0ZShhKSk6aWcubG9hZChpLCJ0aGVtZXMvIitpKyIvdGhlbWUiK24rIi5qcyIpfWUubG9hZFF1ZXVlKGZ1bmN0aW9uKCl7aWcud2FpdEZvcihpLHIpfSl9ZWxzZSByKCl9KHUsaSxhLGZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsbztlPXUsKG49KHQ9aSkuc2V0dGluZ3MpLmxhbmd1YWdlJiYiZW4iIT09bi5sYW5ndWFnZSYmIW4ubGFuZ3VhZ2VfdXJsJiYobi5sYW5ndWFnZV91cmw9dC5lZGl0b3JNYW5hZ2VyLmJhc2VVUkwrIi9sYW5ncy8iK24ubGFuZ3VhZ2UrIi5qcyIpLG4ubGFuZ3VhZ2VfdXJsJiYhdC5lZGl0b3JNYW5hZ2VyLmkxOG4uZGF0YVtuLmxhbmd1YWdlXSYmZS5hZGQobi5sYW5ndWFnZV91cmwpLHI9aS5zZXR0aW5ncyxvPWEsSXQuaXNBcnJheShyLnBsdWdpbnMpJiYoci5wbHVnaW5zPXIucGx1Z2lucy5qb2luKCIgIikpLEl0LmVhY2goci5leHRlcm5hbF9wbHVnaW5zLGZ1bmN0aW9uKGUsdCl7b2cubG9hZCh0LGUpLHIucGx1Z2lucys9IiAiK3R9KSxJdC5lYWNoKHIucGx1Z2lucy5zcGxpdCgvWyAsXS8pLGZ1bmN0aW9uKGUpe2lmKChlPUl0LnRyaW0oZSkpJiYhb2cudXJsc1tlXSlpZihveChlKSl7ZT1lLnN1YnN0cigxLGUubGVuZ3RoKTt2YXIgdD1vZy5kZXBlbmRlbmNpZXMoZSk7SXQuZWFjaCh0LGZ1bmN0aW9uKGUpe3ZhciB0PXtwcmVmaXg6InBsdWdpbnMvIixyZXNvdXJjZTplLHN1ZmZpeDoiL3BsdWdpbiIrbysiLmpzIn07ZT1vZy5jcmVhdGVVcmwodCxlKSxvZy5sb2FkKGUucmVzb3VyY2UsZSl9KX1lbHNlIG9nLmxvYWQoZSx7cHJlZml4OiJwbHVnaW5zLyIscmVzb3VyY2U6ZSxzdWZmaXg6Ii9wbHVnaW4iK28rIi5qcyJ9KX0pLHUubG9hZFF1ZXVlKGZ1bmN0aW9uKCl7aS5yZW1vdmVkfHxueChpKX0saSxmdW5jdGlvbihlKXtlZyhpLGVbMF0pLGkucmVtb3ZlZHx8bngoaSl9KX0pfSxheD1mdW5jdGlvbih0KXt2YXIgZT10LnNldHRpbmdzLG49dC5pZCxyPWZ1bmN0aW9uKCl7cngudW5iaW5kKHdpbmRvdywicmVhZHkiLHIpLHQucmVuZGVyKCl9O2lmKEJlLkV2ZW50LmRvbUxvYWRlZCl7aWYodC5nZXRFbGVtZW50KCkmJnZlLmNvbnRlbnRFZGl0YWJsZSl7ZS5pbmxpbmU/dC5pbmxpbmU9ITA6KHQub3JnVmlzaWJpbGl0eT10LmdldEVsZW1lbnQoKS5zdHlsZS52aXNpYmlsaXR5LHQuZ2V0RWxlbWVudCgpLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpO3ZhciBvPXQuZ2V0RWxlbWVudCgpLmZvcm18fHJ4LmdldFBhcmVudChuLCJmb3JtIik7byYmKHQuZm9ybUVsZW1lbnQ9byxlLmhpZGRlbl9pbnB1dCYmIS9URVhUQVJFQXxJTlBVVC9pLnRlc3QodC5nZXRFbGVtZW50KCkubm9kZU5hbWUpJiYocnguaW5zZXJ0QWZ0ZXIocnguY3JlYXRlKCJpbnB1dCIse3R5cGU6ImhpZGRlbiIsbmFtZTpufSksbiksdC5oYXNIaWRkZW5JbnB1dD0hMCksdC5mb3JtRXZlbnREZWxlZ2F0ZT1mdW5jdGlvbihlKXt0LmZpcmUoZS50eXBlLGUpfSxyeC5iaW5kKG8sInN1Ym1pdCByZXNldCIsdC5mb3JtRXZlbnREZWxlZ2F0ZSksdC5vbigicmVzZXQiLGZ1bmN0aW9uKCl7dC5zZXRDb250ZW50KHQuc3RhcnRDb250ZW50LHtmb3JtYXQ6InJhdyJ9KX0pLCFlLnN1Ym1pdF9wYXRjaHx8by5zdWJtaXQubm9kZVR5cGV8fG8uc3VibWl0Lmxlbmd0aHx8by5fbWNlT2xkU3VibWl0fHwoby5fbWNlT2xkU3VibWl0PW8uc3VibWl0LG8uc3VibWl0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuZWRpdG9yTWFuYWdlci50cmlnZ2VyU2F2ZSgpLHQuc2V0RGlydHkoITEpLG8uX21jZU9sZFN1Ym1pdChvKX0pKSx0LndpbmRvd01hbmFnZXI9WXAodCksdC5ub3RpZmljYXRpb25NYW5hZ2VyPVhwKHQpLCJ4bWwiPT09ZS5lbmNvZGluZyYmdC5vbigiR2V0Q29udGVudCIsZnVuY3Rpb24oZSl7ZS5zYXZlJiYoZS5jb250ZW50PXJ4LmVuY29kZShlLmNvbnRlbnQpKX0pLGUuYWRkX2Zvcm1fc3VibWl0X3RyaWdnZXImJnQub24oInN1Ym1pdCIsZnVuY3Rpb24oKXt0LmluaXRpYWxpemVkJiZ0LnNhdmUoKX0pLGUuYWRkX3VubG9hZF90cmlnZ2VyJiYodC5fYmVmb3JlVW5sb2FkPWZ1bmN0aW9uKCl7IXQuaW5pdGlhbGl6ZWR8fHQuZGVzdHJveWVkfHx0LmlzSGlkZGVuKCl8fHQuc2F2ZSh7Zm9ybWF0OiJyYXciLG5vX2V2ZW50czohMCxzZXRfZGlydHk6ITF9KX0sdC5lZGl0b3JNYW5hZ2VyLm9uKCJCZWZvcmVVbmxvYWQiLHQuX2JlZm9yZVVubG9hZCkpLHQuZWRpdG9yTWFuYWdlci5hZGQodCksaXgodCx0LnN1ZmZpeCl9fWVsc2UgcnguYmluZCh3aW5kb3csInJlYWR5IixyKX0sdXg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuc2lkZWJhcnM/ZS5zaWRlYmFyczpbXTtyLnB1c2goe25hbWU6dCxzZXR0aW5nczpufSksZS5zaWRlYmFycz1yfSxzeD1JdC5lYWNoLGN4PUl0LnRyaW0sbHg9InNvdXJjZSBwcm90b2NvbCBhdXRob3JpdHkgdXNlckluZm8gdXNlciBwYXNzd29yZCBob3N0IHBvcnQgcmVsYXRpdmUgcGF0aCBkaXJlY3RvcnkgZmlsZSBxdWVyeSBhbmNob3IiLnNwbGl0KCIgIiksZng9e2Z0cDoyMSxodHRwOjgwLGh0dHBzOjQ0MyxtYWlsdG86MjV9LGR4PWZ1bmN0aW9uKHIsZSl7dmFyIHQsbixvPXRoaXM7aWYocj1jeChyKSx0PShlPW8uc2V0dGluZ3M9ZXx8e30pLmJhc2VfdXJpLC9eKFtcd1wtXSspOihbXlwvXXsyfSkvaS50ZXN0KHIpfHwvXlxzKiMvLnRlc3Qocikpby5zb3VyY2U9cjtlbHNle3ZhciBpPTA9PT1yLmluZGV4T2YoIi8vIik7MCE9PXIuaW5kZXhPZigiLyIpfHxpfHwocj0odCYmdC5wcm90b2NvbHx8Imh0dHAiKSsiOi8vbWNlX2hvc3QiK3IpLC9eW1x3XC1dKjo/XC9cLy8udGVzdChyKXx8KG49ZS5iYXNlX3VyaT9lLmJhc2VfdXJpLnBhdGg6bmV3IGR4KGRvY3VtZW50LmxvY2F0aW9uLmhyZWYpLmRpcmVjdG9yeSwiIj09ZS5iYXNlX3VyaS5wcm90b2NvbD9yPSIvL21jZV9ob3N0IitvLnRvQWJzUGF0aChuLHIpOihyPS8oW14jP10qKShbIz9dPy4qKS8uZXhlYyhyKSxyPSh0JiZ0LnByb3RvY29sfHwiaHR0cCIpKyI6Ly9tY2VfaG9zdCIrby50b0Fic1BhdGgobixyWzFdKStyWzJdKSkscj1yLnJlcGxhY2UoL0BAL2csIihtY2VfYXQpIikscj0vXig/Oig/IVteOkBdKzpbXjpAXC9dKkApKFteOlwvPyMuXSspOik/KD86XC9cLyk/KCg/OigoW146QFwvXSopOj8oW146QFwvXSopKT9AKT8oW146XC8/I10qKSg/OjooXGQqKSk/KSgoKFwvKD86W14/I10oPyFbXj8jXC9dKlwuW14/I1wvLl0rKD86Wz8jXXwkKSkpKlwvPyk/KFtePyNcL10qKSkoPzpcPyhbXiNdKikpPyg/OiMoLiopKT8pLy5leGVjKHIpLHN4KGx4LGZ1bmN0aW9uKGUsdCl7dmFyIG49clt0XTtuJiYobj1uLnJlcGxhY2UoL1wobWNlX2F0XCkvZywiQEAiKSksb1tlXT1ufSksdCYmKG8ucHJvdG9jb2x8fChvLnByb3RvY29sPXQucHJvdG9jb2wpLG8udXNlckluZm98fChvLnVzZXJJbmZvPXQudXNlckluZm8pLG8ucG9ydHx8Im1jZV9ob3N0IiE9PW8uaG9zdHx8KG8ucG9ydD10LnBvcnQpLG8uaG9zdCYmIm1jZV9ob3N0IiE9PW8uaG9zdHx8KG8uaG9zdD10Lmhvc3QpLG8uc291cmNlPSIiKSxpJiYoby5wcm90b2NvbD0iIil9fTtkeC5wcm90b3R5cGU9e3NldFBhdGg6ZnVuY3Rpb24oZSl7ZT0vXiguKj8pXC8/KFx3Kyk/JC8uZXhlYyhlKSx0aGlzLnBhdGg9ZVswXSx0aGlzLmRpcmVjdG9yeT1lWzFdLHRoaXMuZmlsZT1lWzJdLHRoaXMuc291cmNlPSIiLHRoaXMuZ2V0VVJJKCl9LHRvUmVsYXRpdmU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoIi4vIj09PWUpcmV0dXJuIGU7aWYoIm1jZV9ob3N0IiE9PShlPW5ldyBkeChlLHtiYXNlX3VyaTp0aGlzfSkpLmhvc3QmJnRoaXMuaG9zdCE9PWUuaG9zdCYmZS5ob3N0fHx0aGlzLnBvcnQhPT1lLnBvcnR8fHRoaXMucHJvdG9jb2whPT1lLnByb3RvY29sJiYiIiE9PWUucHJvdG9jb2wpcmV0dXJuIGUuZ2V0VVJJKCk7dmFyIG49dGhpcy5nZXRVUkkoKSxyPWUuZ2V0VVJJKCk7cmV0dXJuIG49PT1yfHwiLyI9PT1uLmNoYXJBdChuLmxlbmd0aC0xKSYmbi5zdWJzdHIoMCxuLmxlbmd0aC0xKT09PXI/bjoodD10aGlzLnRvUmVsUGF0aCh0aGlzLnBhdGgsZS5wYXRoKSxlLnF1ZXJ5JiYodCs9Ij8iK2UucXVlcnkpLGUuYW5jaG9yJiYodCs9IiMiK2UuYW5jaG9yKSx0KX0sdG9BYnNvbHV0ZTpmdW5jdGlvbihlLHQpe3JldHVybihlPW5ldyBkeChlLHtiYXNlX3VyaTp0aGlzfSkpLmdldFVSSSh0JiZ0aGlzLmlzU2FtZU9yaWdpbihlKSl9LGlzU2FtZU9yaWdpbjpmdW5jdGlvbihlKXtpZih0aGlzLmhvc3Q9PWUuaG9zdCYmdGhpcy5wcm90b2NvbD09ZS5wcm90b2NvbCl7aWYodGhpcy5wb3J0PT1lLnBvcnQpcmV0dXJuITA7dmFyIHQ9ZnhbdGhpcy5wcm90b2NvbF07aWYodCYmKHRoaXMucG9ydHx8dCk9PShlLnBvcnR8fHQpKXJldHVybiEwfXJldHVybiExfSx0b1JlbFBhdGg6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saT0wLGE9IiI7aWYoZT0oZT1lLnN1YnN0cmluZygwLGUubGFzdEluZGV4T2YoIi8iKSkpLnNwbGl0KCIvIiksbj10LnNwbGl0KCIvIiksZS5sZW5ndGg+PW4ubGVuZ3RoKWZvcihyPTAsbz1lLmxlbmd0aDtyPG87cisrKWlmKHI+PW4ubGVuZ3RofHxlW3JdIT09bltyXSl7aT1yKzE7YnJlYWt9aWYoZS5sZW5ndGg8bi5sZW5ndGgpZm9yKHI9MCxvPW4ubGVuZ3RoO3I8bztyKyspaWYocj49ZS5sZW5ndGh8fGVbcl0hPT1uW3JdKXtpPXIrMTticmVha31pZigxPT09aSlyZXR1cm4gdDtmb3Iocj0wLG89ZS5sZW5ndGgtKGktMSk7cjxvO3IrKylhKz0iLi4vIjtmb3Iocj1pLTEsbz1uLmxlbmd0aDtyPG87cisrKWErPXIhPT1pLTE/Ii8iK25bcl06bltyXTtyZXR1cm4gYX0sdG9BYnNQYXRoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk9MCxhPVtdO2ZvcihyPS9cLyQvLnRlc3QodCk/Ii8iOiIiLGU9ZS5zcGxpdCgiLyIpLHQ9dC5zcGxpdCgiLyIpLHN4KGUsZnVuY3Rpb24oZSl7ZSYmYS5wdXNoKGUpfSksZT1hLG49dC5sZW5ndGgtMSxhPVtdOzA8PW47bi0tKTAhPT10W25dLmxlbmd0aCYmIi4iIT09dFtuXSYmKCIuLiIhPT10W25dPzA8aT9pLS06YS5wdXNoKHRbbl0pOmkrKyk7cmV0dXJuIDAhPT0obz0obj1lLmxlbmd0aC1pKTw9MD9hLnJldmVyc2UoKS5qb2luKCIvIik6ZS5zbGljZSgwLG4pLmpvaW4oIi8iKSsiLyIrYS5yZXZlcnNlKCkuam9pbigiLyIpKS5pbmRleE9mKCIvIikmJihvPSIvIitvKSxyJiZvLmxhc3RJbmRleE9mKCIvIikhPT1vLmxlbmd0aC0xJiYobys9ciksb30sZ2V0VVJJOmZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcztyZXR1cm4gbi5zb3VyY2UmJiFlfHwodD0iIixlfHwobi5wcm90b2NvbD90Kz1uLnByb3RvY29sKyI6Ly8iOnQrPSIvLyIsbi51c2VySW5mbyYmKHQrPW4udXNlckluZm8rIkAiKSxuLmhvc3QmJih0Kz1uLmhvc3QpLG4ucG9ydCYmKHQrPSI6IituLnBvcnQpKSxuLnBhdGgmJih0Kz1uLnBhdGgpLG4ucXVlcnkmJih0Kz0iPyIrbi5xdWVyeSksbi5hbmNob3ImJih0Kz0iIyIrbi5hbmNob3IpLG4uc291cmNlPXQpLG4uc291cmNlfX0sZHgucGFyc2VEYXRhVXJpPWZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIGU9ZGVjb2RlVVJJQ29tcG9uZW50KGUpLnNwbGl0KCIsIiksKG49L2RhdGE6KFteO10rKS8uZXhlYyhlWzBdKSkmJih0PW5bMV0pLHt0eXBlOnQsZGF0YTplWzFdfX0sZHguZ2V0RG9jdW1lbnRCYXNlVXJsPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0PTAhPT1lLnByb3RvY29sLmluZGV4T2YoImh0dHAiKSYmImZpbGU6IiE9PWUucHJvdG9jb2w/ZS5ocmVmOmUucHJvdG9jb2wrIi8vIitlLmhvc3QrZS5wYXRobmFtZSwvXlteOl0rOlwvXC9cLz9bXlwvXStcLy8udGVzdCh0KSYmKHQ9dC5yZXBsYWNlKC9bXD8jXS4qJC8sIiIpLnJlcGxhY2UoL1tcL1xcXVteXC9dKyQvLCIiKSwvW1wvXFxdJC8udGVzdCh0KXx8KHQrPSIvIikpLHR9O3ZhciBteD1mdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdTtpZih0LmZvcm1hdD10LmZvcm1hdD90LmZvcm1hdDoiaHRtbCIsdC5nZXQ9ITAsdC5nZXRJbm5lcj0hMCx0Lm5vX2V2ZW50c3x8ZS5maXJlKCJCZWZvcmVHZXRDb250ZW50Iix0KSwicmF3Ij09PXQuZm9ybWF0KXI9SXQudHJpbShiaC50cmltRXh0ZXJuYWwoZS5zZXJpYWxpemVyLG4uaW5uZXJIVE1MKSk7ZWxzZSBpZigidGV4dCI9PT10LmZvcm1hdClyPV9pKG4uaW5uZXJUZXh0fHxuLnRleHRDb250ZW50KTtlbHNle2lmKCJ0cmVlIj09PXQuZm9ybWF0KXJldHVybiBlLnNlcmlhbGl6ZXIuc2VyaWFsaXplKG4sdCk7aT0obz1lKS5zZXJpYWxpemVyLnNlcmlhbGl6ZShuLHQpLGE9T3UobyksdT1uZXcgUmVnRXhwKCJeKDwiK2ErIltePl0qPigmbmJzcDt8JiMxNjA7fFxcc3xceGEwfDxiciBcXC8+fCk8XFwvIithKyI+W1xyXG5dKnw8YnIgXFwvPltcclxuXSopJCIpLHI9aS5yZXBsYWNlKHUsIiIpfXJldHVybiJ0ZXh0Ij09PXQuZm9ybWF0fHx3byhWbi5mcm9tRG9tKG4pKT90LmNvbnRlbnQ9cjp0LmNvbnRlbnQ9SXQudHJpbShyKSx0Lm5vX2V2ZW50c3x8ZS5maXJlKCJHZXRDb250ZW50Iix0KSx0LmNvbnRlbnR9LHB4PWZ1bmN0aW9uKGUsdCl7dChlKSxlLmZpcnN0Q2hpbGQmJnB4KGUuZmlyc3RDaGlsZCx0KSxlLm5leHQmJnB4KGUubmV4dCx0KX0sZ3g9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKGUsbix0KXt2YXIgcj17fSxvPXt9LGk9W107Zm9yKHZhciBhIGluIHQuZmlyc3RDaGlsZCYmcHgodC5maXJzdENoaWxkLGZ1bmN0aW9uKHQpe0guZWFjaChlLGZ1bmN0aW9uKGUpe2UubmFtZT09PXQubmFtZSYmKHJbZS5uYW1lXT9yW2UubmFtZV0ubm9kZXMucHVzaCh0KTpyW2UubmFtZV09e2ZpbHRlcjplLG5vZGVzOlt0XX0pfSksSC5lYWNoKG4sZnVuY3Rpb24oZSl7InN0cmluZyI9PXR5cGVvZiB0LmF0dHIoZS5uYW1lKSYmKG9bZS5uYW1lXT9vW2UubmFtZV0ubm9kZXMucHVzaCh0KTpvW2UubmFtZV09e2ZpbHRlcjplLG5vZGVzOlt0XX0pfSl9KSxyKXIuaGFzT3duUHJvcGVydHkoYSkmJmkucHVzaChyW2FdKTtmb3IodmFyIHUgaW4gbylvLmhhc093blByb3BlcnR5KHUpJiZpLnB1c2gob1t1XSk7cmV0dXJuIGl9KGUsdCxuKTtILmVhY2gocixmdW5jdGlvbih0KXtILmVhY2godC5maWx0ZXIuY2FsbGJhY2tzLGZ1bmN0aW9uKGUpe2UodC5ub2Rlcyx0LmZpbHRlci5uYW1lLHt9KX0pfSl9LGh4PWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgX3l9LHZ4PWZ1bmN0aW9uKGUsdCl7dmFyIHI7ZS5kb20uc2V0SFRNTChlLmdldEJvZHkoKSx0KSx6cChyPWUpJiZRYS5maXJzdFBvc2l0aW9uSW4oci5nZXRCb2R5KCkpLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZXROb2RlKCksbj1Pby5pc1RhYmxlKHQpP1FhLmZpcnN0UG9zaXRpb25Jbih0KS5nZXRPcihlKTplO3Iuc2VsZWN0aW9uLnNldFJuZyhuLnRvUmFuZ2UoKSl9KX0seXg9ZnVuY3Rpb24odSxzLGMpe3JldHVybiB2b2lkIDA9PT1jJiYoYz17fSksYy5mb3JtYXQ9Yy5mb3JtYXQ/Yy5mb3JtYXQ6Imh0bWwiLGMuc2V0PSEwLGMuY29udGVudD1oeChzKT8iIjpzLGh4KHMpfHxjLm5vX2V2ZW50c3x8KHUuZmlyZSgiQmVmb3JlU2V0Q29udGVudCIsYykscz1jLmNvbnRlbnQpLEEuZnJvbSh1LmdldEJvZHkoKSkuZm9sZChWLmNvbnN0YW50KHMpLGZ1bmN0aW9uKGUpe3JldHVybiBoeChzKT9mdW5jdGlvbihlLHQsbixyKXtneChlLnBhcnNlci5nZXROb2RlRmlsdGVycygpLGUucGFyc2VyLmdldEF0dHJpYnV0ZUZpbHRlcnMoKSxuKTt2YXIgbz1KYyh7dmFsaWRhdGU6ZS52YWxpZGF0ZX0sZS5zY2hlbWEpLnNlcmlhbGl6ZShuKTtyZXR1cm4gci5jb250ZW50PXdvKFZuLmZyb21Eb20odCkpP286SXQudHJpbShvKSx2eChlLHIuY29udGVudCksci5ub19ldmVudHN8fGUuZmlyZSgiU2V0Q29udGVudCIsciksbn0odSxlLHMsYyk6KHQ9dSxuPWUsbz1jLDA9PT0ocj1zKS5sZW5ndGh8fC9eXHMrJC8udGVzdChyKT8oYT0nPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nLCJUQUJMRSI9PT1uLm5vZGVOYW1lP3I9Ijx0cj48dGQ+IithKyI8L3RkPjwvdHI+IjovXihVTHxPTCkkLy50ZXN0KG4ubm9kZU5hbWUpJiYocj0iPGxpPiIrYSsiPC9saT4iKSwoaT1PdSh0KSkmJnQuc2NoZW1hLmlzVmFsaWRDaGlsZChuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksaS50b0xvd2VyQ2FzZSgpKT8ocj1hLHI9dC5kb20uY3JlYXRlSFRNTChpLHQuc2V0dGluZ3MuZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnMscikpOnJ8fChyPSc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPicpLHZ4KHQsciksdC5maXJlKCJTZXRDb250ZW50IixvKSk6KCJyYXciIT09by5mb3JtYXQmJihyPUpjKHt2YWxpZGF0ZTp0LnZhbGlkYXRlfSx0LnNjaGVtYSkuc2VyaWFsaXplKHQucGFyc2VyLnBhcnNlKHIse2lzUm9vdENvbnRlbnQ6ITAsaW5zZXJ0OiEwfSkpKSxvLmNvbnRlbnQ9d28oVm4uZnJvbURvbShuKSk/cjpJdC50cmltKHIpLHZ4KHQsby5jb250ZW50KSxvLm5vX2V2ZW50c3x8dC5maXJlKCJTZXRDb250ZW50IixvKSksby5jb250ZW50KTt2YXIgdCxuLHIsbyxpLGF9KX0sYng9dmkuRE9NLEN4PWZ1bmN0aW9uKGUpe3JldHVybiBBLmZyb20oZSkuZWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5kZXN0cm95KCl9KX0seHg9ZnVuY3Rpb24oZSl7aWYoIWUucmVtb3ZlZCl7dmFyIHQ9ZS5fc2VsZWN0aW9uT3ZlcnJpZGVzLG49ZS5lZGl0b3JVcGxvYWQscj1lLmdldEJvZHkoKSxvPWUuZ2V0RWxlbWVudCgpO3ImJmUuc2F2ZSgpLGUucmVtb3ZlZD0hMCxlLnVuYmluZEFsbE5hdGl2ZUV2ZW50cygpLGUuaGFzSGlkZGVuSW5wdXQmJm8mJmJ4LnJlbW92ZShvLm5leHRTaWJsaW5nKSwhZS5pbmxpbmUmJnImJihpPWUsYnguc2V0U3R5bGUoaS5pZCwiZGlzcGxheSIsaS5vcmdEaXNwbGF5KSksZnAoZSksZS5lZGl0b3JNYW5hZ2VyLnJlbW92ZShlKSxieC5yZW1vdmUoZS5nZXRDb250YWluZXIoKSksQ3godCksQ3gobiksZS5kZXN0cm95KCl9dmFyIGl9LHd4PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixvLGk9ZS5zZWxlY3Rpb24sYT1lLmRvbTtlLmRlc3Ryb3llZHx8KHR8fGUucmVtb3ZlZD8odHx8KGUuZWRpdG9yTWFuYWdlci5vZmYoImJlZm9yZXVubG9hZCIsZS5fYmVmb3JlVW5sb2FkKSxlLnRoZW1lJiZlLnRoZW1lLmRlc3Ryb3kmJmUudGhlbWUuZGVzdHJveSgpLEN4KGkpLEN4KGEpKSwocj0obj1lKS5mb3JtRWxlbWVudCkmJihyLl9tY2VPbGRTdWJtaXQmJihyLnN1Ym1pdD1yLl9tY2VPbGRTdWJtaXQsci5fbWNlT2xkU3VibWl0PW51bGwpLGJ4LnVuYmluZChyLCJzdWJtaXQgcmVzZXQiLG4uZm9ybUV2ZW50RGVsZWdhdGUpKSwobz1lKS5jb250ZW50QXJlYUNvbnRhaW5lcj1vLmZvcm1FbGVtZW50PW8uY29udGFpbmVyPW8uZWRpdG9yQ29udGFpbmVyPW51bGwsby5ib2R5RWxlbWVudD1vLmNvbnRlbnREb2N1bWVudD1vLmNvbnRlbnRXaW5kb3c9bnVsbCxvLmlmcmFtZUVsZW1lbnQ9by50YXJnZXRFbG09bnVsbCxvLnNlbGVjdGlvbiYmKG8uc2VsZWN0aW9uPW8uc2VsZWN0aW9uLndpbj1vLnNlbGVjdGlvbi5kb209by5zZWxlY3Rpb24uZG9tLmRvYz1udWxsKSxlLmRlc3Ryb3llZD0hMCk6ZS5yZW1vdmUoKSl9LE54PXZpLkRPTSxFeD1JdC5leHRlbmQsU3g9SXQuZWFjaCxreD1JdC5yZXNvbHZlLFR4PXZlLmllLEF4PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixvLGksYSx1LHMsYyxsPXRoaXMsZj1sLmRvY3VtZW50QmFzZVVybD1uLmRvY3VtZW50QmFzZVVSTCxkPW4uYmFzZVVSSTtyPWwsbz1lLGk9ZixhPW4uZGVmYXVsdFNldHRpbmdzLHU9dCxjPXtpZDpvLHRoZW1lOiJtb2Rlcm4iLGRlbHRhX3dpZHRoOjAsZGVsdGFfaGVpZ2h0OjAscG9wdXBfY3NzOiIiLHBsdWdpbnM6IiIsZG9jdW1lbnRfYmFzZV91cmw6aSxhZGRfZm9ybV9zdWJtaXRfdHJpZ2dlcjohMCxzdWJtaXRfcGF0Y2g6ITAsYWRkX3VubG9hZF90cmlnZ2VyOiEwLGNvbnZlcnRfdXJsczohMCxyZWxhdGl2ZV91cmxzOiEwLHJlbW92ZV9zY3JpcHRfaG9zdDohMCxvYmplY3RfcmVzaXppbmc6ITAsZG9jdHlwZToiPCFET0NUWVBFIGh0bWw+Iix2aXN1YWw6ITAsZm9udF9zaXplX3N0eWxlX3ZhbHVlczoieHgtc21hbGwseC1zbWFsbCxzbWFsbCxtZWRpdW0sbGFyZ2UseC1sYXJnZSx4eC1sYXJnZSIsZm9udF9zaXplX2xlZ2FjeV92YWx1ZXM6Inh4LXNtYWxsLHNtYWxsLG1lZGl1bSxsYXJnZSx4LWxhcmdlLHh4LWxhcmdlLDMwMCUiLGZvcmNlZF9yb290X2Jsb2NrOiJwIixoaWRkZW5faW5wdXQ6ITAscmVuZGVyX3VpOiEwLGluZGVudGF0aW9uOiIzMHB4IixpbmxpbmVfc3R5bGVzOiEwLGNvbnZlcnRfZm9udHNfdG9fc3BhbnM6ITAsaW5kZW50OiJzaW1wbGUiLGluZGVudF9iZWZvcmU6InAsaDEsaDIsaDMsaDQsaDUsaDYsYmxvY2txdW90ZSxkaXYsdGl0bGUsc3R5bGUscHJlLHNjcmlwdCx0ZCx0aCx1bCxvbCxsaSxkbCxkdCxkZCxhcmVhLHRhYmxlLHRoZWFkLHRmb290LHRib2R5LHRyLHNlY3Rpb24sc3VtbWFyeSxhcnRpY2xlLGhncm91cCxhc2lkZSxmaWd1cmUsZmlnY2FwdGlvbixvcHRpb24sb3B0Z3JvdXAsZGF0YWxpc3QiLGluZGVudF9hZnRlcjoicCxoMSxoMixoMyxoNCxoNSxoNixibG9ja3F1b3RlLGRpdix0aXRsZSxzdHlsZSxwcmUsc2NyaXB0LHRkLHRoLHVsLG9sLGxpLGRsLGR0LGRkLGFyZWEsdGFibGUsdGhlYWQsdGZvb3QsdGJvZHksdHIsc2VjdGlvbixzdW1tYXJ5LGFydGljbGUsaGdyb3VwLGFzaWRlLGZpZ3VyZSxmaWdjYXB0aW9uLG9wdGlvbixvcHRncm91cCxkYXRhbGlzdCIsZW50aXR5X2VuY29kaW5nOiJuYW1lZCIsdXJsX2NvbnZlcnRlcjoocz1yKS5jb252ZXJ0VVJMLHVybF9jb252ZXJ0ZXJfc2NvcGU6cyxpZTdfY29tcGF0OiEwfSx0PWdsKGNsLGMsYSx1KSxsLnNldHRpbmdzPXQsU2kubGFuZ3VhZ2U9dC5sYW5ndWFnZXx8ImVuIixTaS5sYW5ndWFnZUxvYWQ9dC5sYW5ndWFnZV9sb2FkLFNpLmJhc2VVUkw9bi5iYXNlVVJMLGwuaWQ9ZSxsLnNldERpcnR5KCExKSxsLnBsdWdpbnM9e30sbC5kb2N1bWVudEJhc2VVUkk9bmV3IGR4KHQuZG9jdW1lbnRfYmFzZV91cmwse2Jhc2VfdXJpOmR9KSxsLmJhc2VVUkk9ZCxsLmNvbnRlbnRDU1M9W10sbC5jb250ZW50U3R5bGVzPVtdLGwuc2hvcnRjdXRzPW5ldyBBcChsKSxsLmxvYWRlZENTUz17fSxsLmVkaXRvckNvbW1hbmRzPW5ldyBIbShsKSxsLnN1ZmZpeD1uLnN1ZmZpeCxsLmVkaXRvck1hbmFnZXI9bixsLmlubGluZT10LmlubGluZSxsLmJ1dHRvbnM9e30sbC5tZW51SXRlbXM9e30sdC5jYWNoZV9zdWZmaXgmJih2ZS5jYWNoZVN1ZmZpeD10LmNhY2hlX3N1ZmZpeC5yZXBsYWNlKC9eW1w/XCZdKy8sIiIpKSwhMT09PXQub3ZlcnJpZGVfdmlld3BvcnQmJih2ZS5vdmVycmlkZVZpZXdQb3J0PSExKSxuLmZpcmUoIlNldHVwRWRpdG9yIix7ZWRpdG9yOmx9KSxsLmV4ZWNDYWxsYmFjaygic2V0dXAiLGwpLGwuJD10bi5vdmVycmlkZURlZmF1bHRzKGZ1bmN0aW9uKCl7cmV0dXJue2NvbnRleHQ6bC5pbmxpbmU/bC5nZXRCb2R5KCk6bC5nZXREb2MoKSxlbGVtZW50OmwuZ2V0Qm9keSgpfX0pfTtFeChBeC5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbigpe2F4KHRoaXMpfSxmb2N1czpmdW5jdGlvbihlKXtGcCh0aGlzLGUpfSxoYXNGb2N1czpmdW5jdGlvbigpe3JldHVybiB6cCh0aGlzKX0sZXhlY0NhbGxiYWNrOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3ZhciByLG89dGhpcy5zZXR0aW5nc1tlXTtpZihvKXJldHVybiB0aGlzLmNhbGxiYWNrTG9va3VwJiYocj10aGlzLmNhbGxiYWNrTG9va3VwW2VdKSYmKG89ci5mdW5jLHI9ci5zY29wZSksInN0cmluZyI9PXR5cGVvZiBvJiYocj0ocj1vLnJlcGxhY2UoL1wuXHcrJC8sIiIpKT9reChyKTowLG89a3gobyksdGhpcy5jYWxsYmFja0xvb2t1cD10aGlzLmNhbGxiYWNrTG9va3VwfHx7fSx0aGlzLmNhbGxiYWNrTG9va3VwW2VdPXtmdW5jOm8sc2NvcGU6cn0pLG8uYXBwbHkocnx8dGhpcyxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpfSx0cmFuc2xhdGU6ZnVuY3Rpb24oZSl7aWYoZSYmSXQuaXMoZSwic3RyaW5nIikpe3ZhciBuPXRoaXMuc2V0dGluZ3MubGFuZ3VhZ2V8fCJlbiIscj10aGlzLmVkaXRvck1hbmFnZXIuaTE4bjtlPXIuZGF0YVtuKyIuIitlXXx8ZS5yZXBsYWNlKC9ce1wjKFteXH1dKylcfS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuZGF0YVtuKyIuIit0XXx8InsjIit0KyJ9In0pfXJldHVybiB0aGlzLmVkaXRvck1hbmFnZXIudHJhbnNsYXRlKGUpfSxnZXRMYW5nOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWRpdG9yTWFuYWdlci5pMThuLmRhdGFbKHRoaXMuc2V0dGluZ3MubGFuZ3VhZ2V8fCJlbiIpKyIuIitlXXx8KHQhPT11bmRlZmluZWQ/dDoieyMiK2UrIn0iKX0sZ2V0UGFyYW06ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB5bCh0aGlzLGUsdCxuKX0sbm9kZUNoYW5nZWQ6ZnVuY3Rpb24oZSl7dGhpcy5fbm9kZUNoYW5nZURpc3BhdGNoZXIubm9kZUNoYW5nZWQoZSl9LGFkZEJ1dHRvbjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dC5jbWQmJih0Lm9uY2xpY2s9ZnVuY3Rpb24oKXtuLmV4ZWNDb21tYW5kKHQuY21kKX0pLHQuc3RhdGVTZWxlY3RvciYmInVuZGVmaW5lZCI9PXR5cGVvZiB0LmFjdGl2ZSYmKHQuYWN0aXZlPSExKSx0LnRleHR8fHQuaWNvbnx8KHQuaWNvbj1lKSxuLmJ1dHRvbnM9bi5idXR0b25zLHQudG9vbHRpcD10LnRvb2x0aXB8fHQudGl0bGUsbi5idXR0b25zW2VdPXR9LGFkZFNpZGViYXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdXgodGhpcyxlLHQpfSxhZGRNZW51SXRlbTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dC5jbWQmJih0Lm9uY2xpY2s9ZnVuY3Rpb24oKXtuLmV4ZWNDb21tYW5kKHQuY21kKX0pLG4ubWVudUl0ZW1zPW4ubWVudUl0ZW1zLG4ubWVudUl0ZW1zW2VdPXR9LGFkZENvbnRleHRUb29sYmFyOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj10aGlzO3IuY29udGV4dFRvb2xiYXJzPXIuY29udGV4dFRvb2xiYXJzfHxbXSwic3RyaW5nIj09dHlwZW9mIGUmJihuPWUsZT1mdW5jdGlvbihlKXtyZXR1cm4gci5kb20uaXMoZSxuKX0pLHIuY29udGV4dFRvb2xiYXJzLnB1c2goe2lkOnhnLnV1aWQoIm1jZXQiKSxwcmVkaWNhdGU6ZSxpdGVtczp0fSl9LGFkZENvbW1hbmQ6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuZWRpdG9yQ29tbWFuZHMuYWRkQ29tbWFuZChlLHQsbil9LGFkZFF1ZXJ5U3RhdGVIYW5kbGVyOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLmVkaXRvckNvbW1hbmRzLmFkZFF1ZXJ5U3RhdGVIYW5kbGVyKGUsdCxuKX0sYWRkUXVlcnlWYWx1ZUhhbmRsZXI6ZnVuY3Rpb24oZSx0LG4pe3RoaXMuZWRpdG9yQ29tbWFuZHMuYWRkUXVlcnlWYWx1ZUhhbmRsZXIoZSx0LG4pfSxhZGRTaG9ydGN1dDpmdW5jdGlvbihlLHQsbixyKXt0aGlzLnNob3J0Y3V0cy5hZGQoZSx0LG4scil9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLmVkaXRvckNvbW1hbmRzLmV4ZWNDb21tYW5kKGUsdCxuLHIpfSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lZGl0b3JDb21tYW5kcy5xdWVyeUNvbW1hbmRTdGF0ZShlKX0scXVlcnlDb21tYW5kVmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWRpdG9yQ29tbWFuZHMucXVlcnlDb21tYW5kVmFsdWUoZSl9LHF1ZXJ5Q29tbWFuZFN1cHBvcnRlZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lZGl0b3JDb21tYW5kcy5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoZSl9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLmhpZGRlbiYmKHRoaXMuaGlkZGVuPSExLHRoaXMuaW5saW5lP3RoaXMuZ2V0Qm9keSgpLmNvbnRlbnRFZGl0YWJsZT0hMDooTnguc2hvdyh0aGlzLmdldENvbnRhaW5lcigpKSxOeC5oaWRlKHRoaXMuaWQpKSx0aGlzLmxvYWQoKSx0aGlzLmZpcmUoInNob3ciKSl9LGhpZGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9ZS5nZXREb2MoKTtlLmhpZGRlbnx8KFR4JiZ0JiYhZS5pbmxpbmUmJnQuZXhlY0NvbW1hbmQoIlNlbGVjdEFsbCIpLGUuc2F2ZSgpLGUuaW5saW5lPyhlLmdldEJvZHkoKS5jb250ZW50RWRpdGFibGU9ITEsZT09PWUuZWRpdG9yTWFuYWdlci5mb2N1c2VkRWRpdG9yJiYoZS5lZGl0b3JNYW5hZ2VyLmZvY3VzZWRFZGl0b3I9bnVsbCkpOihOeC5oaWRlKGUuZ2V0Q29udGFpbmVyKCkpLE54LnNldFN0eWxlKGUuaWQsImRpc3BsYXkiLGUub3JnRGlzcGxheSkpLGUuaGlkZGVuPSEwLGUuZmlyZSgiaGlkZSIpKX0saXNIaWRkZW46ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuaGlkZGVufSxzZXRQcm9ncmVzc1N0YXRlOmZ1bmN0aW9uKGUsdCl7dGhpcy5maXJlKCJQcm9ncmVzc1N0YXRlIix7c3RhdGU6ZSx0aW1lOnR9KX0sbG9hZDpmdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuZ2V0RWxlbWVudCgpO3JldHVybiB0aGlzLnJlbW92ZWQ/IiI6bj8oKGU9ZXx8e30pLmxvYWQ9ITAsdD10aGlzLnNldENvbnRlbnQobi52YWx1ZSE9PXVuZGVmaW5lZD9uLnZhbHVlOm4uaW5uZXJIVE1MLGUpLGUuZWxlbWVudD1uLGUubm9fZXZlbnRzfHx0aGlzLmZpcmUoIkxvYWRDb250ZW50IixlKSxlLmVsZW1lbnQ9bj1udWxsLHQpOnZvaWQgMH0sc2F2ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcyxvPXIuZ2V0RWxlbWVudCgpO2lmKG8mJnIuaW5pdGlhbGl6ZWQmJiFyLnJlbW92ZWQpcmV0dXJuKGU9ZXx8e30pLnNhdmU9ITAsZS5lbGVtZW50PW8sZS5jb250ZW50PXIuZ2V0Q29udGVudChlKSxlLm5vX2V2ZW50c3x8ci5maXJlKCJTYXZlQ29udGVudCIsZSksInJhdyI9PT1lLmZvcm1hdCYmci5maXJlKCJSYXdTYXZlQ29udGVudCIsZSksdD1lLmNvbnRlbnQsL1RFWFRBUkVBfElOUFVUL2kudGVzdChvLm5vZGVOYW1lKT9vLnZhbHVlPXQ6KHIuaW5saW5lfHwoby5pbm5lckhUTUw9dCksKG49TnguZ2V0UGFyZW50KHIuaWQsImZvcm0iKSkmJlN4KG4uZWxlbWVudHMsZnVuY3Rpb24oZSl7aWYoZS5uYW1lPT09ci5pZClyZXR1cm4gZS52YWx1ZT10LCExfSkpLGUuZWxlbWVudD1vPW51bGwsITEhPT1lLnNldF9kaXJ0eSYmci5zZXREaXJ0eSghMSksdH0sc2V0Q29udGVudDpmdW5jdGlvbihlLHQpe3JldHVybiB5eCh0aGlzLGUsdCl9LGdldENvbnRlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHQ9dGhpcyx2b2lkIDA9PT0obj1lKSYmKG49e30pLEEuZnJvbSh0LmdldEJvZHkoKSkuZm9sZChWLmNvbnN0YW50KCJ0cmVlIj09PW4uZm9ybWF0P25ldyBfeSgiYm9keSIsMTEpOiIiKSxmdW5jdGlvbihlKXtyZXR1cm4gbXgodCxuLGUpfSk7dmFyIHQsbn0saW5zZXJ0Q29udGVudDpmdW5jdGlvbihlLHQpe3QmJihlPUV4KHtjb250ZW50OmV9LHQpKSx0aGlzLmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDb250ZW50IiwhMSxlKX0saXNEaXJ0eTpmdW5jdGlvbigpe3JldHVybiF0aGlzLmlzTm90RGlydHl9LHNldERpcnR5OmZ1bmN0aW9uKGUpe3ZhciB0PSF0aGlzLmlzTm90RGlydHk7dGhpcy5pc05vdERpcnR5PSFlLGUmJmUhPT10JiZ0aGlzLmZpcmUoImRpcnR5Iil9LHNldE1vZGU6ZnVuY3Rpb24oZSl7dmFyIHQsbjsobj1lKSE9PXZwKHQ9dGhpcykmJih0LmluaXRpYWxpemVkP2hwKHQsInJlYWRvbmx5Ij09PW4pOnQub24oImluaXQiLGZ1bmN0aW9uKCl7aHAodCwicmVhZG9ubHkiPT09bil9KSxkcCh0LG4pKX0sZ2V0Q29udGFpbmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyfHwodGhpcy5jb250YWluZXI9TnguZ2V0KHRoaXMuZWRpdG9yQ29udGFpbmVyfHx0aGlzLmlkKyJfcGFyZW50IikpLHRoaXMuY29udGFpbmVyfSxnZXRDb250ZW50QXJlYUNvbnRhaW5lcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRBcmVhQ29udGFpbmVyfSxnZXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0RWxtfHwodGhpcy50YXJnZXRFbG09TnguZ2V0KHRoaXMuaWQpKSx0aGlzLnRhcmdldEVsbX0sZ2V0V2luOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHRoaXMuY29udGVudFdpbmRvd3x8KGU9dGhpcy5pZnJhbWVFbGVtZW50KSYmKHRoaXMuY29udGVudFdpbmRvdz1lLmNvbnRlbnRXaW5kb3cpLHRoaXMuY29udGVudFdpbmRvd30sZ2V0RG9jOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHRoaXMuY29udGVudERvY3VtZW50fHwoZT10aGlzLmdldFdpbigpKSYmKHRoaXMuY29udGVudERvY3VtZW50PWUuZG9jdW1lbnQpLHRoaXMuY29udGVudERvY3VtZW50fSxnZXRCb2R5OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5nZXREb2MoKTtyZXR1cm4gdGhpcy5ib2R5RWxlbWVudHx8KGU/ZS5ib2R5Om51bGwpfSxjb252ZXJ0VVJMOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLnNldHRpbmdzO3JldHVybiByLnVybGNvbnZlcnRlcl9jYWxsYmFjaz90aGlzLmV4ZWNDYWxsYmFjaygidXJsY29udmVydGVyX2NhbGxiYWNrIixlLG4sITAsdCk6IXIuY29udmVydF91cmxzfHxuJiYiTElOSyI9PT1uLm5vZGVOYW1lfHwwPT09ZS5pbmRleE9mKCJmaWxlOiIpfHwwPT09ZS5sZW5ndGg/ZTpyLnJlbGF0aXZlX3VybHM/dGhpcy5kb2N1bWVudEJhc2VVUkkudG9SZWxhdGl2ZShlKTplPXRoaXMuZG9jdW1lbnRCYXNlVVJJLnRvQWJzb2x1dGUoZSxyLnJlbW92ZV9zY3JpcHRfaG9zdCl9LGFkZFZpc3VhbDpmdW5jdGlvbihlKXt2YXIgbixyPXRoaXMsbz1yLnNldHRpbmdzLGk9ci5kb207ZT1lfHxyLmdldEJvZHkoKSxyLmhhc1Zpc3VhbD09PXVuZGVmaW5lZCYmKHIuaGFzVmlzdWFsPW8udmlzdWFsKSxTeChpLnNlbGVjdCgidGFibGUsYSIsZSksZnVuY3Rpb24oZSl7dmFyIHQ7c3dpdGNoKGUubm9kZU5hbWUpe2Nhc2UiVEFCTEUiOnJldHVybiBuPW8udmlzdWFsX3RhYmxlX2NsYXNzfHwibWNlLWl0ZW0tdGFibGUiLHZvaWQoKHQ9aS5nZXRBdHRyaWIoZSwiYm9yZGVyIikpJiYiMCIhPT10fHwhci5oYXNWaXN1YWw/aS5yZW1vdmVDbGFzcyhlLG4pOmkuYWRkQ2xhc3MoZSxuKSk7Y2FzZSJBIjpyZXR1cm4gdm9pZChpLmdldEF0dHJpYihlLCJocmVmIil8fCh0PWkuZ2V0QXR0cmliKGUsIm5hbWUiKXx8ZS5pZCxuPW8udmlzdWFsX2FuY2hvcl9jbGFzc3x8Im1jZS1pdGVtLWFuY2hvciIsdCYmci5oYXNWaXN1YWw/aS5hZGRDbGFzcyhlLG4pOmkucmVtb3ZlQ2xhc3MoZSxuKSkpfX0pLHIuZmlyZSgiVmlzdWFsQWlkIix7ZWxlbWVudDplLGhhc1Zpc3VhbDpyLmhhc1Zpc3VhbH0pfSxyZW1vdmU6ZnVuY3Rpb24oKXt4eCh0aGlzKX0sZGVzdHJveTpmdW5jdGlvbihlKXt3eCh0aGlzLGUpfSx1cGxvYWRJbWFnZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWRpdG9yVXBsb2FkLnVwbG9hZEltYWdlcyhlKX0sX3NjYW5Gb3JJbWFnZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3JVcGxvYWQuc2NhbkZvckltYWdlcygpfX0sTnApO3ZhciBSeCxfeCxCeCxEeD17aXNFZGl0b3JVSUVsZW1lbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1lLmNsYXNzTmFtZS50b1N0cmluZygpLmluZGV4T2YoIm1jZS0iKX19LE94PWZ1bmN0aW9uKG4sZSl7dmFyIHQscjtVbi5kZXRlY3QoKS5icm93c2VyLmlzSUUoKT8ocj1uKS5vbigiZm9jdXNvdXQiLGZ1bmN0aW9uKCl7TG0ocil9KToodD1lLG4ub24oIm1vdXNldXAgdG91Y2hlbmQiLGZ1bmN0aW9uKGUpe3QudGhyb3R0bGUoKX0pKSxuLm9uKCJrZXl1cCBub2RlY2hhbmdlIixmdW5jdGlvbihlKXt2YXIgdDsibm9kZWNoYW5nZSI9PT0odD1lKS50eXBlJiZ0LnNlbGVjdGlvbkNoYW5nZXx8TG0obil9KX0sUHg9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG89YWgoZnVuY3Rpb24oKXtMbShlKX0sMCk7ZS5pbmxpbmUmJih0PWUsbj1vLHI9ZnVuY3Rpb24oKXtuLnRocm90dGxlKCl9LHZpLkRPTS5iaW5kKGRvY3VtZW50LCJtb3VzZXVwIixyKSx0Lm9uKCJyZW1vdmUiLGZ1bmN0aW9uKCl7dmkuRE9NLnVuYmluZChkb2N1bWVudCwibW91c2V1cCIscil9KSksZS5vbigiaW5pdCIsZnVuY3Rpb24oKXtPeChlLG8pfSksZS5vbigicmVtb3ZlIixmdW5jdGlvbigpe28uY2FuY2VsKCl9KX0sTHg9dmkuRE9NLEl4PWZ1bmN0aW9uKGUpe3JldHVybiBEeC5pc0VkaXRvclVJRWxlbWVudChlKX0sTXg9ZnVuY3Rpb24odCxlKXt2YXIgbj10P3Quc2V0dGluZ3MuY3VzdG9tX3VpX3NlbGVjdG9yOiIiO3JldHVybiBudWxsIT09THguZ2V0UGFyZW50KGUsZnVuY3Rpb24oZSl7cmV0dXJuIEl4KGUpfHwhIW4mJnQuZG9tLmlzKGUsbil9KX0sRng9ZnVuY3Rpb24ocixlKXt2YXIgdD1lLmVkaXRvcjtQeCh0KSx0Lm9uKCJmb2N1c2luIixmdW5jdGlvbigpe3ZhciBlPXIuZm9jdXNlZEVkaXRvcjtlIT09dGhpcyYmKGUmJmUuZmlyZSgiYmx1ciIse2ZvY3VzZWRFZGl0b3I6dGhpc30pLHIuc2V0QWN0aXZlKHRoaXMpLChyLmZvY3VzZWRFZGl0b3I9dGhpcykuZmlyZSgiZm9jdXMiLHtibHVycmVkRWRpdG9yOmV9KSx0aGlzLmZvY3VzKCEwKSl9KSx0Lm9uKCJmb2N1c291dCIsZnVuY3Rpb24oKXt2YXIgdD10aGlzO3dlLnNldEVkaXRvclRpbWVvdXQodCxmdW5jdGlvbigpe3ZhciBlPXIuZm9jdXNlZEVkaXRvcjtNeCh0LGZ1bmN0aW9uKCl7dHJ5e3JldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50fWNhdGNoKGUpe3JldHVybiBkb2N1bWVudC5ib2R5fX0oKSl8fGUhPT10fHwodC5maXJlKCJibHVyIix7Zm9jdXNlZEVkaXRvcjpudWxsfSksci5mb2N1c2VkRWRpdG9yPW51bGwpfSl9KSxSeHx8KFJ4PWZ1bmN0aW9uKGUpe3ZhciB0LG49ci5hY3RpdmVFZGl0b3I7dD1lLnRhcmdldCxuJiZ0Lm93bmVyRG9jdW1lbnQ9PT1kb2N1bWVudCYmKHQ9PT1kb2N1bWVudC5ib2R5fHxNeChuLHQpfHxyLmZvY3VzZWRFZGl0b3IhPT1ufHwobi5maXJlKCJibHVyIix7Zm9jdXNlZEVkaXRvcjpudWxsfSksci5mb2N1c2VkRWRpdG9yPW51bGwpKX0sTHguYmluZChkb2N1bWVudCwiZm9jdXNpbiIsUngpKX0seng9ZnVuY3Rpb24oZSx0KXtlLmZvY3VzZWRFZGl0b3I9PT10LmVkaXRvciYmKGUuZm9jdXNlZEVkaXRvcj1udWxsKSxlLmFjdGl2ZUVkaXRvcnx8KEx4LnVuYmluZChkb2N1bWVudCwiZm9jdXNpbiIsUngpLFJ4PW51bGwpfSxVeD1mdW5jdGlvbihlKXtlLm9uKCJBZGRFZGl0b3IiLFYuY3VycnkoRngsZSkpLGUub24oIlJlbW92ZUVkaXRvciIsVi5jdXJyeSh6eCxlKSl9LHF4PXt9LFZ4PSJlbiIsSHg9e3NldENvZGU6ZnVuY3Rpb24oZSl7ZSYmKFZ4PWUsdGhpcy5ydGw9ISF0aGlzLmRhdGFbZV0mJiJydGwiPT09dGhpcy5kYXRhW2VdLl9kaXIpfSxnZXRDb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIFZ4fSxydGw6ITEsYWRkOmZ1bmN0aW9uKGUsdCl7dmFyIG49cXhbZV07Zm9yKHZhciByIGluIG58fChxeFtlXT1uPXt9KSx0KW5bcl09dFtyXTt0aGlzLnNldENvZGUoZSl9LHRyYW5zbGF0ZTpmdW5jdGlvbihlKXt2YXIgdD1xeFtWeF18fHt9LG49ZnVuY3Rpb24oZSl7cmV0dXJuIEl0LmlzKGUsImZ1bmN0aW9uIik/T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpOnIoZSk/IiI6IiIrZX0scj1mdW5jdGlvbihlKXtyZXR1cm4iIj09PWV8fG51bGw9PT1lfHxJdC5pcyhlLCJ1bmRlZmluZWQiKX0sbz1mdW5jdGlvbihlKXtyZXR1cm4gZT1uKGUpLEl0Lmhhc093bih0LGUpP24odFtlXSk6ZX07aWYocihlKSlyZXR1cm4iIjtpZihJdC5pcyhlLCJvYmplY3QiKSYmSXQuaGFzT3duKGUsInJhdyIpKXJldHVybiBuKGUucmF3KTtpZihJdC5pcyhlLCJhcnJheSIpKXt2YXIgaT1lLnNsaWNlKDEpO2U9byhlWzBdKS5yZXBsYWNlKC9ceyhbMC05XSspXH0vZyxmdW5jdGlvbihlLHQpe3JldHVybiBJdC5oYXNPd24oaSx0KT9uKGlbdF0pOmV9KX1yZXR1cm4gbyhlKS5yZXBsYWNlKC97Y29udGV4dDpcdyt9JC8sIiIpfSxkYXRhOnF4fSxqeD12aS5ET00sJHg9SXQuZXhwbG9kZSxXeD1JdC5lYWNoLEt4PUl0LmV4dGVuZCxYeD0wLFl4PSExLEd4PVtdLEp4PVtdLFF4PWZ1bmN0aW9uKHQpe1d4KEJ4LmdldCgpLGZ1bmN0aW9uKGUpeyJzY3JvbGwiPT09dC50eXBlP2UuZmlyZSgiU2Nyb2xsV2luZG93Iix0KTplLmZpcmUoIlJlc2l6ZVdpbmRvdyIsdCl9KX0sWng9ZnVuY3Rpb24oZSl7ZSE9PVl4JiYoZT90bih3aW5kb3cpLm9uKCJyZXNpemUgc2Nyb2xsIixReCk6dG4od2luZG93KS5vZmYoInJlc2l6ZSBzY3JvbGwiLFF4KSxZeD1lKX0sZXc9ZnVuY3Rpb24odCl7dmFyIGU9Sng7ZGVsZXRlIEd4W3QuaWRdO2Zvcih2YXIgbj0wO248R3gubGVuZ3RoO24rKylpZihHeFtuXT09PXQpe0d4LnNwbGljZShuLDEpO2JyZWFrfXJldHVybiBKeD1ILmZpbHRlcihKeCxmdW5jdGlvbihlKXtyZXR1cm4gdCE9PWV9KSxCeC5hY3RpdmVFZGl0b3I9PT10JiYoQnguYWN0aXZlRWRpdG9yPTA8SngubGVuZ3RoP0p4WzBdOm51bGwpLEJ4LmZvY3VzZWRFZGl0b3I9PT10JiYoQnguZm9jdXNlZEVkaXRvcj1udWxsKSxlLmxlbmd0aCE9PUp4Lmxlbmd0aH07S3goQng9e2RlZmF1bHRTZXR0aW5nczp7fSwkOnRuLG1ham9yVmVyc2lvbjoiNCIsbWlub3JWZXJzaW9uOiI3LjEzIixyZWxlYXNlRGF0ZToiMjAxOC0wNS0xNiIsZWRpdG9yczpHeCxpMThuOkh4LGFjdGl2ZUVkaXRvcjpudWxsLHNldHRpbmdzOnt9LHNldHVwOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsbz0iIjtpZih0PWR4LmdldERvY3VtZW50QmFzZVVybChkb2N1bWVudC5sb2NhdGlvbiksL15bXjpdKzpcL1wvXC8/W15cL10rXC8vLnRlc3QodCkmJih0PXQucmVwbGFjZSgvW1w/I10uKiQvLCIiKS5yZXBsYWNlKC9bXC9cXF1bXlwvXSskLywiIiksL1tcL1xcXSQvLnRlc3QodCl8fCh0Kz0iLyIpKSxuPXdpbmRvdy50aW55bWNlfHx3aW5kb3cudGlueU1DRVByZUluaXQpZT1uLmJhc2V8fG4uYmFzZVVSTCxvPW4uc3VmZml4O2Vsc2V7Zm9yKHZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxhPTA7YTxpLmxlbmd0aDthKyspe3ZhciB1PShyPWlbYV0uc3JjKS5zdWJzdHJpbmcoci5sYXN0SW5kZXhPZigiLyIpKTtpZigvdGlueW1jZShcLmZ1bGx8XC5qcXVlcnl8KShcLm1pbnxcLmRldnwpXC5qcy8udGVzdChyKSl7LTEhPT11LmluZGV4T2YoIi5taW4iKSYmKG89Ii5taW4iKSxlPXIuc3Vic3RyaW5nKDAsci5sYXN0SW5kZXhPZigiLyIpKTticmVha319IWUmJmRvY3VtZW50LmN1cnJlbnRTY3JpcHQmJigtMSE9PShyPWRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjKS5pbmRleE9mKCIubWluIikmJihvPSIubWluIiksZT1yLnN1YnN0cmluZygwLHIubGFzdEluZGV4T2YoIi8iKSkpfXRoaXMuYmFzZVVSTD1uZXcgZHgodCkudG9BYnNvbHV0ZShlKSx0aGlzLmRvY3VtZW50QmFzZVVSTD10LHRoaXMuYmFzZVVSST1uZXcgZHgodGhpcy5iYXNlVVJMKSx0aGlzLnN1ZmZpeD1vLFV4KHRoaXMpfSxvdmVycmlkZURlZmF1bHRzOmZ1bmN0aW9uKGUpe3ZhciB0LG47KHQ9ZS5iYXNlX3VybCkmJih0aGlzLmJhc2VVUkw9bmV3IGR4KHRoaXMuZG9jdW1lbnRCYXNlVVJMKS50b0Fic29sdXRlKHQucmVwbGFjZSgvXC8rJC8sIiIpKSx0aGlzLmJhc2VVUkk9bmV3IGR4KHRoaXMuYmFzZVVSTCkpLG49ZS5zdWZmaXgsZS5zdWZmaXgmJih0aGlzLnN1ZmZpeD1uKTt2YXIgcj0odGhpcy5kZWZhdWx0U2V0dGluZ3M9ZSkucGx1Z2luX2Jhc2VfdXJscztmb3IodmFyIG8gaW4gcilTaS5QbHVnaW5NYW5hZ2VyLnVybHNbb109cltvXX0saW5pdDpmdW5jdGlvbihyKXt2YXIgbix1LHM9dGhpczt1PUl0Lm1ha2VNYXAoImFyZWEgYmFzZSBiYXNlZm9udCBiciBjb2wgZnJhbWUgaHIgaW1nIGlucHV0IGlzaW5kZXggbGluayBtZXRhIHBhcmFtIGVtYmVkIHNvdXJjZSB3YnIgdHJhY2sgY29sZ3JvdXAgb3B0aW9uIHRib2R5IHRmb290IHRoZWFkIHRyIHNjcmlwdCBub3NjcmlwdCBzdHlsZSB0ZXh0YXJlYSB2aWRlbyBhdWRpbyBpZnJhbWUgb2JqZWN0IG1lbnUiLCIgIik7dmFyIGM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pZDtyZXR1cm4gdHx8KHQ9KHQ9ZS5uYW1lKSYmIWp4LmdldCh0KT9lLm5hbWU6angudW5pcXVlSWQoKSxlLnNldEF0dHJpYnV0ZSgiaWQiLHQpKSx0fSxsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuY29uc3RydWN0b3I9PT1SZWdFeHA/dC50ZXN0KGUuY2xhc3NOYW1lKTpqeC5oYXNDbGFzcyhlLHQpfSxmPWZ1bmN0aW9uKGUpe249ZX0sZT1mdW5jdGlvbigpe3ZhciBvLGk9MCxhPVtdLG49ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW5ldyBBeChlLHQscyk7YS5wdXNoKHIpLHIub24oImluaXQiLGZ1bmN0aW9uKCl7KytpPT09by5sZW5ndGgmJmYoYSl9KSxyLnRhcmdldEVsbT1yLnRhcmdldEVsbXx8bixyLnJlbmRlcigpfTtqeC51bmJpbmQod2luZG93LCJyZWFkeSIsZSksZnVuY3Rpb24oZSl7dmFyIHQ9cltlXTt0JiZ0LmFwcGx5KHMsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpKX0oIm9ucGFnZWxvYWQiKSxvPXRuLnVuaXF1ZShmdW5jdGlvbih0KXt2YXIgZSxuPVtdO2lmKHZlLmllJiZ2ZS5pZTwxMSlyZXR1cm4gcmcoIlRpbnlNQ0UgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYnJvd3NlciB5b3UgYXJlIHVzaW5nLiBGb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCBicm93c2VycyBwbGVhc2Ugc2VlOiBodHRwczovL3d3dy50aW55bWNlLmNvbS9kb2NzL2dldC1zdGFydGVkL3N5c3RlbS1yZXF1aXJlbWVudHMvIiksW107aWYodC50eXBlcylyZXR1cm4gV3godC50eXBlcyxmdW5jdGlvbihlKXtuPW4uY29uY2F0KGp4LnNlbGVjdChlLnNlbGVjdG9yKSl9KSxuO2lmKHQuc2VsZWN0b3IpcmV0dXJuIGp4LnNlbGVjdCh0LnNlbGVjdG9yKTtpZih0LnRhcmdldClyZXR1cm5bdC50YXJnZXRdO3N3aXRjaCh0Lm1vZGUpe2Nhc2UiZXhhY3QiOjA8KGU9dC5lbGVtZW50c3x8IiIpLmxlbmd0aCYmV3goJHgoZSksZnVuY3Rpb24odCl7dmFyIGU7KGU9anguZ2V0KHQpKT9uLnB1c2goZSk6V3goZG9jdW1lbnQuZm9ybXMsZnVuY3Rpb24oZSl7V3goZS5lbGVtZW50cyxmdW5jdGlvbihlKXtlLm5hbWU9PT10JiYodD0ibWNlX2VkaXRvcl8iK1h4Kyssanguc2V0QXR0cmliKGUsImlkIix0KSxuLnB1c2goZSkpfSl9KX0pO2JyZWFrO2Nhc2UidGV4dGFyZWFzIjpjYXNlInNwZWNpZmljX3RleHRhcmVhcyI6V3goanguc2VsZWN0KCJ0ZXh0YXJlYSIpLGZ1bmN0aW9uKGUpe3QuZWRpdG9yX2Rlc2VsZWN0b3ImJmwoZSx0LmVkaXRvcl9kZXNlbGVjdG9yKXx8dC5lZGl0b3Jfc2VsZWN0b3ImJiFsKGUsdC5lZGl0b3Jfc2VsZWN0b3IpfHxuLnB1c2goZSl9KX1yZXR1cm4gbn0ocikpLHIudHlwZXM/V3goci50eXBlcyxmdW5jdGlvbih0KXtJdC5lYWNoKG8sZnVuY3Rpb24oZSl7cmV0dXJuIWp4LmlzKGUsdC5zZWxlY3Rvcil8fChuKGMoZSksS3goe30scix0KSxlKSwhMSl9KX0pOihJdC5lYWNoKG8sZnVuY3Rpb24oZSl7dmFyIHQ7KHQ9cy5nZXQoZS5pZCkpJiZ0LmluaXRpYWxpemVkJiYhKHQuZ2V0Q29udGFpbmVyKCl8fHQuZ2V0Qm9keSgpKS5wYXJlbnROb2RlJiYoZXcodCksdC51bmJpbmRBbGxOYXRpdmVFdmVudHMoKSx0LmRlc3Ryb3koITApLHQucmVtb3ZlZD0hMCx0PW51bGwpfSksMD09PShvPUl0LmdyZXAobyxmdW5jdGlvbihlKXtyZXR1cm4hcy5nZXQoZS5pZCl9KSkubGVuZ3RoP2YoW10pOld4KG8sZnVuY3Rpb24oZSl7dmFyIHQ7dD1lLHIuaW5saW5lJiZ0LnRhZ05hbWUudG9Mb3dlckNhc2UoKWluIHU/cmcoIkNvdWxkIG5vdCBpbml0aWFsaXplIGlubGluZSBlZGl0b3Igb24gaW52YWxpZCBpbmxpbmUgdGFyZ2V0IGVsZW1lbnQiLGUpOm4oYyhlKSxyLGUpfSkpfTtyZXR1cm4gcy5zZXR0aW5ncz1yLGp4LmJpbmQod2luZG93LCJyZWFkeSIsZSksbmV3IHllKGZ1bmN0aW9uKHQpe24/dChuKTpmPWZ1bmN0aW9uKGUpe3QoZSl9fSl9LGdldDpmdW5jdGlvbih0KXtyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/Snguc2xpY2UoMCk6ay5pc1N0cmluZyh0KT9ILmZpbmQoSngsZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9PT10fSkuZ2V0T3IobnVsbCk6ay5pc051bWJlcih0KSYmSnhbdF0/SnhbdF06bnVsbH0sYWRkOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIEd4W2UuaWRdPT09ZXx8KG51bGw9PT10LmdldChlLmlkKSYmKCJsZW5ndGgiIT09ZS5pZCYmKEd4W2UuaWRdPWUpLEd4LnB1c2goZSksSngucHVzaChlKSksWngoITApLHQuYWN0aXZlRWRpdG9yPWUsdC5maXJlKCJBZGRFZGl0b3IiLHtlZGl0b3I6ZX0pLF94fHwoX3g9ZnVuY3Rpb24oKXt0LmZpcmUoIkJlZm9yZVVubG9hZCIpfSxqeC5iaW5kKHdpbmRvdywiYmVmb3JldW5sb2FkIixfeCkpKSxlfSxjcmVhdGVFZGl0b3I6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hZGQobmV3IEF4KGUsdCx0aGlzKSl9LHJlbW92ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcztpZihlKXJldHVybiBrLmlzU3RyaW5nKGUpPyhlPWUuc2VsZWN0b3J8fGUsdm9pZCBXeChqeC5zZWxlY3QoZSksZnVuY3Rpb24oZSl7KG49ci5nZXQoZS5pZCkpJiZyLnJlbW92ZShuKX0pKToobj1lLGsuaXNOdWxsKHIuZ2V0KG4uaWQpKT9udWxsOihldyhuKSYmci5maXJlKCJSZW1vdmVFZGl0b3IiLHtlZGl0b3I6bn0pLDA9PT1KeC5sZW5ndGgmJmp4LnVuYmluZCh3aW5kb3csImJlZm9yZXVubG9hZCIsX3gpLG4ucmVtb3ZlKCksWngoMDxKeC5sZW5ndGgpLG4pKTtmb3IodD1KeC5sZW5ndGgtMTswPD10O3QtLSlyLnJlbW92ZShKeFt0XSl9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLmdldChuKTtzd2l0Y2goZSl7Y2FzZSJtY2VBZGRFZGl0b3IiOnJldHVybiB0aGlzLmdldChuKXx8bmV3IEF4KG4sdGhpcy5zZXR0aW5ncyx0aGlzKS5yZW5kZXIoKSwhMDtjYXNlIm1jZVJlbW92ZUVkaXRvciI6cmV0dXJuIHImJnIucmVtb3ZlKCksITA7Y2FzZSJtY2VUb2dnbGVFZGl0b3IiOnJldHVybiByP3IuaXNIaWRkZW4oKT9yLnNob3coKTpyLmhpZGUoKTp0aGlzLmV4ZWNDb21tYW5kKCJtY2VBZGRFZGl0b3IiLDAsbiksITB9cmV0dXJuISF0aGlzLmFjdGl2ZUVkaXRvciYmdGhpcy5hY3RpdmVFZGl0b3IuZXhlY0NvbW1hbmQoZSx0LG4pfSx0cmlnZ2VyU2F2ZTpmdW5jdGlvbigpe1d4KEp4LGZ1bmN0aW9uKGUpe2Uuc2F2ZSgpfSl9LGFkZEkxOG46ZnVuY3Rpb24oZSx0KXtIeC5hZGQoZSx0KX0sdHJhbnNsYXRlOmZ1bmN0aW9uKGUpe3JldHVybiBIeC50cmFuc2xhdGUoZSl9LHNldEFjdGl2ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmFjdGl2ZUVkaXRvcjt0aGlzLmFjdGl2ZUVkaXRvciE9PWUmJih0JiZ0LmZpcmUoImRlYWN0aXZhdGUiLHtyZWxhdGVkVGFyZ2V0OmV9KSxlLmZpcmUoImFjdGl2YXRlIix7cmVsYXRlZFRhcmdldDp0fSkpLHRoaXMuYWN0aXZlRWRpdG9yPWV9fSxYbSksQnguc2V0dXAoKTt2YXIgdHcsbnc9Qng7ZnVuY3Rpb24gcncobil7cmV0dXJue3dhbGs6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQnYobixlLHQpfSxzcGxpdDptdixub3JtYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHVtKG4sdCkuZm9sZChWLmNvbnN0YW50KCExKSxmdW5jdGlvbihlKXtyZXR1cm4gdC5zZXRTdGFydChlLnN0YXJ0Q29udGFpbmVyLGUuc3RhcnRPZmZzZXQpLHQuc2V0RW5kKGUuZW5kQ29udGFpbmVyLGUuZW5kT2Zmc2V0KSwhMH0pfX19KHR3PXJ3fHwocnc9e30pKS5jb21wYXJlUmFuZ2VzPWVtLHR3LmdldENhcmV0UmFuZ2VGcm9tUG9pbnQ9WnksdHcuZ2V0U2VsZWN0ZWROb2RlPWFhLHR3LmdldE5vZGU9dWE7dmFyIG93LGl3LGF3PXJ3LHV3PU1hdGgubWluLHN3PU1hdGgubWF4LGN3PU1hdGgucm91bmQsbHc9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLG8saSxhLHUscztyZXR1cm4gcj10Lngsbz10LnksaT1lLncsYT1lLmgsdT10Lncscz10LmgsImIiPT09KG49KG58fCIiKS5zcGxpdCgiIikpWzBdJiYobys9cyksInIiPT09blsxXSYmKHIrPXUpLCJjIj09PW5bMF0mJihvKz1jdyhzLzIpKSwiYyI9PT1uWzFdJiYocis9Y3codS8yKSksImIiPT09blszXSYmKG8tPWEpLCJyIj09PW5bNF0mJihyLT1pKSwiYyI9PT1uWzNdJiYoby09Y3coYS8yKSksImMiPT09bls0XSYmKHItPWN3KGkvMikpLGZ3KHIsbyxpLGEpfSxmdz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm57eDplLHk6dCx3Om4saDpyfX0sZHc9e2luZmxhdGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdyhlLngtdCxlLnktbixlLncrMip0LGUuaCsyKm4pfSxyZWxhdGl2ZVBvc2l0aW9uOmx3LGZpbmRCZXN0UmVsYXRpdmVQb3NpdGlvbjpmdW5jdGlvbihlLHQsbixyKXt2YXIgbyxpO2ZvcihpPTA7aTxyLmxlbmd0aDtpKyspaWYoKG89bHcoZSx0LHJbaV0pKS54Pj1uLngmJm8ueCtvLnc8PW4udytuLngmJm8ueT49bi55JiZvLnkrby5oPD1uLmgrbi55KXJldHVybiByW2ldO3JldHVybiBudWxsfSxpbnRlcnNlY3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLG8saTtyZXR1cm4gbj1zdyhlLngsdC54KSxyPXN3KGUueSx0LnkpLG89dXcoZS54K2Uudyx0LngrdC53KSxpPXV3KGUueStlLmgsdC55K3QuaCksby1uPDB8fGktcjwwP251bGw6ZncobixyLG8tbixpLXIpfSxjbGFtcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGEsdSxzLGMsbCxmLGQ7cmV0dXJuIHU9ZS54LHM9ZS55LGM9ZS54K2UudyxsPWUueStlLmgsZj10LngrdC53LGQ9dC55K3QuaCxyPXN3KDAsdC54LXUpLG89c3coMCx0LnktcyksaT1zdygwLGMtZiksYT1zdygwLGwtZCksdSs9cixzKz1vLG4mJihjKz1yLGwrPW8sdS09aSxzLT1hKSxmdyh1LHMsKGMtPWkpLXUsKGwtPWEpLXMpfSxjcmVhdGU6ZncsZnJvbUNsaWVudFJlY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ3KGUubGVmdCxlLnRvcCxlLndpZHRoLGUuaGVpZ2h0KX19LG13PXt9LHB3PXthZGQ6ZnVuY3Rpb24oZSx0KXttd1tlLnRvTG93ZXJDYXNlKCldPXR9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4hIW13W2UudG9Mb3dlckNhc2UoKV19LGdldDpmdW5jdGlvbihlKXt2YXIgdD1lLnRvTG93ZXJDYXNlKCksbj1tdy5oYXNPd25Qcm9wZXJ0eSh0KT9td1t0XTpudWxsO2lmKG51bGw9PT1uKXRocm93IG5ldyBFcnJvcigiQ291bGQgbm90IGZpbmQgbW9kdWxlIGZvciB0eXBlOiAiK2UpO3JldHVybiBufSxjcmVhdGU6ZnVuY3Rpb24oZSx0KXt2YXIgbjtpZigic3RyaW5nIj09dHlwZW9mIGU/KHQ9dHx8e30pLnR5cGU9ZTplPSh0PWUpLnR5cGUsZT1lLnRvTG93ZXJDYXNlKCksIShuPW13W2VdKSl0aHJvdyBuZXcgRXJyb3IoIkNvdWxkIG5vdCBmaW5kIGNvbnRyb2wgYnkgdHlwZTogIitlKTtyZXR1cm4obj1uZXcgbih0KSkudHlwZT1lLG59fSxndz1JdC5lYWNoLGh3PUl0LmV4dGVuZCx2dz1mdW5jdGlvbigpe307dncuZXh0ZW5kPW93PWZ1bmN0aW9uKG4pe3ZhciBlLHQscixvPXRoaXMucHJvdG90eXBlLGk9ZnVuY3Rpb24oKXt2YXIgZSx0LG47aWYoIWl3JiYodGhpcy5pbml0JiZ0aGlzLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLHQ9dGhpcy5NaXhpbnMpKWZvcihlPXQubGVuZ3RoO2UtLTspKG49dFtlXSkuaW5pdCYmbi5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSx1PWZ1bmN0aW9uKG4scil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl9zdXBlcjtyZXR1cm4gdGhpcy5fc3VwZXI9b1tuXSxlPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX3N1cGVyPXQsZX19O2Zvcih0IGluIGl3PSEwLGU9bmV3IHRoaXMsaXc9ITEsbi5NaXhpbnMmJihndyhuLk1peGlucyxmdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSkiaW5pdCIhPT10JiYoblt0XT1lW3RdKX0pLG8uTWl4aW5zJiYobi5NaXhpbnM9by5NaXhpbnMuY29uY2F0KG4uTWl4aW5zKSkpLG4uTWV0aG9kcyYmZ3cobi5NZXRob2RzLnNwbGl0KCIsIiksZnVuY3Rpb24oZSl7bltlXT1hfSksbi5Qcm9wZXJ0aWVzJiZndyhuLlByb3BlcnRpZXMuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD0iXyIrZTtuW2VdPWZ1bmN0aW9uKGUpe3JldHVybiBlIT09dW5kZWZpbmVkPyh0aGlzW3RdPWUsdGhpcyk6dGhpc1t0XX19KSxuLlN0YXRpY3MmJmd3KG4uU3RhdGljcyxmdW5jdGlvbihlLHQpe2lbdF09ZX0pLG4uRGVmYXVsdHMmJm8uRGVmYXVsdHMmJihuLkRlZmF1bHRzPWh3KHt9LG8uRGVmYXVsdHMsbi5EZWZhdWx0cykpLG4pImZ1bmN0aW9uIj09dHlwZW9mKHI9blt0XSkmJm9bdF0/ZVt0XT11KHQscik6ZVt0XT1yO3JldHVybiBpLnByb3RvdHlwZT1lLChpLmNvbnN0cnVjdG9yPWkpLmV4dGVuZD1vdyxpfTt2YXIgeXc9TWF0aC5taW4sYnc9TWF0aC5tYXgsQ3c9TWF0aC5yb3VuZCx4dz1mdW5jdGlvbihlLG4pe3ZhciByLG8sdCxpO2lmKG49bnx8JyInLG51bGw9PT1lKXJldHVybiJudWxsIjtpZigic3RyaW5nIj09KHQ9dHlwZW9mIGUpKXJldHVybiBvPSJcYmJcdHRcbm5cZmZccnJcIlwiJydcXFxcIixuK2UucmVwbGFjZSgvKFtcdTAwODAtXHVGRkZGXHgwMC1ceDFmXCJcJ1xcXSkvZyxmdW5jdGlvbihlLHQpe3JldHVybiciJz09PW4mJiInIj09PWU/ZToocj1vLmluZGV4T2YodCkpKzE/IlxcIitvLmNoYXJBdChyKzEpOihlPXQuY2hhckNvZGVBdCgpLnRvU3RyaW5nKDE2KSwiXFx1IisiMDAwMCIuc3Vic3RyaW5nKGUubGVuZ3RoKStlKX0pK247aWYoIm9iamVjdCI9PT10KXtpZihlLmhhc093blByb3BlcnR5JiYiW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXtmb3Iocj0wLG89IlsiO3I8ZS5sZW5ndGg7cisrKW8rPSgwPHI/IiwiOiIiKSt4dyhlW3JdLG4pO3JldHVybiBvKyJdIn1mb3IoaSBpbiBvPSJ7IixlKWUuaGFzT3duUHJvcGVydHkoaSkmJihvKz0iZnVuY3Rpb24iIT10eXBlb2YgZVtpXT8oMTxvLmxlbmd0aD8iLCIrbjpuKStpK24rIjoiK3h3KGVbaV0sbik6IiIpO3JldHVybiBvKyJ9In1yZXR1cm4iIitlfSx3dz17c2VyaWFsaXplOnh3LHBhcnNlOmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaCh0KXt9fX0sTnc9e2NhbGxiYWNrczp7fSxjb3VudDowLHNlbmQ6ZnVuY3Rpb24odCl7dmFyIG49dGhpcyxyPXZpLkRPTSxvPXQuY291bnQhPT11bmRlZmluZWQ/dC5jb3VudDpuLmNvdW50LGk9InRpbnltY2VfanNvbnBfIitvO24uY2FsbGJhY2tzW29dPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKGkpLGRlbGV0ZSBuLmNhbGxiYWNrc1tvXSx0LmNhbGxiYWNrKGUpfSxyLmFkZChyLmRvYy5ib2R5LCJzY3JpcHQiLHtpZDppLHNyYzp0LnVybCx0eXBlOiJ0ZXh0L2phdmFzY3JpcHQifSksbi5jb3VudCsrfX0sRXc9e3NlbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbj0wLHI9ZnVuY3Rpb24oKXshZS5hc3luY3x8ND09PXQucmVhZHlTdGF0ZXx8MWU0PG4rKz8oZS5zdWNjZXNzJiZuPDFlNCYmMjAwPT09dC5zdGF0dXM/ZS5zdWNjZXNzLmNhbGwoZS5zdWNjZXNzX3Njb3BlLCIiK3QucmVzcG9uc2VUZXh0LHQsZSk6ZS5lcnJvciYmZS5lcnJvci5jYWxsKGUuZXJyb3Jfc2NvcGUsMWU0PG4/IlRJTUVEX09VVCI6IkdFTkVSQUwiLHQsZSksdD1udWxsKTpzZXRUaW1lb3V0KHIsMTApfTtpZihlLnNjb3BlPWUuc2NvcGV8fHRoaXMsZS5zdWNjZXNzX3Njb3BlPWUuc3VjY2Vzc19zY29wZXx8ZS5zY29wZSxlLmVycm9yX3Njb3BlPWUuZXJyb3Jfc2NvcGV8fGUuc2NvcGUsZS5hc3luYz0hMSE9PWUuYXN5bmMsZS5kYXRhPWUuZGF0YXx8IiIsRXcuZmlyZSgiYmVmb3JlSW5pdGlhbGl6ZSIse3NldHRpbmdzOmV9KSx0PW5ldyBhZyl7aWYodC5vdmVycmlkZU1pbWVUeXBlJiZ0Lm92ZXJyaWRlTWltZVR5cGUoZS5jb250ZW50X3R5cGUpLHQub3BlbihlLnR5cGV8fChlLmRhdGE/IlBPU1QiOiJHRVQiKSxlLnVybCxlLmFzeW5jKSxlLmNyb3NzRG9tYWluJiYodC53aXRoQ3JlZGVudGlhbHM9ITApLGUuY29udGVudF90eXBlJiZ0LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsZS5jb250ZW50X3R5cGUpLGUucmVxdWVzdGhlYWRlcnMmJkl0LmVhY2goZS5yZXF1ZXN0aGVhZGVycyxmdW5jdGlvbihlKXt0LnNldFJlcXVlc3RIZWFkZXIoZS5rZXksZS52YWx1ZSl9KSx0LnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpLCh0PUV3LmZpcmUoImJlZm9yZVNlbmQiLHt4aHI6dCxzZXR0aW5nczplfSkueGhyKS5zZW5kKGUuZGF0YSksIWUuYXN5bmMpcmV0dXJuIHIoKTtzZXRUaW1lb3V0KHIsMTApfX19O0l0LmV4dGVuZChFdyxYbSk7dmFyIFN3PUl0LmV4dGVuZCxrdz1mdW5jdGlvbihlKXt0aGlzLnNldHRpbmdzPVN3KHt9LGUpLHRoaXMuY291bnQ9MH07a3cuc2VuZFJQQz1mdW5jdGlvbihlKXtyZXR1cm4obmV3IGt3KS5zZW5kKGUpfSxrdy5wcm90b3R5cGU9e3NlbmQ6ZnVuY3Rpb24obil7dmFyIHI9bi5lcnJvcixvPW4uc3VjY2Vzczsobj1Tdyh0aGlzLnNldHRpbmdzLG4pKS5zdWNjZXNzPWZ1bmN0aW9uKGUsdCl7dm9pZCAwPT09KGU9d3cucGFyc2UoZSkpJiYoZT17ZXJyb3I6IkpTT04gUGFyc2UgZXJyb3IuIn0pLGUuZXJyb3I/ci5jYWxsKG4uZXJyb3Jfc2NvcGV8fG4uc2NvcGUsZS5lcnJvcix0KTpvLmNhbGwobi5zdWNjZXNzX3Njb3BlfHxuLnNjb3BlLGUucmVzdWx0KX0sbi5lcnJvcj1mdW5jdGlvbihlLHQpe3ImJnIuY2FsbChuLmVycm9yX3Njb3BlfHxuLnNjb3BlLGUsdCl9LG4uZGF0YT13dy5zZXJpYWxpemUoe2lkOm4uaWR8fCJjIit0aGlzLmNvdW50KyssbWV0aG9kOm4ubWV0aG9kLHBhcmFtczpuLnBhcmFtc30pLG4uY29udGVudF90eXBlPSJhcHBsaWNhdGlvbi9qc29uIixFdy5zZW5kKG4pfX07dmFyIFR3LEF3PXdpbmRvdy5sb2NhbFN0b3JhZ2UsUnc9bncsX3c9e2dlb206e1JlY3Q6ZHd9LHV0aWw6e1Byb21pc2U6eWUsRGVsYXk6d2UsVG9vbHM6SXQsVks6c2gsVVJJOmR4LENsYXNzOnZ3LEV2ZW50RGlzcGF0Y2hlcjokbSxPYnNlcnZhYmxlOlhtLEkxOG46SHgsWEhSOkV3LEpTT046d3csSlNPTlJlcXVlc3Q6a3csSlNPTlA6TncsTG9jYWxTdG9yYWdlOkF3LENvbG9yOmZ1bmN0aW9uKGUpe3ZhciBuPXt9LHU9MCxzPTAsYz0wLHQ9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlPyJyImluIGU/KHU9ZS5yLHM9ZS5nLGM9ZS5iKToidiJpbiBlJiZmdW5jdGlvbihlLHQsbil7dmFyIHIsbyxpLGE7aWYoZT0ocGFyc2VJbnQoZSwxMCl8fDApJTM2MCx0PXBhcnNlSW50KHQsMTApLzEwMCxuPXBhcnNlSW50KG4sMTApLzEwMCx0PWJ3KDAseXcodCwxKSksbj1idygwLHl3KG4sMSkpLDAhPT10KXtzd2l0Y2gocj1lLzYwLGk9KG89bip0KSooMS1NYXRoLmFicyhyJTItMSkpLGE9bi1vLE1hdGguZmxvb3Iocikpe2Nhc2UgMDp1PW8scz1pLGM9MDticmVhaztjYXNlIDE6dT1pLHM9byxjPTA7YnJlYWs7Y2FzZSAyOnU9MCxzPW8sYz1pO2JyZWFrO2Nhc2UgMzp1PTAscz1pLGM9bzticmVhaztjYXNlIDQ6dT1pLHM9MCxjPW87YnJlYWs7Y2FzZSA1OnU9byxzPTAsYz1pO2JyZWFrO2RlZmF1bHQ6dT1zPWM9MH11PUN3KDI1NSoodSthKSkscz1DdygyNTUqKHMrYSkpLGM9Q3coMjU1KihjK2EpKX1lbHNlIHU9cz1jPUN3KDI1NSpuKX0oZS5oLGUucyxlLnYpOih0PS9yZ2JccypcKFxzKihbMC05XSspXHMqLFxzKihbMC05XSspXHMqLFxzKihbMC05XSspW15cKV0qXCkvZ2kuZXhlYyhlKSk/KHU9cGFyc2VJbnQodFsxXSwxMCkscz1wYXJzZUludCh0WzJdLDEwKSxjPXBhcnNlSW50KHRbM10sMTApKToodD0vIyhbMC1GXXsyfSkoWzAtRl17Mn0pKFswLUZdezJ9KS9naS5leGVjKGUpKT8odT1wYXJzZUludCh0WzFdLDE2KSxzPXBhcnNlSW50KHRbMl0sMTYpLGM9cGFyc2VJbnQodFszXSwxNikpOih0PS8jKFswLUZdKShbMC1GXSkoWzAtRl0pL2dpLmV4ZWMoZSkpJiYodT1wYXJzZUludCh0WzFdK3RbMV0sMTYpLHM9cGFyc2VJbnQodFsyXSt0WzJdLDE2KSxjPXBhcnNlSW50KHRbM10rdFszXSwxNikpLHU9dTwwPzA6MjU1PHU/MjU1OnUscz1zPDA/MDoyNTU8cz8yNTU6cyxjPWM8MD8wOjI1NTxjPzI1NTpjLG59O3JldHVybiBlJiZ0KGUpLG4udG9SZ2I9ZnVuY3Rpb24oKXtyZXR1cm57cjp1LGc6cyxiOmN9fSxuLnRvSHN2PWZ1bmN0aW9uKCl7cmV0dXJuIGU9dSx0PXMsbj1jLG89MCwoaT15dyhlLz0yNTUseXcodC89MjU1LG4vPTI1NSkpKT09PShhPWJ3KGUsYncodCxuKSkpP3toOjAsczowLHY6MTAwKihvPWkpfToocj0oYS1pKS9hLHtoOkN3KDYwKigoZT09PWk/MzpuPT09aT8xOjUpLShlPT09aT90LW46bj09PWk/ZS10Om4tZSkvKChvPWEpLWkpKSksczpDdygxMDAqciksdjpDdygxMDAqbyl9KTt2YXIgZSx0LG4scixvLGksYX0sbi50b0hleD1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKGUpe3JldHVybiAxPChlPXBhcnNlSW50KGUsMTApLnRvU3RyaW5nKDE2KSkubGVuZ3RoP2U6IjAiK2V9O3JldHVybiIjIitlKHUpK2UocykrZShjKX0sbi5wYXJzZT10LG59fSxkb206e0V2ZW50VXRpbHM6QmUsU2l6emxlOm10LERvbVF1ZXJ5OnRuLFRyZWVXYWxrZXI6YW8sRE9NVXRpbHM6dmksU2NyaXB0TG9hZGVyOndpLFJhbmdlVXRpbHM6YXcsU2VyaWFsaXplcjpXeSxDb250cm9sU2VsZWN0aW9uOkp5LEJvb2ttYXJrTWFuYWdlcjpYeSxTZWxlY3Rpb246QmIsRXZlbnQ6QmUuRXZlbnR9LGh0bWw6e1N0eWxlczphaSxFbnRpdGllczpLbyxOb2RlOl95LFNjaGVtYTpvaSxTYXhQYXJzZXI6dmgsRG9tUGFyc2VyOnF5LFdyaXRlcjpHYyxTZXJpYWxpemVyOkpjfSx1aTp7RmFjdG9yeTpwd30sRW52OnZlLEFkZE9uTWFuYWdlcjpTaSxGb3JtYXR0ZXI6dnksVW5kb01hbmFnZXI6VWgsRWRpdG9yQ29tbWFuZHM6SG0sV2luZG93TWFuYWdlcjpZcCxOb3RpZmljYXRpb25NYW5hZ2VyOlhwLEVkaXRvck9ic2VydmFibGU6TnAsU2hvcnRjdXRzOkFwLEVkaXRvcjpBeCxGb2N1c01hbmFnZXI6RHgsRWRpdG9yTWFuYWdlcjpudyxET006dmkuRE9NLFNjcmlwdExvYWRlcjp3aS5TY3JpcHRMb2FkZXIsUGx1Z2luTWFuYWdlcjpTaS5QbHVnaW5NYW5hZ2VyLFRoZW1lTWFuYWdlcjpTaS5UaGVtZU1hbmFnZXIsdHJpbTpJdC50cmltLGlzQXJyYXk6SXQuaXNBcnJheSxpczpJdC5pcyx0b0FycmF5Okl0LnRvQXJyYXksbWFrZU1hcDpJdC5tYWtlTWFwLGVhY2g6SXQuZWFjaCxtYXA6SXQubWFwLGdyZXA6SXQuZ3JlcCxpbkFycmF5Okl0LmluQXJyYXksZXh0ZW5kOkl0LmV4dGVuZCxjcmVhdGU6SXQuY3JlYXRlLHdhbGs6SXQud2FsayxjcmVhdGVOUzpJdC5jcmVhdGVOUyxyZXNvbHZlOkl0LnJlc29sdmUsZXhwbG9kZTpJdC5leHBsb2RlLF9hZGRDYWNoZVN1ZmZpeDpJdC5fYWRkQ2FjaGVTdWZmaXgsaXNPcGVyYTp2ZS5vcGVyYSxpc1dlYktpdDp2ZS53ZWJraXQsaXNJRTp2ZS5pZSxpc0dlY2tvOnZlLmdlY2tvLGlzTWFjOnZlLm1hY30sQnc9Unc9SXQuZXh0ZW5kKFJ3LF93KTtUdz1Cdyx3aW5kb3cudGlueW1jZT1Udyx3aW5kb3cudGlueU1DRT1UdyxmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSl0cnl7bW9kdWxlLmV4cG9ydHM9ZX1jYXRjaCh0KXt9fShCdyl9KCk7Cg==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="549766015" offset="0" length="16384" />
        <PacketInfo time="549766281" offset="16384" length="16384" />
        <PacketInfo time="549766296" offset="32768" length="24" />
        <PacketInfo time="549767031" offset="32792" length="16384" />
        <PacketInfo time="549767312" offset="49176" length="16384" />
        <PacketInfo time="549767656" offset="65560" length="16384" />
        <PacketInfo time="549767953" offset="81944" length="16384" />
        <PacketInfo time="549768265" offset="98328" length="16384" />
        <PacketInfo time="549768265" offset="114712" length="4518" />
      </TcpPackets>
    </HTTPResponse>
    <HTTPTask id="560" hostname="pvr-perf.rxlogix.com" path="/reports/assets/icons/email-d49eb96cdb0b54cab7135919c7d9e551.png" url="https://pvr-perf.rxlogix.com/reports/assets/icons/email-d49eb96cdb0b54cab7135919c7d9e551.png" ip="10.100.6.109" port="443" connectionId="16" origin="HTML" frame="1" startDateTime="2020-09-10T18:33:15.564+05:30" startTime="549768296" endTime="549768687">
      <HTTPRequest method="GET">
        <HTTPHeaders>
          <HTTPHeaderEntity name="Host" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>cHZyLXBlcmYucnhsb2dpeC5jb20=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="User-Agent" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg1LjAuNDE4My4xMDIgU2FmYXJpLzUzNy4zNg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsaW1hZ2UvKiwqLyo7cT0wLjg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Site" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>c2FtZS1vcmlnaW4=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Mode" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>bm8tY29ycw==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Sec-Fetch-Dest" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aW1hZ2U=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Referer" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aHR0cHM6Ly9wdnItcGVyZi5yeGxvZ2l4LmNvbS9yZXBvcnRzL2NvbmZpZ3VyYXRpb24vY3JlYXRl</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Encoding" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Accept-Language" index="9">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Cookie" index="10">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>U0VTU0lPTj0yYjMyOTkzYS0zZGNjLTRhMDAtOTUxMC1mYTBhZTkyZTE0NTA7IGNjX2Nvb2tpZV9kZWNsaW5lPW51bGw7IGNjX2Nvb2tpZV9hY2NlcHQ9Y2NfY29va2llX2FjY2VwdA==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>R0VUIC9yZXBvcnRzL2Fzc2V0cy9pY29ucy9lbWFpbC1kNDllYjk2Y2RiMGI1NGNhYjcxMzU5MTljN2Q5ZTU1MS5wbmcgSFRUUC8xLjENCkhvc3Q6IHB2ci1wZXJmLnJ4bG9naXguY29tDQpDb25uZWN0aW9uOiBrZWVwLWFsaXZlDQpVc2VyLUFnZW50OiBNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODUuMC40MTgzLjEwMiBTYWZhcmkvNTM3LjM2DQpBY2NlcHQ6IGltYWdlL2F2aWYsaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLGltYWdlLyosKi8qO3E9MC44DQpTZWMtRmV0Y2gtU2l0ZTogc2FtZS1vcmlnaW4NClNlYy1GZXRjaC1Nb2RlOiBuby1jb3JzDQpTZWMtRmV0Y2gtRGVzdDogaW1hZ2UNClJlZmVyZXI6IGh0dHBzOi8vcHZyLXBlcmYucnhsb2dpeC5jb20vcmVwb3J0cy9jb25maWd1cmF0aW9uL2NyZWF0ZQ0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBicg0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUyxlbjtxPTAuOQ0KQ29va2llOiBTRVNTSU9OPTJiMzI5OTNhLTNkY2MtNGEwMC05NTEwLWZhMGFlOTJlMTQ1MDsgY2NfY29va2llX2RlY2xpbmU9bnVsbDsgY2NfY29va2llX2FjY2VwdD1jY19jb29raWVfYWNjZXB0DQoNCg==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
          <HTTPCookies>
            <HTTPHeaderEntity name="SESSION" index="0">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>MmIzMjk5M2EtM2RjYy00YTAwLTk1MTAtZmEwYWU5MmUxNDUw</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="cc_cookie_decline" index="1">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>bnVsbA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
            <HTTPHeaderEntity name="cc_cookie_accept" index="2">
              <HTTPDataSet>
                <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                  <ActualData>Y2NfY29va2llX2FjY2VwdA==</ActualData>
                </HTTPData>
              </HTTPDataSet>
              <IsExternalData>false</IsExternalData>
            </HTTPHeaderEntity>
          </HTTPCookies>
        </HTTPHeaders>
      </HTTPRequest>
      <HTTPResponse>
        <contentLenght>483</contentLenght>
        <HTTPHeaders>
          <HTTPHeaderEntity name="Date" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>VGh1LCAxMCBTZXAgMjAyMCAxMjo1NzowMSBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Type" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>aW1hZ2UvcG5nO2NoYXJzZXQ9VVRGLTg=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Content-Length" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>NDgz</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Connection" index="3">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="X-Frame-Options" index="4">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>REVOWQ==</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Last-Modified" index="5">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>VHVlLCAwOCBTZXAgMjAyMCAwOTowMzozOCBHTVQ=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ETag" index="6">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>Imljb25zL2VtYWlsLWQ0OWViOTZjZGIwYjU0Y2FiNzEzNTkxOWM3ZDllNTUxLnBuZyI=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Vary" index="7">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="Cache-Control" index="8">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>cHVibGljLCBtYXgtYWdlPTMxNTM2MDAw</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPAllHeaders>
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>SFRUUC8xLjEgMjAwIA0KRGF0ZTogVGh1LCAxMCBTZXAgMjAyMCAxMjo1NzowMSBHTVQNCkNvbnRlbnQtVHlwZTogaW1hZ2UvcG5nO2NoYXJzZXQ9VVRGLTgNCkNvbnRlbnQtTGVuZ3RoOiA0ODMNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNClgtRnJhbWUtT3B0aW9uczogREVOWQ0KTGFzdC1Nb2RpZmllZDogVHVlLCAwOCBTZXAgMjAyMCAwOTowMzozOCBHTVQNCkVUYWc6ICJpY29ucy9lbWFpbC1kNDllYjk2Y2RiMGI1NGNhYjcxMzU5MTljN2Q5ZTU1MS5wbmciDQpWYXJ5OiBBY2NlcHQtRW5jb2RpbmcNCkNhY2hlLUNvbnRyb2w6IHB1YmxpYywgbWF4LWFnZT0zMTUzNjAwMA0KDQo=</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPAllHeaders>
        </HTTPHeaders>
        <HTTPBody>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAAAYAAAAGAB4TKWmAAABbklEQVRIx+2UvU7CUBiG3++0CAMDFwAsNUVC4mBNKpuzC9yAMw4kcAGOXoAkLFyECSzObthEmsaEAEUnegkkUA39HKSmokBFEh14p/P7PCffOTnALn8d8hvqsX4GpgYYyV8yRxB8YT8YtwAgPoa3AweAFJgaficgeIeTx0UQnA1q4ZDHxSDrs2CegWW0ItNYlkE1ALMQ6BmDapFpLDuwjNbi5BeBquWbrjRJDM12VYB1AJ0V8I4A60OzXXWlSULV8s21AjAXhEy9jKZX+kraspWUTsRVAOPAqjERV20lpfeVtJXR9IqQqQfmwiJOXnKyODNdq8+jcwEu9U2jtn+o34iIqAOA9+qVnx4N54CheaAGg7TlV+OX5uiEV9S4vudGL7vduzEA5HKn8Zeoe0XgMgDpu022eU9hBf5RHJpxGQBYovq6J+0LZIQNI8mCmvN26IjwSzfLTvADwSb/z7IEWAEBlwCMtoAfzVm7/JO8AYv7gfSB50+TAAAAAElFTkSuQmCC</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPBody>
        <TcpPackets>
          <PacketInfo time="549768671" offset="0" length="812" />
        </TcpPackets>
      </HTTPResponse>
    </HTTPTask>
  </HTTPTask>
</HTTPSnapshot>