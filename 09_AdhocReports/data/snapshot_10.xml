<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="10">
  <HTTPTask id="157" hostname="pvr-perf.rxlogix.com" path="/reports/assets/application-f8ff3189b5e73f6aa63ba16652634041.js" url="https://pvr-perf.rxlogix.com/reports/assets/application-f8ff3189b5e73f6aa63ba16652634041.js" ip="10.100.6.109" port="443" connectionId="4" origin="Primary" frame="1" startDateTime="2020-09-10T18:33:06.196+05:30" startTime="549707890" endTime="549708281">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Host" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHZyLXBlcmYucnhsb2dpeC5jb20=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg1LjAuNDE4My4xMDIgU2FmYXJpLzUzNy4zNg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Site" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c2FtZS1vcmlnaW4=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Mode" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bm8tY29ycw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Sec-Fetch-Dest" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9wdnItcGVyZi5yeGxvZ2l4LmNvbS9yZXBvcnRzL2xvZ2luL2F1dGg=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZSwgYnI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U0VTU0lPTj0xNGExYTdiNC02YTM3LTRlZGUtYTA5OC1iMjY3YzlmYTgzYTM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9yZXBvcnRzL2Fzc2V0cy9hcHBsaWNhdGlvbi1mOGZmMzE4OWI1ZTczZjZhYTYzYmExNjY1MjYzNDA0MS5qcyBIVFRQLzEuMQ0KSG9zdDogcHZyLXBlcmYucnhsb2dpeC5jb20NCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84NS4wLjQxODMuMTAyIFNhZmFyaS81MzcuMzYNCkFjY2VwdDogKi8qDQpTZWMtRmV0Y2gtU2l0ZTogc2FtZS1vcmlnaW4NClNlYy1GZXRjaC1Nb2RlOiBuby1jb3JzDQpTZWMtRmV0Y2gtRGVzdDogc2NyaXB0DQpSZWZlcmVyOiBodHRwczovL3B2ci1wZXJmLnJ4bG9naXguY29tL3JlcG9ydHMvbG9naW4vYXV0aA0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlLCBicg0KQWNjZXB0LUxhbmd1YWdlOiBlbi1VUyxlbjtxPTAuOQ0KQ29va2llOiBTRVNTSU9OPTE0YTFhN2I0LTZhMzctNGVkZS1hMDk4LWIyNjdjOWZhODNhMw0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="SESSION" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>MTRhMWE3YjQtNmEzNy00ZWRlLWEwOTgtYjI2N2M5ZmE4M2Ez</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>98895</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Date" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VGh1LCAxMCBTZXAgMjAyMCAxMjo1NjowMSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdDtjaGFyc2V0PVVURi04</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>OTg4OTU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Frame-Options" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>REVOWQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAwOCBTZXAgMjAyMCAwOTowMTo0MiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ImFwcGxpY2F0aW9uLWY4ZmYzMTg5YjVlNzNmNmFhNjNiYTE2NjUyNjM0MDQxLmpzIg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHVibGljLCBtYXgtYWdlPTMxNTM2MDAw</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIA0KRGF0ZTogVGh1LCAxMCBTZXAgMjAyMCAxMjo1NjowMSBHTVQNCkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vamF2YXNjcmlwdDtjaGFyc2V0PVVURi04DQpDb250ZW50LUxlbmd0aDogOTg4OTUNCkNvbm5lY3Rpb246IGtlZXAtYWxpdmUNClgtRnJhbWUtT3B0aW9uczogREVOWQ0KTGFzdC1Nb2RpZmllZDogVHVlLCAwOCBTZXAgMjAyMCAwOTowMTo0MiBHTVQNCkVUYWc6ICJhcHBsaWNhdGlvbi1mOGZmMzE4OWI1ZTczZjZhYTYzYmExNjY1MjYzNDA0MS5qcyINClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KQ2FjaGUtQ29udHJvbDogcHVibGljLCBtYXgtYWdlPTMxNTM2MDAwDQpDb250ZW50LUVuY29kaW5nOiBnemlwDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>Ly8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwbGljYXRpb24uanMubWFwCi8qCiBGYXN0Q2xpY2s6IHBvbHlmaWxsIHRvIHJlbW92ZSBjbGljayBkZWxheXMgb24gYnJvd3NlcnMgd2l0aCB0b3VjaCBVSXMuCgogQGNvZGluZ3N0YW5kYXJkIGZ0bGFicy1qc3YyCiBAY29weXJpZ2h0IFRoZSBGaW5hbmNpYWwgVGltZXMgTGltaXRlZCBbQWxsIFJpZ2h0cyBSZXNlcnZlZF0KIEBsaWNlbnNlIE1JVCBMaWNlbnNlIChzZWUgTElDRU5TRS50eHQpCiovCnZhciBfYXNzZXRfcGlwZWxpbmVfbG9hZGVkX21vZHVsZXM9X2Fzc2V0X3BpcGVsaW5lX2xvYWRlZF9tb2R1bGVzfHx7fSxfYXNzZXRfcGlwZWxpbmVfcmVxdWlyZT1mdW5jdGlvbihkKXt2YXIgcj1fYXNzZXRfcGlwZWxpbmVfbG9hZGVkX21vZHVsZXNbZF07aWYodm9pZCAwIT1yKXJldHVybiByLmV4cG9ydHM7cj1fYXNzZXRfcGlwZWxpbmVfbW9kdWxlc1tkXTtyZXR1cm4gdm9pZCAwIT1yPyhfYXNzZXRfcGlwZWxpbmVfbG9hZGVkX21vZHVsZXNbZF09cigpLF9hc3NldF9waXBlbGluZV9sb2FkZWRfbW9kdWxlc1tkXS5leHBvcnRzKTpudWxsfSxfYXNzZXRfcGlwZWxpbmVfbW9kdWxlcz1fYXNzZXRfcGlwZWxpbmVfbW9kdWxlc3x8e307Cl9hc3NldF9waXBlbGluZV9tb2R1bGVzWyJqcXVlcnkvanF1ZXJ5LmpzIl09ZnVuY3Rpb24oKXt2YXIgZD17ZXhwb3J0czp7fX0scj1yfHx7fTtyWyJqcXVlcnkvanF1ZXJ5LmpzIl09ZnVuY3Rpb24oKXtyZXR1cm57ZXhwb3J0czp7fX19OyhmdW5jdGlvbih4LHApeyJvYmplY3QiPT09dHlwZW9mIGQmJiJvYmplY3QiPT09dHlwZW9mIGQuZXhwb3J0cz9kLmV4cG9ydHM9eC5kb2N1bWVudD9wKHgsITApOmZ1bmN0aW9uKGQpe2lmKCFkLmRvY3VtZW50KXRocm93IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Iik7cmV0dXJuIHAoZCl9OnAoeCl9KSgidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oZCxwKXtmdW5jdGlvbiBoKGMpe3ZhciBiPWMubGVuZ3RoLGc9ay50eXBlKGMpO3JldHVybiJmdW5jdGlvbiI9PT1nfHxrLmlzV2luZG93KGMpPyExOjE9PT1jLm5vZGVUeXBlJiZiPyEwOiJhcnJheSI9PT1nfHwwPT09CmJ8fCJudW1iZXIiPT09dHlwZW9mIGImJjA8YiYmYi0xIGluIGN9ZnVuY3Rpb24gbChjLGIsZyl7aWYoay5pc0Z1bmN0aW9uKGIpKXJldHVybiBrLmdyZXAoYyxmdW5jdGlvbihjLGUpe3JldHVybiEhYi5jYWxsKGMsZSxjKSE9PWd9KTtpZihiLm5vZGVUeXBlKXJldHVybiBrLmdyZXAoYyxmdW5jdGlvbihjKXtyZXR1cm4gYz09PWIhPT1nfSk7aWYoInN0cmluZyI9PT10eXBlb2YgYil7aWYoSi50ZXN0KGIpKXJldHVybiBrLmZpbHRlcihiLGMsZyk7Yj1rLmZpbHRlcihiLGMpfXJldHVybiBrLmdyZXAoYyxmdW5jdGlvbihjKXtyZXR1cm4gMDw9ay5pbkFycmF5KGMsYikhPT1nfSl9ZnVuY3Rpb24gdihjLGIpe2RvIGM9Y1tiXTt3aGlsZShjJiYxIT09Yy5ub2RlVHlwZSk7cmV0dXJuIGN9ZnVuY3Rpb24gbihjKXt2YXIgYj1KYltjXT17fTtrLmVhY2goYy5tYXRjaChrYSl8fFtdLGZ1bmN0aW9uKGMsZyl7YltnXT0hMH0pO3JldHVybiBifWZ1bmN0aW9uIEEoKXtJLmFkZEV2ZW50TGlzdGVuZXI/CihJLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEUsITEpLGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsRSwhMSkpOihJLmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLEUpLGQuZGV0YWNoRXZlbnQoIm9ubG9hZCIsRSkpfWZ1bmN0aW9uIEUoKXtpZihJLmFkZEV2ZW50TGlzdGVuZXJ8fCJsb2FkIj09PWV2ZW50LnR5cGV8fCJjb21wbGV0ZSI9PT1JLnJlYWR5U3RhdGUpQSgpLGsucmVhZHkoKX1mdW5jdGlvbiByKGMsYixnKXtpZih2b2lkIDA9PT1nJiYxPT09Yy5ub2RlVHlwZSlpZihnPSJkYXRhLSIrYi5yZXBsYWNlKExhLCItJDEiKS50b0xvd2VyQ2FzZSgpLGc9Yy5nZXRBdHRyaWJ1dGUoZyksInN0cmluZyI9PT10eXBlb2YgZyl7dHJ5e2c9InRydWUiPT09Zz8hMDoiZmFsc2UiPT09Zz8hMToibnVsbCI9PT1nP251bGw6K2crIiI9PT1nPytnOmhiLnRlc3QoZyk/ay5wYXJzZUpTT04oZyk6Z31jYXRjaChCKXt9ay5kYXRhKGMsYixnKX1lbHNlIGc9CnZvaWQgMDtyZXR1cm4gZ31mdW5jdGlvbiBGKGMpe2Zvcih2YXIgYiBpbiBjKWlmKCgiZGF0YSIhPT1ifHwhay5pc0VtcHR5T2JqZWN0KGNbYl0pKSYmInRvSlNPTiIhPT1iKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFkoYyxiLGcsQil7aWYoay5hY2NlcHREYXRhKGMpKXt2YXIgZT1rLmV4cGFuZG8sZj1jLm5vZGVUeXBlLGQ9Zj9rLmNhY2hlOmMsbT1mP2NbZV06Y1tlXSYmZTtpZihtJiZkW21dJiYoQnx8ZFttXS5kYXRhKXx8dm9pZCAwIT09Z3x8InN0cmluZyIhPT10eXBlb2YgYil7bXx8KG09Zj9jW2VdPUgucG9wKCl8fGsuZ3VpZCsrOmUpO2RbbV18fChkW21dPWY/e306e3RvSlNPTjprLm5vb3B9KTtpZigib2JqZWN0Ij09PXR5cGVvZiBifHwiZnVuY3Rpb24iPT09dHlwZW9mIGIpQj9kW21dPWsuZXh0ZW5kKGRbbV0sYik6ZFttXS5kYXRhPWsuZXh0ZW5kKGRbbV0uZGF0YSxiKTtjPWRbbV07Qnx8KGMuZGF0YXx8KGMuZGF0YT17fSksYz1jLmRhdGEpO3ZvaWQgMCE9PWcmJgooY1trLmNhbWVsQ2FzZShiKV09Zyk7InN0cmluZyI9PT10eXBlb2YgYj8oZz1jW2JdLG51bGw9PWcmJihnPWNbay5jYW1lbENhc2UoYildKSk6Zz1jO3JldHVybiBnfX19ZnVuY3Rpb24gYWEoYyxiLGcpe2lmKGsuYWNjZXB0RGF0YShjKSl7dmFyIEIsZSxmPWMubm9kZVR5cGUsZD1mP2suY2FjaGU6YyxtPWY/Y1trLmV4cGFuZG9dOmsuZXhwYW5kbztpZihkW21dKXtpZihiJiYoQj1nP2RbbV06ZFttXS5kYXRhKSl7ay5pc0FycmF5KGIpP2I9Yi5jb25jYXQoay5tYXAoYixrLmNhbWVsQ2FzZSkpOmIgaW4gQj9iPVtiXTooYj1rLmNhbWVsQ2FzZShiKSxiPWIgaW4gQj9bYl06Yi5zcGxpdCgiICIpKTtmb3IoZT1iLmxlbmd0aDtlLS07KWRlbGV0ZSBCW2JbZV1dO2lmKGc/IUYoQik6IWsuaXNFbXB0eU9iamVjdChCKSlyZXR1cm59aWYoIWcmJihkZWxldGUgZFttXS5kYXRhLCFGKGRbbV0pKSlyZXR1cm47Zj9rLmNsZWFuRGF0YShbY10sITApOkcuZGVsZXRlRXhwYW5kb3x8ZCE9ZC53aW5kb3c/CmRlbGV0ZSBkW21dOmRbbV09bnVsbH19fWZ1bmN0aW9uIFIoKXtyZXR1cm4hMH1mdW5jdGlvbiBkYSgpe3JldHVybiExfWZ1bmN0aW9uIFAoKXt0cnl7cmV0dXJuIEkuYWN0aXZlRWxlbWVudH1jYXRjaChjKXt9fWZ1bmN0aW9uIEwoYyl7dmFyIGI9dWIuc3BsaXQoInwiKTtjPWMuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2lmKGMuY3JlYXRlRWxlbWVudClmb3IoO2IubGVuZ3RoOyljLmNyZWF0ZUVsZW1lbnQoYi5wb3AoKSk7cmV0dXJuIGN9ZnVuY3Rpb24gVyhjLGIpe3ZhciBnLEIsZT0wLGY9InVuZGVmaW5lZCIhPT10eXBlb2YgYy5nZXRFbGVtZW50c0J5VGFnTmFtZT9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKGJ8fCIqIik6InVuZGVmaW5lZCIhPT10eXBlb2YgYy5xdWVyeVNlbGVjdG9yQWxsP2MucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOnZvaWQgMDtpZighZilmb3IoZj1bXSxnPWMuY2hpbGROb2Rlc3x8YztudWxsIT0oQj1nW2VdKTtlKyspIWJ8fGsubm9kZU5hbWUoQixiKT8KZi5wdXNoKEIpOmsubWVyZ2UoZixXKEIsYikpO3JldHVybiB2b2lkIDA9PT1ifHxiJiZrLm5vZGVOYW1lKGMsYik/ay5tZXJnZShbY10sZik6Zn1mdW5jdGlvbiBVKGMpe3ZiLnRlc3QoYy50eXBlKSYmKGMuZGVmYXVsdENoZWNrZWQ9Yy5jaGVja2VkKX1mdW5jdGlvbiBnYShjLGIpe3JldHVybiBrLm5vZGVOYW1lKGMsInRhYmxlIikmJmsubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLCJ0ciIpP2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF18fGMuYXBwZW5kQ2hpbGQoYy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpOmN9ZnVuY3Rpb24gUyhjKXtjLnR5cGU9KG51bGwhPT1rLmZpbmQuYXR0cihjLCJ0eXBlIikpKyIvIitjLnR5cGU7cmV0dXJuIGN9ZnVuY3Rpb24gcShjKXt2YXIgYj1oYS5leGVjKGMudHlwZSk7Yj9jLnR5cGU9YlsxXTpjLnJlbW92ZUF0dHJpYnV0ZSgidHlwZSIpO3JldHVybiBjfWZ1bmN0aW9uIFEoYyxiKXtmb3IodmFyIGcsCkI9MDtudWxsIT0oZz1jW0JdKTtCKyspay5fZGF0YShnLCJnbG9iYWxFdmFsIiwhYnx8ay5fZGF0YShiW0JdLCJnbG9iYWxFdmFsIikpfWZ1bmN0aW9uIE8oYyxiKXtpZigxPT09Yi5ub2RlVHlwZSYmay5oYXNEYXRhKGMpKXt2YXIgZyxCLGU7Qj1rLl9kYXRhKGMpO2M9ay5fZGF0YShiLEIpO3ZhciBmPUIuZXZlbnRzO2lmKGYpZm9yKGcgaW4gZGVsZXRlIGMuaGFuZGxlLGMuZXZlbnRzPXt9LGYpZm9yKEI9MCxlPWZbZ10ubGVuZ3RoO0I8ZTtCKyspay5ldmVudC5hZGQoYixnLGZbZ11bQl0pO2MuZGF0YSYmKGMuZGF0YT1rLmV4dGVuZCh7fSxjLmRhdGEpKX19ZnVuY3Rpb24gWihjLGIpe3ZhciBnO2M9ayhiLmNyZWF0ZUVsZW1lbnQoYykpLmFwcGVuZFRvKGIuYm9keSk7Yj1kLmdldERlZmF1bHRDb21wdXRlZFN0eWxlJiYoZz1kLmdldERlZmF1bHRDb21wdXRlZFN0eWxlKGNbMF0pKT9nLmRpc3BsYXk6ay5jc3MoY1swXSwiZGlzcGxheSIpO2MuZGV0YWNoKCk7cmV0dXJuIGJ9ZnVuY3Rpb24gQWEoYyl7dmFyIGI9CkksZz0kYVtjXTtnfHwoZz1aKGMsYiksIm5vbmUiIT09ZyYmZ3x8KFNhPShTYXx8aygiPGlmcmFtZSBmcmFtZWJvcmRlcj0nMCcgd2lkdGg9JzAnIGhlaWdodD0nMCcvPiIpKS5hcHBlbmRUbyhiLmRvY3VtZW50RWxlbWVudCksYj0oU2FbMF0uY29udGVudFdpbmRvd3x8U2FbMF0uY29udGVudERvY3VtZW50KS5kb2N1bWVudCxiLndyaXRlKCksYi5jbG9zZSgpLGc9WihjLGIpLFNhLmRldGFjaCgpKSwkYVtjXT1nKTtyZXR1cm4gZ31mdW5jdGlvbiBiKGMsYil7cmV0dXJue2dldDpmdW5jdGlvbigpe3ZhciBnPWMoKTtpZihudWxsIT1nKWlmKGcpZGVsZXRlIHRoaXMuZ2V0O2Vsc2UgcmV0dXJuKHRoaXMuZ2V0PWIpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fWZ1bmN0aW9uIENhKGMsYil7aWYoYiBpbiBjKXJldHVybiBiO2Zvcih2YXIgZz1iLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Iuc2xpY2UoMSksZT1iLEM9YWIubGVuZ3RoO0MtLTspaWYoYj1hYltDXStnLGIgaW4gYylyZXR1cm4gYjsKcmV0dXJuIGV9ZnVuY3Rpb24geShjLGIpe2Zvcih2YXIgZyxlLEMsZj1bXSxkPTAsbT1jLmxlbmd0aDtkPG07ZCsrKWU9Y1tkXSxlLnN0eWxlJiYoZltkXT1rLl9kYXRhKGUsIm9sZGRpc3BsYXkiKSxnPWUuc3R5bGUuZGlzcGxheSxiPyhmW2RdfHwibm9uZSIhPT1nfHwoZS5zdHlsZS5kaXNwbGF5PSIiKSwiIj09PWUuc3R5bGUuZGlzcGxheSYmTWEoZSkmJihmW2RdPWsuX2RhdGEoZSwib2xkZGlzcGxheSIsQWEoZS5ub2RlTmFtZSkpKSk6KEM9TWEoZSksKGcmJiJub25lIiE9PWd8fCFDKSYmay5fZGF0YShlLCJvbGRkaXNwbGF5IixDP2c6ay5jc3MoZSwiZGlzcGxheSIpKSkpO2ZvcihkPTA7ZDxtO2QrKyllPWNbZF0sIWUuc3R5bGV8fGImJiJub25lIiE9PWUuc3R5bGUuZGlzcGxheSYmIiIhPT1lLnN0eWxlLmRpc3BsYXl8fChlLnN0eWxlLmRpc3BsYXk9Yj9mW2RdfHwiIjoibm9uZSIpO3JldHVybiBjfWZ1bmN0aW9uIHJhKGMsYixnKXtyZXR1cm4oYz1lYy5leGVjKGIpKT9NYXRoLm1heCgwLApjWzFdLShnfHwwKSkrKGNbMl18fCJweCIpOmJ9ZnVuY3Rpb24gYmEoYyxiLGcsZSxDKXtiPWc9PT0oZT8iYm9yZGVyIjoiY29udGVudCIpPzQ6IndpZHRoIj09PWI/MTowO2Zvcih2YXIgZj0wOzQ+YjtiKz0yKSJtYXJnaW4iPT09ZyYmKGYrPWsuY3NzKGMsZytwYVtiXSwhMCxDKSksZT8oImNvbnRlbnQiPT09ZyYmKGYtPWsuY3NzKGMsInBhZGRpbmciK3BhW2JdLCEwLEMpKSwibWFyZ2luIiE9PWcmJihmLT1rLmNzcyhjLCJib3JkZXIiK3BhW2JdKyJXaWR0aCIsITAsQykpKTooZis9ay5jc3MoYywicGFkZGluZyIrcGFbYl0sITAsQyksInBhZGRpbmciIT09ZyYmKGYrPWsuY3NzKGMsImJvcmRlciIrcGFbYl0rIldpZHRoIiwhMCxDKSkpO3JldHVybiBmfWZ1bmN0aW9uIG0oYyxiLGcpe3ZhciBlPSEwLEM9IndpZHRoIj09PWI/Yy5vZmZzZXRXaWR0aDpjLm9mZnNldEhlaWdodCxmPU5hKGMpLGQ9Ry5ib3hTaXppbmcmJiJib3JkZXItYm94Ij09PWsuY3NzKGMsImJveFNpemluZyIsITEsCmYpO2lmKDA+PUN8fG51bGw9PUMpe0M9c2EoYyxiLGYpO2lmKDA+Q3x8bnVsbD09QylDPWMuc3R5bGVbYl07aWYobGEudGVzdChDKSlyZXR1cm4gQztlPWQmJihHLmJveFNpemluZ1JlbGlhYmxlKCl8fEM9PT1jLnN0eWxlW2JdKTtDPXBhcnNlRmxvYXQoQyl8fDB9cmV0dXJuIEMrYmEoYyxiLGd8fChkPyJib3JkZXIiOiJjb250ZW50IiksZSxmKSsicHgifWZ1bmN0aW9uIHUoYyxiLGcsZSxDKXtyZXR1cm4gbmV3IHUucHJvdG90eXBlLmluaXQoYyxiLGcsZSxDKX1mdW5jdGlvbiBOKCl7c2V0VGltZW91dChmdW5jdGlvbigpe1RhPXZvaWQgMH0pO3JldHVybiBUYT1rLm5vdygpfWZ1bmN0aW9uIGlhKGMsYil7dmFyIGcsZT17aGVpZ2h0OmN9LEM9MDtmb3IoYj1iPzE6MDs0PkM7Qys9Mi1iKWc9cGFbQ10sZVsibWFyZ2luIitnXT1lWyJwYWRkaW5nIitnXT1jO2ImJihlLm9wYWNpdHk9ZS53aWR0aD1jKTtyZXR1cm4gZX1mdW5jdGlvbiBUKGMsYixnKXtmb3IodmFyIGUsQz0odGFbYl18fApbXSkuY29uY2F0KHRhWyIqIl0pLGY9MCxrPUMubGVuZ3RoO2Y8aztmKyspaWYoZT1DW2ZdLmNhbGwoZyxiLGMpKXJldHVybiBlfWZ1bmN0aW9uIFYoYyxiKXt2YXIgZyxlLEMsZixkO2ZvcihnIGluIGMpaWYoZT1rLmNhbWVsQ2FzZShnKSxDPWJbZV0sZj1jW2ddLGsuaXNBcnJheShmKSYmKEM9ZlsxXSxmPWNbZ109ZlswXSksZyE9PWUmJihjW2VdPWYsZGVsZXRlIGNbZ10pLChkPWsuY3NzSG9va3NbZV0pJiYiZXhwYW5kImluIGQpZm9yKGcgaW4gZj1kLmV4cGFuZChmKSxkZWxldGUgY1tlXSxmKWcgaW4gY3x8KGNbZ109ZltnXSxiW2ddPUMpO2Vsc2UgYltlXT1DfWZ1bmN0aW9uIERhKGMsYixnKXt2YXIgZSxmPTAsSz1pYi5sZW5ndGgsZD1rLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIG0uZWxlbX0pLG09ZnVuY3Rpb24oKXtpZihlKXJldHVybiExO2Zvcih2YXIgYj1UYXx8TigpLGI9TWF0aC5tYXgoMCxoLnN0YXJ0VGltZStoLmR1cmF0aW9uLWIpLGc9MS0oYi8KaC5kdXJhdGlvbnx8MCksdz0wLHo9aC50d2VlbnMubGVuZ3RoO3c8ejt3KyspaC50d2VlbnNbd10ucnVuKGcpO2Qubm90aWZ5V2l0aChjLFtoLGcsYl0pO2lmKDE+ZyYmeilyZXR1cm4gYjtkLnJlc29sdmVXaXRoKGMsW2hdKTtyZXR1cm4hMX0saD1kLnByb21pc2Uoe2VsZW06Yyxwcm9wczprLmV4dGVuZCh7fSxiKSxvcHRzOmsuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxnKSxvcmlnaW5hbFByb3BlcnRpZXM6YixvcmlnaW5hbE9wdGlvbnM6ZyxzdGFydFRpbWU6VGF8fE4oKSxkdXJhdGlvbjpnLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbihiLGcpe2I9ay5Ud2VlbihjLGgub3B0cyxiLGcsaC5vcHRzLnNwZWNpYWxFYXNpbmdbYl18fGgub3B0cy5lYXNpbmcpO2gudHdlZW5zLnB1c2goYik7cmV0dXJuIGJ9LHN0b3A6ZnVuY3Rpb24oYil7dmFyIGc9MCx3PWI/aC50d2VlbnMubGVuZ3RoOjA7aWYoZSlyZXR1cm4gdGhpcztmb3IoZT0hMDtnPHc7ZysrKWgudHdlZW5zW2ddLnJ1bigxKTsKYj9kLnJlc29sdmVXaXRoKGMsW2gsYl0pOmQucmVqZWN0V2l0aChjLFtoLGJdKTtyZXR1cm4gdGhpc319KTtnPWgucHJvcHM7Zm9yKFYoZyxoLm9wdHMuc3BlY2lhbEVhc2luZyk7ZjxLO2YrKylpZihiPWliW2ZdLmNhbGwoaCxjLGcsaC5vcHRzKSlyZXR1cm4gYjtrLm1hcChnLFQsaCk7ay5pc0Z1bmN0aW9uKGgub3B0cy5zdGFydCkmJmgub3B0cy5zdGFydC5jYWxsKGMsaCk7ay5meC50aW1lcihrLmV4dGVuZChtLHtlbGVtOmMsYW5pbTpoLHF1ZXVlOmgub3B0cy5xdWV1ZX0pKTtyZXR1cm4gaC5wcm9ncmVzcyhoLm9wdHMucHJvZ3Jlc3MpLmRvbmUoaC5vcHRzLmRvbmUsaC5vcHRzLmNvbXBsZXRlKS5mYWlsKGgub3B0cy5mYWlsKS5hbHdheXMoaC5vcHRzLmFsd2F5cyl9ZnVuY3Rpb24gdWEoYyl7cmV0dXJuIGZ1bmN0aW9uKGIsZyl7InN0cmluZyIhPT10eXBlb2YgYiYmKGc9YixiPSIqIik7dmFyIGU9MCxmPWIudG9Mb3dlckNhc2UoKS5tYXRjaChrYSl8fFtdO2lmKGsuaXNGdW5jdGlvbihnKSlmb3IoO2I9CmZbZSsrXTspIisiPT09Yi5jaGFyQXQoMCk/KGI9Yi5zbGljZSgxKXx8IioiLChjW2JdPWNbYl18fFtdKS51bnNoaWZ0KGcpKTooY1tiXT1jW2JdfHxbXSkucHVzaChnKX19ZnVuY3Rpb24geWEoYyxiLGcsZSl7ZnVuY3Rpb24gZihtKXt2YXIgaDtLW21dPSEwO2suZWFjaChjW21dfHxbXSxmdW5jdGlvbihjLGspe2M9ayhiLGcsZSk7aWYoInN0cmluZyI9PT10eXBlb2YgYyYmIWQmJiFLW2NdKXJldHVybiBiLmRhdGFUeXBlcy51bnNoaWZ0KGMpLGYoYyksITE7aWYoZClyZXR1cm4hKGg9Yyl9KTtyZXR1cm4gaH12YXIgSz17fSxkPWM9PT13YjtyZXR1cm4gZihiLmRhdGFUeXBlc1swXSl8fCFLWyIqIl0mJmYoIioiKX1mdW5jdGlvbiBFYShjLGIpe3ZhciBnLGUsZj1rLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGUgaW4gYil2b2lkIDAhPT1iW2VdJiYoKGZbZV0/YzpnfHwoZz17fSkpW2VdPWJbZV0pO2cmJmsuZXh0ZW5kKCEwLGMsZyk7cmV0dXJuIGN9ZnVuY3Rpb24gSGEoYywKYixnLGUpe3ZhciBmO2lmKGsuaXNBcnJheShiKSlrLmVhY2goYixmdW5jdGlvbihiLHcpe2d8fGZjLnRlc3QoYyk/ZShjLHcpOkhhKGMrIlsiKygib2JqZWN0Ij09PXR5cGVvZiB3P2I6IiIpKyJdIix3LGcsZSl9KTtlbHNlIGlmKGd8fCJvYmplY3QiIT09ay50eXBlKGIpKWUoYyxiKTtlbHNlIGZvcihmIGluIGIpSGEoYysiWyIrZisiXSIsYltmXSxnLGUpfWZ1bmN0aW9uIHZhKCl7dHJ5e3JldHVybiBuZXcgZC5YTUxIdHRwUmVxdWVzdH1jYXRjaChjKXt9fWZ1bmN0aW9uIFgoYyl7cmV0dXJuIGsuaXNXaW5kb3coYyk/Yzo5PT09Yy5ub2RlVHlwZT9jLmRlZmF1bHRWaWV3fHxjLnBhcmVudFdpbmRvdzohMX12YXIgSD1bXSxjYT1ILnNsaWNlLHdhPUguY29uY2F0LHphPUgucHVzaCxVYT1ILmluZGV4T2YsamE9e30sRD1qYS50b1N0cmluZyxmPWphLmhhc093blByb3BlcnR5LEc9e30saz1mdW5jdGlvbihjLGIpe3JldHVybiBuZXcgay5mbi5pbml0KGMsYil9LGdjPS9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZywKaGM9L14tbXMtLyxWYT0vLShbXGRhLXpdKS9naSxLYj1mdW5jdGlvbihjLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O2suZm49ay5wcm90b3R5cGU9e2pxdWVyeToiMS4xMS4xIixjb25zdHJ1Y3RvcjprLHNlbGVjdG9yOiIiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gY2EuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGMpe3JldHVybiBudWxsIT1jPzA+Yz90aGlzW2MrdGhpcy5sZW5ndGhdOnRoaXNbY106Y2EuY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGMpe2M9ay5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksYyk7Yy5wcmV2T2JqZWN0PXRoaXM7Yy5jb250ZXh0PXRoaXMuY29udGV4dDtyZXR1cm4gY30sZWFjaDpmdW5jdGlvbihjLGIpe3JldHVybiBrLmVhY2godGhpcyxjLGIpfSxtYXA6ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGsubWFwKHRoaXMsZnVuY3Rpb24oYixnKXtyZXR1cm4gYy5jYWxsKGIsZyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soY2EuYXBwbHkodGhpcywKYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMubGVuZ3RoO2M9K2MrKDA+Yz9iOjApO3JldHVybiB0aGlzLnB1c2hTdGFjaygwPD1jJiZjPGI/W3RoaXNbY11dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDp6YSxzb3J0Okguc29ydCxzcGxpY2U6SC5zcGxpY2V9O2suZXh0ZW5kPWsuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGMsYixnLGUsZixLPWFyZ3VtZW50c1swXXx8e30sZD0xLG09YXJndW1lbnRzLmxlbmd0aCxoPSExOyJib29sZWFuIj09PXR5cGVvZiBLJiYoaD1LLEs9YXJndW1lbnRzW2RdfHx7fSxkKyspOyJvYmplY3QiPT09dHlwZW9mIEt8fGsuaXNGdW5jdGlvbihLKXx8KEs9e30pO2Q9PT1tJiYoSz10aGlzLGQtLSk7Zm9yKDtkPG07ZCsrKWlmKG51bGwhPQooZj1hcmd1bWVudHNbZF0pKWZvcihlIGluIGYpYz1LW2VdLGc9ZltlXSxLIT09ZyYmKGgmJmcmJihrLmlzUGxhaW5PYmplY3QoZyl8fChiPWsuaXNBcnJheShnKSkpPyhiPyhiPSExLGM9YyYmay5pc0FycmF5KGMpP2M6W10pOmM9YyYmay5pc1BsYWluT2JqZWN0KGMpP2M6e30sS1tlXT1rLmV4dGVuZChoLGMsZykpOnZvaWQgMCE9PWcmJihLW2VdPWcpKTtyZXR1cm4gS307ay5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKCIxLjExLjEiK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oYyl7dGhyb3cgRXJyb3IoYyk7fSxub29wOmZ1bmN0aW9uKCl7fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGMpe3JldHVybiJmdW5jdGlvbiI9PT1rLnR5cGUoYyl9LGlzQXJyYXk6QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oYyl7cmV0dXJuImFycmF5Ij09PWsudHlwZShjKX0saXNXaW5kb3c6ZnVuY3Rpb24oYyl7cmV0dXJuIG51bGwhPWMmJmM9PWMud2luZG93fSwKaXNOdW1lcmljOmZ1bmN0aW9uKGMpe3JldHVybiFrLmlzQXJyYXkoYykmJjA8PWMtcGFyc2VGbG9hdChjKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihjKXtmb3IodmFyIGIgaW4gYylyZXR1cm4hMTtyZXR1cm4hMH0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihjKXt2YXIgYjtpZighY3x8Im9iamVjdCIhPT1rLnR5cGUoYyl8fGMubm9kZVR5cGV8fGsuaXNXaW5kb3coYykpcmV0dXJuITE7dHJ5e2lmKGMuY29uc3RydWN0b3ImJiFmLmNhbGwoYywiY29uc3RydWN0b3IiKSYmIWYuY2FsbChjLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKGcpe3JldHVybiExfWlmKEcub3duTGFzdClmb3IoYiBpbiBjKXJldHVybiBmLmNhbGwoYyxiKTtmb3IoYiBpbiBjKTtyZXR1cm4gdm9pZCAwPT09Ynx8Zi5jYWxsKGMsYil9LHR5cGU6ZnVuY3Rpb24oYyl7cmV0dXJuIG51bGw9PWM/YysiIjoib2JqZWN0Ij09PXR5cGVvZiBjfHwiZnVuY3Rpb24iPT09CnR5cGVvZiBjP2phW0QuY2FsbChjKV18fCJvYmplY3QiOnR5cGVvZiBjfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGMpe2MmJmsudHJpbShjKSYmKGQuZXhlY1NjcmlwdHx8ZnVuY3Rpb24oYyl7ZC5ldmFsLmNhbGwoZCxjKX0pKGMpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYyl7cmV0dXJuIGMucmVwbGFjZShoYywibXMtIikucmVwbGFjZShWYSxLYil9LG5vZGVOYW1lOmZ1bmN0aW9uKGMsYil7cmV0dXJuIGMubm9kZU5hbWUmJmMubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihjLGIsZyl7dmFyIGUsZj0wLGs9Yy5sZW5ndGg7ZT1oKGMpO2lmKGcpaWYoZSlmb3IoO2Y8ayYmKGU9Yi5hcHBseShjW2ZdLGcpLCExIT09ZSk7ZisrKTtlbHNlIGZvcihmIGluIGMpe2lmKGU9Yi5hcHBseShjW2ZdLGcpLCExPT09ZSlicmVha31lbHNlIGlmKGUpZm9yKDtmPGsmJihlPWIuY2FsbChjW2ZdLGYsY1tmXSksITEhPT1lKTtmKyspO2Vsc2UgZm9yKGYgaW4gYylpZihlPQpiLmNhbGwoY1tmXSxmLGNbZl0pLCExPT09ZSlicmVhaztyZXR1cm4gY30sdHJpbTpmdW5jdGlvbihjKXtyZXR1cm4gbnVsbD09Yz8iIjooYysiIikucmVwbGFjZShnYywiIil9LG1ha2VBcnJheTpmdW5jdGlvbihjLGIpe2I9Ynx8W107bnVsbCE9YyYmKGgoT2JqZWN0KGMpKT9rLm1lcmdlKGIsInN0cmluZyI9PT10eXBlb2YgYz9bY106Yyk6emEuY2FsbChiLGMpKTtyZXR1cm4gYn0saW5BcnJheTpmdW5jdGlvbihjLGIsZyl7dmFyIGU7aWYoYil7aWYoVWEpcmV0dXJuIFVhLmNhbGwoYixjLGcpO2U9Yi5sZW5ndGg7Zm9yKGc9Zz8wPmc/TWF0aC5tYXgoMCxlK2cpOmc6MDtnPGU7ZysrKWlmKGcgaW4gYiYmYltnXT09PWMpcmV0dXJuIGd9cmV0dXJuLTF9LG1lcmdlOmZ1bmN0aW9uKGMsYil7Zm9yKHZhciBnPStiLmxlbmd0aCxlPTAsZj1jLmxlbmd0aDtlPGc7KWNbZisrXT1iW2UrK107aWYoZyE9PWcpZm9yKDt2b2lkIDAhPT1iW2VdOyljW2YrK109YltlKytdO2MubGVuZ3RoPWY7cmV0dXJuIGN9LApncmVwOmZ1bmN0aW9uKGMsYixnKXtmb3IodmFyIGU9W10sZj0wLGs9Yy5sZW5ndGgsZD0hZztmPGs7ZisrKWc9IWIoY1tmXSxmKSxnIT09ZCYmZS5wdXNoKGNbZl0pO3JldHVybiBlfSxtYXA6ZnVuY3Rpb24oYyxiLGcpe3ZhciBlLGY9MCxrPWMubGVuZ3RoLGQ9W107aWYoaChjKSlmb3IoO2Y8aztmKyspZT1iKGNbZl0sZixnKSxudWxsIT1lJiZkLnB1c2goZSk7ZWxzZSBmb3IoZiBpbiBjKWU9YihjW2ZdLGYsZyksbnVsbCE9ZSYmZC5wdXNoKGUpO3JldHVybiB3YS5hcHBseShbXSxkKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGMsYil7dmFyIGcsZTsic3RyaW5nIj09PXR5cGVvZiBiJiYoZT1jW2JdLGI9YyxjPWUpO2lmKGsuaXNGdW5jdGlvbihjKSlyZXR1cm4gZz1jYS5jYWxsKGFyZ3VtZW50cywyKSxlPWZ1bmN0aW9uKCl7cmV0dXJuIGMuYXBwbHkoYnx8dGhpcyxnLmNvbmNhdChjYS5jYWxsKGFyZ3VtZW50cykpKX0sZS5ndWlkPWMuZ3VpZD1jLmd1aWR8fGsuZ3VpZCsrLGV9LG5vdzpmdW5jdGlvbigpe3JldHVybituZXcgRGF0ZX0sCnN1cHBvcnQ6R30pO2suZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciIuc3BsaXQoIiAiKSxmdW5jdGlvbihjLGIpe2phWyJbb2JqZWN0ICIrYisiXSJdPWIudG9Mb3dlckNhc2UoKX0pO3ZhciBPYT1mdW5jdGlvbihjKXtmdW5jdGlvbiBiKGMsZyx3LGUpe3ZhciB6LEIsZixrLEM7KGc/Zy5vd25lckRvY3VtZW50fHxnOlApIT09TyYmTChnKTtnPWd8fE87dz13fHxbXTtpZighY3x8InN0cmluZyIhPT10eXBlb2YgYylyZXR1cm4gdztpZigxIT09KGs9Zy5ub2RlVHlwZSkmJjkhPT1rKXJldHVybltdO2lmKEomJiFlKXtpZih6PXRhLmV4ZWMoYykpaWYoZj16WzFdKWlmKDk9PT1rKWlmKChCPWcuZ2V0RWxlbWVudEJ5SWQoZikpJiZCLnBhcmVudE5vZGUpe2lmKEIuaWQ9PT1mKXJldHVybiB3LnB1c2goQiksd31lbHNlIHJldHVybiB3O2Vsc2V7aWYoZy5vd25lckRvY3VtZW50JiYoQj1nLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZikpJiYKWihnLEIpJiZCLmlkPT09ZilyZXR1cm4gdy5wdXNoKEIpLHd9ZWxzZXtpZih6WzJdKXJldHVybiBkYS5hcHBseSh3LGcuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYykpLHc7aWYoKGY9elszXSkmJnIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBkYS5hcHBseSh3LGcuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShmKSksd31pZihyLnFzYSYmKCFJfHwhSS50ZXN0KGMpKSl7Qj16PUY7Zj1nO0M9OT09PWsmJmM7aWYoMT09PWsmJiJvYmplY3QiIT09Zy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXtrPVQoYyk7KHo9Zy5nZXRBdHRyaWJ1dGUoImlkIikpP0I9ei5yZXBsYWNlKHNhLCJcXCQmIik6Zy5zZXRBdHRyaWJ1dGUoImlkIixCKTtCPSJbaWQ9JyIrQisiJ10gIjtmb3IoZj1rLmxlbmd0aDtmLS07KWtbZl09Qit1KGtbZl0pO2Y9RWEudGVzdChjKSYmbihnLnBhcmVudE5vZGUpfHxnO0M9ay5qb2luKCIsIil9aWYoQyl0cnl7cmV0dXJuIGRhLmFwcGx5KHcsCmYucXVlcnlTZWxlY3RvckFsbChDKSksd31jYXRjaChLKXt9ZmluYWxseXt6fHxnLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBHKGMucmVwbGFjZShyYSwiJDEiKSxnLHcsZSl9ZnVuY3Rpb24gZygpe2Z1bmN0aW9uIGMoZyx3KXtiLnB1c2goZysiICIpPnkuY2FjaGVMZW5ndGgmJmRlbGV0ZSBjW2Iuc2hpZnQoKV07cmV0dXJuIGNbZysiICJdPXd9dmFyIGI9W107cmV0dXJuIGN9ZnVuY3Rpb24gZShjKXtjW0ZdPSEwO3JldHVybiBjfWZ1bmN0aW9uIGYoYyl7dmFyIGI9Ty5jcmVhdGVFbGVtZW50KCJkaXYiKTt0cnl7cmV0dXJuISFjKGIpfWNhdGNoKGcpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9fWZ1bmN0aW9uIGsoYyxiKXt2YXIgZz1jLnNwbGl0KCJ8Iik7Zm9yKGM9Yy5sZW5ndGg7Yy0tOyl5LmF0dHJIYW5kbGVbZ1tjXV09Yn1mdW5jdGlvbiBkKGMsYil7dmFyIGc9YiYmYyx3PWcmJjE9PT1jLm5vZGVUeXBlJiYKMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8LTIxNDc0ODM2NDgpLSh+Yy5zb3VyY2VJbmRleHx8LTIxNDc0ODM2NDgpO2lmKHcpcmV0dXJuIHc7aWYoZylmb3IoO2c9Zy5uZXh0U2libGluZzspaWYoZz09PWIpcmV0dXJuLTE7cmV0dXJuIGM/MTotMX1mdW5jdGlvbiBtKGMpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4iaW5wdXQiPT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZiLnR5cGU9PT1jfX1mdW5jdGlvbiBoKGMpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgZz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1nfHwiYnV0dG9uIj09PWcpJiZiLnR5cGU9PT1jfX1mdW5jdGlvbiBsKGMpe3JldHVybiBlKGZ1bmN0aW9uKGIpe2I9K2I7cmV0dXJuIGUoZnVuY3Rpb24oZyx3KXtmb3IodmFyIGUsej1jKFtdLGcubGVuZ3RoLGIpLEI9ei5sZW5ndGg7Qi0tOylnW2U9eltCXV0mJihnW2VdPSEod1tlXT1nW2VdKSl9KX0pfWZ1bmN0aW9uIG4oYyl7cmV0dXJuIGMmJgoidW5kZWZpbmVkIiE9PXR5cGVvZiBjLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZjfWZ1bmN0aW9uIHEoKXt9ZnVuY3Rpb24gdShjKXtmb3IodmFyIGI9MCxnPWMubGVuZ3RoLHc9IiI7YjxnO2IrKyl3Kz1jW2JdLnZhbHVlO3JldHVybiB3fWZ1bmN0aW9uIHAoYyxiLGcpe3ZhciB3PWIuZGlyLGU9ZyYmInBhcmVudE5vZGUiPT09dyx6PWFhKys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixnLHope2Zvcig7Yj1iW3ddOylpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYyhiLGcseil9OmZ1bmN0aW9uKGIsZyxCKXt2YXIgZixrLEM9W1Isel07aWYoQilmb3IoO2I9Ylt3XTspe2lmKCgxPT09Yi5ub2RlVHlwZXx8ZSkmJmMoYixnLEIpKXJldHVybiEwfWVsc2UgZm9yKDtiPWJbd107KWlmKDE9PT1iLm5vZGVUeXBlfHxlKXtrPWJbRl18fChiW0ZdPXt9KTtpZigoZj1rW3ddKSYmZlswXT09PVImJmZbMV09PT16KXJldHVybiBDWzJdPWZbMl07a1t3XT1DO2lmKENbMl09YyhiLGcsQikpcmV0dXJuITB9fX0KZnVuY3Rpb24gdihjKXtyZXR1cm4gMTxjLmxlbmd0aD9mdW5jdGlvbihiLGcsdyl7Zm9yKHZhciBlPWMubGVuZ3RoO2UtLTspaWYoIWNbZV0oYixnLHcpKXJldHVybiExO3JldHVybiEwfTpjWzBdfWZ1bmN0aW9uIEEoYyxiLGcsdyxlKXtmb3IodmFyIHosQj1bXSxmPTAsaz1jLmxlbmd0aCxDPW51bGwhPWI7ZjxrO2YrKylpZih6PWNbZl0paWYoIWd8fGcoeix3LGUpKUIucHVzaCh6KSxDJiZiLnB1c2goZik7cmV0dXJuIEJ9ZnVuY3Rpb24geChjLGcseixmLGssQyl7ZiYmIWZbRl0mJihmPXgoZikpO2smJiFrW0ZdJiYoaz14KGssQykpO3JldHVybiBlKGZ1bmN0aW9uKGUsQixDLEspe3ZhciBkLG0seGE9W10saD1bXSxsPUIubGVuZ3RoLGVhO2lmKCEoZWE9ZSkpe2VhPWd8fCIqIjtmb3IodmFyIG49Qy5ub2RlVHlwZT9bQ106Qyx0Yj1bXSxqYj0wLHE9bi5sZW5ndGg7amI8cTtqYisrKWIoZWEsbltqYl0sdGIpO2VhPXRifWVhPSFjfHwhZSYmZz9lYTpBKGVhLHhhLGMsQyxLKTtuPXo/Cmt8fChlP2M6bHx8Zik/W106QjplYTt6JiZ6KGVhLG4sQyxLKTtpZihmKWZvcihkPUEobixoKSxmKGQsW10sQyxLKSxDPWQubGVuZ3RoO0MtLTspaWYobT1kW0NdKW5baFtDXV09IShlYVtoW0NdXT1tKTtpZihlKXtpZihrfHxjKXtpZihrKXtkPVtdO2ZvcihDPW4ubGVuZ3RoO0MtLTspKG09bltDXSkmJmQucHVzaChlYVtDXT1tKTtrKG51bGwsbj1bXSxkLEspfWZvcihDPW4ubGVuZ3RoO0MtLTspKG09bltDXSkmJi0xPChkPWs/d2EuY2FsbChlLG0pOnhhW0NdKSYmKGVbZF09IShCW2RdPW0pKX19ZWxzZSBuPUEobj09PUI/bi5zcGxpY2UobCxuLmxlbmd0aCk6biksaz9rKG51bGwsQixuLEspOmRhLmFwcGx5KEIsbil9KX1mdW5jdGlvbiBYKGMpe3ZhciBiLGcsdyxlPWMubGVuZ3RoLHo9eS5yZWxhdGl2ZVtjWzBdLnR5cGVdO2c9enx8eS5yZWxhdGl2ZVsiICJdO2Zvcih2YXIgQj16PzE6MCxmPXAoZnVuY3Rpb24oYyl7cmV0dXJuIGM9PT1ifSxnLCEwKSxrPXAoZnVuY3Rpb24oYyl7cmV0dXJuLTE8CndhLmNhbGwoYixjKX0sZywhMCksQz1bZnVuY3Rpb24oYyxnLHcpe3JldHVybiF6JiYod3x8ZyE9PVMpfHwoKGI9Zykubm9kZVR5cGU/ZihjLGcsdyk6ayhjLGcsdykpfV07QjxlO0IrKylpZihnPXkucmVsYXRpdmVbY1tCXS50eXBlXSlDPVtwKHYoQyksZyldO2Vsc2V7Zz15LmZpbHRlcltjW0JdLnR5cGVdLmFwcGx5KG51bGwsY1tCXS5tYXRjaGVzKTtpZihnW0ZdKXtmb3Iodz0rK0I7dzxlJiYheS5yZWxhdGl2ZVtjW3ddLnR5cGVdO3crKyk7cmV0dXJuIHgoMTxCJiZ2KEMpLDE8QiYmdShjLnNsaWNlKDAsQi0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWNbQi0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKHJhLCIkMSIpLGcsQjx3JiZYKGMuc2xpY2UoQix3KSksdzxlJiZYKGM9Yy5zbGljZSh3KSksdzxlJiZ1KGMpKX1DLnB1c2goZyl9cmV0dXJuIHYoQyl9ZnVuY3Rpb24gRShjLGcpe3ZhciB6PTA8Zy5sZW5ndGgsZj0wPGMubGVuZ3RoLGs9ZnVuY3Rpb24oZSxCLGssQyxLKXt2YXIgZCwKbSx4YSxoPTAsbD0iMCIsZWE9ZSYmW10sbj1bXSx0Yj1TLGpiPWV8fGYmJnkuZmluZC5UQUcoIioiLEspLHE9Uis9bnVsbD09dGI/MTpNYXRoLnJhbmRvbSgpfHwuMSx1PWpiLmxlbmd0aDtmb3IoSyYmKFM9QiE9PU8mJkIpO2whPT11JiZudWxsIT0oZD1qYltsXSk7bCsrKXtpZihmJiZkKXtmb3IobT0wO3hhPWNbbSsrXTspaWYoeGEoZCxCLGspKXtDLnB1c2goZCk7YnJlYWt9SyYmKFI9cSl9eiYmKChkPSF4YSYmZCkmJmgtLSxlJiZlYS5wdXNoKGQpKX1oKz1sO2lmKHomJmwhPT1oKXtmb3IobT0wO3hhPWdbbSsrXTspeGEoZWEsbixCLGspO2lmKGUpe2lmKDA8aClmb3IoO2wtLTspZWFbbF18fG5bbF18fChuW2xdPXZhLmNhbGwoQykpO249QShuKX1kYS5hcHBseShDLG4pO0smJiFlJiYwPG4ubGVuZ3RoJiYxPGgrZy5sZW5ndGgmJmIudW5pcXVlU29ydChDKX1LJiYoUj1xLFM9dGIpO3JldHVybiBlYX07cmV0dXJuIHo/ZShrKTprfXZhciBOLHIseSxILFEsVCxELEcsUyxNLGlhLEwsCk8sVixKLEksY2EsdWEsWixGPSJzaXp6bGUiKy1uZXcgRGF0ZSxQPWMuZG9jdW1lbnQsUj0wLGFhPTAsVT1nKCksVz1nKCksRGE9ZygpLHphPWZ1bmN0aW9uKGMsYil7Yz09PWImJihpYT0hMCk7cmV0dXJuIDB9LGphPXt9Lmhhc093blByb3BlcnR5LGJhPVtdLHZhPWJhLnBvcCxZPWJhLnB1c2gsZGE9YmEucHVzaCxBYT1iYS5zbGljZSx3YT1iYS5pbmRleE9mfHxmdW5jdGlvbihjKXtmb3IodmFyIGI9MCxnPXRoaXMubGVuZ3RoO2I8ZztiKyspaWYodGhpc1tiXT09PWMpcmV0dXJuIGI7cmV0dXJuLTF9LGdhPSIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIucmVwbGFjZSgidyIsIncjIiksQ2E9IlxcW1tcXHgyMFxcdFxcclxcblxcZl0qKCg/OlxcXFwufFtcXHctXXxbXlxceDAwLVxceGEwXSkrKSg/OltcXHgyMFxcdFxcclxcblxcZl0qKFsqXiR8IX5dPz0pW1xceDIwXFx0XFxyXFxuXFxmXSooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIisKZ2ErIikpfClbXFx4MjBcXHRcXHJcXG5cXGZdKlxcXSIsZmE9IjooKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSspKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitDYSsiKSopfC4qKVxcKXwpIixyYT0vXltceDIwXHRcclxuXGZdK3woKD86XnxbXlxcXSkoPzpcXC4pKilbXHgyMFx0XHJcblxmXSskL2csbmE9L15bXHgyMFx0XHJcblxmXSosW1x4MjBcdFxyXG5cZl0qLyxwYT0vXltceDIwXHRcclxuXGZdKihbPit+XXxbXHgyMFx0XHJcblxmXSlbXHgyMFx0XHJcblxmXSovLFVhPS89W1x4MjBcdFxyXG5cZl0qKFteXF0nIl0qPylbXHgyMFx0XHJcblxmXSpcXS9nLHFhPW5ldyBSZWdFeHAoZmEpLGthPW5ldyBSZWdFeHAoIl4iK2dhKyIkIiksaGE9e0lEOi9eIygoPzpcXC58W1x3LV18W15ceDAwLVx4YTBdKSspLyxDTEFTUzovXlwuKCg/OlxcLnxbXHctXXxbXlx4MDAtXHhhMF0pKykvLApUQUc6bmV3IFJlZ0V4cCgiXigiKyIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIucmVwbGFjZSgidyIsIncqIikrIikiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK0NhKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrZmEpLENISUxEOi9eOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcKFtceDIwXHRcclxuXGZdKihldmVufG9kZHwoKFsrLV18KShcZCopbnwpW1x4MjBcdFxyXG5cZl0qKD86KFsrLV18KVtceDIwXHRcclxuXGZdKihcZCspfCkpW1x4MjBcdFxyXG5cZl0qXCl8KS9pLGJvb2w6L14oPzpjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCkkL2ksbmVlZHNDb250ZXh0Oi9eW1x4MjBcdFxyXG5cZl0qWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcKFtceDIwXHRcclxuXGZdKigoPzotXGQpP1xkKilbXHgyMFx0XHJcblxmXSpcKXwpKD89W14tXXwkKS9pfSwKSGE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSx5YT0vXmhcZCQvaSxsYT0vXltee10rXHtccypcW25hdGl2ZSBcdy8sdGE9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxFYT0vWyt+XS8sc2E9Lyd8XFwvZyxlYT0vXFwoW1xkYS1mXXsxLDZ9W1x4MjBcdFxyXG5cZl0/fChbXHgyMFx0XHJcblxmXSl8LikvaWcsV2E9ZnVuY3Rpb24oYyxiLGcpe2M9IjB4IitiLTY1NTM2O3JldHVybiBjIT09Y3x8Zz9iOjA+Yz9TdHJpbmcuZnJvbUNoYXJDb2RlKGMrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUoYz4+MTB8NTUyOTYsYyYxMDIzfDU2MzIwKX07dHJ5e2RhLmFwcGx5KGJhPUFhLmNhbGwoUC5jaGlsZE5vZGVzKSxQLmNoaWxkTm9kZXMpLGJhW1AuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKHdjKXtkYT17YXBwbHk6YmEubGVuZ3RoP2Z1bmN0aW9uKGMsYil7WS5hcHBseShjLEFhLmNhbGwoYikpfTpmdW5jdGlvbihjLGIpe2Zvcih2YXIgZz0KYy5sZW5ndGgsdz0wO2NbZysrXT1iW3crK107KTtjLmxlbmd0aD1nLTF9fX1yPWIuc3VwcG9ydD17fTtRPWIuaXNYTUw9ZnVuY3Rpb24oYyl7cmV0dXJuKGM9YyYmKGMub3duZXJEb2N1bWVudHx8YykuZG9jdW1lbnRFbGVtZW50KT8iSFRNTCIhPT1jLm5vZGVOYW1lOiExfTtMPWIuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYyl7dmFyIGI9Yz9jLm93bmVyRG9jdW1lbnR8fGM6UDtjPWIuZGVmYXVsdFZpZXc7aWYoYj09PU98fDkhPT1iLm5vZGVUeXBlfHwhYi5kb2N1bWVudEVsZW1lbnQpcmV0dXJuIE87Tz1iO1Y9Yi5kb2N1bWVudEVsZW1lbnQ7Sj0hUShiKTtjJiZjIT09Yy50b3AmJihjLmFkZEV2ZW50TGlzdGVuZXI/Yy5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7TCgpfSwhMSk6Yy5hdHRhY2hFdmVudCYmYy5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7TCgpfSkpO3IuYXR0cmlidXRlcz1mKGZ1bmN0aW9uKGMpe2MuY2xhc3NOYW1lPSJpIjtyZXR1cm4hYy5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSk7CnIuZ2V0RWxlbWVudHNCeVRhZ05hbWU9ZihmdW5jdGlvbihjKXtjLmFwcGVuZENoaWxkKGIuY3JlYXRlQ29tbWVudCgiIikpO3JldHVybiFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSk7ci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPWxhLnRlc3QoYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSYmZihmdW5jdGlvbihjKXtjLmlubmVySFRNTD0iPGRpdiBjbGFzcz0nYSc+PC9kaXY+PGRpdiBjbGFzcz0nYSBpJz48L2Rpdj4iO2MuZmlyc3RDaGlsZC5jbGFzc05hbWU9ImkiO3JldHVybiAyPT09Yy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJpIikubGVuZ3RofSk7ci5nZXRCeUlkPWYoZnVuY3Rpb24oYyl7Vi5hcHBlbmRDaGlsZChjKS5pZD1GO3JldHVybiFiLmdldEVsZW1lbnRzQnlOYW1lfHwhYi5nZXRFbGVtZW50c0J5TmFtZShGKS5sZW5ndGh9KTtyLmdldEJ5SWQ/KHkuZmluZC5JRD1mdW5jdGlvbihjLGIpe2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQmJgpKKXJldHVybihjPWIuZ2V0RWxlbWVudEJ5SWQoYykpJiZjLnBhcmVudE5vZGU/W2NdOltdfSx5LmZpbHRlci5JRD1mdW5jdGlvbihjKXt2YXIgYj1jLnJlcGxhY2UoZWEsV2EpO3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYy5nZXRBdHRyaWJ1dGUoImlkIik9PT1ifX0pOihkZWxldGUgeS5maW5kLklELHkuZmlsdGVyLklEPWZ1bmN0aW9uKGMpe3ZhciBiPWMucmVwbGFjZShlYSxXYSk7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybihjPSJ1bmRlZmluZWQiIT09dHlwZW9mIGMuZ2V0QXR0cmlidXRlTm9kZSYmYy5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmYy52YWx1ZT09PWJ9fSk7eS5maW5kLlRBRz1yLmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGMsYil7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZSlyZXR1cm4gYi5nZXRFbGVtZW50c0J5VGFnTmFtZShjKX06ZnVuY3Rpb24oYyxiKXt2YXIgZz1bXSx3PTA7Yj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGMpOwppZigiKiI9PT1jKXtmb3IoO2M9Ylt3KytdOykxPT09Yy5ub2RlVHlwZSYmZy5wdXNoKGMpO3JldHVybiBnfXJldHVybiBifTt5LmZpbmQuQ0xBU1M9ci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihjLGIpe2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmSilyZXR1cm4gYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGMpfTtjYT1bXTtJPVtdO2lmKHIucXNhPWxhLnRlc3QoYi5xdWVyeVNlbGVjdG9yQWxsKSlmKGZ1bmN0aW9uKGMpe2MuaW5uZXJIVE1MPSI8c2VsZWN0IG1zYWxsb3djbGlwPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IjtjLnF1ZXJ5U2VsZWN0b3JBbGwoIlttc2FsbG93Y2xpcF49JyddIikubGVuZ3RoJiZJLnB1c2goIlsqXiRdPVtcXHgyMFxcdFxcclxcblxcZl0qKD86Jyd8XCJcIikiKTtjLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fEkucHVzaCgiXFxbW1xceDIwXFx0XFxyXFxuXFxmXSooPzp2YWx1ZXxjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCkiKTsKYy5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8SS5wdXNoKCI6Y2hlY2tlZCIpfSksZihmdW5jdGlvbihjKXt2YXIgZz1iLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Zy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJoaWRkZW4iKTtjLmFwcGVuZENoaWxkKGcpLnNldEF0dHJpYnV0ZSgibmFtZSIsIkQiKTtjLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPWRdIikubGVuZ3RoJiZJLnB1c2goIm5hbWVbXFx4MjBcXHRcXHJcXG5cXGZdKlsqXiR8IX5dPz0iKTtjLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxJLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIik7Yy5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iik7SS5wdXNoKCIsLio6Iil9KTsoci5tYXRjaGVzU2VsZWN0b3I9bGEudGVzdCh1YT1WLm1hdGNoZXN8fFYud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxWLm1vek1hdGNoZXNTZWxlY3Rvcnx8Vi5vTWF0Y2hlc1NlbGVjdG9yfHxWLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJgpmKGZ1bmN0aW9uKGMpe3IuZGlzY29ubmVjdGVkTWF0Y2g9dWEuY2FsbChjLCJkaXYiKTt1YS5jYWxsKGMsIltzIT0nJ106eCIpO2NhLnB1c2goIiE9IixmYSl9KTtJPUkubGVuZ3RoJiZuZXcgUmVnRXhwKEkuam9pbigifCIpKTtjYT1jYS5sZW5ndGgmJm5ldyBSZWdFeHAoY2Euam9pbigifCIpKTtaPShjPWxhLnRlc3QoVi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikpfHxsYS50ZXN0KFYuY29udGFpbnMpP2Z1bmN0aW9uKGMsYil7dmFyIGc9OT09PWMubm9kZVR5cGU/Yy5kb2N1bWVudEVsZW1lbnQ6YztiPWImJmIucGFyZW50Tm9kZTtyZXR1cm4gYz09PWJ8fCEhKGImJjE9PT1iLm5vZGVUeXBlJiYoZy5jb250YWlucz9nLmNvbnRhaW5zKGIpOmMuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJmMuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikmMTYpKX06ZnVuY3Rpb24oYyxiKXtpZihiKWZvcig7Yj1iLnBhcmVudE5vZGU7KWlmKGI9PT1jKXJldHVybiEwO3JldHVybiExfTt6YT1jP2Z1bmN0aW9uKGMsCmcpe2lmKGM9PT1nKXJldHVybiBpYT0hMCwwO3ZhciB3PSFjLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFnLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO2lmKHcpcmV0dXJuIHc7dz0oYy5vd25lckRvY3VtZW50fHxjKT09PShnLm93bmVyRG9jdW1lbnR8fGcpP2MuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZyk6MTtyZXR1cm4gdyYxfHwhci5zb3J0RGV0YWNoZWQmJmcuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYyk9PT13P2M9PT1ifHxjLm93bmVyRG9jdW1lbnQ9PT1QJiZaKFAsYyk/LTE6Zz09PWJ8fGcub3duZXJEb2N1bWVudD09PVAmJlooUCxnKT8xOk0/d2EuY2FsbChNLGMpLXdhLmNhbGwoTSxnKTowOncmND8tMToxfTpmdW5jdGlvbihjLGcpe2lmKGM9PT1nKXJldHVybiBpYT0hMCwwO3ZhciB3PTAsZT1jLnBhcmVudE5vZGUsej1nLnBhcmVudE5vZGUsQj1bY10sZj1bZ107aWYoIWV8fCF6KXJldHVybiBjPT09Yj8tMTpnPT09Yj8xOmU/LTE6ej8xOk0/d2EuY2FsbChNLGMpLQp3YS5jYWxsKE0sZyk6MDtpZihlPT09eilyZXR1cm4gZChjLGcpO2Zvcig7Yz1jLnBhcmVudE5vZGU7KUIudW5zaGlmdChjKTtmb3IoYz1nO2M9Yy5wYXJlbnROb2RlOylmLnVuc2hpZnQoYyk7Zm9yKDtCW3ddPT09Zlt3XTspdysrO3JldHVybiB3P2QoQlt3XSxmW3ddKTpCW3ddPT09UD8tMTpmW3ddPT09UD8xOjB9O3JldHVybiBifTtiLm1hdGNoZXM9ZnVuY3Rpb24oYyxnKXtyZXR1cm4gYihjLG51bGwsbnVsbCxnKX07Yi5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYyxnKXsoYy5vd25lckRvY3VtZW50fHxjKSE9PU8mJkwoYyk7Zz1nLnJlcGxhY2UoVWEsIj0nJDEnXSIpO2lmKCEoIXIubWF0Y2hlc1NlbGVjdG9yfHwhSnx8Y2EmJmNhLnRlc3QoZyl8fEkmJkkudGVzdChnKSkpdHJ5e3ZhciBlPXVhLmNhbGwoYyxnKTtpZihlfHxyLmRpc2Nvbm5lY3RlZE1hdGNofHxjLmRvY3VtZW50JiYxMSE9PWMuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGV9Y2F0Y2goeil7fXJldHVybiAwPGIoZywKTyxudWxsLFtjXSkubGVuZ3RofTtiLmNvbnRhaW5zPWZ1bmN0aW9uKGMsYil7KGMub3duZXJEb2N1bWVudHx8YykhPT1PJiZMKGMpO3JldHVybiBaKGMsYil9O2IuYXR0cj1mdW5jdGlvbihjLGIpeyhjLm93bmVyRG9jdW1lbnR8fGMpIT09TyYmTChjKTt2YXIgZz15LmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxnPWcmJmphLmNhbGwoeS5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZyhjLGIsIUopOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zz9nOnIuYXR0cmlidXRlc3x8IUo/Yy5nZXRBdHRyaWJ1dGUoYik6KGc9Yy5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZy5zcGVjaWZpZWQ/Zy52YWx1ZTpudWxsfTtiLmVycm9yPWZ1bmN0aW9uKGMpe3Rocm93IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK2MpO307Yi51bmlxdWVTb3J0PWZ1bmN0aW9uKGMpe3ZhciBiLGc9W10sdz0wLGU9MDtpYT0hci5kZXRlY3REdXBsaWNhdGVzO009IXIuc29ydFN0YWJsZSYmCmMuc2xpY2UoMCk7Yy5zb3J0KHphKTtpZihpYSl7Zm9yKDtiPWNbZSsrXTspYj09PWNbZV0mJih3PWcucHVzaChlKSk7Zm9yKDt3LS07KWMuc3BsaWNlKGdbd10sMSl9TT1udWxsO3JldHVybiBjfTtIPWIuZ2V0VGV4dD1mdW5jdGlvbihjKXt2YXIgYixnPSIiLHc9MDtiPWMubm9kZVR5cGU7aWYoIWIpZm9yKDtiPWNbdysrXTspZys9SChiKTtlbHNlIGlmKDE9PT1ifHw5PT09Ynx8MTE9PT1iKXtpZigic3RyaW5nIj09PXR5cGVvZiBjLnRleHRDb250ZW50KXJldHVybiBjLnRleHRDb250ZW50O2ZvcihjPWMuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZylnKz1IKGMpfWVsc2UgaWYoMz09PWJ8fDQ9PT1iKXJldHVybiBjLm5vZGVWYWx1ZTtyZXR1cm4gZ307eT1iLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmUsbWF0Y2g6aGEsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sCiIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihjKXtjWzFdPWNbMV0ucmVwbGFjZShlYSxXYSk7Y1szXT0oY1szXXx8Y1s0XXx8Y1s1XXx8IiIpLnJlcGxhY2UoZWEsV2EpOyJ+PSI9PT1jWzJdJiYoY1szXT0iICIrY1szXSsiICIpO3JldHVybiBjLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGMpe2NbMV09Y1sxXS50b0xvd2VyQ2FzZSgpOyJudGgiPT09Y1sxXS5zbGljZSgwLDMpPyhjWzNdfHxiLmVycm9yKGNbMF0pLGNbNF09KyhjWzRdP2NbNV0rKGNbNl18fDEpOjIqKCJldmVuIj09PWNbM118fCJvZGQiPT09Y1szXSkpLGNbNV09KyhjWzddK2NbOF18fCJvZGQiPT09Y1szXSkpOmNbM10mJmIuZXJyb3IoY1swXSk7cmV0dXJuIGN9LFBTRVVETzpmdW5jdGlvbihjKXt2YXIgYixnPSFjWzZdJiZjWzJdO2lmKGhhLkNISUxELnRlc3QoY1swXSkpcmV0dXJuIG51bGw7Y1szXT8KY1syXT1jWzRdfHxjWzVdfHwiIjpnJiZxYS50ZXN0KGcpJiYoYj1UKGcsITApKSYmKGI9Zy5pbmRleE9mKCIpIixnLmxlbmd0aC1iKS1nLmxlbmd0aCkmJihjWzBdPWNbMF0uc2xpY2UoMCxiKSxjWzJdPWcuc2xpY2UoMCxiKSk7cmV0dXJuIGMuc2xpY2UoMCwzKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGMpe3ZhciBiPWMucmVwbGFjZShlYSxXYSkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1jP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGMpe3JldHVybiBjLm5vZGVOYW1lJiZjLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYyl7dmFyIGI9VVtjKyIgIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoIihefFtcXHgyMFxcdFxcclxcblxcZl0pIitjKyIoW1xceDIwXFx0XFxyXFxuXFxmXXwkKSIpLFUoYyxmdW5jdGlvbihjKXtyZXR1cm4gYi50ZXN0KCJzdHJpbmciPT09dHlwZW9mIGMuY2xhc3NOYW1lJiZjLmNsYXNzTmFtZXx8InVuZGVmaW5lZCIhPT0KdHlwZW9mIGMuZ2V0QXR0cmlidXRlJiZjLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSkpfSxBVFRSOmZ1bmN0aW9uKGMsZyxlKXtyZXR1cm4gZnVuY3Rpb24oeil7ej1iLmF0dHIoeixjKTtpZihudWxsPT16KXJldHVybiIhPSI9PT1nO2lmKCFnKXJldHVybiEwO3orPSIiO3JldHVybiI9Ij09PWc/ej09PWU6IiE9Ij09PWc/eiE9PWU6Il49Ij09PWc/ZSYmMD09PXouaW5kZXhPZihlKToiKj0iPT09Zz9lJiYtMTx6LmluZGV4T2YoZSk6IiQ9Ij09PWc/ZSYmei5zbGljZSgtZS5sZW5ndGgpPT09ZToifj0iPT09Zz8tMTwoIiAiK3orIiAiKS5pbmRleE9mKGUpOiJ8PSI9PT1nP3o9PT1lfHx6LnNsaWNlKDAsZS5sZW5ndGgrMSk9PT1lKyItIjohMX19LENISUxEOmZ1bmN0aW9uKGMsYixnLHcsZSl7dmFyIHo9Im50aCIhPT1jLnNsaWNlKDAsMyksQj0ibGFzdCIhPT1jLnNsaWNlKC00KSxmPSJvZi10eXBlIj09PWI7cmV0dXJuIDE9PT13JiYwPT09ZT9mdW5jdGlvbihjKXtyZXR1cm4hIWMucGFyZW50Tm9kZX06CmZ1bmN0aW9uKGIsZyxrKXt2YXIgQyxLLGQsbSx4YTtnPXohPT1CPyJuZXh0U2libGluZyI6InByZXZpb3VzU2libGluZyI7dmFyIGg9Yi5wYXJlbnROb2RlLGw9ZiYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2s9IWsmJiFmO2lmKGgpe2lmKHope2Zvcig7Zzspe2ZvcihLPWI7Sz1LW2ddOylpZihmP0subm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWw6MT09PUsubm9kZVR5cGUpcmV0dXJuITE7eGE9Zz0ib25seSI9PT1jJiYheGEmJiJuZXh0U2libGluZyJ9cmV0dXJuITB9eGE9W0I/aC5maXJzdENoaWxkOmgubGFzdENoaWxkXTtpZihCJiZrKWZvcihrPWhbRl18fChoW0ZdPXt9KSxDPWtbY118fFtdLG09Q1swXT09PVImJkNbMV0sZD1DWzBdPT09UiYmQ1syXSxLPW0mJmguY2hpbGROb2Rlc1ttXTtLPSsrbSYmSyYmS1tnXXx8KGQ9bT0wKXx8eGEucG9wKCk7KXtpZigxPT09Sy5ub2RlVHlwZSYmKytkJiZLPT09Yil7a1tjXT1bUixtLGRdO2JyZWFrfX1lbHNlIGlmKGsmJihDPShiW0ZdfHwKKGJbRl09e30pKVtjXSkmJkNbMF09PT1SKWQ9Q1sxXTtlbHNlIGZvcig7KEs9KyttJiZLJiZLW2ddfHwoZD1tPTApfHx4YS5wb3AoKSkmJigoZj9LLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT1sOjEhPT1LLm5vZGVUeXBlKXx8ISsrZHx8KGsmJigoS1tGXXx8KEtbRl09e30pKVtjXT1bUixkXSksSyE9PWIpKTspO2QtPWU7cmV0dXJuIGQ9PT13fHwwPT09ZCV3JiYwPD1kL3d9fX0sUFNFVURPOmZ1bmN0aW9uKGMsZyl7dmFyIHosZj15LnBzZXVkb3NbY118fHkuc2V0RmlsdGVyc1tjLnRvTG93ZXJDYXNlKCldfHxiLmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrYyk7cmV0dXJuIGZbRl0/ZihnKToxPGYubGVuZ3RoPyh6PVtjLGMsIiIsZ10seS5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGMudG9Mb3dlckNhc2UoKSk/ZShmdW5jdGlvbihjLGIpe2Zvcih2YXIgdyxlPWYoYyxnKSx6PWUubGVuZ3RoO3otLTspdz13YS5jYWxsKGMsZVt6XSksY1t3XT0hKGJbd109ZVt6XSl9KTpmdW5jdGlvbihjKXtyZXR1cm4gZihjLAowLHopfSk6Zn19LHBzZXVkb3M6e25vdDplKGZ1bmN0aW9uKGMpe3ZhciBiPVtdLGc9W10sdz1EKGMucmVwbGFjZShyYSwiJDEiKSk7cmV0dXJuIHdbRl0/ZShmdW5jdGlvbihjLGIsZyxlKXtlPXcoYyxudWxsLGUsW10pO2Zvcih2YXIgej1jLmxlbmd0aDt6LS07KWlmKGc9ZVt6XSljW3pdPSEoYlt6XT1nKX0pOmZ1bmN0aW9uKGMsZSx6KXtiWzBdPWM7dyhiLG51bGwseixnKTtyZXR1cm4hZy5wb3AoKX19KSxoYXM6ZShmdW5jdGlvbihjKXtyZXR1cm4gZnVuY3Rpb24oZyl7cmV0dXJuIDA8YihjLGcpLmxlbmd0aH19KSxjb250YWluczplKGZ1bmN0aW9uKGMpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4tMTwoYi50ZXh0Q29udGVudHx8Yi5pbm5lclRleHR8fEgoYikpLmluZGV4T2YoYyl9fSksbGFuZzplKGZ1bmN0aW9uKGMpe2thLnRlc3QoY3x8IiIpfHxiLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK2MpO2M9Yy5yZXBsYWNlKGVhLFdhKS50b0xvd2VyQ2FzZSgpO3JldHVybiBmdW5jdGlvbihiKXt2YXIgZzsKZG8gaWYoZz1KP2IubGFuZzpiLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8Yi5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4gZz1nLnRvTG93ZXJDYXNlKCksZz09PWN8fDA9PT1nLmluZGV4T2YoYysiLSIpO3doaWxlKChiPWIucGFyZW50Tm9kZSkmJjE9PT1iLm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24oYil7dmFyIGc9Yy5sb2NhdGlvbiYmYy5sb2NhdGlvbi5oYXNoO3JldHVybiBnJiZnLnNsaWNlKDEpPT09Yi5pZH0scm9vdDpmdW5jdGlvbihjKXtyZXR1cm4gYz09PVZ9LGZvY3VzOmZ1bmN0aW9uKGMpe3JldHVybiBjPT09Ty5hY3RpdmVFbGVtZW50JiYoIU8uaGFzRm9jdXN8fE8uaGFzRm9jdXMoKSkmJiEhKGMudHlwZXx8Yy5ocmVmfHx+Yy50YWJJbmRleCl9LGVuYWJsZWQ6ZnVuY3Rpb24oYyl7cmV0dXJuITE9PT1jLmRpc2FibGVkfSxkaXNhYmxlZDpmdW5jdGlvbihjKXtyZXR1cm4hMD09PWMuZGlzYWJsZWR9LGNoZWNrZWQ6ZnVuY3Rpb24oYyl7dmFyIGI9CmMubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmISFjLmNoZWNrZWR8fCJvcHRpb24iPT09YiYmISFjLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihjKXtjLnBhcmVudE5vZGUmJmMucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O3JldHVybiEwPT09Yy5zZWxlY3RlZH0sZW1wdHk6ZnVuY3Rpb24oYyl7Zm9yKGM9Yy5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWlmKDY+Yy5ub2RlVHlwZSlyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGMpe3JldHVybiF5LnBzZXVkb3MuZW1wdHkoYyl9LGhlYWRlcjpmdW5jdGlvbihjKXtyZXR1cm4geWEudGVzdChjLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYyl7cmV0dXJuIEhhLnRlc3QoYy5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihjKXt2YXIgYj1jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWImJiJidXR0b24iPT09Yy50eXBlfHwiYnV0dG9uIj09PWJ9LAp0ZXh0OmZ1bmN0aW9uKGMpe3ZhciBiO3JldHVybiJpbnB1dCI9PT1jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJ0ZXh0Ij09PWMudHlwZSYmKG51bGw9PShiPWMuZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwidGV4dCI9PT1iLnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpsKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpsKGZ1bmN0aW9uKGMsYil7cmV0dXJuW2ItMV19KSxlcTpsKGZ1bmN0aW9uKGMsYixnKXtyZXR1cm5bMD5nP2crYjpnXX0pLGV2ZW46bChmdW5jdGlvbihjLGIpe2Zvcih2YXIgZz0wO2c8YjtnKz0yKWMucHVzaChnKTtyZXR1cm4gY30pLG9kZDpsKGZ1bmN0aW9uKGMsYil7Zm9yKHZhciBnPTE7ZzxiO2crPTIpYy5wdXNoKGcpO3JldHVybiBjfSksbHQ6bChmdW5jdGlvbihjLGIsZyl7Zm9yKGI9MD5nP2crYjpnOzA8PS0tYjspYy5wdXNoKGIpO3JldHVybiBjfSksZ3Q6bChmdW5jdGlvbihjLGIsZyl7Zm9yKGc9MD5nP2crYjpnOysrZzxiOyljLnB1c2goZyk7cmV0dXJuIGN9KX19Owp5LnBzZXVkb3MubnRoPXkucHNldWRvcy5lcTtmb3IoTiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSl5LnBzZXVkb3NbTl09bShOKTtmb3IoTiBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KXkucHNldWRvc1tOXT1oKE4pO3EucHJvdG90eXBlPXkuZmlsdGVycz15LnBzZXVkb3M7eS5zZXRGaWx0ZXJzPW5ldyBxO1Q9Yi50b2tlbml6ZT1mdW5jdGlvbihjLGcpe3ZhciBlLHosQixmLGssQyxLO2lmKGs9V1tjKyIgIl0pcmV0dXJuIGc/MDprLnNsaWNlKDApO2s9YztDPVtdO2ZvcihLPXkucHJlRmlsdGVyO2s7KXtpZighZXx8KHo9bmEuZXhlYyhrKSkpeiYmKGs9ay5zbGljZSh6WzBdLmxlbmd0aCl8fGspLEMucHVzaChCPVtdKTtlPSExO2lmKHo9cGEuZXhlYyhrKSllPXouc2hpZnQoKSxCLnB1c2goe3ZhbHVlOmUsdHlwZTp6WzBdLnJlcGxhY2UocmEsIiAiKX0pLGs9ay5zbGljZShlLmxlbmd0aCk7Zm9yKGYgaW4geS5maWx0ZXIpISh6PWhhW2ZdLmV4ZWMoaykpfHwKS1tmXSYmISh6PUtbZl0oeikpfHwoZT16LnNoaWZ0KCksQi5wdXNoKHt2YWx1ZTplLHR5cGU6ZixtYXRjaGVzOnp9KSxrPWsuc2xpY2UoZS5sZW5ndGgpKTtpZighZSlicmVha31yZXR1cm4gZz9rLmxlbmd0aDprP2IuZXJyb3IoYyk6VyhjLEMpLnNsaWNlKDApfTtEPWIuY29tcGlsZT1mdW5jdGlvbihjLGIpe3ZhciBnLHc9W10sZT1bXSx6PURhW2MrIiAiXTtpZigheil7Ynx8KGI9VChjKSk7Zm9yKGc9Yi5sZW5ndGg7Zy0tOyl6PVgoYltnXSkseltGXT93LnB1c2goeik6ZS5wdXNoKHopO3o9RGEoYyxFKGUsdykpO3ouc2VsZWN0b3I9Y31yZXR1cm4gen07Rz1iLnNlbGVjdD1mdW5jdGlvbihjLGIsZyx3KXt2YXIgZSx6LEIsZixrPSJmdW5jdGlvbiI9PT10eXBlb2YgYyYmYyxDPSF3JiZUKGM9ay5zZWxlY3Rvcnx8Yyk7Zz1nfHxbXTtpZigxPT09Qy5sZW5ndGgpe3o9Q1swXT1DWzBdLnNsaWNlKDApO2lmKDI8ei5sZW5ndGgmJiJJRCI9PT0oQj16WzBdKS50eXBlJiZyLmdldEJ5SWQmJgo5PT09Yi5ub2RlVHlwZSYmSiYmeS5yZWxhdGl2ZVt6WzFdLnR5cGVdKXtiPSh5LmZpbmQuSUQoQi5tYXRjaGVzWzBdLnJlcGxhY2UoZWEsV2EpLGIpfHxbXSlbMF07aWYoIWIpcmV0dXJuIGc7ayYmKGI9Yi5wYXJlbnROb2RlKTtjPWMuc2xpY2Uoei5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9Zm9yKGU9aGEubmVlZHNDb250ZXh0LnRlc3QoYyk/MDp6Lmxlbmd0aDtlLS07KXtCPXpbZV07aWYoeS5yZWxhdGl2ZVtmPUIudHlwZV0pYnJlYWs7aWYoZj15LmZpbmRbZl0paWYodz1mKEIubWF0Y2hlc1swXS5yZXBsYWNlKGVhLFdhKSxFYS50ZXN0KHpbMF0udHlwZSkmJm4oYi5wYXJlbnROb2RlKXx8Yikpe3ouc3BsaWNlKGUsMSk7Yz13Lmxlbmd0aCYmdSh6KTtpZighYylyZXR1cm4gZGEuYXBwbHkoZyx3KSxnO2JyZWFrfX19KGt8fEQoYyxDKSkodyxiLCFKLGcsRWEudGVzdChjKSYmbihiLnBhcmVudE5vZGUpfHxiKTtyZXR1cm4gZ307ci5zb3J0U3RhYmxlPUYuc3BsaXQoIiIpLnNvcnQoemEpLmpvaW4oIiIpPT09CkY7ci5kZXRlY3REdXBsaWNhdGVzPSEhaWE7TCgpO3Iuc29ydERldGFjaGVkPWYoZnVuY3Rpb24oYyl7cmV0dXJuIGMuY29tcGFyZURvY3VtZW50UG9zaXRpb24oTy5jcmVhdGVFbGVtZW50KCJkaXYiKSkmMX0pO2YoZnVuY3Rpb24oYyl7Yy5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iO3JldHVybiIjIj09PWMuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxrKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihjLGIsZyl7aWYoIWcpcmV0dXJuIGMuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KTtyLmF0dHJpYnV0ZXMmJmYoZnVuY3Rpb24oYyl7Yy5pbm5lckhUTUw9IjxpbnB1dC8+IjtjLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpO3JldHVybiIiPT09Yy5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxrKCJ2YWx1ZSIsZnVuY3Rpb24oYyxiLGcpe2lmKCFnJiYiaW5wdXQiPT09Yy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBjLmRlZmF1bHRWYWx1ZX0pOwpmKGZ1bmN0aW9uKGMpe3JldHVybiBudWxsPT1jLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxrKCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsZnVuY3Rpb24oYyxiLGcpe3ZhciB3O2lmKCFnKXJldHVybiEwPT09Y1tiXT9iLnRvTG93ZXJDYXNlKCk6KHc9Yy5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmdy5zcGVjaWZpZWQ/dy52YWx1ZTpudWxsfSk7cmV0dXJuIGJ9KGQpO2suZmluZD1PYTtrLmV4cHI9T2Euc2VsZWN0b3JzO2suZXhwclsiOiJdPWsuZXhwci5wc2V1ZG9zO2sudW5pcXVlPU9hLnVuaXF1ZVNvcnQ7ay50ZXh0PU9hLmdldFRleHQ7ay5pc1hNTERvYz1PYS5pc1hNTDtrLmNvbnRhaW5zPU9hLmNvbnRhaW5zO3ZhciBMYj1rLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LFhhPS9ePChcdyspXHMqXC8/Pig/OjxcL1wxPnwpJC8sCko9L14uW146I1xbXC4sXSokLztrLmZpbHRlcj1mdW5jdGlvbihjLGIsZyl7dmFyIGU9YlswXTtnJiYoYz0iOm5vdCgiK2MrIikiKTtyZXR1cm4gMT09PWIubGVuZ3RoJiYxPT09ZS5ub2RlVHlwZT9rLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGUsYyk/W2VdOltdOmsuZmluZC5tYXRjaGVzKGMsay5ncmVwKGIsZnVuY3Rpb24oYyl7cmV0dXJuIDE9PT1jLm5vZGVUeXBlfSkpfTtrLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihjKXt2YXIgYixnPVtdLGU9dGhpcyxmPWUubGVuZ3RoO2lmKCJzdHJpbmciIT09dHlwZW9mIGMpcmV0dXJuIHRoaXMucHVzaFN0YWNrKGsoYykuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGI9MDtiPGY7YisrKWlmKGsuY29udGFpbnMoZVtiXSx0aGlzKSlyZXR1cm4hMH0pKTtmb3IoYj0wO2I8ZjtiKyspay5maW5kKGMsZVtiXSxnKTtnPXRoaXMucHVzaFN0YWNrKDE8Zj9rLnVuaXF1ZShnKTpnKTtnLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcisiICIrCmM6YztyZXR1cm4gZ30sZmlsdGVyOmZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLnB1c2hTdGFjayhsKHRoaXMsY3x8W10sITEpKX0sbm90OmZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLnB1c2hTdGFjayhsKHRoaXMsY3x8W10sITApKX0saXM6ZnVuY3Rpb24oYyl7cmV0dXJuISFsKHRoaXMsInN0cmluZyI9PT10eXBlb2YgYyYmTGIudGVzdChjKT9rKGMpOmN8fFtdLCExKS5sZW5ndGh9fSk7dmFyIGJiLEk9ZC5kb2N1bWVudCxpYz0vXig/OlxzKig8W1x3XFddKz4pW14+XSp8IyhbXHctXSopKSQvOyhrLmZuLmluaXQ9ZnVuY3Rpb24oYyxiKXt2YXIgZztpZighYylyZXR1cm4gdGhpcztpZigic3RyaW5nIj09PXR5cGVvZiBjKXtnPSI8Ij09PWMuY2hhckF0KDApJiYiPiI9PT1jLmNoYXJBdChjLmxlbmd0aC0xKSYmMzw9Yy5sZW5ndGg/W251bGwsYyxudWxsXTppYy5leGVjKGMpO2lmKCFnfHwhZ1sxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fGJiKS5maW5kKGMpOnRoaXMuY29uc3RydWN0b3IoYikuZmluZChjKTsKaWYoZ1sxXSl7aWYoYj1iIGluc3RhbmNlb2Ygaz9iWzBdOmIsay5tZXJnZSh0aGlzLGsucGFyc2VIVE1MKGdbMV0sYiYmYi5ub2RlVHlwZT9iLm93bmVyRG9jdW1lbnR8fGI6SSwhMCkpLFhhLnRlc3QoZ1sxXSkmJmsuaXNQbGFpbk9iamVjdChiKSlmb3IoZyBpbiBiKWlmKGsuaXNGdW5jdGlvbih0aGlzW2ddKSl0aGlzW2ddKGJbZ10pO2Vsc2UgdGhpcy5hdHRyKGcsYltnXSl9ZWxzZXtpZigoYj1JLmdldEVsZW1lbnRCeUlkKGdbMl0pKSYmYi5wYXJlbnROb2RlKXtpZihiLmlkIT09Z1syXSlyZXR1cm4gYmIuZmluZChjKTt0aGlzLmxlbmd0aD0xO3RoaXNbMF09Yn10aGlzLmNvbnRleHQ9STt0aGlzLnNlbGVjdG9yPWN9cmV0dXJuIHRoaXN9aWYoYy5ub2RlVHlwZSlyZXR1cm4gdGhpcy5jb250ZXh0PXRoaXNbMF09Yyx0aGlzLmxlbmd0aD0xLHRoaXM7aWYoay5pc0Z1bmN0aW9uKGMpKXJldHVybiJ1bmRlZmluZWQiIT09dHlwZW9mIGJiLnJlYWR5P2JiLnJlYWR5KGMpOmMoayk7dm9pZCAwIT09CmMuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWMuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWMuY29udGV4dCk7cmV0dXJuIGsubWFrZUFycmF5KGMsdGhpcyl9KS5wcm90b3R5cGU9ay5mbjtiYj1rKEkpO3ZhciBCYT0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxNYj17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtrLmV4dGVuZCh7ZGlyOmZ1bmN0aW9uKGMsYixnKXt2YXIgZT1bXTtmb3IoYz1jW2JdO2MmJjkhPT1jLm5vZGVUeXBlJiYodm9pZCAwPT09Z3x8MSE9PWMubm9kZVR5cGV8fCFrKGMpLmlzKGcpKTspMT09PWMubm9kZVR5cGUmJmUucHVzaChjKSxjPWNbYl07cmV0dXJuIGV9LHNpYmxpbmc6ZnVuY3Rpb24oYyxiKXtmb3IodmFyIGc9W107YztjPWMubmV4dFNpYmxpbmcpMT09PWMubm9kZVR5cGUmJmMhPT1iJiZnLnB1c2goYyk7cmV0dXJuIGd9fSk7ay5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihjKXt2YXIgYixnPWsoYyx0aGlzKSxlPQpnLmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2I8ZTtiKyspaWYoay5jb250YWlucyh0aGlzLGdbYl0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYyxiKXtmb3IodmFyIGcsZT0wLGY9dGhpcy5sZW5ndGgsSz1bXSxkPUxiLnRlc3QoYyl8fCJzdHJpbmciIT09dHlwZW9mIGM/ayhjLGJ8fHRoaXMuY29udGV4dCk6MDtlPGY7ZSsrKWZvcihnPXRoaXNbZV07ZyYmZyE9PWI7Zz1nLnBhcmVudE5vZGUpaWYoMTE+Zy5ub2RlVHlwZSYmKGQ/LTE8ZC5pbmRleChnKToxPT09Zy5ub2RlVHlwZSYmay5maW5kLm1hdGNoZXNTZWxlY3RvcihnLGMpKSl7Sy5wdXNoKGcpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPEsubGVuZ3RoP2sudW5pcXVlKEspOkspfSxpbmRleDpmdW5jdGlvbihjKXtyZXR1cm4gYz8ic3RyaW5nIj09PXR5cGVvZiBjP2suaW5BcnJheSh0aGlzWzBdLGsoYykpOmsuaW5BcnJheShjLmpxdWVyeT9jWzBdOmMsdGhpcyk6dGhpc1swXSYmCnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGMsYil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGsudW5pcXVlKGsubWVyZ2UodGhpcy5nZXQoKSxrKGMsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWM/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYykpfX0pO2suZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGMpe3JldHVybihjPWMucGFyZW50Tm9kZSkmJjExIT09Yy5ub2RlVHlwZT9jOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYyl7cmV0dXJuIGsuZGlyKGMsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGMsYixnKXtyZXR1cm4gay5kaXIoYywicGFyZW50Tm9kZSIsZyl9LG5leHQ6ZnVuY3Rpb24oYyl7cmV0dXJuIHYoYywibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihjKXtyZXR1cm4gdihjLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihjKXtyZXR1cm4gay5kaXIoYywKIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oYyl7cmV0dXJuIGsuZGlyKGMsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYyxiLGcpe3JldHVybiBrLmRpcihjLCJuZXh0U2libGluZyIsZyl9LHByZXZVbnRpbDpmdW5jdGlvbihjLGIsZyl7cmV0dXJuIGsuZGlyKGMsInByZXZpb3VzU2libGluZyIsZyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGMpe3JldHVybiBrLnNpYmxpbmcoKGMucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYyl9LGNoaWxkcmVuOmZ1bmN0aW9uKGMpe3JldHVybiBrLnNpYmxpbmcoYy5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYyl7cmV0dXJuIGsubm9kZU5hbWUoYywiaWZyYW1lIik/Yy5jb250ZW50RG9jdW1lbnR8fGMuY29udGVudFdpbmRvdy5kb2N1bWVudDprLm1lcmdlKFtdLGMuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihjLGIpe2suZm5bY109ZnVuY3Rpb24oZyxlKXt2YXIgZj1rLm1hcCh0aGlzLGIsZyk7IlVudGlsIiE9PQpjLnNsaWNlKC01KSYmKGU9Zyk7ZSYmInN0cmluZyI9PT10eXBlb2YgZSYmKGY9ay5maWx0ZXIoZSxmKSk7MTx0aGlzLmxlbmd0aCYmKE1iW2NdfHwoZj1rLnVuaXF1ZShmKSksQmEudGVzdChjKSYmKGY9Zi5yZXZlcnNlKCkpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZil9fSk7dmFyIGthPS9cUysvZyxKYj17fTtrLkNhbGxiYWNrcz1mdW5jdGlvbihjKXtjPSJzdHJpbmciPT09dHlwZW9mIGM/SmJbY118fG4oYyk6ay5leHRlbmQoe30sYyk7dmFyIGIsZyxlLGYsSyxkLG09W10saD0hYy5vbmNlJiZbXSxsPWZ1bmN0aW9uKGspe2c9Yy5tZW1vcnkmJms7ZT0hMDtLPWR8fDA7ZD0wO2Y9bS5sZW5ndGg7Zm9yKGI9ITA7bSYmSzxmO0srKylpZighMT09PW1bS10uYXBwbHkoa1swXSxrWzFdKSYmYy5zdG9wT25GYWxzZSl7Zz0hMTticmVha31iPSExO20mJihoP2gubGVuZ3RoJiZsKGguc2hpZnQoKSk6Zz9tPVtdOnEuZGlzYWJsZSgpKX0scT17YWRkOmZ1bmN0aW9uKCl7aWYobSl7dmFyIGU9Cm0ubGVuZ3RoOyhmdW5jdGlvbiB2YyhiKXtrLmVhY2goYixmdW5jdGlvbihiLGcpe2I9ay50eXBlKGcpOyJmdW5jdGlvbiI9PT1iP2MudW5pcXVlJiZxLmhhcyhnKXx8bS5wdXNoKGcpOmcmJmcubGVuZ3RoJiYic3RyaW5nIiE9PWImJnZjKGcpfSl9KShhcmd1bWVudHMpO2I/Zj1tLmxlbmd0aDpnJiYoZD1lLGwoZykpfXJldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXttJiZrLmVhY2goYXJndW1lbnRzLGZ1bmN0aW9uKGMsZyl7Zm9yKHZhciBlOy0xPChlPWsuaW5BcnJheShnLG0sZSkpOyltLnNwbGljZShlLDEpLGImJihlPD1mJiZmLS0sZTw9SyYmSy0tKX0pO3JldHVybiB0aGlzfSxoYXM6ZnVuY3Rpb24oYyl7cmV0dXJuIGM/LTE8ay5pbkFycmF5KGMsbSk6ISghbXx8IW0ubGVuZ3RoKX0sZW1wdHk6ZnVuY3Rpb24oKXttPVtdO2Y9MDtyZXR1cm4gdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe209aD1nPXZvaWQgMDtyZXR1cm4gdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hbX0sCmxvY2s6ZnVuY3Rpb24oKXtoPXZvaWQgMDtnfHxxLmRpc2FibGUoKTtyZXR1cm4gdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWh9LGZpcmVXaXRoOmZ1bmN0aW9uKGMsZyl7IW18fGUmJiFofHwoZz1nfHxbXSxnPVtjLGcuc2xpY2U/Zy5zbGljZSgpOmddLGI/aC5wdXNoKGcpOmwoZykpO3JldHVybiB0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cS5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFlfX07cmV0dXJuIHF9O2suZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihjKXt2YXIgYj1bWyJyZXNvbHZlIiwiZG9uZSIsay5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixrLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVqZWN0ZWQiXSxbIm5vdGlmeSIsInByb2dyZXNzIixrLkNhbGxiYWNrcygibWVtb3J5IildXSxnPSJwZW5kaW5nIixlPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBnfSwKYWx3YXlzOmZ1bmN0aW9uKCl7Zi5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpO3JldHVybiB0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGM9YXJndW1lbnRzO3JldHVybiBrLkRlZmVycmVkKGZ1bmN0aW9uKGcpe2suZWFjaChiLGZ1bmN0aW9uKGIsdyl7dmFyIHo9ay5pc0Z1bmN0aW9uKGNbYl0pJiZjW2JdO2Zbd1sxXV0oZnVuY3Rpb24oKXt2YXIgYz16JiZ6LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihjJiZrLmlzRnVuY3Rpb24oYy5wcm9taXNlKSljLnByb21pc2UoKS5kb25lKGcucmVzb2x2ZSkuZmFpbChnLnJlamVjdCkucHJvZ3Jlc3MoZy5ub3RpZnkpO2Vsc2UgZ1t3WzBdKyJXaXRoIl0odGhpcz09PWU/Zy5wcm9taXNlKCk6dGhpcyx6P1tjXTphcmd1bWVudHMpfSl9KTtjPW51bGx9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oYyl7cmV0dXJuIG51bGwhPWM/ay5leHRlbmQoYyxlKTplfX0sZj17fTtlLnBpcGU9ZS50aGVuO2suZWFjaChiLGZ1bmN0aW9uKGMsCmspe3ZhciBkPWtbMl0sbT1rWzNdO2Vba1sxXV09ZC5hZGQ7bSYmZC5hZGQoZnVuY3Rpb24oKXtnPW19LGJbY14xXVsyXS5kaXNhYmxlLGJbMl1bMl0ubG9jayk7ZltrWzBdXT1mdW5jdGlvbigpe2Zba1swXSsiV2l0aCJdKHRoaXM9PT1mP2U6dGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzfTtmW2tbMF0rIldpdGgiXT1kLmZpcmVXaXRofSk7ZS5wcm9taXNlKGYpO2MmJmMuY2FsbChmLGYpO3JldHVybiBmfSx3aGVuOmZ1bmN0aW9uKGMpe3ZhciBiPTAsZz1jYS5jYWxsKGFyZ3VtZW50cyksZT1nLmxlbmd0aCxmPTEhPT1lfHxjJiZrLmlzRnVuY3Rpb24oYy5wcm9taXNlKT9lOjAsZD0xPT09Zj9jOmsuRGVmZXJyZWQoKSxtPWZ1bmN0aW9uKGMsYixnKXtyZXR1cm4gZnVuY3Rpb24odyl7YltjXT10aGlzO2dbY109MTxhcmd1bWVudHMubGVuZ3RoP2NhLmNhbGwoYXJndW1lbnRzKTp3O2c9PT1oP2Qubm90aWZ5V2l0aChiLGcpOi0tZnx8ZC5yZXNvbHZlV2l0aChiLGcpfX0saCxsLG47aWYoMTwKZSlmb3IoaD1BcnJheShlKSxsPUFycmF5KGUpLG49QXJyYXkoZSk7YjxlO2IrKylnW2JdJiZrLmlzRnVuY3Rpb24oZ1tiXS5wcm9taXNlKT9nW2JdLnByb21pc2UoKS5kb25lKG0oYixuLGcpKS5mYWlsKGQucmVqZWN0KS5wcm9ncmVzcyhtKGIsbCxoKSk6LS1mO2Z8fGQucmVzb2x2ZVdpdGgobixnKTtyZXR1cm4gZC5wcm9taXNlKCl9fSk7dmFyIGtiO2suZm4ucmVhZHk9ZnVuY3Rpb24oYyl7ay5yZWFkeS5wcm9taXNlKCkuZG9uZShjKTtyZXR1cm4gdGhpc307ay5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGMpe2M/ay5yZWFkeVdhaXQrKzprLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYyl7aWYoITA9PT1jPyEtLWsucmVhZHlXYWl0OiFrLmlzUmVhZHkpe2lmKCFJLmJvZHkpcmV0dXJuIHNldFRpbWVvdXQoay5yZWFkeSk7ay5pc1JlYWR5PSEwOyEwIT09YyYmMDwtLWsucmVhZHlXYWl0fHwoa2IucmVzb2x2ZVdpdGgoSSxba10pLGsuZm4udHJpZ2dlckhhbmRsZXImJgooayhJKS50cmlnZ2VySGFuZGxlcigicmVhZHkiKSxrKEkpLm9mZigicmVhZHkiKSkpfX19KTtrLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYyl7aWYoIWtiKWlmKGtiPWsuRGVmZXJyZWQoKSwiY29tcGxldGUiPT09SS5yZWFkeVN0YXRlKXNldFRpbWVvdXQoay5yZWFkeSk7ZWxzZSBpZihJLmFkZEV2ZW50TGlzdGVuZXIpSS5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixFLCExKSxkLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLEUsITEpO2Vsc2V7SS5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixFKTtkLmF0dGFjaEV2ZW50KCJvbmxvYWQiLEUpO3ZhciBiPSExO3RyeXtiPW51bGw9PWQuZnJhbWVFbGVtZW50JiZJLmRvY3VtZW50RWxlbWVudH1jYXRjaChnKXt9YiYmYi5kb1Njcm9sbCYmZnVuY3Rpb24gQigpe2lmKCFrLmlzUmVhZHkpe3RyeXtiLmRvU2Nyb2xsKCJsZWZ0Iil9Y2F0Y2goYyl7cmV0dXJuIHNldFRpbWVvdXQoQiw1MCl9QSgpO2sucmVhZHkoKX19KCl9cmV0dXJuIGtiLnByb21pc2UoYyl9Owpmb3IodmFyIGpjIGluIGsoRykpYnJlYWs7Ry5vd25MYXN0PSIwIiE9PWpjO0cuaW5saW5lQmxvY2tOZWVkc0xheW91dD0hMTtrKGZ1bmN0aW9uKCl7dmFyIGMsYixnOyhiPUkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSkmJmIuc3R5bGUmJihjPUkuY3JlYXRlRWxlbWVudCgiZGl2IiksZz1JLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGcuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLGIuYXBwZW5kQ2hpbGQoZykuYXBwZW5kQ2hpbGQoYyksInVuZGVmaW5lZCIhPT10eXBlb2YgYy5zdHlsZS56b29tJiYoYy5zdHlsZS5jc3NUZXh0PSJkaXNwbGF5OmlubGluZTttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjFweDt3aWR0aDoxcHg7em9vbToxIixHLmlubGluZUJsb2NrTmVlZHNMYXlvdXQ9Yz0zPT09Yy5vZmZzZXRXaWR0aCkmJihiLnN0eWxlLnpvb209MSksYi5yZW1vdmVDaGlsZChnKSl9KTsKKGZ1bmN0aW9uKCl7dmFyIGM9SS5jcmVhdGVFbGVtZW50KCJkaXYiKTtpZihudWxsPT1HLmRlbGV0ZUV4cGFuZG8pe0cuZGVsZXRlRXhwYW5kbz0hMDt0cnl7ZGVsZXRlIGMudGVzdH1jYXRjaChiKXtHLmRlbGV0ZUV4cGFuZG89ITF9fX0pKCk7ay5hY2NlcHREYXRhPWZ1bmN0aW9uKGMpe3ZhciBiPWsubm9EYXRhWyhjLm5vZGVOYW1lKyIgIikudG9Mb3dlckNhc2UoKV0sZz0rYy5ub2RlVHlwZXx8MTtyZXR1cm4gMSE9PWcmJjkhPT1nPyExOiFifHwhMCE9PWImJmMuZ2V0QXR0cmlidXRlKCJjbGFzc2lkIik9PT1ifTt2YXIgaGI9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxMYT0vKFtBLVpdKS9nO2suZXh0ZW5kKHtjYWNoZTp7fSxub0RhdGE6eyJhcHBsZXQgIjohMCwiZW1iZWQgIjohMCwib2JqZWN0ICI6ImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCJ9LGhhc0RhdGE6ZnVuY3Rpb24oYyl7Yz1jLm5vZGVUeXBlP2suY2FjaGVbY1trLmV4cGFuZG9dXToKY1trLmV4cGFuZG9dO3JldHVybiEhYyYmIUYoYyl9LGRhdGE6ZnVuY3Rpb24oYyxiLGcpe3JldHVybiBZKGMsYixnKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihjLGIpe3JldHVybiBhYShjLGIpfSxfZGF0YTpmdW5jdGlvbihjLGIsZyl7cmV0dXJuIFkoYyxiLGcsITApfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihjLGIpe3JldHVybiBhYShjLGIsITApfX0pO2suZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGMsYil7dmFyIGcsZSxmLGQ9dGhpc1swXSxtPWQmJmQuYXR0cmlidXRlcztpZih2b2lkIDA9PT1jKXtpZih0aGlzLmxlbmd0aCYmKGY9ay5kYXRhKGQpLDE9PT1kLm5vZGVUeXBlJiYhay5fZGF0YShkLCJwYXJzZWRBdHRycyIpKSl7Zm9yKGc9bS5sZW5ndGg7Zy0tOyltW2ddJiYoZT1tW2ddLm5hbWUsMD09PWUuaW5kZXhPZigiZGF0YS0iKSYmKGU9ay5jYW1lbENhc2UoZS5zbGljZSg1KSkscihkLGUsZltlXSkpKTtrLl9kYXRhKGQsInBhcnNlZEF0dHJzIiwhMCl9cmV0dXJuIGZ9cmV0dXJuIm9iamVjdCI9PT0KdHlwZW9mIGM/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ay5kYXRhKHRoaXMsYyl9KToxPGFyZ3VtZW50cy5sZW5ndGg/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ay5kYXRhKHRoaXMsYyxiKX0pOmQ/cihkLGMsay5kYXRhKGQsYykpOnZvaWQgMH0scmVtb3ZlRGF0YTpmdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ay5yZW1vdmVEYXRhKHRoaXMsYyl9KX19KTtrLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYyxiLGcpe3ZhciBlO2lmKGMpcmV0dXJuIGI9KGJ8fCJmeCIpKyJxdWV1ZSIsZT1rLl9kYXRhKGMsYiksZyYmKCFlfHxrLmlzQXJyYXkoZyk/ZT1rLl9kYXRhKGMsYixrLm1ha2VBcnJheShnKSk6ZS5wdXNoKGcpKSxlfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihjLGIpe2I9Ynx8ImZ4Ijt2YXIgZz1rLnF1ZXVlKGMsYiksZT1nLmxlbmd0aCxmPWcuc2hpZnQoKSxkPWsuX3F1ZXVlSG9va3MoYyxiKSxtPWZ1bmN0aW9uKCl7ay5kZXF1ZXVlKGMsYil9OyJpbnByb2dyZXNzIj09PQpmJiYoZj1nLnNoaWZ0KCksZS0tKTtmJiYoImZ4Ij09PWImJmcudW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBkLnN0b3AsZi5jYWxsKGMsbSxkKSk7IWUmJmQmJmQuZW1wdHkuZmlyZSgpfSxfcXVldWVIb29rczpmdW5jdGlvbihjLGIpe3ZhciBnPWIrInF1ZXVlSG9va3MiO3JldHVybiBrLl9kYXRhKGMsZyl8fGsuX2RhdGEoYyxnLHtlbXB0eTprLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtrLl9yZW1vdmVEYXRhKGMsYisicXVldWUiKTtrLl9yZW1vdmVEYXRhKGMsZyl9KX0pfX0pO2suZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihjLGIpe3ZhciBnPTI7InN0cmluZyIhPT10eXBlb2YgYyYmKGI9YyxjPSJmeCIsZy0tKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDxnP2sucXVldWUodGhpc1swXSxjKTp2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGc9ay5xdWV1ZSh0aGlzLGMsYik7ay5fcXVldWVIb29rcyh0aGlzLGMpOyJmeCI9PT0KYyYmImlucHJvZ3Jlc3MiIT09Z1swXSYmay5kZXF1ZXVlKHRoaXMsYyl9KX0sZGVxdWV1ZTpmdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ay5kZXF1ZXVlKHRoaXMsYyl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5xdWV1ZShjfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihjLGIpe3ZhciBnLGU9MSxmPWsuRGVmZXJyZWQoKSxkPXRoaXMsbT10aGlzLmxlbmd0aCxoPWZ1bmN0aW9uKCl7LS1lfHxmLnJlc29sdmVXaXRoKGQsW2RdKX07InN0cmluZyIhPT10eXBlb2YgYyYmKGI9YyxjPXZvaWQgMCk7Zm9yKGM9Y3x8ImZ4IjttLS07KShnPWsuX2RhdGEoZFttXSxjKyJxdWV1ZUhvb2tzIikpJiZnLmVtcHR5JiYoZSsrLGcuZW1wdHkuYWRkKGgpKTtoKCk7cmV0dXJuIGYucHJvbWlzZShiKX19KTt2YXIgSWE9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UscGE9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsCiJMZWZ0Il0sTWE9ZnVuY3Rpb24oYyxiKXtjPWJ8fGM7cmV0dXJuIm5vbmUiPT09ay5jc3MoYywiZGlzcGxheSIpfHwhay5jb250YWlucyhjLm93bmVyRG9jdW1lbnQsYyl9LG1hPWsuYWNjZXNzPWZ1bmN0aW9uKGMsYixnLGUsZixkLG0pe3ZhciBoPTAsbD1jLmxlbmd0aCxuPW51bGw9PWc7aWYoIm9iamVjdCI9PT1rLnR5cGUoZykpZm9yKGggaW4gZj0hMCxnKWsuYWNjZXNzKGMsYixoLGdbaF0sITAsZCxtKTtlbHNlIGlmKHZvaWQgMCE9PWUmJihmPSEwLGsuaXNGdW5jdGlvbihlKXx8KG09ITApLG4mJihtPyhiLmNhbGwoYyxlKSxiPW51bGwpOihuPWIsYj1mdW5jdGlvbihjLGIsZyl7cmV0dXJuIG4uY2FsbChrKGMpLGcpfSkpLGIpKWZvcig7aDxsO2grKyliKGNbaF0sZyxtP2U6ZS5jYWxsKGNbaF0saCxiKGNbaF0sZykpKTtyZXR1cm4gZj9jOm4/Yi5jYWxsKGMpOmw/YihjWzBdLGcpOmR9LHZiPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pOyhmdW5jdGlvbigpe3ZhciBjPUkuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSwKYj1JLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGc9SS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Yi5pbm5lckhUTUw9IiAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPiI7Ry5sZWFkaW5nV2hpdGVzcGFjZT0zPT09Yi5maXJzdENoaWxkLm5vZGVUeXBlO0cudGJvZHk9IWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IikubGVuZ3RoO0cuaHRtbFNlcmlhbGl6ZT0hIWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKS5sZW5ndGg7Ry5odG1sNUNsb25lPSI8Om5hdj48LzpuYXY+IiE9PUkuY3JlYXRlRWxlbWVudCgibmF2IikuY2xvbmVOb2RlKCEwKS5vdXRlckhUTUw7Yy50eXBlPSJjaGVja2JveCI7Yy5jaGVja2VkPSEwO2cuYXBwZW5kQ2hpbGQoYyk7Ry5hcHBlbmRDaGVja2VkPWMuY2hlY2tlZDtiLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiI7Ry5ub0Nsb25lQ2hlY2tlZD0hIWIuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlOwpnLmFwcGVuZENoaWxkKGIpO2IuaW5uZXJIVE1MPSI8aW5wdXQgdHlwZT0ncmFkaW8nIGNoZWNrZWQ9J2NoZWNrZWQnIG5hbWU9J3QnLz4iO0cuY2hlY2tDbG9uZT1iLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZDtHLm5vQ2xvbmVFdmVudD0hMDtiLmF0dGFjaEV2ZW50JiYoYi5hdHRhY2hFdmVudCgib25jbGljayIsZnVuY3Rpb24oKXtHLm5vQ2xvbmVFdmVudD0hMX0pLGIuY2xvbmVOb2RlKCEwKS5jbGljaygpKTtpZihudWxsPT1HLmRlbGV0ZUV4cGFuZG8pe0cuZGVsZXRlRXhwYW5kbz0hMDt0cnl7ZGVsZXRlIGIudGVzdH1jYXRjaChlKXtHLmRlbGV0ZUV4cGFuZG89ITF9fX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGMsYixnPUkuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKGMgaW57c3VibWl0OiEwLGNoYW5nZTohMCxmb2N1c2luOiEwfSliPSJvbiIrYywoR1tjKyJCdWJibGVzIl09YiBpbiBkKXx8KGcuc2V0QXR0cmlidXRlKGIsInQiKSxHW2MrIkJ1YmJsZXMiXT0KITE9PT1nLmF0dHJpYnV0ZXNbYl0uZXhwYW5kbyl9KSgpO3ZhciB4Yj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYSkkL2ksTmI9L15rZXkvLE9iPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudSl8Y2xpY2svLHliPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxQYj0vXihbXi5dKikoPzpcLiguKyl8KSQvO2suZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24oYyxiLGcsZSxmKXt2YXIgZCxtLGgsbCxuLHEsdSxwLHY7aWYoaD1rLl9kYXRhKGMpKXtnLmhhbmRsZXImJihsPWcsZz1sLmhhbmRsZXIsZj1sLnNlbGVjdG9yKTtnLmd1aWR8fChnLmd1aWQ9ay5ndWlkKyspOyhtPWguZXZlbnRzKXx8KG09aC5ldmVudHM9e30pOyhuPWguaGFuZGxlKXx8KG49aC5oYW5kbGU9ZnVuY3Rpb24oYyl7cmV0dXJuInVuZGVmaW5lZCI9PT10eXBlb2Yga3x8YyYmay5ldmVudC50cmlnZ2VyZWQ9PT1jLnR5cGU/dm9pZCAwOmsuZXZlbnQuZGlzcGF0Y2guYXBwbHkobi5lbGVtLAphcmd1bWVudHMpfSxuLmVsZW09Yyk7Yj0oYnx8IiIpLm1hdGNoKGthKXx8WyIiXTtmb3IoaD1iLmxlbmd0aDtoLS07KWQ9UGIuZXhlYyhiW2hdKXx8W10scD1xPWRbMV0sdj0oZFsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLHAmJihkPWsuZXZlbnQuc3BlY2lhbFtwXXx8e30scD0oZj9kLmRlbGVnYXRlVHlwZTpkLmJpbmRUeXBlKXx8cCxkPWsuZXZlbnQuc3BlY2lhbFtwXXx8e30scT1rLmV4dGVuZCh7dHlwZTpwLG9yaWdUeXBlOnEsZGF0YTplLGhhbmRsZXI6ZyxndWlkOmcuZ3VpZCxzZWxlY3RvcjpmLG5lZWRzQ29udGV4dDpmJiZrLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoZiksbmFtZXNwYWNlOnYuam9pbigiLiIpfSxsKSwodT1tW3BdKXx8KHU9bVtwXT1bXSx1LmRlbGVnYXRlQ291bnQ9MCxkLnNldHVwJiYhMSE9PWQuc2V0dXAuY2FsbChjLGUsdixuKXx8KGMuYWRkRXZlbnRMaXN0ZW5lcj9jLmFkZEV2ZW50TGlzdGVuZXIocCxuLCExKTpjLmF0dGFjaEV2ZW50JiYKYy5hdHRhY2hFdmVudCgib24iK3AsbikpKSxkLmFkZCYmKGQuYWRkLmNhbGwoYyxxKSxxLmhhbmRsZXIuZ3VpZHx8KHEuaGFuZGxlci5ndWlkPWcuZ3VpZCkpLGY/dS5zcGxpY2UodS5kZWxlZ2F0ZUNvdW50KyssMCxxKTp1LnB1c2gocSksay5ldmVudC5nbG9iYWxbcF09ITApO2M9bnVsbH19LHJlbW92ZTpmdW5jdGlvbihjLGIsZyxlLGYpe3ZhciBkLG0saCxsLG4scSx1LHAsdixBLHgsWD1rLmhhc0RhdGEoYykmJmsuX2RhdGEoYyk7aWYoWCYmKHE9WC5ldmVudHMpKXtiPShifHwiIikubWF0Y2goa2EpfHxbIiJdO2ZvcihuPWIubGVuZ3RoO24tLTspaWYoaD1QYi5leGVjKGJbbl0pfHxbXSx2PXg9aFsxXSxBPShoWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksdil7dT1rLmV2ZW50LnNwZWNpYWxbdl18fHt9O3Y9KGU/dS5kZWxlZ2F0ZVR5cGU6dS5iaW5kVHlwZSl8fHY7cD1xW3ZdfHxbXTtoPWhbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK0Euam9pbigiXFwuKD86LipcXC58KSIpKwoiKFxcLnwkKSIpO2ZvcihsPWQ9cC5sZW5ndGg7ZC0tOyltPXBbZF0sIWYmJnghPT1tLm9yaWdUeXBlfHxnJiZnLmd1aWQhPT1tLmd1aWR8fGgmJiFoLnRlc3QobS5uYW1lc3BhY2UpfHxlJiZlIT09bS5zZWxlY3RvciYmKCIqKiIhPT1lfHwhbS5zZWxlY3Rvcil8fChwLnNwbGljZShkLDEpLG0uc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLHUucmVtb3ZlJiZ1LnJlbW92ZS5jYWxsKGMsbSkpO2wmJiFwLmxlbmd0aCYmKHUudGVhcmRvd24mJiExIT09dS50ZWFyZG93bi5jYWxsKGMsQSxYLmhhbmRsZSl8fGsucmVtb3ZlRXZlbnQoYyx2LFguaGFuZGxlKSxkZWxldGUgcVt2XSl9ZWxzZSBmb3IodiBpbiBxKWsuZXZlbnQucmVtb3ZlKGMsditiW25dLGcsZSwhMCk7ay5pc0VtcHR5T2JqZWN0KHEpJiYoZGVsZXRlIFguaGFuZGxlLGsuX3JlbW92ZURhdGEoYywiZXZlbnRzIikpfX0sdHJpZ2dlcjpmdW5jdGlvbihjLGIsZyxlKXt2YXIgQyxLLG0saCxsLG4scT1bZ3x8SV0sdT1mLmNhbGwoYywKInR5cGUiKT9jLnR5cGU6YztsPWYuY2FsbChjLCJuYW1lc3BhY2UiKT9jLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO209Qz1nPWd8fEk7aWYoMyE9PWcubm9kZVR5cGUmJjghPT1nLm5vZGVUeXBlJiYheWIudGVzdCh1K2suZXZlbnQudHJpZ2dlcmVkKSYmKDA8PXUuaW5kZXhPZigiLiIpJiYobD11LnNwbGl0KCIuIiksdT1sLnNoaWZ0KCksbC5zb3J0KCkpLEs9MD51LmluZGV4T2YoIjoiKSYmIm9uIit1LGM9Y1trLmV4cGFuZG9dP2M6bmV3IGsuRXZlbnQodSwib2JqZWN0Ij09PXR5cGVvZiBjJiZjKSxjLmlzVHJpZ2dlcj1lPzI6MyxjLm5hbWVzcGFjZT1sLmpvaW4oIi4iKSxjLm5hbWVzcGFjZV9yZT1jLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIitsLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsYy5yZXN1bHQ9dm9pZCAwLGMudGFyZ2V0fHwoYy50YXJnZXQ9ZyksYj1udWxsPT1iP1tjXTprLm1ha2VBcnJheShiLFtjXSksbD1rLmV2ZW50LnNwZWNpYWxbdV18fAp7fSxlfHwhbC50cmlnZ2VyfHwhMSE9PWwudHJpZ2dlci5hcHBseShnLGIpKSl7aWYoIWUmJiFsLm5vQnViYmxlJiYhay5pc1dpbmRvdyhnKSl7aD1sLmRlbGVnYXRlVHlwZXx8dTt5Yi50ZXN0KGgrdSl8fChtPW0ucGFyZW50Tm9kZSk7Zm9yKDttO209bS5wYXJlbnROb2RlKXEucHVzaChtKSxDPW07Qz09PShnLm93bmVyRG9jdW1lbnR8fEkpJiZxLnB1c2goQy5kZWZhdWx0Vmlld3x8Qy5wYXJlbnRXaW5kb3d8fGQpfWZvcihuPTA7KG09cVtuKytdKSYmIWMuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspYy50eXBlPTE8bj9oOmwuYmluZFR5cGV8fHUsKEM9KGsuX2RhdGEobSwiZXZlbnRzIil8fHt9KVtjLnR5cGVdJiZrLl9kYXRhKG0sImhhbmRsZSIpKSYmQy5hcHBseShtLGIpLChDPUsmJm1bS10pJiZDLmFwcGx5JiZrLmFjY2VwdERhdGEobSkmJihjLnJlc3VsdD1DLmFwcGx5KG0sYiksITE9PT1jLnJlc3VsdCYmYy5wcmV2ZW50RGVmYXVsdCgpKTtjLnR5cGU9dTtpZighKGV8fGMuaXNEZWZhdWx0UHJldmVudGVkKCl8fApsLl9kZWZhdWx0JiYhMSE9PWwuX2RlZmF1bHQuYXBwbHkocS5wb3AoKSxiKSkmJmsuYWNjZXB0RGF0YShnKSYmSyYmZ1t1XSYmIWsuaXNXaW5kb3coZykpeyhDPWdbS10pJiYoZ1tLXT1udWxsKTtrLmV2ZW50LnRyaWdnZXJlZD11O3RyeXtnW3VdKCl9Y2F0Y2gocCl7fWsuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMDtDJiYoZ1tLXT1DKX1yZXR1cm4gYy5yZXN1bHR9fSxkaXNwYXRjaDpmdW5jdGlvbihjKXtjPWsuZXZlbnQuZml4KGMpO3ZhciBiLGcsZSxmLGQsbT1jYS5jYWxsKGFyZ3VtZW50cyk7Yj0oay5fZGF0YSh0aGlzLCJldmVudHMiKXx8e30pW2MudHlwZV18fFtdO3ZhciBoPWsuZXZlbnQuc3BlY2lhbFtjLnR5cGVdfHx7fTttWzBdPWM7Yy5kZWxlZ2F0ZVRhcmdldD10aGlzO2lmKCFoLnByZURpc3BhdGNofHwhMSE9PWgucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGMpKXtkPWsuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGMsYik7Zm9yKGI9MDsoZT1kW2IrK10pJiYhYy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylmb3IoYy5jdXJyZW50VGFyZ2V0PQplLmVsZW0sZj0wOyhnPWUuaGFuZGxlcnNbZisrXSkmJiFjLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCk7KWlmKCFjLm5hbWVzcGFjZV9yZXx8Yy5uYW1lc3BhY2VfcmUudGVzdChnLm5hbWVzcGFjZSkpYy5oYW5kbGVPYmo9ZyxjLmRhdGE9Zy5kYXRhLGc9KChrLmV2ZW50LnNwZWNpYWxbZy5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGcuaGFuZGxlcikuYXBwbHkoZS5lbGVtLG0pLHZvaWQgMCE9PWcmJiExPT09KGMucmVzdWx0PWcpJiYoYy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCkpO2gucG9zdERpc3BhdGNoJiZoLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYyk7cmV0dXJuIGMucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oYyxiKXt2YXIgZyxlLGYsZCxtPVtdLGg9Yi5kZWxlZ2F0ZUNvdW50LGw9Yy50YXJnZXQ7aWYoaCYmbC5ub2RlVHlwZSYmKCFjLmJ1dHRvbnx8ImNsaWNrIiE9PWMudHlwZSkpZm9yKDtsIT10aGlzO2w9bC5wYXJlbnROb2RlfHwKdGhpcylpZigxPT09bC5ub2RlVHlwZSYmKCEwIT09bC5kaXNhYmxlZHx8ImNsaWNrIiE9PWMudHlwZSkpe2Y9W107Zm9yKGQ9MDtkPGg7ZCsrKWU9YltkXSxnPWUuc2VsZWN0b3IrIiAiLHZvaWQgMD09PWZbZ10mJihmW2ddPWUubmVlZHNDb250ZXh0PzA8PWsoZyx0aGlzKS5pbmRleChsKTprLmZpbmQoZyx0aGlzLG51bGwsW2xdKS5sZW5ndGgpLGZbZ10mJmYucHVzaChlKTtmLmxlbmd0aCYmbS5wdXNoKHtlbGVtOmwsaGFuZGxlcnM6Zn0pfWg8Yi5sZW5ndGgmJm0ucHVzaCh7ZWxlbTp0aGlzLGhhbmRsZXJzOmIuc2xpY2UoaCl9KTtyZXR1cm4gbX0sZml4OmZ1bmN0aW9uKGMpe2lmKGNbay5leHBhbmRvXSlyZXR1cm4gYzt2YXIgYixnLGU7Yj1jLnR5cGU7dmFyIGY9YyxkPXRoaXMuZml4SG9va3NbYl07ZHx8KHRoaXMuZml4SG9va3NbYl09ZD1PYi50ZXN0KGIpP3RoaXMubW91c2VIb29rczpOYi50ZXN0KGIpP3RoaXMua2V5SG9va3M6e30pO2U9ZC5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChkLnByb3BzKToKdGhpcy5wcm9wcztjPW5ldyBrLkV2ZW50KGYpO2ZvcihiPWUubGVuZ3RoO2ItLTspZz1lW2JdLGNbZ109ZltnXTtjLnRhcmdldHx8KGMudGFyZ2V0PWYuc3JjRWxlbWVudHx8SSk7Mz09PWMudGFyZ2V0Lm5vZGVUeXBlJiYoYy50YXJnZXQ9Yy50YXJnZXQucGFyZW50Tm9kZSk7Yy5tZXRhS2V5PSEhYy5tZXRhS2V5O3JldHVybiBkLmZpbHRlcj9kLmZpbHRlcihjLGYpOmN9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2giLnNwbGl0KCIgIiksZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOlsiY2hhciIsImNoYXJDb2RlIiwia2V5Iiwia2V5Q29kZSJdLGZpbHRlcjpmdW5jdGlvbihjLGIpe251bGw9PWMud2hpY2gmJihjLndoaWNoPW51bGwhPWIuY2hhckNvZGU/Yi5jaGFyQ29kZTpiLmtleUNvZGUpO3JldHVybiBjfX0sCm1vdXNlSG9va3M6e3Byb3BzOiJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgZnJvbUVsZW1lbnQgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnQiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGMsYil7dmFyIGcsZSxmPWIuYnV0dG9uLGs9Yi5mcm9tRWxlbWVudDtudWxsPT1jLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihnPWMudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fEksZT1nLmRvY3VtZW50RWxlbWVudCxnPWcuYm9keSxjLnBhZ2VYPWIuY2xpZW50WCsoZSYmZS5zY3JvbGxMZWZ0fHxnJiZnLnNjcm9sbExlZnR8fDApLShlJiZlLmNsaWVudExlZnR8fGcmJmcuY2xpZW50TGVmdHx8MCksYy5wYWdlWT1iLmNsaWVudFkrKGUmJmUuc2Nyb2xsVG9wfHxnJiZnLnNjcm9sbFRvcHx8MCktKGUmJmUuY2xpZW50VG9wfHxnJiZnLmNsaWVudFRvcHx8MCkpOyFjLnJlbGF0ZWRUYXJnZXQmJmsmJihjLnJlbGF0ZWRUYXJnZXQ9az09PQpjLnRhcmdldD9iLnRvRWxlbWVudDprKTtjLndoaWNofHx2b2lkIDA9PT1mfHwoYy53aGljaD1mJjE/MTpmJjI/MzpmJjQ/MjowKTtyZXR1cm4gY319LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXMhPT1QKCkmJnRoaXMuZm9jdXMpdHJ5e3JldHVybiB0aGlzLmZvY3VzKCksITF9Y2F0Y2goYyl7fX0sZGVsZWdhdGVUeXBlOiJmb2N1c2luIn0sYmx1cjp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXM9PT1QKCkmJnRoaXMuYmx1cilyZXR1cm4gdGhpcy5ibHVyKCksITF9LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKGsubm9kZU5hbWUodGhpcywiaW5wdXQiKSYmImNoZWNrYm94Ij09PXRoaXMudHlwZSYmdGhpcy5jbGljaylyZXR1cm4gdGhpcy5jbGljaygpLCExfSxfZGVmYXVsdDpmdW5jdGlvbihjKXtyZXR1cm4gay5ub2RlTmFtZShjLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYyl7dm9pZCAwIT09CmMucmVzdWx0JiZjLm9yaWdpbmFsRXZlbnQmJihjLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9Yy5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGMsYixnLGUpe2M9ay5leHRlbmQobmV3IGsuRXZlbnQsZyx7dHlwZTpjLGlzU2ltdWxhdGVkOiEwLG9yaWdpbmFsRXZlbnQ6e319KTtlP2suZXZlbnQudHJpZ2dlcihjLG51bGwsYik6ay5ldmVudC5kaXNwYXRjaC5jYWxsKGIsYyk7Yy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmZy5wcmV2ZW50RGVmYXVsdCgpfX07ay5yZW1vdmVFdmVudD1JLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYyxiLGcpe2MucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYy5yZW1vdmVFdmVudExpc3RlbmVyKGIsZywhMSl9OmZ1bmN0aW9uKGMsYixnKXtiPSJvbiIrYjtjLmRldGFjaEV2ZW50JiYoInVuZGVmaW5lZCI9PT10eXBlb2YgY1tiXSYmKGNbYl09bnVsbCksYy5kZXRhY2hFdmVudChiLGcpKX07ay5FdmVudD1mdW5jdGlvbihjLGIpe2lmKCEodGhpcyBpbnN0YW5jZW9mCmsuRXZlbnQpKXJldHVybiBuZXcgay5FdmVudChjLGIpO2MmJmMudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWMsdGhpcy50eXBlPWMudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1jLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWMuZGVmYXVsdFByZXZlbnRlZCYmITE9PT1jLnJldHVyblZhbHVlP1I6ZGEpOnRoaXMudHlwZT1jO2ImJmsuZXh0ZW5kKHRoaXMsYik7dGhpcy50aW1lU3RhbXA9YyYmYy50aW1lU3RhbXB8fGsubm93KCk7dGhpc1trLmV4cGFuZG9dPSEwfTtrLkV2ZW50LnByb3RvdHlwZT17aXNEZWZhdWx0UHJldmVudGVkOmRhLGlzUHJvcGFnYXRpb25TdG9wcGVkOmRhLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmRhLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPVI7YyYmKGMucHJldmVudERlZmF1bHQ/Yy5wcmV2ZW50RGVmYXVsdCgpOmMucmV0dXJuVmFsdWU9ITEpfSwKc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9UjtjJiYoYy5zdG9wUHJvcGFnYXRpb24mJmMuc3RvcFByb3BhZ2F0aW9uKCksYy5jYW5jZWxCdWJibGU9ITApfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYz10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1SO2MmJmMuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uJiZjLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO3RoaXMuc3RvcFByb3BhZ2F0aW9uKCl9fTtrLmVhY2goe21vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQiLHBvaW50ZXJlbnRlcjoicG9pbnRlcm92ZXIiLHBvaW50ZXJsZWF2ZToicG9pbnRlcm91dCJ9LGZ1bmN0aW9uKGMsYil7ay5ldmVudC5zcGVjaWFsW2NdPXtkZWxlZ2F0ZVR5cGU6YixiaW5kVHlwZTpiLGhhbmRsZTpmdW5jdGlvbihjKXt2YXIgZywKZT1jLnJlbGF0ZWRUYXJnZXQsZj1jLmhhbmRsZU9iajtpZighZXx8ZSE9PXRoaXMmJiFrLmNvbnRhaW5zKHRoaXMsZSkpYy50eXBlPWYub3JpZ1R5cGUsZz1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGMudHlwZT1iO3JldHVybiBnfX19KTtHLnN1Ym1pdEJ1YmJsZXN8fChrLmV2ZW50LnNwZWNpYWwuc3VibWl0PXtzZXR1cDpmdW5jdGlvbigpe2lmKGsubm9kZU5hbWUodGhpcywiZm9ybSIpKXJldHVybiExO2suZXZlbnQuYWRkKHRoaXMsImNsaWNrLl9zdWJtaXQga2V5cHJlc3MuX3N1Ym1pdCIsZnVuY3Rpb24oYyl7Yz1jLnRhcmdldDsoYz1rLm5vZGVOYW1lKGMsImlucHV0Iil8fGsubm9kZU5hbWUoYywiYnV0dG9uIik/Yy5mb3JtOnZvaWQgMCkmJiFrLl9kYXRhKGMsInN1Ym1pdEJ1YmJsZXMiKSYmKGsuZXZlbnQuYWRkKGMsInN1Ym1pdC5fc3VibWl0IixmdW5jdGlvbihjKXtjLl9zdWJtaXRfYnViYmxlPSEwfSksay5fZGF0YShjLCJzdWJtaXRCdWJibGVzIiwhMCkpfSl9LApwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYyl7Yy5fc3VibWl0X2J1YmJsZSYmKGRlbGV0ZSBjLl9zdWJtaXRfYnViYmxlLHRoaXMucGFyZW50Tm9kZSYmIWMuaXNUcmlnZ2VyJiZrLmV2ZW50LnNpbXVsYXRlKCJzdWJtaXQiLHRoaXMucGFyZW50Tm9kZSxjLCEwKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoay5ub2RlTmFtZSh0aGlzLCJmb3JtIikpcmV0dXJuITE7ay5ldmVudC5yZW1vdmUodGhpcywiLl9zdWJtaXQiKX19KTtHLmNoYW5nZUJ1YmJsZXN8fChrLmV2ZW50LnNwZWNpYWwuY2hhbmdlPXtzZXR1cDpmdW5jdGlvbigpe2lmKHhiLnRlc3QodGhpcy5ub2RlTmFtZSkpe2lmKCJjaGVja2JveCI9PT10aGlzLnR5cGV8fCJyYWRpbyI9PT10aGlzLnR5cGUpay5ldmVudC5hZGQodGhpcywicHJvcGVydHljaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oYyl7ImNoZWNrZWQiPT09Yy5vcmlnaW5hbEV2ZW50LnByb3BlcnR5TmFtZSYmKHRoaXMuX2p1c3RfY2hhbmdlZD0hMCl9KSxrLmV2ZW50LmFkZCh0aGlzLAoiY2xpY2suX2NoYW5nZSIsZnVuY3Rpb24oYyl7dGhpcy5fanVzdF9jaGFuZ2VkJiYhYy5pc1RyaWdnZXImJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITEpO2suZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcyxjLCEwKX0pO3JldHVybiExfWsuZXZlbnQuYWRkKHRoaXMsImJlZm9yZWFjdGl2YXRlLl9jaGFuZ2UiLGZ1bmN0aW9uKGMpe2M9Yy50YXJnZXQ7eGIudGVzdChjLm5vZGVOYW1lKSYmIWsuX2RhdGEoYywiY2hhbmdlQnViYmxlcyIpJiYoay5ldmVudC5hZGQoYywiY2hhbmdlLl9jaGFuZ2UiLGZ1bmN0aW9uKGMpeyF0aGlzLnBhcmVudE5vZGV8fGMuaXNTaW11bGF0ZWR8fGMuaXNUcmlnZ2VyfHxrLmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMucGFyZW50Tm9kZSxjLCEwKX0pLGsuX2RhdGEoYywiY2hhbmdlQnViYmxlcyIsITApKX0pfSxoYW5kbGU6ZnVuY3Rpb24oYyl7dmFyIGI9Yy50YXJnZXQ7aWYodGhpcyE9PWJ8fGMuaXNTaW11bGF0ZWR8fGMuaXNUcmlnZ2VyfHwicmFkaW8iIT09CmIudHlwZSYmImNoZWNrYm94IiE9PWIudHlwZSlyZXR1cm4gYy5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7ay5ldmVudC5yZW1vdmUodGhpcywiLl9jaGFuZ2UiKTtyZXR1cm4heGIudGVzdCh0aGlzLm5vZGVOYW1lKX19KTtHLmZvY3VzaW5CdWJibGVzfHxrLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGMsYil7dmFyIGc9ZnVuY3Rpb24oYyl7ay5ldmVudC5zaW11bGF0ZShiLGMudGFyZ2V0LGsuZXZlbnQuZml4KGMpLCEwKX07ay5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxmPWsuX2RhdGEoZSxiKTtmfHxlLmFkZEV2ZW50TGlzdGVuZXIoYyxnLCEwKTtrLl9kYXRhKGUsYiwoZnx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGY9ay5fZGF0YShlLApiKS0xO2Y/ay5fZGF0YShlLGIsZik6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLGcsITApLGsuX3JlbW92ZURhdGEoZSxiKSl9fX0pO2suZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihjLGIsZyxlLGYpe3ZhciBkLG07aWYoIm9iamVjdCI9PT10eXBlb2YgYyl7InN0cmluZyIhPT10eXBlb2YgYiYmKGc9Z3x8YixiPXZvaWQgMCk7Zm9yKGQgaW4gYyl0aGlzLm9uKGQsYixnLGNbZF0sZik7cmV0dXJuIHRoaXN9bnVsbD09ZyYmbnVsbD09ZT8oZT1iLGc9Yj12b2lkIDApOm51bGw9PWUmJigic3RyaW5nIj09PXR5cGVvZiBiPyhlPWcsZz12b2lkIDApOihlPWcsZz1iLGI9dm9pZCAwKSk7aWYoITE9PT1lKWU9ZGE7ZWxzZSBpZighZSlyZXR1cm4gdGhpczsxPT09ZiYmKG09ZSxlPWZ1bmN0aW9uKGMpe2soKS5vZmYoYyk7cmV0dXJuIG0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxlLmd1aWQ9bS5ndWlkfHwobS5ndWlkPWsuZ3VpZCsrKSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2suZXZlbnQuYWRkKHRoaXMsCmMsZSxnLGIpfSl9LG9uZTpmdW5jdGlvbihjLGIsZyxlKXtyZXR1cm4gdGhpcy5vbihjLGIsZyxlLDEpfSxvZmY6ZnVuY3Rpb24oYyxiLGcpe3ZhciBlO2lmKGMmJmMucHJldmVudERlZmF1bHQmJmMuaGFuZGxlT2JqKXJldHVybiBlPWMuaGFuZGxlT2JqLGsoYy5kZWxlZ2F0ZVRhcmdldCkub2ZmKGUubmFtZXNwYWNlP2Uub3JpZ1R5cGUrIi4iK2UubmFtZXNwYWNlOmUub3JpZ1R5cGUsZS5zZWxlY3RvcixlLmhhbmRsZXIpLHRoaXM7aWYoIm9iamVjdCI9PT10eXBlb2YgYyl7Zm9yKGUgaW4gYyl0aGlzLm9mZihlLGIsY1tlXSk7cmV0dXJuIHRoaXN9aWYoITE9PT1ifHwiZnVuY3Rpb24iPT09dHlwZW9mIGIpZz1iLGI9dm9pZCAwOyExPT09ZyYmKGc9ZGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtrLmV2ZW50LnJlbW92ZSh0aGlzLGMsZyxiKX0pfSx0cmlnZ2VyOmZ1bmN0aW9uKGMsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2suZXZlbnQudHJpZ2dlcihjLGIsdGhpcyl9KX0sCnRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGMsYil7dmFyIGc9dGhpc1swXTtpZihnKXJldHVybiBrLmV2ZW50LnRyaWdnZXIoYyxiLGcsITApfX0pO3ZhciB1Yj0iYWJicnxhcnRpY2xlfGFzaWRlfGF1ZGlvfGJkaXxjYW52YXN8ZGF0YXxkYXRhbGlzdHxkZXRhaWxzfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxoZWFkZXJ8aGdyb3VwfG1hcmt8bWV0ZXJ8bmF2fG91dHB1dHxwcm9ncmVzc3xzZWN0aW9ufHN1bW1hcnl8dGltZXx2aWRlbyIsemI9LyBqUXVlcnlcZCs9Iig/Om51bGx8XGQrKSIvZyxBYj1uZXcgUmVnRXhwKCI8KD86Iit1YisiKVtcXHMvPl0iLCJpIiksbGI9L15ccysvLEJiPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2ksUWI9LzwoW1x3Ol0rKS8sUmI9Lzx0Ym9keS9pLGtjPS88fCYjP1x3KzsvLFNiPS88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksbGM9L2NoZWNrZWRccyooPzpbXj1dfD1ccyouY2hlY2tlZC4pL2ksClRiPS9eJHxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSxoYT0vXnRydWVcLyguKikvLENiPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZyxmYT17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sbGVnZW5kOlsxLCI8ZmllbGRzZXQ+IiwiPC9maWVsZHNldD4iXSxhcmVhOlsxLCI8bWFwPiIsIjwvbWFwPiJdLHBhcmFtOlsxLCI8b2JqZWN0PiIsIjwvb2JqZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6Ry5odG1sU2VyaWFsaXplP1swLCIiLCIiXTpbMSwiWDxkaXY+IiwiPC9kaXY+Il19LG1iPQpMKEkpLmFwcGVuZENoaWxkKEkuY3JlYXRlRWxlbWVudCgiZGl2IikpO2ZhLm9wdGdyb3VwPWZhLm9wdGlvbjtmYS50Ym9keT1mYS50Zm9vdD1mYS5jb2xncm91cD1mYS5jYXB0aW9uPWZhLnRoZWFkO2ZhLnRoPWZhLnRkO2suZXh0ZW5kKHtjbG9uZTpmdW5jdGlvbihjLGIsZyl7dmFyIGUsZixkLG0saCxsPWsuY29udGFpbnMoYy5vd25lckRvY3VtZW50LGMpO0cuaHRtbDVDbG9uZXx8ay5pc1hNTERvYyhjKXx8IUFiLnRlc3QoIjwiK2Mubm9kZU5hbWUrIj4iKT9kPWMuY2xvbmVOb2RlKCEwKToobWIuaW5uZXJIVE1MPWMub3V0ZXJIVE1MLG1iLnJlbW92ZUNoaWxkKGQ9bWIuZmlyc3RDaGlsZCkpO2lmKCEoRy5ub0Nsb25lRXZlbnQmJkcubm9DbG9uZUNoZWNrZWR8fDEhPT1jLm5vZGVUeXBlJiYxMSE9PWMubm9kZVR5cGV8fGsuaXNYTUxEb2MoYykpKWZvcihlPVcoZCksaD1XKGMpLG09MDtudWxsIT0oZj1oW21dKTsrK20paWYoZVttXSl7dmFyIG49ZVttXSx1LHA9dm9pZCAwLHY7aWYoMT09PQpuLm5vZGVUeXBlKXt1PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZighRy5ub0Nsb25lRXZlbnQmJm5bay5leHBhbmRvXSl7dj1rLl9kYXRhKG4pO2ZvcihwIGluIHYuZXZlbnRzKWsucmVtb3ZlRXZlbnQobixwLHYuaGFuZGxlKTtuLnJlbW92ZUF0dHJpYnV0ZShrLmV4cGFuZG8pfWlmKCJzY3JpcHQiPT09dSYmbi50ZXh0IT09Zi50ZXh0KVMobikudGV4dD1mLnRleHQscShuKTtlbHNlIGlmKCJvYmplY3QiPT09dSluLnBhcmVudE5vZGUmJihuLm91dGVySFRNTD1mLm91dGVySFRNTCksRy5odG1sNUNsb25lJiZmLmlubmVySFRNTCYmIWsudHJpbShuLmlubmVySFRNTCkmJihuLmlubmVySFRNTD1mLmlubmVySFRNTCk7ZWxzZSBpZigiaW5wdXQiPT09dSYmdmIudGVzdChmLnR5cGUpKW4uZGVmYXVsdENoZWNrZWQ9bi5jaGVja2VkPWYuY2hlY2tlZCxuLnZhbHVlIT09Zi52YWx1ZSYmKG4udmFsdWU9Zi52YWx1ZSk7ZWxzZSBpZigib3B0aW9uIj09PXUpbi5kZWZhdWx0U2VsZWN0ZWQ9Cm4uc2VsZWN0ZWQ9Zi5kZWZhdWx0U2VsZWN0ZWQ7ZWxzZSBpZigiaW5wdXQiPT09dXx8InRleHRhcmVhIj09PXUpbi5kZWZhdWx0VmFsdWU9Zi5kZWZhdWx0VmFsdWV9fWlmKGIpaWYoZylmb3IoaD1ofHxXKGMpLGU9ZXx8VyhkKSxtPTA7bnVsbCE9KGY9aFttXSk7bSsrKU8oZixlW21dKTtlbHNlIE8oYyxkKTtlPVcoZCwic2NyaXB0Iik7MDxlLmxlbmd0aCYmUShlLCFsJiZXKGMsInNjcmlwdCIpKTtyZXR1cm4gZH0sYnVpbGRGcmFnbWVudDpmdW5jdGlvbihjLGIsZyxlKXtmb3IodmFyIGYsZCxtLGgsbCxuLHE9Yy5sZW5ndGgsdT1MKGIpLHA9W10sdj0wO3Y8cTt2KyspaWYoKGQ9Y1t2XSl8fDA9PT1kKWlmKCJvYmplY3QiPT09ay50eXBlKGQpKWsubWVyZ2UocCxkLm5vZGVUeXBlP1tkXTpkKTtlbHNlIGlmKGtjLnRlc3QoZCkpe209bXx8dS5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoImRpdiIpKTtoPShRYi5leGVjKGQpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpO249ZmFbaF18fApmYS5fZGVmYXVsdDttLmlubmVySFRNTD1uWzFdK2QucmVwbGFjZShCYiwiPCQxPjwvJDI+IikrblsyXTtmb3IoZj1uWzBdO2YtLTspbT1tLmxhc3RDaGlsZDshRy5sZWFkaW5nV2hpdGVzcGFjZSYmbGIudGVzdChkKSYmcC5wdXNoKGIuY3JlYXRlVGV4dE5vZGUobGIuZXhlYyhkKVswXSkpO2lmKCFHLnRib2R5KWZvcihmPShkPSJ0YWJsZSIhPT1ofHxSYi50ZXN0KGQpPyI8dGFibGU+IiE9PW5bMV18fFJiLnRlc3QoZCk/MDptOm0uZmlyc3RDaGlsZCkmJmQuY2hpbGROb2Rlcy5sZW5ndGg7Zi0tOylrLm5vZGVOYW1lKGw9ZC5jaGlsZE5vZGVzW2ZdLCJ0Ym9keSIpJiYhbC5jaGlsZE5vZGVzLmxlbmd0aCYmZC5yZW1vdmVDaGlsZChsKTtrLm1lcmdlKHAsbS5jaGlsZE5vZGVzKTtmb3IobS50ZXh0Q29udGVudD0iIjttLmZpcnN0Q2hpbGQ7KW0ucmVtb3ZlQ2hpbGQobS5maXJzdENoaWxkKTttPXUubGFzdENoaWxkfWVsc2UgcC5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoZCkpO20mJnUucmVtb3ZlQ2hpbGQobSk7CkcuYXBwZW5kQ2hlY2tlZHx8ay5ncmVwKFcocCwiaW5wdXQiKSxVKTtmb3Iodj0wO2Q9cFt2KytdOylpZighZXx8LTE9PT1rLmluQXJyYXkoZCxlKSlpZihjPWsuY29udGFpbnMoZC5vd25lckRvY3VtZW50LGQpLG09Vyh1LmFwcGVuZENoaWxkKGQpLCJzY3JpcHQiKSxjJiZRKG0pLGcpZm9yKGY9MDtkPW1bZisrXTspVGIudGVzdChkLnR5cGV8fCIiKSYmZy5wdXNoKGQpO3JldHVybiB1fSxjbGVhbkRhdGE6ZnVuY3Rpb24oYyxiKXtmb3IodmFyIGcsZSxmLGQsbT0wLGg9ay5leHBhbmRvLGw9ay5jYWNoZSxuPUcuZGVsZXRlRXhwYW5kbyxxPWsuZXZlbnQuc3BlY2lhbDtudWxsIT0oZz1jW21dKTttKyspaWYoYnx8ay5hY2NlcHREYXRhKGcpKWlmKGQ9KGY9Z1toXSkmJmxbZl0pe2lmKGQuZXZlbnRzKWZvcihlIGluIGQuZXZlbnRzKXFbZV0/ay5ldmVudC5yZW1vdmUoZyxlKTprLnJlbW92ZUV2ZW50KGcsZSxkLmhhbmRsZSk7bFtmXSYmKGRlbGV0ZSBsW2ZdLG4/ZGVsZXRlIGdbaF06InVuZGVmaW5lZCIhPT0KdHlwZW9mIGcucmVtb3ZlQXR0cmlidXRlP2cucmVtb3ZlQXR0cmlidXRlKGgpOmdbaF09bnVsbCxILnB1c2goZikpfX19KTtrLmZuLmV4dGVuZCh7dGV4dDpmdW5jdGlvbihjKXtyZXR1cm4gbWEodGhpcyxmdW5jdGlvbihjKXtyZXR1cm4gdm9pZCAwPT09Yz9rLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxJKS5jcmVhdGVUZXh0Tm9kZShjKSl9LG51bGwsYyxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGMpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHxnYSh0aGlzLGMpLmFwcGVuZENoaWxkKGMpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYyl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8Cjk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1nYSh0aGlzLGMpO2IuaW5zZXJ0QmVmb3JlKGMsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGMpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGMpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjLHRoaXMubmV4dFNpYmxpbmcpfSl9LHJlbW92ZTpmdW5jdGlvbihjLGIpe2Zvcih2YXIgZz1jP2suZmlsdGVyKGMsdGhpcyk6dGhpcyxlPTA7bnVsbCE9KGM9Z1tlXSk7ZSsrKWJ8fDEhPT1jLm5vZGVUeXBlfHxrLmNsZWFuRGF0YShXKGMpKSxjLnBhcmVudE5vZGUmJihiJiZrLmNvbnRhaW5zKGMub3duZXJEb2N1bWVudCxjKSYmUShXKGMsInNjcmlwdCIpKSxjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYykpOwpyZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGMsYj0wO251bGwhPShjPXRoaXNbYl0pO2IrKyl7Zm9yKDE9PT1jLm5vZGVUeXBlJiZrLmNsZWFuRGF0YShXKGMsITEpKTtjLmZpcnN0Q2hpbGQ7KWMucmVtb3ZlQ2hpbGQoYy5maXJzdENoaWxkKTtjLm9wdGlvbnMmJmsubm9kZU5hbWUoYywic2VsZWN0IikmJihjLm9wdGlvbnMubGVuZ3RoPTApfXJldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihjLGIpe2M9bnVsbD09Yz8hMTpjO2I9bnVsbD09Yj9jOmI7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGsuY2xvbmUodGhpcyxjLGIpfSl9LGh0bWw6ZnVuY3Rpb24oYyl7cmV0dXJuIG1hKHRoaXMsZnVuY3Rpb24oYyl7dmFyIGI9dGhpc1swXXx8e30sZz0wLGU9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09YylyZXR1cm4gMT09PWIubm9kZVR5cGU/Yi5pbm5lckhUTUwucmVwbGFjZSh6YiwiIik6dm9pZCAwO2lmKCEoInN0cmluZyIhPT10eXBlb2YgY3x8U2IudGVzdChjKXx8CiFHLmh0bWxTZXJpYWxpemUmJkFiLnRlc3QoYyl8fCFHLmxlYWRpbmdXaGl0ZXNwYWNlJiZsYi50ZXN0KGMpfHxmYVsoUWIuZXhlYyhjKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pKXtjPWMucmVwbGFjZShCYiwiPCQxPjwvJDI+Iik7dHJ5e2Zvcig7ZzxlO2crKyliPXRoaXNbZ118fHt9LDE9PT1iLm5vZGVUeXBlJiYoay5jbGVhbkRhdGEoVyhiLCExKSksYi5pbm5lckhUTUw9Yyk7Yj0wfWNhdGNoKGYpe319YiYmdGhpcy5lbXB0eSgpLmFwcGVuZChjKX0sbnVsbCxjLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBjPWFyZ3VtZW50c1swXTt0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihiKXtjPXRoaXMucGFyZW50Tm9kZTtrLmNsZWFuRGF0YShXKHRoaXMpKTtjJiZjLnJlcGxhY2VDaGlsZChiLHRoaXMpfSk7cmV0dXJuIGMmJihjLmxlbmd0aHx8Yy5ub2RlVHlwZSk/dGhpczp0aGlzLnJlbW92ZSgpfSxkZXRhY2g6ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMucmVtb3ZlKGMsCiEwKX0sZG9tTWFuaXA6ZnVuY3Rpb24oYyxiKXtjPXdhLmFwcGx5KFtdLGMpO3ZhciBnLGUsZixkLG09MCxoPXRoaXMubGVuZ3RoLGw9dGhpcyxuPWgtMSx1PWNbMF0scD1rLmlzRnVuY3Rpb24odSk7aWYocHx8MTxoJiYic3RyaW5nIj09PXR5cGVvZiB1JiYhRy5jaGVja0Nsb25lJiZsYy50ZXN0KHUpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZyl7dmFyIGU9bC5lcShnKTtwJiYoY1swXT11LmNhbGwodGhpcyxnLGUuaHRtbCgpKSk7ZS5kb21NYW5pcChjLGIpfSk7aWYoaCYmKGQ9ay5idWlsZEZyYWdtZW50KGMsdGhpc1swXS5vd25lckRvY3VtZW50LCExLHRoaXMpLGc9ZC5maXJzdENoaWxkLDE9PT1kLmNoaWxkTm9kZXMubGVuZ3RoJiYoZD1nKSxnKSl7Zj1rLm1hcChXKGQsInNjcmlwdCIpLFMpO2ZvcihlPWYubGVuZ3RoO208aDttKyspZz1kLG0hPT1uJiYoZz1rLmNsb25lKGcsITAsITApLGUmJmsubWVyZ2UoZixXKGcsInNjcmlwdCIpKSksYi5jYWxsKHRoaXNbbV0sZyxtKTsKaWYoZSlmb3IoZD1mW2YubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsay5tYXAoZixxKSxtPTA7bTxlO20rKylnPWZbbV0sVGIudGVzdChnLnR5cGV8fCIiKSYmIWsuX2RhdGEoZywiZ2xvYmFsRXZhbCIpJiZrLmNvbnRhaW5zKGQsZykmJihnLnNyYz9rLl9ldmFsVXJsJiZrLl9ldmFsVXJsKGcuc3JjKTprLmdsb2JhbEV2YWwoKGcudGV4dHx8Zy50ZXh0Q29udGVudHx8Zy5pbm5lckhUTUx8fCIiKS5yZXBsYWNlKENiLCIiKSkpO2Q9Zz1udWxsfXJldHVybiB0aGlzfX0pO2suZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGMsYil7ay5mbltjXT1mdW5jdGlvbihjKXtmb3IodmFyIGc9MCxlPVtdLGY9ayhjKSxkPWYubGVuZ3RoLTE7Zzw9ZDtnKyspYz1nPT09ZD90aGlzOnRoaXMuY2xvbmUoITApLGsoZltnXSlbYl0oYyksCnphLmFwcGx5KGUsYy5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBTYSwkYT17fTsoZnVuY3Rpb24oKXt2YXIgYztHLnNocmlua1dyYXBCbG9ja3M9ZnVuY3Rpb24oKXtpZihudWxsIT1jKXJldHVybiBjO2M9ITE7dmFyIGIsZyxlO2lmKChnPUkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSkmJmcuc3R5bGUpcmV0dXJuIGI9SS5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPUkuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweCIsZy5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZChiKSwidW5kZWZpbmVkIiE9PXR5cGVvZiBiLnN0eWxlLnpvb20mJihiLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjEiLApiLmFwcGVuZENoaWxkKEkuY3JlYXRlRWxlbWVudCgiZGl2IikpLnN0eWxlLndpZHRoPSI1cHgiLGM9MyE9PWIub2Zmc2V0V2lkdGgpLGcucmVtb3ZlQ2hpbGQoZSksY319KSgpO3ZhciBKYT0vXm1hcmdpbi8sbGE9bmV3IFJlZ0V4cCgiXigiK0lhKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksTmEsc2EsbWM9L14odG9wfHJpZ2h0fGJvdHRvbXxsZWZ0KSQvO2QuZ2V0Q29tcHV0ZWRTdHlsZT8oTmE9ZnVuY3Rpb24oYyl7cmV0dXJuIGMub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGMsbnVsbCl9LHNhPWZ1bmN0aW9uKGMsYixnKXt2YXIgZSxmLGQ9Yy5zdHlsZTtmPShnPWd8fE5hKGMpKT9nLmdldFByb3BlcnR5VmFsdWUoYil8fGdbYl06dm9pZCAwO2cmJigiIiE9PWZ8fGsuY29udGFpbnMoYy5vd25lckRvY3VtZW50LGMpfHwoZj1rLnN0eWxlKGMsYikpLGxhLnRlc3QoZikmJkphLnRlc3QoYikmJihjPWQud2lkdGgsYj1kLm1pbldpZHRoLGU9ZC5tYXhXaWR0aCwKZC5taW5XaWR0aD1kLm1heFdpZHRoPWQud2lkdGg9ZixmPWcud2lkdGgsZC53aWR0aD1jLGQubWluV2lkdGg9YixkLm1heFdpZHRoPWUpKTtyZXR1cm4gdm9pZCAwPT09Zj9mOmYrIiJ9KTpJLmRvY3VtZW50RWxlbWVudC5jdXJyZW50U3R5bGUmJihOYT1mdW5jdGlvbihjKXtyZXR1cm4gYy5jdXJyZW50U3R5bGV9LHNhPWZ1bmN0aW9uKGMsYixnKXt2YXIgZSxmLGssZD1jLnN0eWxlO2s9KGc9Z3x8TmEoYykpP2dbYl06dm9pZCAwO251bGw9PWsmJmQmJmRbYl0mJihrPWRbYl0pO2lmKGxhLnRlc3QoaykmJiFtYy50ZXN0KGIpKXtnPWQubGVmdDtpZihmPShlPWMucnVudGltZVN0eWxlKSYmZS5sZWZ0KWUubGVmdD1jLmN1cnJlbnRTdHlsZS5sZWZ0O2QubGVmdD0iZm9udFNpemUiPT09Yj8iMWVtIjprO2s9ZC5waXhlbExlZnQrInB4IjtkLmxlZnQ9ZztmJiYoZS5sZWZ0PWYpfXJldHVybiB2b2lkIDA9PT1rP2s6aysiInx8ImF1dG8ifSk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYygpe3ZhciBjLApiLGcsdztpZigoYj1JLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0pJiZiLnN0eWxlKXtjPUkuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zz1JLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2cuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiO2IuYXBwZW5kQ2hpbGQoZykuYXBwZW5kQ2hpbGQoYyk7Yy5zdHlsZS5jc3NUZXh0PSItd2Via2l0LWJveC1zaXppbmc6Ym9yZGVyLWJveDstbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2l6aW5nOmJvcmRlci1ib3g7ZGlzcGxheTpibG9jazttYXJnaW4tdG9wOjElO3RvcDoxJTtib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjRweDtwb3NpdGlvbjphYnNvbHV0ZSI7ZT1mPSExO2g9ITA7ZC5nZXRDb21wdXRlZFN0eWxlJiYoZT0iMSUiIT09KGQuZ2V0Q29tcHV0ZWRTdHlsZShjLG51bGwpfHx7fSkudG9wLGY9IjRweCI9PT0oZC5nZXRDb21wdXRlZFN0eWxlKGMsCm51bGwpfHx7d2lkdGg6IjRweCJ9KS53aWR0aCx3PWMuYXBwZW5kQ2hpbGQoSS5jcmVhdGVFbGVtZW50KCJkaXYiKSksdy5zdHlsZS5jc3NUZXh0PWMuc3R5bGUuY3NzVGV4dD0iLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowIix3LnN0eWxlLm1hcmdpblJpZ2h0PXcuc3R5bGUud2lkdGg9IjAiLGMuc3R5bGUud2lkdGg9IjFweCIsaD0hcGFyc2VGbG9hdCgoZC5nZXRDb21wdXRlZFN0eWxlKHcsbnVsbCl8fHt9KS5tYXJnaW5SaWdodCkpO2MuaW5uZXJIVE1MPSI8dGFibGU+PHRyPjx0ZD48L3RkPjx0ZD50PC90ZD48L3RyPjwvdGFibGU+Ijt3PWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIik7d1swXS5zdHlsZS5jc3NUZXh0PSJtYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjA7ZGlzcGxheTpub25lIjtpZihtPQowPT09d1swXS5vZmZzZXRIZWlnaHQpd1swXS5zdHlsZS5kaXNwbGF5PSIiLHdbMV0uc3R5bGUuZGlzcGxheT0ibm9uZSIsbT0wPT09d1swXS5vZmZzZXRIZWlnaHQ7Yi5yZW1vdmVDaGlsZChnKX19dmFyIGIsZyxlLGYsbSxoO2I9SS5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IjtpZihnPShnPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSkmJmcuc3R5bGUpZy5jc3NUZXh0PSJmbG9hdDpsZWZ0O29wYWNpdHk6LjUiLEcub3BhY2l0eT0iMC41Ij09PWcub3BhY2l0eSxHLmNzc0Zsb2F0PSEhZy5jc3NGbG9hdCxiLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsYi5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLEcuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1iLnN0eWxlLmJhY2tncm91bmRDbGlwLApHLmJveFNpemluZz0iIj09PWcuYm94U2l6aW5nfHwiIj09PWcuTW96Qm94U2l6aW5nfHwiIj09PWcuV2Via2l0Qm94U2l6aW5nLGsuZXh0ZW5kKEcse3JlbGlhYmxlSGlkZGVuT2Zmc2V0czpmdW5jdGlvbigpe251bGw9PW0mJmMoKTtyZXR1cm4gbX0sYm94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtudWxsPT1mJiZjKCk7cmV0dXJuIGZ9LHBpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtudWxsPT1lJiZjKCk7cmV0dXJuIGV9LHJlbGlhYmxlTWFyZ2luUmlnaHQ6ZnVuY3Rpb24oKXtudWxsPT1oJiZjKCk7cmV0dXJuIGh9fSl9KSgpO2suc3dhcD1mdW5jdGlvbihjLGIsZyxlKXt2YXIgZixrPXt9O2ZvcihmIGluIGIpa1tmXT1jLnN0eWxlW2ZdLGMuc3R5bGVbZl09YltmXTtnPWcuYXBwbHkoYyxlfHxbXSk7Zm9yKGYgaW4gYiljLnN0eWxlW2ZdPWtbZl07cmV0dXJuIGd9O3ZhciBEYj0vYWxwaGFcKFteKV0qXCkvaSxuYz0vb3BhY2l0eVxzKj1ccyooW14pXSopLyxvYz0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sCmVjPW5ldyBSZWdFeHAoIl4oIitJYSsiKSguKikkIiwiaSIpLFViPW5ldyBSZWdFeHAoIl4oWystXSk9KCIrSWErIikiLCJpIiksVmI9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToiaGlkZGVuIixkaXNwbGF5OiJibG9jayJ9LFBhPXtsZXR0ZXJTcGFjaW5nOiIwIixmb250V2VpZ2h0OiI0MDAifSxhYj1bIldlYmtpdCIsIk8iLCJNb3oiLCJtcyJdO2suZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGMsYil7aWYoYilyZXR1cm4gYz1zYShjLCJvcGFjaXR5IiksIiI9PT1jPyIxIjpjfX19LGNzc051bWJlcjp7Y29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6Ry5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sCnN0eWxlOmZ1bmN0aW9uKGMsYixnLGUpe2lmKGMmJjMhPT1jLm5vZGVUeXBlJiY4IT09Yy5ub2RlVHlwZSYmYy5zdHlsZSl7dmFyIGYsZCxtLGg9ay5jYW1lbENhc2UoYiksbD1jLnN0eWxlO2I9ay5jc3NQcm9wc1toXXx8KGsuY3NzUHJvcHNbaF09Q2EobCxoKSk7bT1rLmNzc0hvb2tzW2JdfHxrLmNzc0hvb2tzW2hdO2lmKHZvaWQgMCE9PWcpe2lmKGQ9dHlwZW9mIGcsInN0cmluZyI9PT1kJiYoZj1VYi5leGVjKGcpKSYmKGc9KGZbMV0rMSkqZlsyXStwYXJzZUZsb2F0KGsuY3NzKGMsYikpLGQ9Im51bWJlciIpLG51bGwhPWcmJmc9PT1nJiYoIm51bWJlciIhPT1kfHxrLmNzc051bWJlcltoXXx8KGcrPSJweCIpLEcuY2xlYXJDbG9uZVN0eWxlfHwiIiE9PWd8fDAhPT1iLmluZGV4T2YoImJhY2tncm91bmQiKXx8KGxbYl09ImluaGVyaXQiKSwhKG0mJiJzZXQiaW4gbSl8fHZvaWQgMCE9PShnPW0uc2V0KGMsZyxlKSkpKXRyeXtsW2JdPWd9Y2F0Y2gobil7fX1lbHNlIHJldHVybiBtJiYKImdldCJpbiBtJiZ2b2lkIDAhPT0oZj1tLmdldChjLCExLGUpKT9mOmxbYl19fSxjc3M6ZnVuY3Rpb24oYyxiLGcsZSl7dmFyIGYsZDtkPWsuY2FtZWxDYXNlKGIpO2I9ay5jc3NQcm9wc1tkXXx8KGsuY3NzUHJvcHNbZF09Q2EoYy5zdHlsZSxkKSk7KGQ9ay5jc3NIb29rc1tiXXx8ay5jc3NIb29rc1tkXSkmJiJnZXQiaW4gZCYmKGY9ZC5nZXQoYywhMCxnKSk7dm9pZCAwPT09ZiYmKGY9c2EoYyxiLGUpKTsibm9ybWFsIj09PWYmJmIgaW4gUGEmJihmPVBhW2JdKTtyZXR1cm4iIj09PWd8fGc/KGM9cGFyc2VGbG9hdChmKSwhMD09PWd8fGsuaXNOdW1lcmljKGMpP2N8fDA6Zik6Zn19KTtrLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGMsYil7ay5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGMsZyxlKXtpZihnKXJldHVybiBvYy50ZXN0KGsuY3NzKGMsImRpc3BsYXkiKSkmJjA9PT1jLm9mZnNldFdpZHRoP2suc3dhcChjLFZiLGZ1bmN0aW9uKCl7cmV0dXJuIG0oYyxiLAplKX0pOm0oYyxiLGUpfSxzZXQ6ZnVuY3Rpb24oYyxnLGUpe3ZhciBmPWUmJk5hKGMpO3JldHVybiByYShjLGcsZT9iYShjLGIsZSxHLmJveFNpemluZyYmImJvcmRlci1ib3giPT09ay5jc3MoYywiYm94U2l6aW5nIiwhMSxmKSxmKTowKX19fSk7Ry5vcGFjaXR5fHwoay5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oYyxiKXtyZXR1cm4gbmMudGVzdCgoYiYmYy5jdXJyZW50U3R5bGU/Yy5jdXJyZW50U3R5bGUuZmlsdGVyOmMuc3R5bGUuZmlsdGVyKXx8IiIpPy4wMSpwYXJzZUZsb2F0KFJlZ0V4cC4kMSkrIiI6Yj8iMSI6IiJ9LHNldDpmdW5jdGlvbihjLGIpe3ZhciBnPWMuc3R5bGU7Yz1jLmN1cnJlbnRTdHlsZTt2YXIgZT1rLmlzTnVtZXJpYyhiKT8iYWxwaGEob3BhY2l0eT0iKzEwMCpiKyIpIjoiIixmPWMmJmMuZmlsdGVyfHxnLmZpbHRlcnx8IiI7Zy56b29tPTE7aWYoKDE8PWJ8fCIiPT09YikmJiIiPT09ay50cmltKGYucmVwbGFjZShEYiwiIikpJiZnLnJlbW92ZUF0dHJpYnV0ZSYmCihnLnJlbW92ZUF0dHJpYnV0ZSgiZmlsdGVyIiksIiI9PT1ifHxjJiYhYy5maWx0ZXIpKXJldHVybjtnLmZpbHRlcj1EYi50ZXN0KGYpP2YucmVwbGFjZShEYixlKTpmKyIgIitlfX0pO2suY3NzSG9va3MubWFyZ2luUmlnaHQ9YihHLnJlbGlhYmxlTWFyZ2luUmlnaHQsZnVuY3Rpb24oYyxiKXtpZihiKXJldHVybiBrLnN3YXAoYyx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sc2EsW2MsIm1hcmdpblJpZ2h0Il0pfSk7ay5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYyxiKXtrLmNzc0hvb2tzW2MrYl09e2V4cGFuZDpmdW5jdGlvbihnKXt2YXIgZT0wLGY9e307Zm9yKGc9InN0cmluZyI9PT10eXBlb2YgZz9nLnNwbGl0KCIgIik6W2ddOzQ+ZTtlKyspZltjK3BhW2VdK2JdPWdbZV18fGdbZS0yXXx8Z1swXTtyZXR1cm4gZn19O0phLnRlc3QoYyl8fChrLmNzc0hvb2tzW2MrYl0uc2V0PXJhKX0pO2suZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oYywKYil7cmV0dXJuIG1hKHRoaXMsZnVuY3Rpb24oYyxiLGcpe3ZhciBlLGY9e30sdz0wO2lmKGsuaXNBcnJheShiKSl7Zz1OYShjKTtmb3IoZT1iLmxlbmd0aDt3PGU7dysrKWZbYlt3XV09ay5jc3MoYyxiW3ddLCExLGcpO3JldHVybiBmfXJldHVybiB2b2lkIDAhPT1nP2suc3R5bGUoYyxiLGcpOmsuY3NzKGMsYil9LGMsYiwxPGFyZ3VtZW50cy5sZW5ndGgpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGMpe3JldHVybiJib29sZWFuIj09PXR5cGVvZiBjP2M/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7TWEodGhpcyk/ayh0aGlzKS5zaG93KCk6ayh0aGlzKS5oaWRlKCl9KX19KTtrLlR3ZWVuPXU7dS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOnUsaW5pdDpmdW5jdGlvbihjLGIsZyxlLGYsZCl7dGhpcy5lbGVtPWM7dGhpcy5wcm9wPWc7dGhpcy5lYXNpbmc9CmZ8fCJzd2luZyI7dGhpcy5vcHRpb25zPWI7dGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpO3RoaXMuZW5kPWU7dGhpcy51bml0PWR8fChrLmNzc051bWJlcltnXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGM9dS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gYyYmYy5nZXQ/Yy5nZXQodGhpcyk6dS5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYyl7dmFyIGIsZz11LnByb3BIb29rc1t0aGlzLnByb3BdO3RoaXMucG9zPXRoaXMub3B0aW9ucy5kdXJhdGlvbj9iPWsuZWFzaW5nW3RoaXMuZWFzaW5nXShjLHRoaXMub3B0aW9ucy5kdXJhdGlvbipjLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOmI9Yzt0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqYit0aGlzLnN0YXJ0O3RoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKTtnJiZnLnNldD9nLnNldCh0aGlzKToKdS5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpO3JldHVybiB0aGlzfX07dS5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9dS5wcm90b3R5cGU7dS5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oYyl7cmV0dXJuIG51bGw9PWMuZWxlbVtjLnByb3BdfHxjLmVsZW0uc3R5bGUmJm51bGwhPWMuZWxlbS5zdHlsZVtjLnByb3BdPyhjPWsuY3NzKGMuZWxlbSxjLnByb3AsIiIpKSYmImF1dG8iIT09Yz9jOjA6Yy5lbGVtW2MucHJvcF19LHNldDpmdW5jdGlvbihjKXtpZihrLmZ4LnN0ZXBbYy5wcm9wXSlrLmZ4LnN0ZXBbYy5wcm9wXShjKTtlbHNlIGMuZWxlbS5zdHlsZSYmKG51bGwhPWMuZWxlbS5zdHlsZVtrLmNzc1Byb3BzW2MucHJvcF1dfHxrLmNzc0hvb2tzW2MucHJvcF0pP2suc3R5bGUoYy5lbGVtLGMucHJvcCxjLm5vdytjLnVuaXQpOmMuZWxlbVtjLnByb3BdPWMubm93fX19O3UucHJvcEhvb2tzLnNjcm9sbFRvcD11LnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oYyl7Yy5lbGVtLm5vZGVUeXBlJiYKYy5lbGVtLnBhcmVudE5vZGUmJihjLmVsZW1bYy5wcm9wXT1jLm5vdyl9fTtrLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGMpe3JldHVybiBjfSxzd2luZzpmdW5jdGlvbihjKXtyZXR1cm4uNS1NYXRoLmNvcyhjKk1hdGguUEkpLzJ9fTtrLmZ4PXUucHJvdG90eXBlLmluaXQ7ay5meC5zdGVwPXt9O3ZhciBUYSxjYixxYz0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sZGI9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK0lhKyIpKFthLXolXSopJCIsImkiKSxlYj0vcXVldWVIb29rcyQvLGliPVtmdW5jdGlvbihjLGIsZyl7dmFyIGUsZixkLG0saCxsLG49dGhpcyxxPXt9LHU9Yy5zdHlsZSxwPWMubm9kZVR5cGUmJk1hKGMpLHY9ay5fZGF0YShjLCJmeHNob3ciKTtnLnF1ZXVlfHwobT1rLl9xdWV1ZUhvb2tzKGMsImZ4IiksbnVsbD09bS51bnF1ZXVlZCYmKG0udW5xdWV1ZWQ9MCxoPW0uZW1wdHkuZmlyZSxtLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXttLnVucXVldWVkfHxoKCl9KSxtLnVucXVldWVkKyssCm4uYWx3YXlzKGZ1bmN0aW9uKCl7bi5hbHdheXMoZnVuY3Rpb24oKXttLnVucXVldWVkLS07ay5xdWV1ZShjLCJmeCIpLmxlbmd0aHx8bS5lbXB0eS5maXJlKCl9KX0pKTsxPT09Yy5ub2RlVHlwZSYmKCJoZWlnaHQiaW4gYnx8IndpZHRoImluIGIpJiYoZy5vdmVyZmxvdz1bdS5vdmVyZmxvdyx1Lm92ZXJmbG93WCx1Lm92ZXJmbG93WV0sbD1rLmNzcyhjLCJkaXNwbGF5IiksZj0ibm9uZSI9PT1sP2suX2RhdGEoYywib2xkZGlzcGxheSIpfHxBYShjLm5vZGVOYW1lKTpsLCJpbmxpbmUiPT09ZiYmIm5vbmUiPT09ay5jc3MoYywiZmxvYXQiKSYmKEcuaW5saW5lQmxvY2tOZWVkc0xheW91dCYmImlubGluZSIhPT1BYShjLm5vZGVOYW1lKT91Lnpvb209MTp1LmRpc3BsYXk9ImlubGluZS1ibG9jayIpKTtnLm92ZXJmbG93JiYodS5vdmVyZmxvdz0iaGlkZGVuIixHLnNocmlua1dyYXBCbG9ja3MoKXx8bi5hbHdheXMoZnVuY3Rpb24oKXt1Lm92ZXJmbG93PWcub3ZlcmZsb3dbMF07dS5vdmVyZmxvd1g9Cmcub3ZlcmZsb3dbMV07dS5vdmVyZmxvd1k9Zy5vdmVyZmxvd1syXX0pKTtmb3IoZSBpbiBiKWlmKGY9YltlXSxxYy5leGVjKGYpKXtkZWxldGUgYltlXTtkPWR8fCJ0b2dnbGUiPT09ZjtpZihmPT09KHA/ImhpZGUiOiJzaG93IikpaWYoInNob3ciPT09ZiYmdiYmdm9pZCAwIT09dltlXSlwPSEwO2Vsc2UgY29udGludWU7cVtlXT12JiZ2W2VdfHxrLnN0eWxlKGMsZSl9ZWxzZSBsPXZvaWQgMDtpZihrLmlzRW1wdHlPYmplY3QocSkpImlubGluZSI9PT0oIm5vbmUiPT09bD9BYShjLm5vZGVOYW1lKTpsKSYmKHUuZGlzcGxheT1sKTtlbHNlIGZvcihlIGluIHY/ImhpZGRlbiJpbiB2JiYocD12LmhpZGRlbik6dj1rLl9kYXRhKGMsImZ4c2hvdyIse30pLGQmJih2LmhpZGRlbj0hcCkscD9rKGMpLnNob3coKTpuLmRvbmUoZnVuY3Rpb24oKXtrKGMpLmhpZGUoKX0pLG4uZG9uZShmdW5jdGlvbigpe3ZhciBiO2suX3JlbW92ZURhdGEoYywiZnhzaG93Iik7Zm9yKGIgaW4gcSlrLnN0eWxlKGMsCmIscVtiXSl9KSxxKWI9VChwP3ZbZV06MCxlLG4pLGUgaW4gdnx8KHZbZV09Yi5zdGFydCxwJiYoYi5lbmQ9Yi5zdGFydCxiLnN0YXJ0PSJ3aWR0aCI9PT1lfHwiaGVpZ2h0Ij09PWU/MTowKSl9XSx0YT17IioiOltmdW5jdGlvbihjLGIpe3ZhciBnPXRoaXMuY3JlYXRlVHdlZW4oYyxiKSxlPWcuY3VyKCksZj0oYj1kYi5leGVjKGIpKSYmYlszXXx8KGsuY3NzTnVtYmVyW2NdPyIiOiJweCIpLGQ9KGsuY3NzTnVtYmVyW2NdfHwicHgiIT09ZiYmK2UpJiZkYi5leGVjKGsuY3NzKGcuZWxlbSxjKSksbT0xLGg9MjA7aWYoZCYmZFszXSE9PWYpe2Y9Znx8ZFszXTtiPWJ8fFtdO2Q9K2V8fDE7ZG8gbT1tfHwiLjUiLGQvPW0say5zdHlsZShnLmVsZW0sYyxkK2YpO3doaWxlKG0hPT0obT1nLmN1cigpL2UpJiYxIT09bSYmLS1oKX1iJiYoZD1nLnN0YXJ0PStkfHwrZXx8MCxnLnVuaXQ9ZixnLmVuZD1iWzFdP2QrKGJbMV0rMSkqYlsyXTorYlsyXSk7cmV0dXJuIGd9XX07ay5BbmltYXRpb249ay5leHRlbmQoRGEsCnt0d2VlbmVyOmZ1bmN0aW9uKGMsYil7ay5pc0Z1bmN0aW9uKGMpPyhiPWMsYz1bIioiXSk6Yz1jLnNwbGl0KCIgIik7Zm9yKHZhciBnLGU9MCxmPWMubGVuZ3RoO2U8ZjtlKyspZz1jW2VdLHRhW2ddPXRhW2ddfHxbXSx0YVtnXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXI6ZnVuY3Rpb24oYyxiKXtiP2liLnVuc2hpZnQoYyk6aWIucHVzaChjKX19KTtrLnNwZWVkPWZ1bmN0aW9uKGMsYixnKXt2YXIgZT1jJiYib2JqZWN0Ij09PXR5cGVvZiBjP2suZXh0ZW5kKHt9LGMpOntjb21wbGV0ZTpnfHwhZyYmYnx8ay5pc0Z1bmN0aW9uKGMpJiZjLGR1cmF0aW9uOmMsZWFzaW5nOmcmJmJ8fGImJiFrLmlzRnVuY3Rpb24oYikmJmJ9O2UuZHVyYXRpb249ay5meC5vZmY/MDoibnVtYmVyIj09PXR5cGVvZiBlLmR1cmF0aW9uP2UuZHVyYXRpb246ZS5kdXJhdGlvbiBpbiBrLmZ4LnNwZWVkcz9rLmZ4LnNwZWVkc1tlLmR1cmF0aW9uXTprLmZ4LnNwZWVkcy5fZGVmYXVsdDtpZihudWxsPT1lLnF1ZXVlfHwKITA9PT1lLnF1ZXVlKWUucXVldWU9ImZ4IjtlLm9sZD1lLmNvbXBsZXRlO2UuY29tcGxldGU9ZnVuY3Rpb24oKXtrLmlzRnVuY3Rpb24oZS5vbGQpJiZlLm9sZC5jYWxsKHRoaXMpO2UucXVldWUmJmsuZGVxdWV1ZSh0aGlzLGUucXVldWUpfTtyZXR1cm4gZX07ay5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihjLGIsZyxlKXtyZXR1cm4gdGhpcy5maWx0ZXIoTWEpLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6Yn0sYyxnLGUpfSxhbmltYXRlOmZ1bmN0aW9uKGMsYixnLGUpe3ZhciBmPWsuaXNFbXB0eU9iamVjdChjKSxkPWsuc3BlZWQoYixnLGUpO2I9ZnVuY3Rpb24oKXt2YXIgYj1EYSh0aGlzLGsuZXh0ZW5kKHt9LGMpLGQpOyhmfHxrLl9kYXRhKHRoaXMsImZpbmlzaCIpKSYmYi5zdG9wKCEwKX07Yi5maW5pc2g9YjtyZXR1cm4gZnx8ITE9PT1kLnF1ZXVlP3RoaXMuZWFjaChiKTp0aGlzLnF1ZXVlKGQucXVldWUsYil9LHN0b3A6ZnVuY3Rpb24oYywKYixnKXt2YXIgZT1mdW5jdGlvbihjKXt2YXIgYj1jLnN0b3A7ZGVsZXRlIGMuc3RvcDtiKGcpfTsic3RyaW5nIiE9PXR5cGVvZiBjJiYoZz1iLGI9YyxjPXZvaWQgMCk7YiYmITEhPT1jJiZ0aGlzLnF1ZXVlKGN8fCJmeCIsW10pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0hMCxmPW51bGwhPWMmJmMrInF1ZXVlSG9va3MiLHc9ay50aW1lcnMsZD1rLl9kYXRhKHRoaXMpO2lmKGYpZFtmXSYmZFtmXS5zdG9wJiZlKGRbZl0pO2Vsc2UgZm9yKGYgaW4gZClkW2ZdJiZkW2ZdLnN0b3AmJmViLnRlc3QoZikmJmUoZFtmXSk7Zm9yKGY9dy5sZW5ndGg7Zi0tOyl3W2ZdLmVsZW0hPT10aGlzfHxudWxsIT1jJiZ3W2ZdLnF1ZXVlIT09Y3x8KHdbZl0uYW5pbS5zdG9wKGcpLGI9ITEsdy5zcGxpY2UoZiwxKSk7IWImJmd8fGsuZGVxdWV1ZSh0aGlzLGMpfSl9LGZpbmlzaDpmdW5jdGlvbihjKXshMSE9PWMmJihjPWN8fCJmeCIpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYiwKZz1rLl9kYXRhKHRoaXMpLGU9Z1tjKyJxdWV1ZSJdO2I9Z1tjKyJxdWV1ZUhvb2tzIl07dmFyIGY9ay50aW1lcnMsZD1lP2UubGVuZ3RoOjA7Zy5maW5pc2g9ITA7ay5xdWV1ZSh0aGlzLGMsW10pO2ImJmIuc3RvcCYmYi5zdG9wLmNhbGwodGhpcywhMCk7Zm9yKGI9Zi5sZW5ndGg7Yi0tOylmW2JdLmVsZW09PT10aGlzJiZmW2JdLnF1ZXVlPT09YyYmKGZbYl0uYW5pbS5zdG9wKCEwKSxmLnNwbGljZShiLDEpKTtmb3IoYj0wO2I8ZDtiKyspZVtiXSYmZVtiXS5maW5pc2gmJmVbYl0uZmluaXNoLmNhbGwodGhpcyk7ZGVsZXRlIGcuZmluaXNofSl9fSk7ay5lYWNoKFsidG9nZ2xlIiwic2hvdyIsImhpZGUiXSxmdW5jdGlvbihjLGIpe3ZhciBnPWsuZm5bYl07ay5mbltiXT1mdW5jdGlvbihjLGUsZil7cmV0dXJuIG51bGw9PWN8fCJib29sZWFuIj09PXR5cGVvZiBjP2cuYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuYW5pbWF0ZShpYShiLCEwKSxjLGUsZil9fSk7ay5lYWNoKHtzbGlkZURvd246aWEoInNob3ciKSwKc2xpZGVVcDppYSgiaGlkZSIpLHNsaWRlVG9nZ2xlOmlhKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGMsYil7ay5mbltjXT1mdW5jdGlvbihjLGcsZSl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGMsZyxlKX19KTtrLnRpbWVycz1bXTtrLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYyxiPWsudGltZXJzLGc9MDtmb3IoVGE9ay5ub3coKTtnPGIubGVuZ3RoO2crKyljPWJbZ10sYygpfHxiW2ddIT09Y3x8Yi5zcGxpY2UoZy0tLDEpO2IubGVuZ3RofHxrLmZ4LnN0b3AoKTtUYT12b2lkIDB9O2suZngudGltZXI9ZnVuY3Rpb24oYyl7ay50aW1lcnMucHVzaChjKTtjKCk/ay5meC5zdGFydCgpOmsudGltZXJzLnBvcCgpfTtrLmZ4LmludGVydmFsPTEzO2suZnguc3RhcnQ9ZnVuY3Rpb24oKXtjYnx8KGNiPXNldEludGVydmFsKGsuZngudGljayxrLmZ4LmludGVydmFsKSl9OwprLmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKGNiKTtjYj1udWxsfTtrLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfTtrLmZuLmRlbGF5PWZ1bmN0aW9uKGMsYil7Yz1rLmZ4P2suZnguc3BlZWRzW2NdfHxjOmM7cmV0dXJuIHRoaXMucXVldWUoYnx8ImZ4IixmdW5jdGlvbihiLGcpe3ZhciBlPXNldFRpbWVvdXQoYixjKTtnLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZSl9fSl9OyhmdW5jdGlvbigpe3ZhciBjLGIsZyxlLGY7Yj1JLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Iuc2V0QXR0cmlidXRlKCJjbGFzc05hbWUiLCJ0Iik7Yi5pbm5lckhUTUw9IiAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPiI7ZT1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIilbMF07Zz1JLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpO2Y9Zy5hcHBlbmRDaGlsZChJLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTsKYz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdO2Uuc3R5bGUuY3NzVGV4dD0idG9wOjFweCI7Ry5nZXRTZXRBdHRyaWJ1dGU9InQiIT09Yi5jbGFzc05hbWU7Ry5zdHlsZT0vdG9wLy50ZXN0KGUuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKTtHLmhyZWZOb3JtYWxpemVkPSIvYSI9PT1lLmdldEF0dHJpYnV0ZSgiaHJlZiIpO0cuY2hlY2tPbj0hIWMudmFsdWU7Ry5vcHRTZWxlY3RlZD1mLnNlbGVjdGVkO0cuZW5jdHlwZT0hIUkuY3JlYXRlRWxlbWVudCgiZm9ybSIpLmVuY3R5cGU7Zy5kaXNhYmxlZD0hMDtHLm9wdERpc2FibGVkPSFmLmRpc2FibGVkO2M9SS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2Muc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpO0cuaW5wdXQ9IiI9PT1jLmdldEF0dHJpYnV0ZSgidmFsdWUiKTtjLnZhbHVlPSJ0IjtjLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIik7Ry5yYWRpb1ZhbHVlPSJ0Ij09PWMudmFsdWV9KSgpO3ZhciBXYj0vXHIvZztrLmZuLmV4dGVuZCh7dmFsOmZ1bmN0aW9uKGMpe3ZhciBiLApnLGUsZj10aGlzWzBdO2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGU9ay5pc0Z1bmN0aW9uKGMpLHRoaXMuZWFjaChmdW5jdGlvbihnKXsxPT09dGhpcy5ub2RlVHlwZSYmKGc9ZT9jLmNhbGwodGhpcyxnLGsodGhpcykudmFsKCkpOmMsbnVsbD09Zz9nPSIiOiJudW1iZXIiPT09dHlwZW9mIGc/Zys9IiI6ay5pc0FycmF5KGcpJiYoZz1rLm1hcChnLGZ1bmN0aW9uKGMpe3JldHVybiBudWxsPT1jPyIiOmMrIiJ9KSksYj1rLnZhbEhvb2tzW3RoaXMudHlwZV18fGsudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYic2V0ImluIGImJnZvaWQgMCE9PWIuc2V0KHRoaXMsZywidmFsdWUiKXx8KHRoaXMudmFsdWU9ZykpfSk7aWYoZil7aWYoKGI9ay52YWxIb29rc1tmLnR5cGVdfHxrLnZhbEhvb2tzW2Yubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIGImJnZvaWQgMCE9PShnPWIuZ2V0KGYsInZhbHVlIikpKXJldHVybiBnO2c9Zi52YWx1ZTtyZXR1cm4ic3RyaW5nIj09PQp0eXBlb2YgZz9nLnJlcGxhY2UoV2IsIiIpOm51bGw9PWc/IiI6Z319fSk7ay5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihjKXt2YXIgYj1rLmZpbmQuYXR0cihjLCJ2YWx1ZSIpO3JldHVybiBudWxsIT1iP2I6ay50cmltKGsudGV4dChjKSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihjKXtmb3IodmFyIGIsZz1jLm9wdGlvbnMsZT1jLnNlbGVjdGVkSW5kZXgsZj0oYz0ic2VsZWN0LW9uZSI9PT1jLnR5cGV8fDA+ZSk/bnVsbDpbXSxkPWM/ZSsxOmcubGVuZ3RoLG09MD5lP2Q6Yz9lOjA7bTxkO20rKylpZihiPWdbbV0sISghYi5zZWxlY3RlZCYmbSE9PWV8fChHLm9wdERpc2FibGVkP2IuZGlzYWJsZWQ6bnVsbCE9PWIuZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpKXx8Yi5wYXJlbnROb2RlLmRpc2FibGVkJiZrLm5vZGVOYW1lKGIucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2I9ayhiKS52YWwoKTtpZihjKXJldHVybiBiO2YucHVzaChiKX1yZXR1cm4gZn0sc2V0OmZ1bmN0aW9uKGMsCmIpe2Zvcih2YXIgZyxlPWMub3B0aW9ucyxmPWsubWFrZUFycmF5KGIpLGQ9ZS5sZW5ndGg7ZC0tOylpZihiPWVbZF0sMDw9ay5pbkFycmF5KGsudmFsSG9va3Mub3B0aW9uLmdldChiKSxmKSl0cnl7Yi5zZWxlY3RlZD1nPSEwfWNhdGNoKG0pe2Iuc2Nyb2xsSGVpZ2h0fWVsc2UgYi5zZWxlY3RlZD0hMTtnfHwoYy5zZWxlY3RlZEluZGV4PS0xKTtyZXR1cm4gZX19fX0pO2suZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe2sudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihjLGIpe2lmKGsuaXNBcnJheShiKSlyZXR1cm4gYy5jaGVja2VkPTA8PWsuaW5BcnJheShrKGMpLnZhbCgpLGIpfX07Ry5jaGVja09ufHwoay52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oYyl7cmV0dXJuIG51bGw9PT1jLmdldEF0dHJpYnV0ZSgidmFsdWUiKT8ib24iOmMudmFsdWV9KX0pO3ZhciBxYSxuYixuYT1rLmV4cHIuYXR0ckhhbmRsZSxZYT0vXig/OmNoZWNrZWR8c2VsZWN0ZWQpJC9pLApRYT1HLmdldFNldEF0dHJpYnV0ZSxvYj1HLmlucHV0O2suZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGMsYil7cmV0dXJuIG1hKHRoaXMsay5hdHRyLGMsYiwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtrLnJlbW92ZUF0dHIodGhpcyxjKX0pfX0pO2suZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGMsYixnKXt2YXIgZSxmLGQ9Yy5ub2RlVHlwZTtpZihjJiYzIT09ZCYmOCE9PWQmJjIhPT1kKXtpZigidW5kZWZpbmVkIj09PXR5cGVvZiBjLmdldEF0dHJpYnV0ZSlyZXR1cm4gay5wcm9wKGMsYixnKTsxPT09ZCYmay5pc1hNTERvYyhjKXx8KGI9Yi50b0xvd2VyQ2FzZSgpLGU9ay5hdHRySG9va3NbYl18fChrLmV4cHIubWF0Y2guYm9vbC50ZXN0KGIpP25iOnFhKSk7aWYodm9pZCAwIT09ZylpZihudWxsPT09ZylrLnJlbW92ZUF0dHIoYyxiKTtlbHNle2lmKGUmJiJzZXQiaW4gZSYmdm9pZCAwIT09KGY9ZS5zZXQoYywKZyxiKSkpcmV0dXJuIGY7Yy5zZXRBdHRyaWJ1dGUoYixnKyIiKTtyZXR1cm4gZ31lbHNle2lmKGUmJiJnZXQiaW4gZSYmbnVsbCE9PShmPWUuZ2V0KGMsYikpKXJldHVybiBmO2Y9ay5maW5kLmF0dHIoYyxiKTtyZXR1cm4gbnVsbD09Zj92b2lkIDA6Zn19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGMsYil7dmFyIGcsZT0wLGY9YiYmYi5tYXRjaChrYSk7aWYoZiYmMT09PWMubm9kZVR5cGUpZm9yKDtiPWZbZSsrXTspZz1rLnByb3BGaXhbYl18fGIsay5leHByLm1hdGNoLmJvb2wudGVzdChiKT9vYiYmUWF8fCFZYS50ZXN0KGIpP2NbZ109ITE6Y1trLmNhbWVsQ2FzZSgiZGVmYXVsdC0iK2IpXT1jW2ddPSExOmsuYXR0cihjLGIsIiIpLGMucmVtb3ZlQXR0cmlidXRlKFFhP2I6Zyl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGMsYil7aWYoIUcucmFkaW9WYWx1ZSYmInJhZGlvIj09PWImJmsubm9kZU5hbWUoYywiaW5wdXQiKSl7dmFyIGc9Yy52YWx1ZTtjLnNldEF0dHJpYnV0ZSgidHlwZSIsCmIpO2cmJihjLnZhbHVlPWcpO3JldHVybiBifX19fX0pO25iPXtzZXQ6ZnVuY3Rpb24oYyxiLGcpeyExPT09Yj9rLnJlbW92ZUF0dHIoYyxnKTpvYiYmUWF8fCFZYS50ZXN0KGcpP2Muc2V0QXR0cmlidXRlKCFRYSYmay5wcm9wRml4W2ddfHxnLGcpOmNbay5jYW1lbENhc2UoImRlZmF1bHQtIitnKV09Y1tnXT0hMDtyZXR1cm4gZ319O2suZWFjaChrLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihjLGIpe3ZhciBnPW5hW2JdfHxrLmZpbmQuYXR0cjtuYVtiXT1vYiYmUWF8fCFZYS50ZXN0KGIpP2Z1bmN0aW9uKGMsYixlKXt2YXIgZix3O2V8fCh3PW5hW2JdLG5hW2JdPWYsZj1udWxsIT1nKGMsYixlKT9iLnRvTG93ZXJDYXNlKCk6bnVsbCxuYVtiXT13KTtyZXR1cm4gZn06ZnVuY3Rpb24oYyxiLGcpe2lmKCFnKXJldHVybiBjW2suY2FtZWxDYXNlKCJkZWZhdWx0LSIrYildP2IudG9Mb3dlckNhc2UoKTpudWxsfX0pO29iJiZRYXx8KGsuYXR0ckhvb2tzLnZhbHVlPQp7c2V0OmZ1bmN0aW9uKGMsYixnKXtpZihrLm5vZGVOYW1lKGMsImlucHV0IikpYy5kZWZhdWx0VmFsdWU9YjtlbHNlIHJldHVybiBxYSYmcWEuc2V0KGMsYixnKX19KTtRYXx8KHFhPXtzZXQ6ZnVuY3Rpb24oYixnLGUpe3ZhciBmPWIuZ2V0QXR0cmlidXRlTm9kZShlKTtmfHxiLnNldEF0dHJpYnV0ZU5vZGUoZj1iLm93bmVyRG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKGUpKTtmLnZhbHVlPWcrPSIiO2lmKCJ2YWx1ZSI9PT1lfHxnPT09Yi5nZXRBdHRyaWJ1dGUoZSkpcmV0dXJuIGd9fSxuYS5pZD1uYS5uYW1lPW5hLmNvb3Jkcz1mdW5jdGlvbihiLGcsZSl7dmFyIGY7aWYoIWUpcmV0dXJuKGY9Yi5nZXRBdHRyaWJ1dGVOb2RlKGcpKSYmIiIhPT1mLnZhbHVlP2YudmFsdWU6bnVsbH0say52YWxIb29rcy5idXR0b249e2dldDpmdW5jdGlvbihiLGcpe2lmKChiPWIuZ2V0QXR0cmlidXRlTm9kZShnKSkmJmIuc3BlY2lmaWVkKXJldHVybiBiLnZhbHVlfSxzZXQ6cWEuc2V0fSxrLmF0dHJIb29rcy5jb250ZW50ZWRpdGFibGU9CntzZXQ6ZnVuY3Rpb24oYixnLGUpe3FhLnNldChiLCIiPT09Zz8hMTpnLGUpfX0say5lYWNoKFsid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihiLGcpe2suYXR0ckhvb2tzW2ddPXtzZXQ6ZnVuY3Rpb24oYixjKXtpZigiIj09PWMpcmV0dXJuIGIuc2V0QXR0cmlidXRlKGcsImF1dG8iKSxjfX19KSk7Ry5zdHlsZXx8KGsuYXR0ckhvb2tzLnN0eWxlPXtnZXQ6ZnVuY3Rpb24oYil7cmV0dXJuIGIuc3R5bGUuY3NzVGV4dHx8dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYixnKXtyZXR1cm4gYi5zdHlsZS5jc3NUZXh0PWcrIiJ9fSk7dmFyIEViPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QpJC9pLEZiPS9eKD86YXxhcmVhKSQvaTtrLmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihiLGcpe3JldHVybiBtYSh0aGlzLGsucHJvcCxiLGcsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihiKXtiPWsucHJvcEZpeFtiXXx8YjtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYl09CnZvaWQgMCxkZWxldGUgdGhpc1tiXX1jYXRjaChnKXt9fSl9fSk7ay5leHRlbmQoe3Byb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifSxwcm9wOmZ1bmN0aW9uKGIsZyxlKXt2YXIgZixkLG07bT1iLm5vZGVUeXBlO2lmKGImJjMhPT1tJiY4IT09bSYmMiE9PW0pe2lmKG09MSE9PW18fCFrLmlzWE1MRG9jKGIpKWc9ay5wcm9wRml4W2ddfHxnLGQ9ay5wcm9wSG9va3NbZ107cmV0dXJuIHZvaWQgMCE9PWU/ZCYmInNldCJpbiBkJiZ2b2lkIDAhPT0oZj1kLnNldChiLGUsZykpP2Y6YltnXT1lOmQmJiJnZXQiaW4gZCYmbnVsbCE9PShmPWQuZ2V0KGIsZykpP2Y6YltnXX19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihiKXt2YXIgZz1rLmZpbmQuYXR0cihiLCJ0YWJpbmRleCIpO3JldHVybiBnP3BhcnNlSW50KGcsMTApOkViLnRlc3QoYi5ub2RlTmFtZSl8fEZiLnRlc3QoYi5ub2RlTmFtZSkmJmIuaHJlZj8wOi0xfX19fSk7Ry5ocmVmTm9ybWFsaXplZHx8CmsuZWFjaChbImhyZWYiLCJzcmMiXSxmdW5jdGlvbihiLGcpe2sucHJvcEhvb2tzW2ddPXtnZXQ6ZnVuY3Rpb24oYil7cmV0dXJuIGIuZ2V0QXR0cmlidXRlKGcsNCl9fX0pO0cub3B0U2VsZWN0ZWR8fChrLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGIpe2lmKGI9Yi5wYXJlbnROb2RlKWIuc2VsZWN0ZWRJbmRleCxiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O3JldHVybiBudWxsfX0pO2suZWFjaCgidGFiSW5kZXggcmVhZE9ubHkgbWF4TGVuZ3RoIGNlbGxTcGFjaW5nIGNlbGxQYWRkaW5nIHJvd1NwYW4gY29sU3BhbiB1c2VNYXAgZnJhbWVCb3JkZXIgY29udGVudEVkaXRhYmxlIi5zcGxpdCgiICIpLGZ1bmN0aW9uKCl7ay5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pO0cuZW5jdHlwZXx8KGsucHJvcEZpeC5lbmN0eXBlPSJlbmNvZGluZyIpO3ZhciBmYj0vW1x0XHJcblxmXS9nO2suZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihiKXt2YXIgZywKZSxmLGQsbSxoPTAsbD10aGlzLmxlbmd0aDtnPSJzdHJpbmciPT09dHlwZW9mIGImJmI7aWYoay5pc0Z1bmN0aW9uKGIpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZyl7ayh0aGlzKS5hZGRDbGFzcyhiLmNhbGwodGhpcyxnLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihnKWZvcihnPShifHwiIikubWF0Y2goa2EpfHxbXTtoPGw7aCsrKWlmKGU9dGhpc1toXSxmPTE9PT1lLm5vZGVUeXBlJiYoZS5jbGFzc05hbWU/KCIgIitlLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoZmIsIiAiKToiICIpKXtmb3IobT0wO2Q9Z1ttKytdOykwPmYuaW5kZXhPZigiICIrZCsiICIpJiYoZis9ZCsiICIpO2Y9ay50cmltKGYpO2UuY2xhc3NOYW1lIT09ZiYmKGUuY2xhc3NOYW1lPWYpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihiKXt2YXIgZyxlLGYsZCxtLGg9MCxsPXRoaXMubGVuZ3RoO2c9MD09PWFyZ3VtZW50cy5sZW5ndGh8fCJzdHJpbmciPT09dHlwZW9mIGImJmI7aWYoay5pc0Z1bmN0aW9uKGIpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZyl7ayh0aGlzKS5yZW1vdmVDbGFzcyhiLmNhbGwodGhpcywKZyx0aGlzLmNsYXNzTmFtZSkpfSk7aWYoZylmb3IoZz0oYnx8IiIpLm1hdGNoKGthKXx8W107aDxsO2grKylpZihlPXRoaXNbaF0sZj0xPT09ZS5ub2RlVHlwZSYmKGUuY2xhc3NOYW1lPygiICIrZS5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKGZiLCIgIik6IiIpKXtmb3IobT0wO2Q9Z1ttKytdOylmb3IoOzA8PWYuaW5kZXhPZigiICIrZCsiICIpOylmPWYucmVwbGFjZSgiICIrZCsiICIsIiAiKTtmPWI/ay50cmltKGYpOiIiO2UuY2xhc3NOYW1lIT09ZiYmKGUuY2xhc3NOYW1lPWYpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihiLGcpe3ZhciBlPXR5cGVvZiBiO3JldHVybiJib29sZWFuIj09PXR5cGVvZiBnJiYic3RyaW5nIj09PWU/Zz90aGlzLmFkZENsYXNzKGIpOnRoaXMucmVtb3ZlQ2xhc3MoYik6ay5pc0Z1bmN0aW9uKGIpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtrKHRoaXMpLnRvZ2dsZUNsYXNzKGIuY2FsbCh0aGlzLGUsdGhpcy5jbGFzc05hbWUsZyksZyl9KToKdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYoInN0cmluZyI9PT1lKWZvcih2YXIgZyxmPTAsdz1rKHRoaXMpLGQ9Yi5tYXRjaChrYSl8fFtdO2c9ZFtmKytdOyl3Lmhhc0NsYXNzKGcpP3cucmVtb3ZlQ2xhc3MoZyk6dy5hZGRDbGFzcyhnKTtlbHNlIGlmKCJ1bmRlZmluZWQiPT09ZXx8ImJvb2xlYW4iPT09ZSl0aGlzLmNsYXNzTmFtZSYmay5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fCExPT09Yj8iIjprLl9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiJ9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYil7Yj0iICIrYisiICI7Zm9yKHZhciBnPTAsZT10aGlzLmxlbmd0aDtnPGU7ZysrKWlmKDE9PT10aGlzW2ddLm5vZGVUeXBlJiYwPD0oIiAiK3RoaXNbZ10uY2xhc3NOYW1lKyIgIikucmVwbGFjZShmYiwiICIpLmluZGV4T2YoYikpcmV0dXJuITA7cmV0dXJuITF9fSk7ay5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLApmdW5jdGlvbihiLGcpe2suZm5bZ109ZnVuY3Rpb24oYixjKXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24oZyxudWxsLGIsYyk6dGhpcy50cmlnZ2VyKGcpfX0pO2suZm4uZXh0ZW5kKHtob3ZlcjpmdW5jdGlvbihiLGcpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYikubW91c2VsZWF2ZShnfHxiKX0sYmluZDpmdW5jdGlvbihiLGcsZSl7cmV0dXJuIHRoaXMub24oYixudWxsLGcsZSl9LHVuYmluZDpmdW5jdGlvbihiLGcpe3JldHVybiB0aGlzLm9mZihiLG51bGwsZyl9LGRlbGVnYXRlOmZ1bmN0aW9uKGIsZyxlLGYpe3JldHVybiB0aGlzLm9uKGcsYixlLGYpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGIsZyxlKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoYiwiKioiKTp0aGlzLm9mZihnLGJ8fCIqKiIsZSl9fSk7dmFyIEdiPWsubm93KCksb2E9L1w/LyxLYT0vKCwpfChcW3x7KXwofXxdKXwiKD86W14iXFxcclxuXXxcXFsiXFxcL2JmbnJ0XXxcXHVbXGRhLWZBLUZdezR9KSoiXHMqOj98dHJ1ZXxmYWxzZXxudWxsfC0/KD8hMFxkKVxkKyg/OlwuXGQrfCkoPzpbZUVdWystXT9cZCt8KS9nOwprLnBhcnNlSlNPTj1mdW5jdGlvbihiKXtpZihkLkpTT04mJmQuSlNPTi5wYXJzZSlyZXR1cm4gZC5KU09OLnBhcnNlKGIrIiIpO3ZhciBnLGU9bnVsbCxmPWsudHJpbShiKyIiKTtyZXR1cm4gZiYmIWsudHJpbShmLnJlcGxhY2UoS2EsZnVuY3Rpb24oYixjLGYsayl7ZyYmYyYmKGU9MCk7aWYoMD09PWUpcmV0dXJuIGI7Zz1mfHxjO2UrPSFrLSFmO3JldHVybiIifSkpP0Z1bmN0aW9uKCJyZXR1cm4gIitmKSgpOmsuZXJyb3IoIkludmFsaWQgSlNPTjogIitiKX07ay5wYXJzZVhNTD1mdW5jdGlvbihiKXt2YXIgZyxlO2lmKCFifHwic3RyaW5nIiE9PXR5cGVvZiBiKXJldHVybiBudWxsO3RyeXtkLkRPTVBhcnNlcj8oZT1uZXcgRE9NUGFyc2VyLGc9ZS5wYXJzZUZyb21TdHJpbmcoYiwidGV4dC94bWwiKSk6KGc9bmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSxnLmFzeW5jPSJmYWxzZSIsZy5sb2FkWE1MKGIpKX1jYXRjaChmKXtnPXZvaWQgMH1nJiZnLmRvY3VtZW50RWxlbWVudCYmCiFnLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8ay5lcnJvcigiSW52YWxpZCBYTUw6ICIrYik7cmV0dXJuIGd9O3ZhciBSYSxGYSxyYz0vIy4qJC8sWGI9LyhbPyZdKV89W14mXSovLHNjPS9eKC4qPyk6WyBcdF0qKFteXHJcbl0qKVxyPyQvbWcsWWI9L14oPzpHRVR8SEVBRCkkLyxaYj0vXlwvXC8vLHBiPS9eKFtcdy4rLV0rOikoPzpcL1wvKD86W15cLz8jXSpAfCkoW15cLz8jOl0qKSg/OjooXGQrKXwpfCkvLEhiPXt9LHdiPXt9LCRiPSIqLyIuY29uY2F0KCIqIik7dHJ5e0ZhPWxvY2F0aW9uLmhyZWZ9Y2F0Y2goYyl7RmE9SS5jcmVhdGVFbGVtZW50KCJhIiksRmEuaHJlZj0iIixGYT1GYS5ocmVmfVJhPXBiLmV4ZWMoRmEudG9Mb3dlckNhc2UoKSl8fFtdO2suZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpGYSx0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChSYVsxXSksCmdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6JGIsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjprLnBhcnNlSlNPTiwidGV4dCB4bWwiOmsucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihiLGcpe3JldHVybiBnP0VhKEVhKGIsCmsuYWpheFNldHRpbmdzKSxnKTpFYShrLmFqYXhTZXR0aW5ncyxiKX0sYWpheFByZWZpbHRlcjp1YShIYiksYWpheFRyYW5zcG9ydDp1YSh3YiksYWpheDpmdW5jdGlvbihiLGcpe2Z1bmN0aW9uIGUoYixjLGcsZil7dmFyIHcseixCLHU7dT1jO2lmKDIhPT1OKXtOPTI7aCYmY2xlYXJUaW1lb3V0KGgpO249dm9pZCAwO209Znx8IiI7SC5yZWFkeVN0YXRlPTA8Yj80OjA7Zj0yMDA8PWImJjMwMD5ifHwzMDQ9PT1iO2lmKGcpe0I9cTtmb3IodmFyIEU9SCxyLHksR2EsUSxUPUIuY29udGVudHMsRD1CLmRhdGFUeXBlczsiKiI9PT1EWzBdOylELnNoaWZ0KCksdm9pZCAwPT09eSYmKHk9Qi5taW1lVHlwZXx8RS5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKHkpZm9yKFEgaW4gVClpZihUW1FdJiZUW1FdLnRlc3QoeSkpe0QudW5zaGlmdChRKTticmVha31pZihEWzBdaW4gZylHYT1EWzBdO2Vsc2V7Zm9yKFEgaW4gZyl7aWYoIURbMF18fEIuY29udmVydGVyc1tRKyIgIisKRFswXV0pe0dhPVE7YnJlYWt9cnx8KHI9USl9R2E9R2F8fHJ9R2E/KEdhIT09RFswXSYmRC51bnNoaWZ0KEdhKSxCPWdbR2FdKTpCPXZvaWQgMH1hOntnPXE7cj1CO3k9SDtHYT1mO3ZhciBHLFMsTSxFPXt9LFQ9Zy5kYXRhVHlwZXMuc2xpY2UoKTtpZihUWzFdKWZvcihTIGluIGcuY29udmVydGVycylFW1MudG9Mb3dlckNhc2UoKV09Zy5jb252ZXJ0ZXJzW1NdO2ZvcihRPVQuc2hpZnQoKTtROylpZihnLnJlc3BvbnNlRmllbGRzW1FdJiYoeVtnLnJlc3BvbnNlRmllbGRzW1FdXT1yKSwhTSYmR2EmJmcuZGF0YUZpbHRlciYmKHI9Zy5kYXRhRmlsdGVyKHIsZy5kYXRhVHlwZSkpLE09USxRPVQuc2hpZnQoKSlpZigiKiI9PT1RKVE9TTtlbHNlIGlmKCIqIiE9PU0mJk0hPT1RKXtTPUVbTSsiICIrUV18fEVbIiogIitRXTtpZighUylmb3IoRyBpbiBFKWlmKEI9Ry5zcGxpdCgiICIpLEJbMV09PT1RJiYoUz1FW00rIiAiK0JbMF1dfHxFWyIqICIrQlswXV0pKXshMD09PVM/Uz1FW0ddOiEwIT09CkVbR10mJihRPUJbMF0sVC51bnNoaWZ0KEJbMV0pKTticmVha31pZighMCE9PVMpaWYoUyYmZ1sidGhyb3dzIl0pcj1TKHIpO2Vsc2UgdHJ5e3I9UyhyKX1jYXRjaChPKXtCPXtzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOlM/TzoiTm8gY29udmVyc2lvbiBmcm9tICIrTSsiIHRvICIrUX07YnJlYWsgYX19Qj17c3RhdGU6InN1Y2Nlc3MiLGRhdGE6cn19aWYoZilxLmlmTW9kaWZpZWQmJigodT1ILmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoay5sYXN0TW9kaWZpZWRbZF09dSksKHU9SC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKGsuZXRhZ1tkXT11KSksMjA0PT09Ynx8IkhFQUQiPT09cS50eXBlP3U9Im5vY29udGVudCI6MzA0PT09Yj91PSJub3Rtb2RpZmllZCI6KHU9Qi5zdGF0ZSx3PUIuZGF0YSx6PUIuZXJyb3IsZj0heik7ZWxzZSBpZih6PXUsYnx8IXUpdT0iZXJyb3IiLDA+YiYmKGI9MCk7SC5zdGF0dXM9YjtILnN0YXR1c1RleHQ9KGN8fHUpKwoiIjtmP0EucmVzb2x2ZVdpdGgocCxbdyx1LEhdKTpBLnJlamVjdFdpdGgocCxbSCx1LHpdKTtILnN0YXR1c0NvZGUoWCk7WD12b2lkIDA7bCYmdi50cmlnZ2VyKGY/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbSCxxLGY/dzp6XSk7eC5maXJlV2l0aChwLFtILHVdKTtsJiYodi50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtILHFdKSwtLWsuYWN0aXZlfHxrLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpfX0ib2JqZWN0Ij09PXR5cGVvZiBiJiYoZz1iLGI9dm9pZCAwKTtnPWd8fHt9O3ZhciBmLGQsbSxoLGwsbix1LHE9ay5hamF4U2V0dXAoe30sZykscD1xLmNvbnRleHR8fHEsdj1xLmNvbnRleHQmJihwLm5vZGVUeXBlfHxwLmpxdWVyeSk/ayhwKTprLmV2ZW50LEE9ay5EZWZlcnJlZCgpLHg9ay5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksWD1xLnN0YXR1c0NvZGV8fHt9LEU9e30scj17fSxOPTAseT0iY2FuY2VsZWQiLEg9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihiKXt2YXIgYzsKaWYoMj09PU4pe2lmKCF1KWZvcih1PXt9O2M9c2MuZXhlYyhtKTspdVtjWzFdLnRvTG93ZXJDYXNlKCldPWNbMl07Yz11W2IudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PWM/bnVsbDpjfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PU4/bTpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGIsYyl7dmFyIGc9Yi50b0xvd2VyQ2FzZSgpO058fChiPXJbZ109cltnXXx8YixFW2JdPWMpO3JldHVybiB0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGIpe058fChxLm1pbWVUeXBlPWIpO3JldHVybiB0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGIpe3ZhciBjO2lmKGIpaWYoMj5OKWZvcihjIGluIGIpWFtjXT1bWFtjXSxiW2NdXTtlbHNlIEguYWx3YXlzKGJbSC5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYil7Yj1ifHx5O24mJm4uYWJvcnQoYik7ZSgwLGIpO3JldHVybiB0aGlzfX07QS5wcm9taXNlKEgpLmNvbXBsZXRlPQp4LmFkZDtILnN1Y2Nlc3M9SC5kb25lO0guZXJyb3I9SC5mYWlsO3EudXJsPSgoYnx8cS51cmx8fEZhKSsiIikucmVwbGFjZShyYywiIikucmVwbGFjZShaYixSYVsxXSsiLy8iKTtxLnR5cGU9Zy5tZXRob2R8fGcudHlwZXx8cS5tZXRob2R8fHEudHlwZTtxLmRhdGFUeXBlcz1rLnRyaW0ocS5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKGthKXx8WyIiXTtudWxsPT1xLmNyb3NzRG9tYWluJiYoYj1wYi5leGVjKHEudXJsLnRvTG93ZXJDYXNlKCkpLHEuY3Jvc3NEb21haW49ISghYnx8YlsxXT09PVJhWzFdJiZiWzJdPT09UmFbMl0mJihiWzNdfHwoImh0dHA6Ij09PWJbMV0/IjgwIjoiNDQzIikpPT09KFJhWzNdfHwoImh0dHA6Ij09PVJhWzFdPyI4MCI6IjQ0MyIpKSkpO3EuZGF0YSYmcS5wcm9jZXNzRGF0YSYmInN0cmluZyIhPT10eXBlb2YgcS5kYXRhJiYocS5kYXRhPWsucGFyYW0ocS5kYXRhLHEudHJhZGl0aW9uYWwpKTt5YShIYixxLGcsSCk7aWYoMj09PU4pcmV0dXJuIEg7CihsPXEuZ2xvYmFsKSYmMD09PWsuYWN0aXZlKysmJmsuZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0Iik7cS50eXBlPXEudHlwZS50b1VwcGVyQ2FzZSgpO3EuaGFzQ29udGVudD0hWWIudGVzdChxLnR5cGUpO2Q9cS51cmw7cS5oYXNDb250ZW50fHwocS5kYXRhJiYoZD1xLnVybCs9KG9hLnRlc3QoZCk/IiYiOiI/IikrcS5kYXRhLGRlbGV0ZSBxLmRhdGEpLCExPT09cS5jYWNoZSYmKHEudXJsPVhiLnRlc3QoZCk/ZC5yZXBsYWNlKFhiLCIkMV89IitHYisrKTpkKyhvYS50ZXN0KGQpPyImIjoiPyIpKyJfPSIrR2IrKykpO3EuaWZNb2RpZmllZCYmKGsubGFzdE1vZGlmaWVkW2RdJiZILnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixrLmxhc3RNb2RpZmllZFtkXSksay5ldGFnW2RdJiZILnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLGsuZXRhZ1tkXSkpOyhxLmRhdGEmJnEuaGFzQ29udGVudCYmITEhPT1xLmNvbnRlbnRUeXBlfHxnLmNvbnRlbnRUeXBlKSYmCkguc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixxLmNvbnRlbnRUeXBlKTtILnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIscS5kYXRhVHlwZXNbMF0mJnEuYWNjZXB0c1txLmRhdGFUeXBlc1swXV0/cS5hY2NlcHRzW3EuZGF0YVR5cGVzWzBdXSsoIioiIT09cS5kYXRhVHlwZXNbMF0/IiwgIiskYisiOyBxPTAuMDEiOiIiKTpxLmFjY2VwdHNbIioiXSk7Zm9yKGYgaW4gcS5oZWFkZXJzKUguc2V0UmVxdWVzdEhlYWRlcihmLHEuaGVhZGVyc1tmXSk7aWYocS5iZWZvcmVTZW5kJiYoITE9PT1xLmJlZm9yZVNlbmQuY2FsbChwLEgscSl8fDI9PT1OKSlyZXR1cm4gSC5hYm9ydCgpO3k9ImFib3J0Ijtmb3IoZiBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSlIW2ZdKHFbZl0pO2lmKG49eWEod2IscSxnLEgpKXtILnJlYWR5U3RhdGU9MTtsJiZ2LnRyaWdnZXIoImFqYXhTZW5kIixbSCxxXSk7cS5hc3luYyYmMDxxLnRpbWVvdXQmJihoPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtILmFib3J0KCJ0aW1lb3V0Iil9LApxLnRpbWVvdXQpKTt0cnl7Tj0xLG4uc2VuZChFLGUpfWNhdGNoKFEpe2lmKDI+TillKC0xLFEpO2Vsc2UgdGhyb3cgUTt9fWVsc2UgZSgtMSwiTm8gVHJhbnNwb3J0Iik7cmV0dXJuIEh9LGdldEpTT046ZnVuY3Rpb24oYixnLGUpe3JldHVybiBrLmdldChiLGcsZSwianNvbiIpfSxnZXRTY3JpcHQ6ZnVuY3Rpb24oYixnKXtyZXR1cm4gay5nZXQoYix2b2lkIDAsZywic2NyaXB0Iil9fSk7ay5lYWNoKFsiZ2V0IiwicG9zdCJdLGZ1bmN0aW9uKGIsZyl7a1tnXT1mdW5jdGlvbihiLGMsZSxmKXtrLmlzRnVuY3Rpb24oYykmJihmPWZ8fGUsZT1jLGM9dm9pZCAwKTtyZXR1cm4gay5hamF4KHt1cmw6Yix0eXBlOmcsZGF0YVR5cGU6ZixkYXRhOmMsc3VjY2VzczplfSl9fSk7ay5lYWNoKCJhamF4U3RhcnQgYWpheFN0b3AgYWpheENvbXBsZXRlIGFqYXhFcnJvciBhamF4U3VjY2VzcyBhamF4U2VuZCIuc3BsaXQoIiAiKSxmdW5jdGlvbihiLGcpe2suZm5bZ109ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMub24oZywKYil9fSk7ay5fZXZhbFVybD1mdW5jdGlvbihiKXtyZXR1cm4gay5hamF4KHt1cmw6Yix0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGFzeW5jOiExLGdsb2JhbDohMSwidGhyb3dzIjohMH0pfTtrLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihiKXtpZihrLmlzRnVuY3Rpb24oYikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihnKXtrKHRoaXMpLndyYXBBbGwoYi5jYWxsKHRoaXMsZykpfSk7aWYodGhpc1swXSl7dmFyIGc9ayhiLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApO3RoaXNbMF0ucGFyZW50Tm9kZSYmZy5pbnNlcnRCZWZvcmUodGhpc1swXSk7Zy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIGI9dGhpcztiLmZpcnN0Q2hpbGQmJjE9PT1iLmZpcnN0Q2hpbGQubm9kZVR5cGU7KWI9Yi5maXJzdENoaWxkO3JldHVybiBifSkuYXBwZW5kKHRoaXMpfXJldHVybiB0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24oYil7cmV0dXJuIGsuaXNGdW5jdGlvbihiKT8KdGhpcy5lYWNoKGZ1bmN0aW9uKGcpe2sodGhpcykud3JhcElubmVyKGIuY2FsbCh0aGlzLGcpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBnPWsodGhpcyksZT1nLmNvbnRlbnRzKCk7ZS5sZW5ndGg/ZS53cmFwQWxsKGIpOmcuYXBwZW5kKGIpfSl9LHdyYXA6ZnVuY3Rpb24oYil7dmFyIGc9ay5pc0Z1bmN0aW9uKGIpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7ayh0aGlzKS53cmFwQWxsKGc/Yi5jYWxsKHRoaXMsZSk6Yil9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe2subm9kZU5hbWUodGhpcywiYm9keSIpfHxrKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KTtrLmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oYil7cmV0dXJuIDA+PWIub2Zmc2V0V2lkdGgmJjA+PWIub2Zmc2V0SGVpZ2h0fHwhRy5yZWxpYWJsZUhpZGRlbk9mZnNldHMoKSYmIm5vbmUiPT09KGIuc3R5bGUmJgpiLnN0eWxlLmRpc3BsYXl8fGsuY3NzKGIsImRpc3BsYXkiKSl9O2suZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oYil7cmV0dXJuIWsuZXhwci5maWx0ZXJzLmhpZGRlbihiKX07dmFyIGFjPS8lMjAvZyxmYz0vXFtcXSQvLGJjPS9ccj9cbi9nLHRjPS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxxYj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7ay5wYXJhbT1mdW5jdGlvbihiLGcpe3ZhciBlLGY9W10sZD1mdW5jdGlvbihiLGMpe2M9ay5pc0Z1bmN0aW9uKGMpP2MoKTpudWxsPT1jPyIiOmM7ZltmLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGIpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYyl9O3ZvaWQgMD09PWcmJihnPWsuYWpheFNldHRpbmdzJiZrLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCk7aWYoay5pc0FycmF5KGIpfHxiLmpxdWVyeSYmIWsuaXNQbGFpbk9iamVjdChiKSlrLmVhY2goYixmdW5jdGlvbigpe2QodGhpcy5uYW1lLAp0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGUgaW4gYilIYShlLGJbZV0sZyxkKTtyZXR1cm4gZi5qb2luKCImIikucmVwbGFjZShhYywiKyIpfTtrLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGsucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYj1rLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gYj9rLm1ha2VBcnJheShiKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFrKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmcWIudGVzdCh0aGlzLm5vZGVOYW1lKSYmIXRjLnRlc3QoYikmJih0aGlzLmNoZWNrZWR8fCF2Yi50ZXN0KGIpKX0pLm1hcChmdW5jdGlvbihiLGcpe2I9ayh0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yj9udWxsOmsuaXNBcnJheShiKT9rLm1hcChiLGZ1bmN0aW9uKGIpe3JldHVybntuYW1lOmcubmFtZSwKdmFsdWU6Yi5yZXBsYWNlKGJjLCJcclxuIil9fSk6e25hbWU6Zy5uYW1lLHZhbHVlOmIucmVwbGFjZShiYywiXHJcbiIpfX0pLmdldCgpfX0pO2suYWpheFNldHRpbmdzLnhocj12b2lkIDAhPT1kLkFjdGl2ZVhPYmplY3Q/ZnVuY3Rpb24oKXt2YXIgYjtpZighKGI9IXRoaXMuaXNMb2NhbCYmL14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pLnRlc3QodGhpcy50eXBlKSYmdmEoKSkpYTp7dHJ5e2I9bmV3IGQuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKTticmVhayBhfWNhdGNoKGcpe31iPXZvaWQgMH1yZXR1cm4gYn06dmE7dmFyIHJiPTAsZ2I9e30sWmE9ay5hamF4U2V0dGluZ3MueGhyKCk7aWYoZC5BY3RpdmVYT2JqZWN0KWsoZCkub24oInVubG9hZCIsZnVuY3Rpb24oKXtmb3IodmFyIGIgaW4gZ2IpZ2JbYl0odm9pZCAwLCEwKX0pO0cuY29ycz0hIVphJiYid2l0aENyZWRlbnRpYWxzImluIFphOyhaYT1HLmFqYXg9ISFaYSkmJmsuYWpheFRyYW5zcG9ydChmdW5jdGlvbihiKXtpZighYi5jcm9zc0RvbWFpbnx8CkcuY29ycyl7dmFyIGc7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSxmKXt2YXIgZCxtPWIueGhyKCksaD0rK3JiO20ub3BlbihiLnR5cGUsYi51cmwsYi5hc3luYyxiLnVzZXJuYW1lLGIucGFzc3dvcmQpO2lmKGIueGhyRmllbGRzKWZvcihkIGluIGIueGhyRmllbGRzKW1bZF09Yi54aHJGaWVsZHNbZF07Yi5taW1lVHlwZSYmbS5vdmVycmlkZU1pbWVUeXBlJiZtLm92ZXJyaWRlTWltZVR5cGUoYi5taW1lVHlwZSk7Yi5jcm9zc0RvbWFpbnx8ZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdfHwoZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpO2ZvcihkIGluIGUpdm9pZCAwIT09ZVtkXSYmbS5zZXRSZXF1ZXN0SGVhZGVyKGQsZVtkXSsiIik7bS5zZW5kKGIuaGFzQ29udGVudCYmYi5kYXRhfHxudWxsKTtnPWZ1bmN0aW9uKGUsZCl7dmFyIHosQyxsO2lmKGcmJihkfHw0PT09bS5yZWFkeVN0YXRlKSlpZihkZWxldGUgZ2JbaF0sZz12b2lkIDAsbS5vbnJlYWR5c3RhdGVjaGFuZ2U9Cmsubm9vcCxkKTQhPT1tLnJlYWR5U3RhdGUmJm0uYWJvcnQoKTtlbHNle2w9e307ej1tLnN0YXR1czsic3RyaW5nIj09PXR5cGVvZiBtLnJlc3BvbnNlVGV4dCYmKGwudGV4dD1tLnJlc3BvbnNlVGV4dCk7dHJ5e0M9bS5zdGF0dXNUZXh0fWNhdGNoKG4pe0M9IiJ9enx8IWIuaXNMb2NhbHx8Yi5jcm9zc0RvbWFpbj8xMjIzPT09eiYmKHo9MjA0KTp6PWwudGV4dD8yMDA6NDA0fWwmJmYoeixDLGwsbS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSl9O2IuYXN5bmM/ND09PW0ucmVhZHlTdGF0ZT9zZXRUaW1lb3V0KGcpOm0ub25yZWFkeXN0YXRlY2hhbmdlPWdiW2hdPWc6ZygpfSxhYm9ydDpmdW5jdGlvbigpe2cmJmcodm9pZCAwLCEwKX19fX0pO2suYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovKD86amF2YXxlY21hKXNjcmlwdC99LApjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGIpe2suZ2xvYmFsRXZhbChiKTtyZXR1cm4gYn19fSk7ay5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGIpe3ZvaWQgMD09PWIuY2FjaGUmJihiLmNhY2hlPSExKTtiLmNyb3NzRG9tYWluJiYoYi50eXBlPSJHRVQiLGIuZ2xvYmFsPSExKX0pO2suYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihiKXtpZihiLmNyb3NzRG9tYWluKXt2YXIgZyxlPUkuaGVhZHx8aygiaGVhZCIpWzBdfHxJLmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihmLGspe2c9SS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtnLmFzeW5jPSEwO2Iuc2NyaXB0Q2hhcnNldCYmKGcuY2hhcnNldD1iLnNjcmlwdENoYXJzZXQpO2cuc3JjPWIudXJsO2cub25sb2FkPWcub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGIsYyl7aWYoY3x8IWcucmVhZHlTdGF0ZXx8L2xvYWRlZHxjb21wbGV0ZS8udGVzdChnLnJlYWR5U3RhdGUpKWcub25sb2FkPQpnLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGcucGFyZW50Tm9kZSYmZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGcpLGc9bnVsbCxjfHxrKDIwMCwic3VjY2VzcyIpfTtlLmluc2VydEJlZm9yZShnLGUuZmlyc3RDaGlsZCl9LGFib3J0OmZ1bmN0aW9uKCl7aWYoZylnLm9ubG9hZCh2b2lkIDAsITApfX19fSk7dmFyIEliPVtdLHNiPS8oPSlcPyg/PSZ8JCl8XD9cPy87ay5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBiPUliLnBvcCgpfHxrLmV4cGFuZG8rIl8iK0diKys7dGhpc1tiXT0hMDtyZXR1cm4gYn19KTtrLmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKGIsZyxlKXt2YXIgZixtLGgsbD0hMSE9PWIuanNvbnAmJihzYi50ZXN0KGIudXJsKT8idXJsIjoic3RyaW5nIj09PXR5cGVvZiBiLmRhdGEmJiEoYi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYKc2IudGVzdChiLmRhdGEpJiYiZGF0YSIpO2lmKGx8fCJqc29ucCI9PT1iLmRhdGFUeXBlc1swXSlyZXR1cm4gZj1iLmpzb25wQ2FsbGJhY2s9ay5pc0Z1bmN0aW9uKGIuanNvbnBDYWxsYmFjayk/Yi5qc29ucENhbGxiYWNrKCk6Yi5qc29ucENhbGxiYWNrLGw/YltsXT1iW2xdLnJlcGxhY2Uoc2IsIiQxIitmKTohMSE9PWIuanNvbnAmJihiLnVybCs9KG9hLnRlc3QoYi51cmwpPyImIjoiPyIpK2IuanNvbnArIj0iK2YpLGIuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe2h8fGsuZXJyb3IoZisiIHdhcyBub3QgY2FsbGVkIik7cmV0dXJuIGhbMF19LGIuZGF0YVR5cGVzWzBdPSJqc29uIixtPWRbZl0sZFtmXT1mdW5jdGlvbigpe2g9YXJndW1lbnRzfSxlLmFsd2F5cyhmdW5jdGlvbigpe2RbZl09bTtiW2ZdJiYoYi5qc29ucENhbGxiYWNrPWcuanNvbnBDYWxsYmFjayxJYi5wdXNoKGYpKTtoJiZrLmlzRnVuY3Rpb24obSkmJm0oaFswXSk7aD1tPXZvaWQgMH0pLCJzY3JpcHQifSk7CmsucGFyc2VIVE1MPWZ1bmN0aW9uKGIsZyxlKXtpZighYnx8InN0cmluZyIhPT10eXBlb2YgYilyZXR1cm4gbnVsbDsiYm9vbGVhbiI9PT10eXBlb2YgZyYmKGU9ZyxnPSExKTtnPWd8fEk7dmFyIGY9WGEuZXhlYyhiKTtlPSFlJiZbXTtpZihmKXJldHVybltnLmNyZWF0ZUVsZW1lbnQoZlsxXSldO2Y9ay5idWlsZEZyYWdtZW50KFtiXSxnLGUpO2UmJmUubGVuZ3RoJiZrKGUpLnJlbW92ZSgpO3JldHVybiBrLm1lcmdlKFtdLGYuY2hpbGROb2Rlcyl9O3ZhciBjYz1rLmZuLmxvYWQ7ay5mbi5sb2FkPWZ1bmN0aW9uKGIsZyxlKXtpZigic3RyaW5nIiE9PXR5cGVvZiBiJiZjYylyZXR1cm4gY2MuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBmLGQsbSxoPXRoaXMsbD1iLmluZGV4T2YoIiAiKTswPD1sJiYoZj1rLnRyaW0oYi5zbGljZShsLGIubGVuZ3RoKSksYj1iLnNsaWNlKDAsbCkpO2suaXNGdW5jdGlvbihnKT8oZT1nLGc9dm9pZCAwKTpnJiYib2JqZWN0Ij09PXR5cGVvZiBnJiYobT0KIlBPU1QiKTswPGgubGVuZ3RoJiZrLmFqYXgoe3VybDpiLHR5cGU6bSxkYXRhVHlwZToiaHRtbCIsZGF0YTpnfSkuZG9uZShmdW5jdGlvbihiKXtkPWFyZ3VtZW50cztoLmh0bWwoZj9rKCI8ZGl2PiIpLmFwcGVuZChrLnBhcnNlSFRNTChiKSkuZmluZChmKTpiKX0pLmNvbXBsZXRlKGUmJmZ1bmN0aW9uKGIsYyl7aC5lYWNoKGUsZHx8W2IucmVzcG9uc2VUZXh0LGMsYl0pfSk7cmV0dXJuIHRoaXN9O2suZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGIpe3JldHVybiBrLmdyZXAoay50aW1lcnMsZnVuY3Rpb24oZyl7cmV0dXJuIGI9PT1nLmVsZW19KS5sZW5ndGh9O3ZhciBkYz1kLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtrLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGIsZyxlKXt2YXIgZixkLG0saD1rLmNzcyhiLCJwb3NpdGlvbiIpLGw9ayhiKSxuPXt9OyJzdGF0aWMiPT09aCYmKGIuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7bT1sLm9mZnNldCgpO2Q9ay5jc3MoYiwKInRvcCIpO2Y9ay5jc3MoYiwibGVmdCIpOygiYWJzb2x1dGUiPT09aHx8ImZpeGVkIj09PWgpJiYtMTxrLmluQXJyYXkoImF1dG8iLFtkLGZdKT8oZj1sLnBvc2l0aW9uKCksZD1mLnRvcCxmPWYubGVmdCk6KGQ9cGFyc2VGbG9hdChkKXx8MCxmPXBhcnNlRmxvYXQoZil8fDApO2suaXNGdW5jdGlvbihnKSYmKGc9Zy5jYWxsKGIsZSxtKSk7bnVsbCE9Zy50b3AmJihuLnRvcD1nLnRvcC1tLnRvcCtkKTtudWxsIT1nLmxlZnQmJihuLmxlZnQ9Zy5sZWZ0LW0ubGVmdCtmKTsidXNpbmciaW4gZz9nLnVzaW5nLmNhbGwoYixuKTpsLmNzcyhuKX19O2suZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYil7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09Yj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihnKXtrLm9mZnNldC5zZXRPZmZzZXQodGhpcyxiLGcpfSk7dmFyIGcsZSxmPXt0b3A6MCxsZWZ0OjB9LGQ9KGU9dGhpc1swXSkmJmUub3duZXJEb2N1bWVudDtpZihkKXtnPWQuZG9jdW1lbnRFbGVtZW50OwppZighay5jb250YWlucyhnLGUpKXJldHVybiBmOyJ1bmRlZmluZWQiIT09dHlwZW9mIGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiYoZj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtlPVgoZCk7cmV0dXJue3RvcDpmLnRvcCsoZS5wYWdlWU9mZnNldHx8Zy5zY3JvbGxUb3ApLShnLmNsaWVudFRvcHx8MCksbGVmdDpmLmxlZnQrKGUucGFnZVhPZmZzZXR8fGcuc2Nyb2xsTGVmdCktKGcuY2xpZW50TGVmdHx8MCl9fX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgYixnLGU9e3RvcDowLGxlZnQ6MH0sZj10aGlzWzBdOyJmaXhlZCI9PT1rLmNzcyhmLCJwb3NpdGlvbiIpP2c9Zi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooYj10aGlzLm9mZnNldFBhcmVudCgpLGc9dGhpcy5vZmZzZXQoKSxrLm5vZGVOYW1lKGJbMF0sImh0bWwiKXx8KGU9Yi5vZmZzZXQoKSksZS50b3ArPWsuY3NzKGJbMF0sImJvcmRlclRvcFdpZHRoIiwhMCksZS5sZWZ0Kz1rLmNzcyhiWzBdLCJib3JkZXJMZWZ0V2lkdGgiLAohMCkpO3JldHVybnt0b3A6Zy50b3AtZS50b3Atay5jc3MoZiwibWFyZ2luVG9wIiwhMCksbGVmdDpnLmxlZnQtZS5sZWZ0LWsuY3NzKGYsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIGI9dGhpcy5vZmZzZXRQYXJlbnR8fGRjO2ImJiFrLm5vZGVOYW1lKGIsImh0bWwiKSYmInN0YXRpYyI9PT1rLmNzcyhiLCJwb3NpdGlvbiIpOyliPWIub2Zmc2V0UGFyZW50O3JldHVybiBifHxkY30pfX0pO2suZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihiLGcpe3ZhciBlPS9ZLy50ZXN0KGcpO2suZm5bYl09ZnVuY3Rpb24oZil7cmV0dXJuIG1hKHRoaXMsZnVuY3Rpb24oYixjLGYpe3ZhciBkPVgoYik7aWYodm9pZCAwPT09ZilyZXR1cm4gZD9nIGluIGQ/ZFtnXTpkLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtjXTpiW2NdO2Q/ZC5zY3JvbGxUbyhlPwprKGQpLnNjcm9sbExlZnQoKTpmLGU/ZjprKGQpLnNjcm9sbFRvcCgpKTpiW2NdPWZ9LGIsZixhcmd1bWVudHMubGVuZ3RoLG51bGwpfX0pO2suZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihnLGUpe2suY3NzSG9va3NbZV09YihHLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYixnKXtpZihnKXJldHVybiBnPXNhKGIsZSksbGEudGVzdChnKT9rKGIpLnBvc2l0aW9uKClbZV0rInB4IjpnfSl9KTtrLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihiLGcpe2suZWFjaCh7cGFkZGluZzoiaW5uZXIiK2IsY29udGVudDpnLCIiOiJvdXRlciIrYn0sZnVuY3Rpb24oZSxmKXtrLmZuW2ZdPWZ1bmN0aW9uKGYsZCl7dmFyIG09YXJndW1lbnRzLmxlbmd0aCYmKGV8fCJib29sZWFuIiE9PXR5cGVvZiBmKSxCPWV8fCghMD09PWZ8fCEwPT09ZD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIG1hKHRoaXMsZnVuY3Rpb24oZyxlLGYpe3JldHVybiBrLmlzV2luZG93KGcpPwpnLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IitiXTo5PT09Zy5ub2RlVHlwZT8oZT1nLmRvY3VtZW50RWxlbWVudCxNYXRoLm1heChnLmJvZHlbInNjcm9sbCIrYl0sZVsic2Nyb2xsIitiXSxnLmJvZHlbIm9mZnNldCIrYl0sZVsib2Zmc2V0IitiXSxlWyJjbGllbnQiK2JdKSk6dm9pZCAwPT09Zj9rLmNzcyhnLGUsQik6ay5zdHlsZShnLGUsZixCKX0sZyxtP2Y6dm9pZCAwLG0sbnVsbCl9fSl9KTtrLmZuLnNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9O2suZm4uYW5kU2VsZj1rLmZuLmFkZEJhY2s7ImZ1bmN0aW9uIj09PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZSgianF1ZXJ5IixbXSxmdW5jdGlvbigpe3JldHVybiBrfSk7dmFyIGc9ZC5qUXVlcnksZT1kLiQ7ay5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe2QuJD09PWsmJihkLiQ9ZSk7YiYmZC5qUXVlcnk9PT1rJiYoZC5qUXVlcnk9Zyk7cmV0dXJuIGt9OyJ1bmRlZmluZWQiPT09dHlwZW9mIHAmJgooZC5qUXVlcnk9ZC4kPWspO3JldHVybiBrfSk7cmV0dXJuIGR9OwooZnVuY3Rpb24oZCxyKXsib2JqZWN0Ij09PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWQuZG9jdW1lbnQ/cihkLCEwKTpmdW5jdGlvbihkKXtpZighZC5kb2N1bWVudCl0aHJvdyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiByKGQpfTpyKGQpfSkoInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGQscil7ZnVuY3Rpb24geChiKXt2YXIgZT1iLmxlbmd0aCxjPWYudHlwZShiKTtyZXR1cm4iZnVuY3Rpb24iPT09Y3x8Zi5pc1dpbmRvdyhiKT8hMToxPT09Yi5ub2RlVHlwZSYmZT8hMDoiYXJyYXkiPT09Y3x8MD09PWV8fCJudW1iZXIiPT09dHlwZW9mIGUmJjA8ZSYmZS0xIGluIGJ9ZnVuY3Rpb24gcChiLGUsYyl7aWYoZi5pc0Z1bmN0aW9uKGUpKXJldHVybiBmLmdyZXAoYixmdW5jdGlvbihiLGcpe3JldHVybiEhZS5jYWxsKGIsCmcsYikhPT1jfSk7aWYoZS5ub2RlVHlwZSlyZXR1cm4gZi5ncmVwKGIsZnVuY3Rpb24oYil7cmV0dXJuIGI9PT1lIT09Y30pO2lmKCJzdHJpbmciPT09dHlwZW9mIGUpe2lmKExiLnRlc3QoZSkpcmV0dXJuIGYuZmlsdGVyKGUsYixjKTtlPWYuZmlsdGVyKGUsYil9cmV0dXJuIGYuZ3JlcChiLGZ1bmN0aW9uKGIpe3JldHVybiAwPD1mLmluQXJyYXkoYixlKSE9PWN9KX1mdW5jdGlvbiBoKGIsZSl7ZG8gYj1iW2VdO3doaWxlKGImJjEhPT1iLm5vZGVUeXBlKTtyZXR1cm4gYn1mdW5jdGlvbiBsKGIpe3ZhciBlPU1iW2JdPXt9O2YuZWFjaChiLm1hdGNoKEJhKXx8W10sZnVuY3Rpb24oYixnKXtlW2ddPSEwfSk7cmV0dXJuIGV9ZnVuY3Rpb24gdigpe0ouYWRkRXZlbnRMaXN0ZW5lcj8oSi5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixuLCExKSxkLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLG4sITEpKTooSi5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIiwKbiksZC5kZXRhY2hFdmVudCgib25sb2FkIixuKSl9ZnVuY3Rpb24gbigpe2lmKEouYWRkRXZlbnRMaXN0ZW5lcnx8ImxvYWQiPT09ZXZlbnQudHlwZXx8ImNvbXBsZXRlIj09PUoucmVhZHlTdGF0ZSl2KCksZi5yZWFkeSgpfWZ1bmN0aW9uIEEoYixlLGMpe2lmKHZvaWQgMD09PWMmJjE9PT1iLm5vZGVUeXBlKWlmKGM9ImRhdGEtIitlLnJlcGxhY2UoamMsIi0kMSIpLnRvTG93ZXJDYXNlKCksYz1iLmdldEF0dHJpYnV0ZShjKSwic3RyaW5nIj09PXR5cGVvZiBjKXt0cnl7Yz0idHJ1ZSI9PT1jPyEwOiJmYWxzZSI9PT1jPyExOiJudWxsIj09PWM/bnVsbDorYysiIj09PWM/K2M6a2IudGVzdChjKT9mLnBhcnNlSlNPTihjKTpjfWNhdGNoKGQpe31mLmRhdGEoYixlLGMpfWVsc2UgYz12b2lkIDA7cmV0dXJuIGN9ZnVuY3Rpb24gRShiKXtmb3IodmFyIGUgaW4gYilpZigoImRhdGEiIT09ZXx8IWYuaXNFbXB0eU9iamVjdChiW2VdKSkmJiJ0b0pTT04iIT09ZSlyZXR1cm4hMTtyZXR1cm4hMH0KZnVuY3Rpb24gTShiLGUsYyxkKXtpZihmLmFjY2VwdERhdGEoYikpe3ZhciBrPWYuZXhwYW5kbyxtPWIubm9kZVR5cGUsaD1tP2YuY2FjaGU6YixsPW0/YltrXTpiW2tdJiZrO2lmKGwmJmhbbF0mJihkfHxoW2xdLmRhdGEpfHx2b2lkIDAhPT1jfHwic3RyaW5nIiE9PXR5cGVvZiBlKXtsfHwobD1tP2Jba109dmEucG9wKCl8fGYuZ3VpZCsrOmspO2hbbF18fChoW2xdPW0/e306e3RvSlNPTjpmLm5vb3B9KTtpZigib2JqZWN0Ij09PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT09dHlwZW9mIGUpZD9oW2xdPWYuZXh0ZW5kKGhbbF0sZSk6aFtsXS5kYXRhPWYuZXh0ZW5kKGhbbF0uZGF0YSxlKTtiPWhbbF07ZHx8KGIuZGF0YXx8KGIuZGF0YT17fSksYj1iLmRhdGEpO3ZvaWQgMCE9PWMmJihiW2YuY2FtZWxDYXNlKGUpXT1jKTsic3RyaW5nIj09PXR5cGVvZiBlPyhjPWJbZV0sbnVsbD09YyYmKGM9YltmLmNhbWVsQ2FzZShlKV0pKTpjPWI7cmV0dXJuIGN9fX1mdW5jdGlvbiBGKGIsZSxjKXtpZihmLmFjY2VwdERhdGEoYikpe3ZhciBkLAprLG09Yi5ub2RlVHlwZSxoPW0/Zi5jYWNoZTpiLGw9bT9iW2YuZXhwYW5kb106Zi5leHBhbmRvO2lmKGhbbF0pe2lmKGUmJihkPWM/aFtsXTpoW2xdLmRhdGEpKXtmLmlzQXJyYXkoZSk/ZT1lLmNvbmNhdChmLm1hcChlLGYuY2FtZWxDYXNlKSk6ZSBpbiBkP2U9W2VdOihlPWYuY2FtZWxDYXNlKGUpLGU9ZSBpbiBkP1tlXTplLnNwbGl0KCIgIikpO2ZvcihrPWUubGVuZ3RoO2stLTspZGVsZXRlIGRbZVtrXV07aWYoYz8hRShkKTohZi5pc0VtcHR5T2JqZWN0KGQpKXJldHVybn1pZighYyYmKGRlbGV0ZSBoW2xdLmRhdGEsIUUoaFtsXSkpKXJldHVybjttP2YuY2xlYW5EYXRhKFtiXSwhMCk6RC5kZWxldGVFeHBhbmRvfHxoIT1oLndpbmRvdz9kZWxldGUgaFtsXTpoW2xdPW51bGx9fX1mdW5jdGlvbiBZKCl7cmV0dXJuITB9ZnVuY3Rpb24gYWEoKXtyZXR1cm4hMX1mdW5jdGlvbiBSKCl7dHJ5e3JldHVybiBKLmFjdGl2ZUVsZW1lbnR9Y2F0Y2goYil7fX1mdW5jdGlvbiBkYShiKXt2YXIgZT0KeWIuc3BsaXQoInwiKTtiPWIuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2lmKGIuY3JlYXRlRWxlbWVudClmb3IoO2UubGVuZ3RoOyliLmNyZWF0ZUVsZW1lbnQoZS5wb3AoKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gUChiLGUpe3ZhciBjLGQsaz0wLG09InVuZGVmaW5lZCIhPT10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZT9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGV8fCIqIik6InVuZGVmaW5lZCIhPT10eXBlb2YgYi5xdWVyeVNlbGVjdG9yQWxsP2IucXVlcnlTZWxlY3RvckFsbChlfHwiKiIpOnZvaWQgMDtpZighbSlmb3IobT1bXSxjPWIuY2hpbGROb2Rlc3x8YjtudWxsIT0oZD1jW2tdKTtrKyspIWV8fGYubm9kZU5hbWUoZCxlKT9tLnB1c2goZCk6Zi5tZXJnZShtLFAoZCxlKSk7cmV0dXJuIHZvaWQgMD09PWV8fGUmJmYubm9kZU5hbWUoYixlKT9mLm1lcmdlKFtiXSxtKTptfWZ1bmN0aW9uIEwoYil7TWEudGVzdChiLnR5cGUpJiYoYi5kZWZhdWx0Q2hlY2tlZD1iLmNoZWNrZWQpfQpmdW5jdGlvbiBXKGIsZSl7cmV0dXJuIGYubm9kZU5hbWUoYiwidGFibGUiKSYmZi5ub2RlTmFtZSgxMSE9PWUubm9kZVR5cGU/ZTplLmZpcnN0Q2hpbGQsInRyIik/Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8Yi5hcHBlbmRDaGlsZChiLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6Yn1mdW5jdGlvbiBVKGIpe2IudHlwZT0obnVsbCE9PWYuZmluZC5hdHRyKGIsInR5cGUiKSkrIi8iK2IudHlwZTtyZXR1cm4gYn1mdW5jdGlvbiBnYShiKXt2YXIgZT1sYy5leGVjKGIudHlwZSk7ZT9iLnR5cGU9ZVsxXTpiLnJlbW92ZUF0dHJpYnV0ZSgidHlwZSIpO3JldHVybiBifWZ1bmN0aW9uIFMoYixlKXtmb3IodmFyIGMsZD0wO251bGwhPShjPWJbZF0pO2QrKylmLl9kYXRhKGMsImdsb2JhbEV2YWwiLCFlfHxmLl9kYXRhKGVbZF0sImdsb2JhbEV2YWwiKSl9ZnVuY3Rpb24gcShiLGUpe2lmKDE9PT1lLm5vZGVUeXBlJiZmLmhhc0RhdGEoYikpe3ZhciBjLApkLGs7ZD1mLl9kYXRhKGIpO2I9Zi5fZGF0YShlLGQpO3ZhciBtPWQuZXZlbnRzO2lmKG0pZm9yKGMgaW4gZGVsZXRlIGIuaGFuZGxlLGIuZXZlbnRzPXt9LG0pZm9yKGQ9MCxrPW1bY10ubGVuZ3RoO2Q8aztkKyspZi5ldmVudC5hZGQoZSxjLG1bY11bZF0pO2IuZGF0YSYmKGIuZGF0YT1mLmV4dGVuZCh7fSxiLmRhdGEpKX19ZnVuY3Rpb24gUShiLGUpe3ZhciBjO2I9ZihlLmNyZWF0ZUVsZW1lbnQoYikpLmFwcGVuZFRvKGUuYm9keSk7ZT1kLmdldERlZmF1bHRDb21wdXRlZFN0eWxlJiYoYz1kLmdldERlZmF1bHRDb21wdXRlZFN0eWxlKGJbMF0pKT9jLmRpc3BsYXk6Zi5jc3MoYlswXSwiZGlzcGxheSIpO2IuZGV0YWNoKCk7cmV0dXJuIGV9ZnVuY3Rpb24gTyhiKXt2YXIgZT1KLGM9bWJbYl07Y3x8KGM9UShiLGUpLCJub25lIiE9PWMmJmN8fChmYT0oZmF8fGYoIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz4iKSkuYXBwZW5kVG8oZS5kb2N1bWVudEVsZW1lbnQpLAplPShmYVswXS5jb250ZW50V2luZG93fHxmYVswXS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LGUud3JpdGUoKSxlLmNsb3NlKCksYz1RKGIsZSksZmEuZGV0YWNoKCkpLG1iW2JdPWMpO3JldHVybiBjfWZ1bmN0aW9uIFooYixlKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7dmFyIGM9YigpO2lmKG51bGwhPWMpaWYoYylkZWxldGUgdGhpcy5nZXQ7ZWxzZSByZXR1cm4odGhpcy5nZXQ9ZSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19ZnVuY3Rpb24gQWEoYixlKXtpZihlIGluIGIpcmV0dXJuIGU7Zm9yKHZhciBjPWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKSxmPWUsZD1WYi5sZW5ndGg7ZC0tOylpZihlPVZiW2RdK2MsZSBpbiBiKXJldHVybiBlO3JldHVybiBmfWZ1bmN0aW9uIGIoYixlKXtmb3IodmFyIGMsZCxrLG09W10saD0wLGw9Yi5sZW5ndGg7aDxsO2grKylkPWJbaF0sZC5zdHlsZSYmKG1baF09Zi5fZGF0YShkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksCmU/KG1baF18fCJub25lIiE9PWN8fChkLnN0eWxlLmRpc3BsYXk9IiIpLCIiPT09ZC5zdHlsZS5kaXNwbGF5JiZJYShkKSYmKG1baF09Zi5fZGF0YShkLCJvbGRkaXNwbGF5IixPKGQubm9kZU5hbWUpKSkpOihrPUlhKGQpLChjJiYibm9uZSIhPT1jfHwhaykmJmYuX2RhdGEoZCwib2xkZGlzcGxheSIsaz9jOmYuY3NzKGQsImRpc3BsYXkiKSkpKTtmb3IoaD0wO2g8bDtoKyspZD1iW2hdLCFkLnN0eWxlfHxlJiYibm9uZSIhPT1kLnN0eWxlLmRpc3BsYXkmJiIiIT09ZC5zdHlsZS5kaXNwbGF5fHwoZC5zdHlsZS5kaXNwbGF5PWU/bVtoXXx8IiI6Im5vbmUiKTtyZXR1cm4gYn1mdW5jdGlvbiBDYShiLGUsYyl7cmV0dXJuKGI9bmMuZXhlYyhlKSk/TWF0aC5tYXgoMCxiWzFdLShjfHwwKSkrKGJbMl18fCJweCIpOmV9ZnVuY3Rpb24geShiLGUsYyxkLGspe2U9Yz09PShkPyJib3JkZXIiOiJjb250ZW50Iik/NDoid2lkdGgiPT09ZT8xOjA7Zm9yKHZhciBtPTA7ND5lO2UrPTIpIm1hcmdpbiI9PT0KYyYmKG0rPWYuY3NzKGIsYytMYVtlXSwhMCxrKSksZD8oImNvbnRlbnQiPT09YyYmKG0tPWYuY3NzKGIsInBhZGRpbmciK0xhW2VdLCEwLGspKSwibWFyZ2luIiE9PWMmJihtLT1mLmNzcyhiLCJib3JkZXIiK0xhW2VdKyJXaWR0aCIsITAsaykpKToobSs9Zi5jc3MoYiwicGFkZGluZyIrTGFbZV0sITAsayksInBhZGRpbmciIT09YyYmKG0rPWYuY3NzKGIsImJvcmRlciIrTGFbZV0rIldpZHRoIiwhMCxrKSkpO3JldHVybiBtfWZ1bmN0aW9uIHJhKGIsZSxjKXt2YXIgZD0hMCxrPSJ3aWR0aCI9PT1lP2Iub2Zmc2V0V2lkdGg6Yi5vZmZzZXRIZWlnaHQsbT1KYShiKSxoPUQuYm94U2l6aW5nJiYiYm9yZGVyLWJveCI9PT1mLmNzcyhiLCJib3hTaXppbmciLCExLG0pO2lmKDA+PWt8fG51bGw9PWspe2s9bGEoYixlLG0pO2lmKDA+a3x8bnVsbD09aylrPWIuc3R5bGVbZV07aWYoJGEudGVzdChrKSlyZXR1cm4gaztkPWgmJihELmJveFNpemluZ1JlbGlhYmxlKCl8fGs9PT1iLnN0eWxlW2VdKTsKaz1wYXJzZUZsb2F0KGspfHwwfXJldHVybiBrK3koYixlLGN8fChoPyJib3JkZXIiOiJjb250ZW50IiksZCxtKSsicHgifWZ1bmN0aW9uIGJhKGIsZSxjLGYsZCl7cmV0dXJuIG5ldyBiYS5wcm90b3R5cGUuaW5pdChiLGUsYyxmLGQpfWZ1bmN0aW9uIG0oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7UGE9dm9pZCAwfSk7cmV0dXJuIFBhPWYubm93KCl9ZnVuY3Rpb24gdShiLGUpe3ZhciBjLGY9e2hlaWdodDpifSxkPTA7Zm9yKGU9ZT8xOjA7ND5kO2QrPTItZSljPUxhW2RdLGZbIm1hcmdpbiIrY109ZlsicGFkZGluZyIrY109YjtlJiYoZi5vcGFjaXR5PWYud2lkdGg9Yik7cmV0dXJuIGZ9ZnVuY3Rpb24gTihiLGUsYyl7Zm9yKHZhciBmLGQ9KGViW2VdfHxbXSkuY29uY2F0KGViWyIqIl0pLGs9MCxtPWQubGVuZ3RoO2s8bTtrKyspaWYoZj1kW2tdLmNhbGwoYyxlLGIpKXJldHVybiBmfWZ1bmN0aW9uIGlhKGIsZSl7dmFyIGMsZCxrLG0saDtmb3IoYyBpbiBiKWlmKGQ9Zi5jYW1lbENhc2UoYyksCms9ZVtkXSxtPWJbY10sZi5pc0FycmF5KG0pJiYoaz1tWzFdLG09YltjXT1tWzBdKSxjIT09ZCYmKGJbZF09bSxkZWxldGUgYltjXSksKGg9Zi5jc3NIb29rc1tkXSkmJiJleHBhbmQiaW4gaClmb3IoYyBpbiBtPWguZXhwYW5kKG0pLGRlbGV0ZSBiW2RdLG0pYyBpbiBifHwoYltjXT1tW2NdLGVbY109ayk7ZWxzZSBlW2RdPWt9ZnVuY3Rpb24gVChiLGUsYyl7dmFyIGQsaz0wLGg9ZGIubGVuZ3RoLGw9Zi5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBuLmVsZW19KSxuPWZ1bmN0aW9uKCl7aWYoZClyZXR1cm4hMTtmb3IodmFyIGM9UGF8fG0oKSxjPU1hdGgubWF4KDAscS5zdGFydFRpbWUrcS5kdXJhdGlvbi1jKSxlPTEtKGMvcS5kdXJhdGlvbnx8MCksZj0wLGs9cS50d2VlbnMubGVuZ3RoO2Y8aztmKyspcS50d2VlbnNbZl0ucnVuKGUpO2wubm90aWZ5V2l0aChiLFtxLGUsY10pO2lmKDE+ZSYmaylyZXR1cm4gYztsLnJlc29sdmVXaXRoKGIsW3FdKTtyZXR1cm4hMX0sCnE9bC5wcm9taXNlKHtlbGVtOmIscHJvcHM6Zi5leHRlbmQoe30sZSksb3B0czpmLmV4dGVuZCghMCx7c3BlY2lhbEVhc2luZzp7fX0sYyksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOmMsc3RhcnRUaW1lOlBhfHxtKCksZHVyYXRpb246Yy5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24oYyxlKXtjPWYuVHdlZW4oYixxLm9wdHMsYyxlLHEub3B0cy5zcGVjaWFsRWFzaW5nW2NdfHxxLm9wdHMuZWFzaW5nKTtxLnR3ZWVucy5wdXNoKGMpO3JldHVybiBjfSxzdG9wOmZ1bmN0aW9uKGMpe3ZhciBlPTAsZj1jP3EudHdlZW5zLmxlbmd0aDowO2lmKGQpcmV0dXJuIHRoaXM7Zm9yKGQ9ITA7ZTxmO2UrKylxLnR3ZWVuc1tlXS5ydW4oMSk7Yz9sLnJlc29sdmVXaXRoKGIsW3EsY10pOmwucmVqZWN0V2l0aChiLFtxLGNdKTtyZXR1cm4gdGhpc319KTtjPXEucHJvcHM7Zm9yKGlhKGMscS5vcHRzLnNwZWNpYWxFYXNpbmcpO2s8aDtrKyspaWYoZT1kYltrXS5jYWxsKHEsCmIsYyxxLm9wdHMpKXJldHVybiBlO2YubWFwKGMsTixxKTtmLmlzRnVuY3Rpb24ocS5vcHRzLnN0YXJ0KSYmcS5vcHRzLnN0YXJ0LmNhbGwoYixxKTtmLmZ4LnRpbWVyKGYuZXh0ZW5kKG4se2VsZW06YixhbmltOnEscXVldWU6cS5vcHRzLnF1ZXVlfSkpO3JldHVybiBxLnByb2dyZXNzKHEub3B0cy5wcm9ncmVzcykuZG9uZShxLm9wdHMuZG9uZSxxLm9wdHMuY29tcGxldGUpLmZhaWwocS5vcHRzLmZhaWwpLmFsd2F5cyhxLm9wdHMuYWx3YXlzKX1mdW5jdGlvbiBWKGIpe3JldHVybiBmdW5jdGlvbihlLGMpeyJzdHJpbmciIT09dHlwZW9mIGUmJihjPWUsZT0iKiIpO3ZhciBkPTAsaz1lLnRvTG93ZXJDYXNlKCkubWF0Y2goQmEpfHxbXTtpZihmLmlzRnVuY3Rpb24oYykpZm9yKDtlPWtbZCsrXTspIisiPT09ZS5jaGFyQXQoMCk/KGU9ZS5zbGljZSgxKXx8IioiLChiW2VdPWJbZV18fFtdKS51bnNoaWZ0KGMpKTooYltlXT1iW2VdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gRGEoYixlLApjLGQpe2Z1bmN0aW9uIGsobCl7dmFyIG47bVtsXT0hMDtmLmVhY2goYltsXXx8W10sZnVuY3Rpb24oYixnKXtiPWcoZSxjLGQpO2lmKCJzdHJpbmciPT09dHlwZW9mIGImJiFoJiYhbVtiXSlyZXR1cm4gZS5kYXRhVHlwZXMudW5zaGlmdChiKSxrKGIpLCExO2lmKGgpcmV0dXJuIShuPWIpfSk7cmV0dXJuIG59dmFyIG09e30saD1iPT09cGI7cmV0dXJuIGsoZS5kYXRhVHlwZXNbMF0pfHwhbVsiKiJdJiZrKCIqIil9ZnVuY3Rpb24gdWEoYixlKXt2YXIgYyxkLGs9Zi5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihkIGluIGUpdm9pZCAwIT09ZVtkXSYmKChrW2RdP2I6Y3x8KGM9e30pKVtkXT1lW2RdKTtjJiZmLmV4dGVuZCghMCxiLGMpO3JldHVybiBifWZ1bmN0aW9uIHlhKGIsZSxjLGQpe3ZhciBrO2lmKGYuaXNBcnJheShlKSlmLmVhY2goZSxmdW5jdGlvbihlLGYpe2N8fCRiLnRlc3QoYik/ZChiLGYpOnlhKGIrIlsiKygib2JqZWN0Ij09PXR5cGVvZiBmP2U6IiIpKyJdIiwKZixjLGQpfSk7ZWxzZSBpZihjfHwib2JqZWN0IiE9PWYudHlwZShlKSlkKGIsZSk7ZWxzZSBmb3IoayBpbiBlKXlhKGIrIlsiK2srIl0iLGVba10sYyxkKX1mdW5jdGlvbiBFYSgpe3RyeXtyZXR1cm4gbmV3IGQuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX1mdW5jdGlvbiBIYShiKXtyZXR1cm4gZi5pc1dpbmRvdyhiKT9iOjk9PT1iLm5vZGVUeXBlP2IuZGVmYXVsdFZpZXd8fGIucGFyZW50V2luZG93OiExfXZhciB2YT1bXSxYPXZhLnNsaWNlLEg9dmEuY29uY2F0LGNhPXZhLnB1c2gsd2E9dmEuaW5kZXhPZix6YT17fSxVYT16YS50b1N0cmluZyxqYT16YS5oYXNPd25Qcm9wZXJ0eSxEPXt9LGY9ZnVuY3Rpb24oYixlKXtyZXR1cm4gbmV3IGYuZm4uaW5pdChiLGUpfSxHPS9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZyxrPS9eLW1zLS8sZ2M9Ly0oW1xkYS16XSkvZ2ksaGM9ZnVuY3Rpb24oYixlKXtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpfTtmLmZuPWYucHJvdG90eXBlPQp7anF1ZXJ5OiIxLjExLjEiLGNvbnN0cnVjdG9yOmYsc2VsZWN0b3I6IiIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBYLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihiKXtyZXR1cm4gbnVsbCE9Yj8wPmI/dGhpc1tiK3RoaXMubGVuZ3RoXTp0aGlzW2JdOlguY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGIpe2I9Zi5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksYik7Yi5wcmV2T2JqZWN0PXRoaXM7Yi5jb250ZXh0PXRoaXMuY29udGV4dDtyZXR1cm4gYn0sZWFjaDpmdW5jdGlvbihiLGUpe3JldHVybiBmLmVhY2godGhpcyxiLGUpfSxtYXA6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGYubWFwKHRoaXMsZnVuY3Rpb24oZSxjKXtyZXR1cm4gYi5jYWxsKGUsYyxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soWC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSwKbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oYil7dmFyIGU9dGhpcy5sZW5ndGg7Yj0rYisoMD5iP2U6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PWImJmI8ZT9bdGhpc1tiXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKG51bGwpfSxwdXNoOmNhLHNvcnQ6dmEuc29ydCxzcGxpY2U6dmEuc3BsaWNlfTtmLmV4dGVuZD1mLmZuLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBiLGUsYyxkLGssbT1hcmd1bWVudHNbMF18fHt9LGg9MSxsPWFyZ3VtZW50cy5sZW5ndGgsbj0hMTsiYm9vbGVhbiI9PT10eXBlb2YgbSYmKG49bSxtPWFyZ3VtZW50c1toXXx8e30saCsrKTsib2JqZWN0Ij09PXR5cGVvZiBtfHxmLmlzRnVuY3Rpb24obSl8fChtPXt9KTtoPT09bCYmKG09dGhpcyxoLS0pO2Zvcig7aDxsO2grKylpZihudWxsIT0oaz1hcmd1bWVudHNbaF0pKWZvcihkIGluIGspYj1tW2RdLGM9CmtbZF0sbSE9PWMmJihuJiZjJiYoZi5pc1BsYWluT2JqZWN0KGMpfHwoZT1mLmlzQXJyYXkoYykpKT8oZT8oZT0hMSxiPWImJmYuaXNBcnJheShiKT9iOltdKTpiPWImJmYuaXNQbGFpbk9iamVjdChiKT9iOnt9LG1bZF09Zi5leHRlbmQobixiLGMpKTp2b2lkIDAhPT1jJiYobVtkXT1jKSk7cmV0dXJuIG19O2YuZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKygiMS4xMS4xIitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGIpe3Rocm93IEVycm9yKGIpO30sbm9vcDpmdW5jdGlvbigpe30saXNGdW5jdGlvbjpmdW5jdGlvbihiKXtyZXR1cm4iZnVuY3Rpb24iPT09Zi50eXBlKGIpfSxpc0FycmF5OkFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGIpe3JldHVybiJhcnJheSI9PT1mLnR5cGUoYil9LGlzV2luZG93OmZ1bmN0aW9uKGIpe3JldHVybiBudWxsIT1iJiZiPT1iLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKGIpe3JldHVybiFmLmlzQXJyYXkoYikmJgowPD1iLXBhcnNlRmxvYXQoYil9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYil7Zm9yKHZhciBlIGluIGIpcmV0dXJuITE7cmV0dXJuITB9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oYil7dmFyIGU7aWYoIWJ8fCJvYmplY3QiIT09Zi50eXBlKGIpfHxiLm5vZGVUeXBlfHxmLmlzV2luZG93KGIpKXJldHVybiExO3RyeXtpZihiLmNvbnN0cnVjdG9yJiYhamEuY2FsbChiLCJjb25zdHJ1Y3RvciIpJiYhamEuY2FsbChiLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKGMpe3JldHVybiExfWlmKEQub3duTGFzdClmb3IoZSBpbiBiKXJldHVybiBqYS5jYWxsKGIsZSk7Zm9yKGUgaW4gYik7cmV0dXJuIHZvaWQgMD09PWV8fGphLmNhbGwoYixlKX0sdHlwZTpmdW5jdGlvbihiKXtyZXR1cm4gbnVsbD09Yj9iKyIiOiJvYmplY3QiPT09dHlwZW9mIGJ8fCJmdW5jdGlvbiI9PT10eXBlb2YgYj96YVtVYS5jYWxsKGIpXXx8Im9iamVjdCI6dHlwZW9mIGJ9LApnbG9iYWxFdmFsOmZ1bmN0aW9uKGIpe2ImJmYudHJpbShiKSYmKGQuZXhlY1NjcmlwdHx8ZnVuY3Rpb24oYil7ZC5ldmFsLmNhbGwoZCxiKX0pKGIpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYil7cmV0dXJuIGIucmVwbGFjZShrLCJtcy0iKS5yZXBsYWNlKGdjLGhjKX0sbm9kZU5hbWU6ZnVuY3Rpb24oYixlKXtyZXR1cm4gYi5ub2RlTmFtZSYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZS50b0xvd2VyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGIsZSxjKXt2YXIgZixkPTAsaz1iLmxlbmd0aDtmPXgoYik7aWYoYylpZihmKWZvcig7ZDxrJiYoZj1lLmFwcGx5KGJbZF0sYyksITEhPT1mKTtkKyspO2Vsc2UgZm9yKGQgaW4gYil7aWYoZj1lLmFwcGx5KGJbZF0sYyksITE9PT1mKWJyZWFrfWVsc2UgaWYoZilmb3IoO2Q8ayYmKGY9ZS5jYWxsKGJbZF0sZCxiW2RdKSwhMSE9PWYpO2QrKyk7ZWxzZSBmb3IoZCBpbiBiKWlmKGY9ZS5jYWxsKGJbZF0sZCxiW2RdKSwhMT09PWYpYnJlYWs7cmV0dXJuIGJ9LAp0cmltOmZ1bmN0aW9uKGIpe3JldHVybiBudWxsPT1iPyIiOihiKyIiKS5yZXBsYWNlKEcsIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYixlKXtlPWV8fFtdO251bGwhPWImJih4KE9iamVjdChiKSk/Zi5tZXJnZShlLCJzdHJpbmciPT09dHlwZW9mIGI/W2JdOmIpOmNhLmNhbGwoZSxiKSk7cmV0dXJuIGV9LGluQXJyYXk6ZnVuY3Rpb24oYixlLGMpe3ZhciBmO2lmKGUpe2lmKHdhKXJldHVybiB3YS5jYWxsKGUsYixjKTtmPWUubGVuZ3RoO2ZvcihjPWM/MD5jP01hdGgubWF4KDAsZitjKTpjOjA7YzxmO2MrKylpZihjIGluIGUmJmVbY109PT1iKXJldHVybiBjfXJldHVybi0xfSxtZXJnZTpmdW5jdGlvbihiLGUpe2Zvcih2YXIgYz0rZS5sZW5ndGgsZj0wLGQ9Yi5sZW5ndGg7ZjxjOyliW2QrK109ZVtmKytdO2lmKGMhPT1jKWZvcig7dm9pZCAwIT09ZVtmXTspYltkKytdPWVbZisrXTtiLmxlbmd0aD1kO3JldHVybiBifSxncmVwOmZ1bmN0aW9uKGIsZSxjKXtmb3IodmFyIGY9W10sZD0KMCxrPWIubGVuZ3RoLG09IWM7ZDxrO2QrKyljPSFlKGJbZF0sZCksYyE9PW0mJmYucHVzaChiW2RdKTtyZXR1cm4gZn0sbWFwOmZ1bmN0aW9uKGIsZSxjKXt2YXIgZixkPTAsaz1iLmxlbmd0aCxtPVtdO2lmKHgoYikpZm9yKDtkPGs7ZCsrKWY9ZShiW2RdLGQsYyksbnVsbCE9ZiYmbS5wdXNoKGYpO2Vsc2UgZm9yKGQgaW4gYilmPWUoYltkXSxkLGMpLG51bGwhPWYmJm0ucHVzaChmKTtyZXR1cm4gSC5hcHBseShbXSxtKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGIsZSl7dmFyIGMsZDsic3RyaW5nIj09PXR5cGVvZiBlJiYoZD1iW2VdLGU9YixiPWQpO2lmKGYuaXNGdW5jdGlvbihiKSlyZXR1cm4gYz1YLmNhbGwoYXJndW1lbnRzLDIpLGQ9ZnVuY3Rpb24oKXtyZXR1cm4gYi5hcHBseShlfHx0aGlzLGMuY29uY2F0KFguY2FsbChhcmd1bWVudHMpKSl9LGQuZ3VpZD1iLmd1aWQ9Yi5ndWlkfHxmLmd1aWQrKyxkfSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4rbmV3IERhdGV9LHN1cHBvcnQ6RH0pOwpmLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IiLnNwbGl0KCIgIiksZnVuY3Rpb24oYixlKXt6YVsiW29iamVjdCAiK2UrIl0iXT1lLnRvTG93ZXJDYXNlKCl9KTt2YXIgVmE9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gZShiLGMsZyxlKXt2YXIgZixkLGssbSx3OyhjP2Mub3duZXJEb2N1bWVudHx8YzpSKSE9PVYmJkkoYyk7Yz1jfHxWO2c9Z3x8W107aWYoIWJ8fCJzdHJpbmciIT09dHlwZW9mIGIpcmV0dXJuIGc7aWYoMSE9PShtPWMubm9kZVR5cGUpJiY5IT09bSlyZXR1cm5bXTtpZihKJiYhZSl7aWYoZj10YS5leGVjKGIpKWlmKGs9ZlsxXSlpZig5PT09bSlpZigoZD1jLmdldEVsZW1lbnRCeUlkKGspKSYmZC5wYXJlbnROb2RlKXtpZihkLmlkPT09aylyZXR1cm4gZy5wdXNoKGQpLGd9ZWxzZSByZXR1cm4gZztlbHNle2lmKGMub3duZXJEb2N1bWVudCYmKGQ9Yy5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGspKSYmClAoYyxkKSYmZC5pZD09PWspcmV0dXJuIGcucHVzaChkKSxnfWVsc2V7aWYoZlsyXSlyZXR1cm4gWS5hcHBseShnLGMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYikpLGc7aWYoKGs9ZlszXSkmJnkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBZLmFwcGx5KGcsYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGspKSxnfWlmKHkucXNhJiYoIUZ8fCFGLnRlc3QoYikpKXtkPWY9WjtrPWM7dz05PT09bSYmYjtpZigxPT09bSYmIm9iamVjdCIhPT1jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe209RChiKTsoZj1jLmdldEF0dHJpYnV0ZSgiaWQiKSk/ZD1mLnJlcGxhY2UoQmEsIlxcJCYiKTpjLnNldEF0dHJpYnV0ZSgiaWQiLGQpO2Q9IltpZD0nIitkKyInXSAiO2ZvcihrPW0ubGVuZ3RoO2stLTspbVtrXT1kK3AobVtrXSk7az1zYS50ZXN0KGIpJiZxKGMucGFyZW50Tm9kZSl8fGM7dz1tLmpvaW4oIiwiKX1pZih3KXRyeXtyZXR1cm4gWS5hcHBseShnLAprLnF1ZXJ5U2VsZWN0b3JBbGwodykpLGd9Y2F0Y2goaCl7fWZpbmFsbHl7Znx8Yy5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gTShiLnJlcGxhY2UoaGEsIiQxIiksYyxnLGUpfWZ1bmN0aW9uIGMoKXtmdW5jdGlvbiBiKGcsZSl7Yy5wdXNoKGcrIiAiKT5ILmNhY2hlTGVuZ3RoJiZkZWxldGUgYltjLnNoaWZ0KCldO3JldHVybiBiW2crIiAiXT1lfXZhciBjPVtdO3JldHVybiBifWZ1bmN0aW9uIGYoYil7YltaXT0hMDtyZXR1cm4gYn1mdW5jdGlvbiBkKGIpe3ZhciBjPVYuY3JlYXRlRWxlbWVudCgiZGl2Iik7dHJ5e3JldHVybiEhYihjKX1jYXRjaChnKXtyZXR1cm4hMX1maW5hbGx5e2MucGFyZW50Tm9kZSYmYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpfX1mdW5jdGlvbiBrKGIsYyl7dmFyIGc9Yi5zcGxpdCgifCIpO2ZvcihiPWIubGVuZ3RoO2ItLTspSC5hdHRySGFuZGxlW2dbYl1dPWN9ZnVuY3Rpb24gbShiLGMpe3ZhciBnPWMmJmIsZT1nJiYxPT09Yi5ub2RlVHlwZSYmCjE9PT1jLm5vZGVUeXBlJiYofmMuc291cmNlSW5kZXh8fC0yMTQ3NDgzNjQ4KS0ofmIuc291cmNlSW5kZXh8fC0yMTQ3NDgzNjQ4KTtpZihlKXJldHVybiBlO2lmKGcpZm9yKDtnPWcubmV4dFNpYmxpbmc7KWlmKGc9PT1jKXJldHVybi0xO3JldHVybiBiPzE6LTF9ZnVuY3Rpb24gaChiKXtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuImlucHV0Ij09PWMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmYy50eXBlPT09Yn19ZnVuY3Rpb24gbChiKXtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGc9Yy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09Z3x8ImJ1dHRvbiI9PT1nKSYmYy50eXBlPT09Yn19ZnVuY3Rpb24gbihiKXtyZXR1cm4gZihmdW5jdGlvbihjKXtjPStjO3JldHVybiBmKGZ1bmN0aW9uKGcsZSl7Zm9yKHZhciBmLGQ9YihbXSxnLmxlbmd0aCxjKSxrPWQubGVuZ3RoO2stLTspZ1tmPWRba11dJiYoZ1tmXT0hKGVbZl09Z1tmXSkpfSl9KX1mdW5jdGlvbiBxKGIpe3JldHVybiBiJiYKInVuZGVmaW5lZCIhPT10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZSYmYn1mdW5jdGlvbiB1KCl7fWZ1bmN0aW9uIHAoYil7Zm9yKHZhciBjPTAsZz1iLmxlbmd0aCxlPSIiO2M8ZztjKyspZSs9YltjXS52YWx1ZTtyZXR1cm4gZX1mdW5jdGlvbiB2KGIsYyxnKXt2YXIgZT1jLmRpcixmPWcmJiJwYXJlbnROb2RlIj09PWUsZD1VKys7cmV0dXJuIGMuZmlyc3Q/ZnVuY3Rpb24oYyxnLGQpe2Zvcig7Yz1jW2VdOylpZigxPT09Yy5ub2RlVHlwZXx8ZilyZXR1cm4gYihjLGcsZCl9OmZ1bmN0aW9uKGMsZyxrKXt2YXIgbSx3LGg9W2FhLGRdO2lmKGspZm9yKDtjPWNbZV07KXtpZigoMT09PWMubm9kZVR5cGV8fGYpJiZiKGMsZyxrKSlyZXR1cm4hMH1lbHNlIGZvcig7Yz1jW2VdOylpZigxPT09Yy5ub2RlVHlwZXx8Zil7dz1jW1pdfHwoY1taXT17fSk7aWYoKG09d1tlXSkmJm1bMF09PT1hYSYmbVsxXT09PWQpcmV0dXJuIGhbMl09bVsyXTt3W2VdPWg7aWYoaFsyXT1iKGMsZyxrKSlyZXR1cm4hMH19fQpmdW5jdGlvbiBBKGIpe3JldHVybiAxPGIubGVuZ3RoP2Z1bmN0aW9uKGMsZyxlKXtmb3IodmFyIGY9Yi5sZW5ndGg7Zi0tOylpZighYltmXShjLGcsZSkpcmV0dXJuITE7cmV0dXJuITB9OmJbMF19ZnVuY3Rpb24gWChiLGMsZyxlLGYpe2Zvcih2YXIgZCxrPVtdLG09MCx3PWIubGVuZ3RoLGg9bnVsbCE9YzttPHc7bSsrKWlmKGQ9YlttXSlpZighZ3x8ZyhkLGUsZikpay5wdXNoKGQpLGgmJmMucHVzaChtKTtyZXR1cm4ga31mdW5jdGlvbiBFKGIsYyxnLGQsayxtKXtkJiYhZFtaXSYmKGQ9RShkKSk7ayYmIWtbWl0mJihrPUUoayxtKSk7cmV0dXJuIGYoZnVuY3Rpb24oZixtLHcsaCl7dmFyIGwseixCPVtdLG49W10scT1tLmxlbmd0aCxDO2lmKCEoQz1mKSl7Qz1jfHwiKiI7Zm9yKHZhciB1PXcubm9kZVR5cGU/W3ddOncscD1bXSx2PTAsSz11Lmxlbmd0aDt2PEs7disrKWUoQyx1W3ZdLHApO0M9cH1DPSFifHwhZiYmYz9DOlgoQyxCLGIsdyxoKTt1PWc/a3x8KGY/YjpxfHxkKT9bXToKbTpDO2cmJmcoQyx1LHcsaCk7aWYoZClmb3IobD1YKHUsbiksZChsLFtdLHcsaCksdz1sLmxlbmd0aDt3LS07KWlmKHo9bFt3XSl1W25bd11dPSEoQ1tuW3ddXT16KTtpZihmKXtpZihrfHxiKXtpZihrKXtsPVtdO2Zvcih3PXUubGVuZ3RoO3ctLTspKHo9dVt3XSkmJmwucHVzaChDW3ddPXopO2sobnVsbCx1PVtdLGwsaCl9Zm9yKHc9dS5sZW5ndGg7dy0tOykoej11W3ddKSYmLTE8KGw9az9yYS5jYWxsKGYseik6Qlt3XSkmJihmW2xdPSEobVtsXT16KSl9fWVsc2UgdT1YKHU9PT1tP3Uuc3BsaWNlKHEsdS5sZW5ndGgpOnUpLGs/ayhudWxsLG0sdSxoKTpZLmFwcGx5KG0sdSl9KX1mdW5jdGlvbiB4KGIpe3ZhciBjLGcsZSxmPWIubGVuZ3RoLGQ9SC5yZWxhdGl2ZVtiWzBdLnR5cGVdO2c9ZHx8SC5yZWxhdGl2ZVsiICJdO2Zvcih2YXIgaz1kPzE6MCxtPXYoZnVuY3Rpb24oYil7cmV0dXJuIGI9PT1jfSxnLCEwKSx3PXYoZnVuY3Rpb24oYil7cmV0dXJuLTE8cmEuY2FsbChjLGIpfSxnLAohMCksaD1bZnVuY3Rpb24oYixnLGUpe3JldHVybiFkJiYoZXx8ZyE9PUcpfHwoKGM9Zykubm9kZVR5cGU/bShiLGcsZSk6dyhiLGcsZSkpfV07azxmO2srKylpZihnPUgucmVsYXRpdmVbYltrXS50eXBlXSloPVt2KEEoaCksZyldO2Vsc2V7Zz1ILmZpbHRlcltiW2tdLnR5cGVdLmFwcGx5KG51bGwsYltrXS5tYXRjaGVzKTtpZihnW1pdKXtmb3IoZT0rK2s7ZTxmJiYhSC5yZWxhdGl2ZVtiW2VdLnR5cGVdO2UrKyk7cmV0dXJuIEUoMTxrJiZBKGgpLDE8ayYmcChiLnNsaWNlKDAsay0xKS5jb25jYXQoe3ZhbHVlOiIgIj09PWJbay0yXS50eXBlPyIqIjoiIn0pKS5yZXBsYWNlKGhhLCIkMSIpLGcsazxlJiZ4KGIuc2xpY2UoayxlKSksZTxmJiZ4KGI9Yi5zbGljZShlKSksZTxmJiZwKGIpKX1oLnB1c2goZyl9cmV0dXJuIEEoaCl9ZnVuY3Rpb24gcihiLGMpe3ZhciBnPTA8Yy5sZW5ndGgsZD0wPGIubGVuZ3RoLGs9ZnVuY3Rpb24oZixrLG0sdyxoKXt2YXIgbCx6LEIsbj0wLHE9IjAiLEM9CmYmJltdLHU9W10scD1HLHY9Znx8ZCYmSC5maW5kLlRBRygiKiIsaCksSz1hYSs9bnVsbD09cD8xOk1hdGgucmFuZG9tKCl8fC4xLEE9di5sZW5ndGg7Zm9yKGgmJihHPWshPT1WJiZrKTtxIT09QSYmbnVsbCE9KGw9dltxXSk7cSsrKXtpZihkJiZsKXtmb3Ioej0wO0I9Ylt6KytdOylpZihCKGwsayxtKSl7dy5wdXNoKGwpO2JyZWFrfWgmJihhYT1LKX1nJiYoKGw9IUImJmwpJiZuLS0sZiYmQy5wdXNoKGwpKX1uKz1xO2lmKGcmJnEhPT1uKXtmb3Ioej0wO0I9Y1t6KytdOylCKEMsdSxrLG0pO2lmKGYpe2lmKDA8bilmb3IoO3EtLTspQ1txXXx8dVtxXXx8KHVbcV09dmEuY2FsbCh3KSk7dT1YKHUpfVkuYXBwbHkodyx1KTtoJiYhZiYmMDx1Lmxlbmd0aCYmMTxuK2MubGVuZ3RoJiZlLnVuaXF1ZVNvcnQodyl9aCYmKGFhPUssRz1wKTtyZXR1cm4gQ307cmV0dXJuIGc/ZihrKTprfXZhciBOLHksSCxRLFQsRCxTLE0sRyxPLGlhLEksVixMLEosRixjYSx1YSxQLFo9InNpenpsZSIrLW5ldyBEYXRlLApSPWIuZG9jdW1lbnQsYWE9MCxVPTAsYmE9YygpLFc9YygpLGRhPWMoKSxEYT1mdW5jdGlvbihiLGMpe2I9PT1jJiYoaWE9ITApO3JldHVybiAwfSx6YT17fS5oYXNPd25Qcm9wZXJ0eSxqYT1bXSx2YT1qYS5wb3Asd2E9amEucHVzaCxZPWphLnB1c2gsQWE9amEuc2xpY2UscmE9amEuaW5kZXhPZnx8ZnVuY3Rpb24oYil7Zm9yKHZhciBjPTAsZz10aGlzLmxlbmd0aDtjPGc7YysrKWlmKHRoaXNbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxmYT0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLnJlcGxhY2UoInciLCJ3IyIpLGdhPSJcXFtbXFx4MjBcXHRcXHJcXG5cXGZdKigoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKykoPzpbXFx4MjBcXHRcXHJcXG5cXGZdKihbKl4kfCF+XT89KVtcXHgyMFxcdFxcclxcblxcZl0qKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrZmErIikpfClbXFx4MjBcXHRcXHJcXG5cXGZdKlxcXSIsCkNhPSI6KCg/OlxcXFwufFtcXHctXXxbXlxceDAwLVxceGEwXSkrKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrZ2ErIikqKXwuKilcXCl8KSIsaGE9L15bXHgyMFx0XHJcblxmXSt8KCg/Ol58W15cXF0pKD86XFwuKSopW1x4MjBcdFxyXG5cZl0rJC9nLGxhPS9eW1x4MjBcdFxyXG5cZl0qLFtceDIwXHRcclxuXGZdKi8sbmE9L15bXHgyMFx0XHJcblxmXSooWz4rfl18W1x4MjBcdFxyXG5cZl0pW1x4MjBcdFxyXG5cZl0qLyxwYT0vPVtceDIwXHRcclxuXGZdKihbXlxdJyJdKj8pW1x4MjBcdFxyXG5cZl0qXF0vZyxVYT1uZXcgUmVnRXhwKENhKSxxYT1uZXcgUmVnRXhwKCJeIitmYSsiJCIpLGthPXtJRDovXiMoKD86XFwufFtcdy1dfFteXHgwMC1ceGEwXSkrKS8sQ0xBU1M6L15cLigoPzpcXC58W1x3LV18W15ceDAwLVx4YTBdKSspLyxUQUc6bmV3IFJlZ0V4cCgiXigiKyIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIucmVwbGFjZSgidyIsCiJ3KiIpKyIpIiksQVRUUjpuZXcgUmVnRXhwKCJeIitnYSksUFNFVURPOm5ldyBSZWdFeHAoIl4iK0NhKSxDSElMRDovXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XChbXHgyMFx0XHJcblxmXSooZXZlbnxvZGR8KChbKy1dfCkoXGQqKW58KVtceDIwXHRcclxuXGZdKig/OihbKy1dfClbXHgyMFx0XHJcblxmXSooXGQrKXwpKVtceDIwXHRcclxuXGZdKlwpfCkvaSxib29sOi9eKD86Y2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQpJC9pLG5lZWRzQ29udGV4dDovXltceDIwXHRcclxuXGZdKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XChbXHgyMFx0XHJcblxmXSooKD86LVxkKT9cZCopW1x4MjBcdFxyXG5cZl0qXCl8KSg/PVteLV18JCkvaX0sCkVhPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksSGE9L15oXGQkL2kseWE9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLHRhPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sc2E9L1srfl0vLEJhPS8nfFxcL2csbWE9L1xcKFtcZGEtZl17MSw2fVtceDIwXHRcclxuXGZdP3woW1x4MjBcdFxyXG5cZl0pfC4pL2lnLG9hPWZ1bmN0aW9uKGIsYyxnKXtiPSIweCIrYy02NTUzNjtyZXR1cm4gYiE9PWJ8fGc/YzowPmI/U3RyaW5nLmZyb21DaGFyQ29kZShiKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGI+PjEwfDU1Mjk2LGImMTAyM3w1NjMyMCl9O3RyeXtZLmFwcGx5KGphPUFhLmNhbGwoUi5jaGlsZE5vZGVzKSxSLmNoaWxkTm9kZXMpLGphW1IuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKGVhKXtZPXthcHBseTpqYS5sZW5ndGg/ZnVuY3Rpb24oYixjKXt3YS5hcHBseShiLEFhLmNhbGwoYykpfTpmdW5jdGlvbihiLGMpe2Zvcih2YXIgZz0KYi5sZW5ndGgsZT0wO2JbZysrXT1jW2UrK107KTtiLmxlbmd0aD1nLTF9fX15PWUuc3VwcG9ydD17fTtUPWUuaXNYTUw9ZnVuY3Rpb24oYil7cmV0dXJuKGI9YiYmKGIub3duZXJEb2N1bWVudHx8YikuZG9jdW1lbnRFbGVtZW50KT8iSFRNTCIhPT1iLm5vZGVOYW1lOiExfTtJPWUuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYil7dmFyIGM9Yj9iLm93bmVyRG9jdW1lbnR8fGI6UjtiPWMuZGVmYXVsdFZpZXc7aWYoYz09PVZ8fDkhPT1jLm5vZGVUeXBlfHwhYy5kb2N1bWVudEVsZW1lbnQpcmV0dXJuIFY7Vj1jO0w9Yy5kb2N1bWVudEVsZW1lbnQ7Sj0hVChjKTtiJiZiIT09Yi50b3AmJihiLmFkZEV2ZW50TGlzdGVuZXI/Yi5hZGRFdmVudExpc3RlbmVyKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7SSgpfSwhMSk6Yi5hdHRhY2hFdmVudCYmYi5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7SSgpfSkpO3kuYXR0cmlidXRlcz1kKGZ1bmN0aW9uKGIpe2IuY2xhc3NOYW1lPSJpIjtyZXR1cm4hYi5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSk7CnkuZ2V0RWxlbWVudHNCeVRhZ05hbWU9ZChmdW5jdGlvbihiKXtiLmFwcGVuZENoaWxkKGMuY3JlYXRlQ29tbWVudCgiIikpO3JldHVybiFiLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSk7eS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPXlhLnRlc3QoYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSYmZChmdW5jdGlvbihiKXtiLmlubmVySFRNTD0iPGRpdiBjbGFzcz0nYSc+PC9kaXY+PGRpdiBjbGFzcz0nYSBpJz48L2Rpdj4iO2IuZmlyc3RDaGlsZC5jbGFzc05hbWU9ImkiO3JldHVybiAyPT09Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJpIikubGVuZ3RofSk7eS5nZXRCeUlkPWQoZnVuY3Rpb24oYil7TC5hcHBlbmRDaGlsZChiKS5pZD1aO3JldHVybiFjLmdldEVsZW1lbnRzQnlOYW1lfHwhYy5nZXRFbGVtZW50c0J5TmFtZShaKS5sZW5ndGh9KTt5LmdldEJ5SWQ/KEguZmluZC5JRD1mdW5jdGlvbihiLGMpe2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIGMuZ2V0RWxlbWVudEJ5SWQmJgpKKXJldHVybihiPWMuZ2V0RWxlbWVudEJ5SWQoYikpJiZiLnBhcmVudE5vZGU/W2JdOltdfSxILmZpbHRlci5JRD1mdW5jdGlvbihiKXt2YXIgYz1iLnJlcGxhY2UobWEsb2EpO3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYi5nZXRBdHRyaWJ1dGUoImlkIik9PT1jfX0pOihkZWxldGUgSC5maW5kLklELEguZmlsdGVyLklEPWZ1bmN0aW9uKGIpe3ZhciBjPWIucmVwbGFjZShtYSxvYSk7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybihiPSJ1bmRlZmluZWQiIT09dHlwZW9mIGIuZ2V0QXR0cmlidXRlTm9kZSYmYi5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmYi52YWx1ZT09PWN9fSk7SC5maW5kLlRBRz15LmdldEVsZW1lbnRzQnlUYWdOYW1lP2Z1bmN0aW9uKGIsYyl7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgYy5nZXRFbGVtZW50c0J5VGFnTmFtZSlyZXR1cm4gYy5nZXRFbGVtZW50c0J5VGFnTmFtZShiKX06ZnVuY3Rpb24oYixjKXt2YXIgZz1bXSxlPTA7Yz1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKGIpOwppZigiKiI9PT1iKXtmb3IoO2I9Y1tlKytdOykxPT09Yi5ub2RlVHlwZSYmZy5wdXNoKGIpO3JldHVybiBnfXJldHVybiBjfTtILmZpbmQuQ0xBU1M9eS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihiLGMpe2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmSilyZXR1cm4gYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGIpfTtjYT1bXTtGPVtdO2lmKHkucXNhPXlhLnRlc3QoYy5xdWVyeVNlbGVjdG9yQWxsKSlkKGZ1bmN0aW9uKGIpe2IuaW5uZXJIVE1MPSI8c2VsZWN0IG1zYWxsb3djbGlwPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IjtiLnF1ZXJ5U2VsZWN0b3JBbGwoIlttc2FsbG93Y2xpcF49JyddIikubGVuZ3RoJiZGLnB1c2goIlsqXiRdPVtcXHgyMFxcdFxcclxcblxcZl0qKD86Jyd8XCJcIikiKTtiLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fEYucHVzaCgiXFxbW1xceDIwXFx0XFxyXFxuXFxmXSooPzp2YWx1ZXxjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCkiKTsKYi5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8Ri5wdXNoKCI6Y2hlY2tlZCIpfSksZChmdW5jdGlvbihiKXt2YXIgZz1jLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Zy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJoaWRkZW4iKTtiLmFwcGVuZENoaWxkKGcpLnNldEF0dHJpYnV0ZSgibmFtZSIsIkQiKTtiLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPWRdIikubGVuZ3RoJiZGLnB1c2goIm5hbWVbXFx4MjBcXHRcXHJcXG5cXGZdKlsqXiR8IX5dPz0iKTtiLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxGLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIik7Yi5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iik7Ri5wdXNoKCIsLio6Iil9KTsoeS5tYXRjaGVzU2VsZWN0b3I9eWEudGVzdCh1YT1MLm1hdGNoZXN8fEwud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxMLm1vek1hdGNoZXNTZWxlY3Rvcnx8TC5vTWF0Y2hlc1NlbGVjdG9yfHxMLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJgpkKGZ1bmN0aW9uKGIpe3kuZGlzY29ubmVjdGVkTWF0Y2g9dWEuY2FsbChiLCJkaXYiKTt1YS5jYWxsKGIsIltzIT0nJ106eCIpO2NhLnB1c2goIiE9IixDYSl9KTtGPUYubGVuZ3RoJiZuZXcgUmVnRXhwKEYuam9pbigifCIpKTtjYT1jYS5sZW5ndGgmJm5ldyBSZWdFeHAoY2Euam9pbigifCIpKTtQPShiPXlhLnRlc3QoTC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikpfHx5YS50ZXN0KEwuY29udGFpbnMpP2Z1bmN0aW9uKGIsYyl7dmFyIGc9OT09PWIubm9kZVR5cGU/Yi5kb2N1bWVudEVsZW1lbnQ6YjtjPWMmJmMucGFyZW50Tm9kZTtyZXR1cm4gYj09PWN8fCEhKGMmJjE9PT1jLm5vZGVUeXBlJiYoZy5jb250YWlucz9nLmNvbnRhaW5zKGMpOmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYykmMTYpKX06ZnVuY3Rpb24oYixjKXtpZihjKWZvcig7Yz1jLnBhcmVudE5vZGU7KWlmKGM9PT1iKXJldHVybiEwO3JldHVybiExfTtEYT1iP2Z1bmN0aW9uKGIsCmcpe2lmKGI9PT1nKXJldHVybiBpYT0hMCwwO3ZhciBlPSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFnLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO2lmKGUpcmV0dXJuIGU7ZT0oYi5vd25lckRvY3VtZW50fHxiKT09PShnLm93bmVyRG9jdW1lbnR8fGcpP2IuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZyk6MTtyZXR1cm4gZSYxfHwheS5zb3J0RGV0YWNoZWQmJmcuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYik9PT1lP2I9PT1jfHxiLm93bmVyRG9jdW1lbnQ9PT1SJiZQKFIsYik/LTE6Zz09PWN8fGcub3duZXJEb2N1bWVudD09PVImJlAoUixnKT8xOk8/cmEuY2FsbChPLGIpLXJhLmNhbGwoTyxnKTowOmUmND8tMToxfTpmdW5jdGlvbihiLGcpe2lmKGI9PT1nKXJldHVybiBpYT0hMCwwO3ZhciBlPTAsZj1iLnBhcmVudE5vZGUsZD1nLnBhcmVudE5vZGUsaz1bYl0sdz1bZ107aWYoIWZ8fCFkKXJldHVybiBiPT09Yz8tMTpnPT09Yz8xOmY/LTE6ZD8xOk8/cmEuY2FsbChPLGIpLQpyYS5jYWxsKE8sZyk6MDtpZihmPT09ZClyZXR1cm4gbShiLGcpO2Zvcig7Yj1iLnBhcmVudE5vZGU7KWsudW5zaGlmdChiKTtmb3IoYj1nO2I9Yi5wYXJlbnROb2RlOyl3LnVuc2hpZnQoYik7Zm9yKDtrW2VdPT09d1tlXTspZSsrO3JldHVybiBlP20oa1tlXSx3W2VdKTprW2VdPT09Uj8tMTp3W2VdPT09Uj8xOjB9O3JldHVybiBjfTtlLm1hdGNoZXM9ZnVuY3Rpb24oYixjKXtyZXR1cm4gZShiLG51bGwsbnVsbCxjKX07ZS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYixjKXsoYi5vd25lckRvY3VtZW50fHxiKSE9PVYmJkkoYik7Yz1jLnJlcGxhY2UocGEsIj0nJDEnXSIpO2lmKCEoIXkubWF0Y2hlc1NlbGVjdG9yfHwhSnx8Y2EmJmNhLnRlc3QoYyl8fEYmJkYudGVzdChjKSkpdHJ5e3ZhciBnPXVhLmNhbGwoYixjKTtpZihnfHx5LmRpc2Nvbm5lY3RlZE1hdGNofHxiLmRvY3VtZW50JiYxMSE9PWIuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGd9Y2F0Y2goZil7fXJldHVybiAwPGUoYywKVixudWxsLFtiXSkubGVuZ3RofTtlLmNvbnRhaW5zPWZ1bmN0aW9uKGIsYyl7KGIub3duZXJEb2N1bWVudHx8YikhPT1WJiZJKGIpO3JldHVybiBQKGIsYyl9O2UuYXR0cj1mdW5jdGlvbihiLGMpeyhiLm93bmVyRG9jdW1lbnR8fGIpIT09ViYmSShiKTt2YXIgZz1ILmF0dHJIYW5kbGVbYy50b0xvd2VyQ2FzZSgpXSxnPWcmJnphLmNhbGwoSC5hdHRySGFuZGxlLGMudG9Mb3dlckNhc2UoKSk/ZyhiLGMsIUopOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zz9nOnkuYXR0cmlidXRlc3x8IUo/Yi5nZXRBdHRyaWJ1dGUoYyk6KGc9Yi5nZXRBdHRyaWJ1dGVOb2RlKGMpKSYmZy5zcGVjaWZpZWQ/Zy52YWx1ZTpudWxsfTtlLmVycm9yPWZ1bmN0aW9uKGIpe3Rocm93IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK2IpO307ZS51bmlxdWVTb3J0PWZ1bmN0aW9uKGIpe3ZhciBjLGc9W10sZT0wLGY9MDtpYT0heS5kZXRlY3REdXBsaWNhdGVzO089IXkuc29ydFN0YWJsZSYmCmIuc2xpY2UoMCk7Yi5zb3J0KERhKTtpZihpYSl7Zm9yKDtjPWJbZisrXTspYz09PWJbZl0mJihlPWcucHVzaChmKSk7Zm9yKDtlLS07KWIuc3BsaWNlKGdbZV0sMSl9Tz1udWxsO3JldHVybiBifTtRPWUuZ2V0VGV4dD1mdW5jdGlvbihiKXt2YXIgYyxnPSIiLGU9MDtjPWIubm9kZVR5cGU7aWYoIWMpZm9yKDtjPWJbZSsrXTspZys9UShjKTtlbHNlIGlmKDE9PT1jfHw5PT09Y3x8MTE9PT1jKXtpZigic3RyaW5nIj09PXR5cGVvZiBiLnRleHRDb250ZW50KXJldHVybiBiLnRleHRDb250ZW50O2ZvcihiPWIuZmlyc3RDaGlsZDtiO2I9Yi5uZXh0U2libGluZylnKz1RKGIpfWVsc2UgaWYoMz09PWN8fDQ9PT1jKXJldHVybiBiLm5vZGVWYWx1ZTtyZXR1cm4gZ307SD1lLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmYsbWF0Y2g6a2EsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sCiIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihiKXtiWzFdPWJbMV0ucmVwbGFjZShtYSxvYSk7YlszXT0oYlszXXx8Yls0XXx8Yls1XXx8IiIpLnJlcGxhY2UobWEsb2EpOyJ+PSI9PT1iWzJdJiYoYlszXT0iICIrYlszXSsiICIpO3JldHVybiBiLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGIpe2JbMV09YlsxXS50b0xvd2VyQ2FzZSgpOyJudGgiPT09YlsxXS5zbGljZSgwLDMpPyhiWzNdfHxlLmVycm9yKGJbMF0pLGJbNF09KyhiWzRdP2JbNV0rKGJbNl18fDEpOjIqKCJldmVuIj09PWJbM118fCJvZGQiPT09YlszXSkpLGJbNV09KyhiWzddK2JbOF18fCJvZGQiPT09YlszXSkpOmJbM10mJmUuZXJyb3IoYlswXSk7cmV0dXJuIGJ9LFBTRVVETzpmdW5jdGlvbihiKXt2YXIgYyxnPSFiWzZdJiZiWzJdO2lmKGthLkNISUxELnRlc3QoYlswXSkpcmV0dXJuIG51bGw7YlszXT8KYlsyXT1iWzRdfHxiWzVdfHwiIjpnJiZVYS50ZXN0KGcpJiYoYz1EKGcsITApKSYmKGM9Zy5pbmRleE9mKCIpIixnLmxlbmd0aC1jKS1nLmxlbmd0aCkmJihiWzBdPWJbMF0uc2xpY2UoMCxjKSxiWzJdPWcuc2xpY2UoMCxjKSk7cmV0dXJuIGIuc2xpY2UoMCwzKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGIpe3ZhciBjPWIucmVwbGFjZShtYSxvYSkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1iP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGIpe3JldHVybiBiLm5vZGVOYW1lJiZiLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1jfX0sQ0xBU1M6ZnVuY3Rpb24oYil7dmFyIGM9YmFbYisiICJdO3JldHVybiBjfHwoYz1uZXcgUmVnRXhwKCIoXnxbXFx4MjBcXHRcXHJcXG5cXGZdKSIrYisiKFtcXHgyMFxcdFxcclxcblxcZl18JCkiKSxiYShiLGZ1bmN0aW9uKGIpe3JldHVybiBjLnRlc3QoInN0cmluZyI9PT10eXBlb2YgYi5jbGFzc05hbWUmJmIuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9PQp0eXBlb2YgYi5nZXRBdHRyaWJ1dGUmJmIuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KSl9LEFUVFI6ZnVuY3Rpb24oYixjLGcpe3JldHVybiBmdW5jdGlvbihmKXtmPWUuYXR0cihmLGIpO2lmKG51bGw9PWYpcmV0dXJuIiE9Ij09PWM7aWYoIWMpcmV0dXJuITA7Zis9IiI7cmV0dXJuIj0iPT09Yz9mPT09ZzoiIT0iPT09Yz9mIT09ZzoiXj0iPT09Yz9nJiYwPT09Zi5pbmRleE9mKGcpOiIqPSI9PT1jP2cmJi0xPGYuaW5kZXhPZihnKToiJD0iPT09Yz9nJiZmLnNsaWNlKC1nLmxlbmd0aCk9PT1nOiJ+PSI9PT1jPy0xPCgiICIrZisiICIpLmluZGV4T2YoZyk6Inw9Ij09PWM/Zj09PWd8fGYuc2xpY2UoMCxnLmxlbmd0aCsxKT09PWcrIi0iOiExfX0sQ0hJTEQ6ZnVuY3Rpb24oYixjLGcsZSxmKXt2YXIgZD0ibnRoIiE9PWIuc2xpY2UoMCwzKSxrPSJsYXN0IiE9PWIuc2xpY2UoLTQpLG09Im9mLXR5cGUiPT09YztyZXR1cm4gMT09PWUmJjA9PT1mP2Z1bmN0aW9uKGIpe3JldHVybiEhYi5wYXJlbnROb2RlfToKZnVuY3Rpb24oYyxnLHcpe3ZhciBoLGwseixCLG47Zz1kIT09az8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciO3ZhciBxPWMucGFyZW50Tm9kZSxDPW0mJmMubm9kZU5hbWUudG9Mb3dlckNhc2UoKTt3PSF3JiYhbTtpZihxKXtpZihkKXtmb3IoO2c7KXtmb3IobD1jO2w9bFtnXTspaWYobT9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1DOjE9PT1sLm5vZGVUeXBlKXJldHVybiExO249Zz0ib25seSI9PT1iJiYhbiYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1uPVtrP3EuZmlyc3RDaGlsZDpxLmxhc3RDaGlsZF07aWYoayYmdylmb3Iodz1xW1pdfHwocVtaXT17fSksaD13W2JdfHxbXSxCPWhbMF09PT1hYSYmaFsxXSx6PWhbMF09PT1hYSYmaFsyXSxsPUImJnEuY2hpbGROb2Rlc1tCXTtsPSsrQiYmbCYmbFtnXXx8KHo9Qj0wKXx8bi5wb3AoKTspe2lmKDE9PT1sLm5vZGVUeXBlJiYrK3omJmw9PT1jKXt3W2JdPVthYSxCLHpdO2JyZWFrfX1lbHNlIGlmKHcmJihoPShjW1pdfHwKKGNbWl09e30pKVtiXSkmJmhbMF09PT1hYSl6PWhbMV07ZWxzZSBmb3IoOyhsPSsrQiYmbCYmbFtnXXx8KHo9Qj0wKXx8bi5wb3AoKSkmJigobT9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT1DOjEhPT1sLm5vZGVUeXBlKXx8ISsrenx8KHcmJigobFtaXXx8KGxbWl09e30pKVtiXT1bYWEsel0pLGwhPT1jKSk7KTt6LT1mO3JldHVybiB6PT09ZXx8MD09PXolZSYmMDw9ei9lfX19LFBTRVVETzpmdW5jdGlvbihiLGMpe3ZhciBnLGQ9SC5wc2V1ZG9zW2JdfHxILnNldEZpbHRlcnNbYi50b0xvd2VyQ2FzZSgpXXx8ZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2IpO3JldHVybiBkW1pdP2QoYyk6MTxkLmxlbmd0aD8oZz1bYixiLCIiLGNdLEguc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShiLnRvTG93ZXJDYXNlKCkpP2YoZnVuY3Rpb24oYixnKXtmb3IodmFyIGUsZj1kKGIsYyksaz1mLmxlbmd0aDtrLS07KWU9cmEuY2FsbChiLGZba10pLGJbZV09IShnW2VdPWZba10pfSk6CmZ1bmN0aW9uKGIpe3JldHVybiBkKGIsMCxnKX0pOmR9fSxwc2V1ZG9zOntub3Q6ZihmdW5jdGlvbihiKXt2YXIgYz1bXSxnPVtdLGU9UyhiLnJlcGxhY2UoaGEsIiQxIikpO3JldHVybiBlW1pdP2YoZnVuY3Rpb24oYixjLGcsZil7Zj1lKGIsbnVsbCxmLFtdKTtmb3IodmFyIGQ9Yi5sZW5ndGg7ZC0tOylpZihnPWZbZF0pYltkXT0hKGNbZF09Zyl9KTpmdW5jdGlvbihiLGYsZCl7Y1swXT1iO2UoYyxudWxsLGQsZyk7cmV0dXJuIWcucG9wKCl9fSksaGFzOmYoZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiAwPGUoYixjKS5sZW5ndGh9fSksY29udGFpbnM6ZihmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuLTE8KGMudGV4dENvbnRlbnR8fGMuaW5uZXJUZXh0fHxRKGMpKS5pbmRleE9mKGIpfX0pLGxhbmc6ZihmdW5jdGlvbihiKXtxYS50ZXN0KGJ8fCIiKXx8ZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIitiKTtiPWIucmVwbGFjZShtYSxvYSkudG9Mb3dlckNhc2UoKTsKcmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBnO2RvIGlmKGc9Sj9jLmxhbmc6Yy5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fGMuZ2V0QXR0cmlidXRlKCJsYW5nIikpcmV0dXJuIGc9Zy50b0xvd2VyQ2FzZSgpLGc9PT1ifHwwPT09Zy5pbmRleE9mKGIrIi0iKTt3aGlsZSgoYz1jLnBhcmVudE5vZGUpJiYxPT09Yy5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGMpe3ZhciBlPWIubG9jYXRpb24mJmIubG9jYXRpb24uaGFzaDtyZXR1cm4gZSYmZS5zbGljZSgxKT09PWMuaWR9LHJvb3Q6ZnVuY3Rpb24oYil7cmV0dXJuIGI9PT1MfSxmb2N1czpmdW5jdGlvbihiKXtyZXR1cm4gYj09PVYuYWN0aXZlRWxlbWVudCYmKCFWLmhhc0ZvY3VzfHxWLmhhc0ZvY3VzKCkpJiYhIShiLnR5cGV8fGIuaHJlZnx8fmIudGFiSW5kZXgpfSxlbmFibGVkOmZ1bmN0aW9uKGIpe3JldHVybiExPT09Yi5kaXNhYmxlZH0sZGlzYWJsZWQ6ZnVuY3Rpb24oYil7cmV0dXJuITA9PT1iLmRpc2FibGVkfSwKY2hlY2tlZDpmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PWMmJiEhYi5jaGVja2VkfHwib3B0aW9uIj09PWMmJiEhYi5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYil7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtyZXR1cm4hMD09PWIuc2VsZWN0ZWR9LGVtcHR5OmZ1bmN0aW9uKGIpe2ZvcihiPWIuZmlyc3RDaGlsZDtiO2I9Yi5uZXh0U2libGluZylpZig2PmIubm9kZVR5cGUpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihiKXtyZXR1cm4hSC5wc2V1ZG9zLmVtcHR5KGIpfSxoZWFkZXI6ZnVuY3Rpb24oYil7cmV0dXJuIEhhLnRlc3QoYi5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGIpe3JldHVybiBFYS50ZXN0KGIubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT1jJiYiYnV0dG9uIj09PQpiLnR5cGV8fCJidXR0b24iPT09Y30sdGV4dDpmdW5jdGlvbihiKXt2YXIgYztyZXR1cm4iaW5wdXQiPT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1iLnR5cGUmJihudWxsPT0oYz1iLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09Yy50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6bihmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6bihmdW5jdGlvbihiLGMpe3JldHVybltjLTFdfSksZXE6bihmdW5jdGlvbihiLGMsZyl7cmV0dXJuWzA+Zz9nK2M6Z119KSxldmVuOm4oZnVuY3Rpb24oYixjKXtmb3IodmFyIGc9MDtnPGM7Zys9MiliLnB1c2goZyk7cmV0dXJuIGJ9KSxvZGQ6bihmdW5jdGlvbihiLGMpe2Zvcih2YXIgZz0xO2c8YztnKz0yKWIucHVzaChnKTtyZXR1cm4gYn0pLGx0Om4oZnVuY3Rpb24oYixjLGcpe2ZvcihjPTA+Zz9nK2M6ZzswPD0tLWM7KWIucHVzaChjKTtyZXR1cm4gYn0pLGd0Om4oZnVuY3Rpb24oYixjLGcpe2ZvcihnPTA+Zz9nK2M6ZzsrK2c8CmM7KWIucHVzaChnKTtyZXR1cm4gYn0pfX07SC5wc2V1ZG9zLm50aD1ILnBzZXVkb3MuZXE7Zm9yKE4gaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pSC5wc2V1ZG9zW05dPWgoTik7Zm9yKE4gaW57c3VibWl0OiEwLHJlc2V0OiEwfSlILnBzZXVkb3NbTl09bChOKTt1LnByb3RvdHlwZT1ILmZpbHRlcnM9SC5wc2V1ZG9zO0guc2V0RmlsdGVycz1uZXcgdTtEPWUudG9rZW5pemU9ZnVuY3Rpb24oYixjKXt2YXIgZyxmLGQsayxtLHcsaDtpZihtPVdbYisiICJdKXJldHVybiBjPzA6bS5zbGljZSgwKTttPWI7dz1bXTtmb3IoaD1ILnByZUZpbHRlcjttOyl7aWYoIWd8fChmPWxhLmV4ZWMobSkpKWYmJihtPW0uc2xpY2UoZlswXS5sZW5ndGgpfHxtKSx3LnB1c2goZD1bXSk7Zz0hMTtpZihmPW5hLmV4ZWMobSkpZz1mLnNoaWZ0KCksZC5wdXNoKHt2YWx1ZTpnLHR5cGU6ZlswXS5yZXBsYWNlKGhhLCIgIil9KSxtPW0uc2xpY2UoZy5sZW5ndGgpOwpmb3IoayBpbiBILmZpbHRlcikhKGY9a2Fba10uZXhlYyhtKSl8fGhba10mJiEoZj1oW2tdKGYpKXx8KGc9Zi5zaGlmdCgpLGQucHVzaCh7dmFsdWU6Zyx0eXBlOmssbWF0Y2hlczpmfSksbT1tLnNsaWNlKGcubGVuZ3RoKSk7aWYoIWcpYnJlYWt9cmV0dXJuIGM/bS5sZW5ndGg6bT9lLmVycm9yKGIpOlcoYix3KS5zbGljZSgwKX07Uz1lLmNvbXBpbGU9ZnVuY3Rpb24oYixjKXt2YXIgZyxlPVtdLGY9W10sZD1kYVtiKyIgIl07aWYoIWQpe2N8fChjPUQoYikpO2ZvcihnPWMubGVuZ3RoO2ctLTspZD14KGNbZ10pLGRbWl0/ZS5wdXNoKGQpOmYucHVzaChkKTtkPWRhKGIscihmLGUpKTtkLnNlbGVjdG9yPWJ9cmV0dXJuIGR9O009ZS5zZWxlY3Q9ZnVuY3Rpb24oYixjLGcsZSl7dmFyIGYsZCxrLG0sdz0iZnVuY3Rpb24iPT09dHlwZW9mIGImJmIsaD0hZSYmRChiPXcuc2VsZWN0b3J8fGIpO2c9Z3x8W107aWYoMT09PWgubGVuZ3RoKXtkPWhbMF09aFswXS5zbGljZSgwKTtpZigyPGQubGVuZ3RoJiYKIklEIj09PShrPWRbMF0pLnR5cGUmJnkuZ2V0QnlJZCYmOT09PWMubm9kZVR5cGUmJkomJkgucmVsYXRpdmVbZFsxXS50eXBlXSl7Yz0oSC5maW5kLklEKGsubWF0Y2hlc1swXS5yZXBsYWNlKG1hLG9hKSxjKXx8W10pWzBdO2lmKCFjKXJldHVybiBnO3cmJihjPWMucGFyZW50Tm9kZSk7Yj1iLnNsaWNlKGQuc2hpZnQoKS52YWx1ZS5sZW5ndGgpfWZvcihmPWthLm5lZWRzQ29udGV4dC50ZXN0KGIpPzA6ZC5sZW5ndGg7Zi0tOyl7az1kW2ZdO2lmKEgucmVsYXRpdmVbbT1rLnR5cGVdKWJyZWFrO2lmKG09SC5maW5kW21dKWlmKGU9bShrLm1hdGNoZXNbMF0ucmVwbGFjZShtYSxvYSksc2EudGVzdChkWzBdLnR5cGUpJiZxKGMucGFyZW50Tm9kZSl8fGMpKXtkLnNwbGljZShmLDEpO2I9ZS5sZW5ndGgmJnAoZCk7aWYoIWIpcmV0dXJuIFkuYXBwbHkoZyxlKSxnO2JyZWFrfX19KHd8fFMoYixoKSkoZSxjLCFKLGcsc2EudGVzdChiKSYmcShjLnBhcmVudE5vZGUpfHxjKTtyZXR1cm4gZ307Cnkuc29ydFN0YWJsZT1aLnNwbGl0KCIiKS5zb3J0KERhKS5qb2luKCIiKT09PVo7eS5kZXRlY3REdXBsaWNhdGVzPSEhaWE7SSgpO3kuc29ydERldGFjaGVkPWQoZnVuY3Rpb24oYil7cmV0dXJuIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oVi5jcmVhdGVFbGVtZW50KCJkaXYiKSkmMX0pO2QoZnVuY3Rpb24oYil7Yi5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iO3JldHVybiIjIj09PWIuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxrKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihiLGMsZyl7aWYoIWcpcmV0dXJuIGIuZ2V0QXR0cmlidXRlKGMsInR5cGUiPT09Yy50b0xvd2VyQ2FzZSgpPzE6Mil9KTt5LmF0dHJpYnV0ZXMmJmQoZnVuY3Rpb24oYil7Yi5pbm5lckhUTUw9IjxpbnB1dC8+IjtiLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpO3JldHVybiIiPT09Yi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHwKaygidmFsdWUiLGZ1bmN0aW9uKGIsYyxnKXtpZighZyYmImlucHV0Ij09PWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gYi5kZWZhdWx0VmFsdWV9KTtkKGZ1bmN0aW9uKGIpe3JldHVybiBudWxsPT1iLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxrKCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsZnVuY3Rpb24oYixjLGcpe3ZhciBlO2lmKCFnKXJldHVybiEwPT09YltjXT9jLnRvTG93ZXJDYXNlKCk6KGU9Yi5nZXRBdHRyaWJ1dGVOb2RlKGMpKSYmZS5zcGVjaWZpZWQ/ZS52YWx1ZTpudWxsfSk7cmV0dXJuIGV9KGQpO2YuZmluZD1WYTtmLmV4cHI9VmEuc2VsZWN0b3JzO2YuZXhwclsiOiJdPWYuZXhwci5wc2V1ZG9zO2YudW5pcXVlPVZhLnVuaXF1ZVNvcnQ7Zi50ZXh0PVZhLmdldFRleHQ7CmYuaXNYTUxEb2M9VmEuaXNYTUw7Zi5jb250YWlucz1WYS5jb250YWluczt2YXIgS2I9Zi5leHByLm1hdGNoLm5lZWRzQ29udGV4dCxPYT0vXjwoXHcrKVxzKlwvPz4oPzo8XC9cMT58KSQvLExiPS9eLlteOiNcW1wuLF0qJC87Zi5maWx0ZXI9ZnVuY3Rpb24oYixlLGMpe3ZhciBkPWVbMF07YyYmKGI9Ijpub3QoIitiKyIpIik7cmV0dXJuIDE9PT1lLmxlbmd0aCYmMT09PWQubm9kZVR5cGU/Zi5maW5kLm1hdGNoZXNTZWxlY3RvcihkLGIpP1tkXTpbXTpmLmZpbmQubWF0Y2hlcyhiLGYuZ3JlcChlLGZ1bmN0aW9uKGIpe3JldHVybiAxPT09Yi5ub2RlVHlwZX0pKX07Zi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYil7dmFyIGUsYz1bXSxkPXRoaXMsaz1kLmxlbmd0aDtpZigic3RyaW5nIiE9PXR5cGVvZiBiKXJldHVybiB0aGlzLnB1c2hTdGFjayhmKGIpLmZpbHRlcihmdW5jdGlvbigpe2ZvcihlPTA7ZTxrO2UrKylpZihmLmNvbnRhaW5zKGRbZV0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKGU9CjA7ZTxrO2UrKylmLmZpbmQoYixkW2VdLGMpO2M9dGhpcy5wdXNoU3RhY2soMTxrP2YudW5pcXVlKGMpOmMpO2Muc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yKyIgIitiOmI7cmV0dXJuIGN9LGZpbHRlcjpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socCh0aGlzLGJ8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socCh0aGlzLGJ8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGIpe3JldHVybiEhcCh0aGlzLCJzdHJpbmciPT09dHlwZW9mIGImJktiLnRlc3QoYik/ZihiKTpifHxbXSwhMSkubGVuZ3RofX0pO3ZhciBYYSxKPWQuZG9jdW1lbnQsYmI9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0qKSkkLzsoZi5mbi5pbml0PWZ1bmN0aW9uKGIsZSl7dmFyIGM7aWYoIWIpcmV0dXJuIHRoaXM7aWYoInN0cmluZyI9PT10eXBlb2YgYil7Yz0iPCI9PT1iLmNoYXJBdCgwKSYmIj4iPT09Yi5jaGFyQXQoYi5sZW5ndGgtCjEpJiYzPD1iLmxlbmd0aD9bbnVsbCxiLG51bGxdOmJiLmV4ZWMoYik7aWYoIWN8fCFjWzFdJiZlKXJldHVybiFlfHxlLmpxdWVyeT8oZXx8WGEpLmZpbmQoYik6dGhpcy5jb25zdHJ1Y3RvcihlKS5maW5kKGIpO2lmKGNbMV0pe2lmKGU9ZSBpbnN0YW5jZW9mIGY/ZVswXTplLGYubWVyZ2UodGhpcyxmLnBhcnNlSFRNTChjWzFdLGUmJmUubm9kZVR5cGU/ZS5vd25lckRvY3VtZW50fHxlOkosITApKSxPYS50ZXN0KGNbMV0pJiZmLmlzUGxhaW5PYmplY3QoZSkpZm9yKGMgaW4gZSlpZihmLmlzRnVuY3Rpb24odGhpc1tjXSkpdGhpc1tjXShlW2NdKTtlbHNlIHRoaXMuYXR0cihjLGVbY10pfWVsc2V7aWYoKGU9Si5nZXRFbGVtZW50QnlJZChjWzJdKSkmJmUucGFyZW50Tm9kZSl7aWYoZS5pZCE9PWNbMl0pcmV0dXJuIFhhLmZpbmQoYik7dGhpcy5sZW5ndGg9MTt0aGlzWzBdPWV9dGhpcy5jb250ZXh0PUo7dGhpcy5zZWxlY3Rvcj1ifXJldHVybiB0aGlzfWlmKGIubm9kZVR5cGUpcmV0dXJuIHRoaXMuY29udGV4dD0KdGhpc1swXT1iLHRoaXMubGVuZ3RoPTEsdGhpcztpZihmLmlzRnVuY3Rpb24oYikpcmV0dXJuInVuZGVmaW5lZCIhPT10eXBlb2YgWGEucmVhZHk/WGEucmVhZHkoYik6YihmKTt2b2lkIDAhPT1iLnNlbGVjdG9yJiYodGhpcy5zZWxlY3Rvcj1iLnNlbGVjdG9yLHRoaXMuY29udGV4dD1iLmNvbnRleHQpO3JldHVybiBmLm1ha2VBcnJheShiLHRoaXMpfSkucHJvdG90eXBlPWYuZm47WGE9ZihKKTt2YXIgST0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxpYz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmLmV4dGVuZCh7ZGlyOmZ1bmN0aW9uKGIsZSxjKXt2YXIgZD1bXTtmb3IoYj1iW2VdO2ImJjkhPT1iLm5vZGVUeXBlJiYodm9pZCAwPT09Y3x8MSE9PWIubm9kZVR5cGV8fCFmKGIpLmlzKGMpKTspMT09PWIubm9kZVR5cGUmJmQucHVzaChiKSxiPWJbZV07cmV0dXJuIGR9LHNpYmxpbmc6ZnVuY3Rpb24oYixlKXtmb3IodmFyIGM9W107YjtiPQpiLm5leHRTaWJsaW5nKTE9PT1iLm5vZGVUeXBlJiZiIT09ZSYmYy5wdXNoKGIpO3JldHVybiBjfX0pO2YuZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24oYil7dmFyIGUsYz1mKGIsdGhpcyksZD1jLmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoZT0wO2U8ZDtlKyspaWYoZi5jb250YWlucyh0aGlzLGNbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oYixlKXtmb3IodmFyIGMsZD0wLGs9dGhpcy5sZW5ndGgsbT1bXSxoPUtiLnRlc3QoYil8fCJzdHJpbmciIT09dHlwZW9mIGI/ZihiLGV8fHRoaXMuY29udGV4dCk6MDtkPGs7ZCsrKWZvcihjPXRoaXNbZF07YyYmYyE9PWU7Yz1jLnBhcmVudE5vZGUpaWYoMTE+Yy5ub2RlVHlwZSYmKGg/LTE8aC5pbmRleChjKToxPT09Yy5ub2RlVHlwZSYmZi5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGIpKSl7bS5wdXNoKGMpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG0ubGVuZ3RoP2YudW5pcXVlKG0pOm0pfSwKaW5kZXg6ZnVuY3Rpb24oYil7cmV0dXJuIGI/InN0cmluZyI9PT10eXBlb2YgYj9mLmluQXJyYXkodGhpc1swXSxmKGIpKTpmLmluQXJyYXkoYi5qcXVlcnk/YlswXTpiLHRoaXMpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKGIsZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGYudW5pcXVlKGYubWVyZ2UodGhpcy5nZXQoKSxmKGIsZSkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWI/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYikpfX0pO2YuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGIpe3JldHVybihiPWIucGFyZW50Tm9kZSkmJjExIT09Yi5ub2RlVHlwZT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYil7cmV0dXJuIGYuZGlyKGIsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGIsZSxjKXtyZXR1cm4gZi5kaXIoYiwKInBhcmVudE5vZGUiLGMpfSxuZXh0OmZ1bmN0aW9uKGIpe3JldHVybiBoKGIsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oYil7cmV0dXJuIGgoYiwicHJldmlvdXNTaWJsaW5nIil9LG5leHRBbGw6ZnVuY3Rpb24oYil7cmV0dXJuIGYuZGlyKGIsIm5leHRTaWJsaW5nIil9LHByZXZBbGw6ZnVuY3Rpb24oYil7cmV0dXJuIGYuZGlyKGIsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYixlLGMpe3JldHVybiBmLmRpcihiLCJuZXh0U2libGluZyIsYyl9LHByZXZVbnRpbDpmdW5jdGlvbihiLGUsYyl7cmV0dXJuIGYuZGlyKGIsInByZXZpb3VzU2libGluZyIsYyl9LHNpYmxpbmdzOmZ1bmN0aW9uKGIpe3JldHVybiBmLnNpYmxpbmcoKGIucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsYil9LGNoaWxkcmVuOmZ1bmN0aW9uKGIpe3JldHVybiBmLnNpYmxpbmcoYi5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYil7cmV0dXJuIGYubm9kZU5hbWUoYiwKImlmcmFtZSIpP2IuY29udGVudERvY3VtZW50fHxiLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6Zi5tZXJnZShbXSxiLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oYixlKXtmLmZuW2JdPWZ1bmN0aW9uKGMsZCl7dmFyIGs9Zi5tYXAodGhpcyxlLGMpOyJVbnRpbCIhPT1iLnNsaWNlKC01KSYmKGQ9Yyk7ZCYmInN0cmluZyI9PT10eXBlb2YgZCYmKGs9Zi5maWx0ZXIoZCxrKSk7MTx0aGlzLmxlbmd0aCYmKGljW2JdfHwoaz1mLnVuaXF1ZShrKSksSS50ZXN0KGIpJiYoaz1rLnJldmVyc2UoKSkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhrKX19KTt2YXIgQmE9L1xTKy9nLE1iPXt9O2YuQ2FsbGJhY2tzPWZ1bmN0aW9uKGIpe2I9InN0cmluZyI9PT10eXBlb2YgYj9NYltiXXx8bChiKTpmLmV4dGVuZCh7fSxiKTt2YXIgZSxjLGQsayxtLGgsbj1bXSxxPSFiLm9uY2UmJltdLHU9ZnVuY3Rpb24oZil7Yz1iLm1lbW9yeSYmZjtkPSEwO209aHx8MDtoPTA7az1uLmxlbmd0aDtmb3IoZT0hMDtuJiZtPAprO20rKylpZighMT09PW5bbV0uYXBwbHkoZlswXSxmWzFdKSYmYi5zdG9wT25GYWxzZSl7Yz0hMTticmVha31lPSExO24mJihxP3EubGVuZ3RoJiZ1KHEuc2hpZnQoKSk6Yz9uPVtdOnAuZGlzYWJsZSgpKX0scD17YWRkOmZ1bmN0aW9uKCl7aWYobil7dmFyIGQ9bi5sZW5ndGg7KGZ1bmN0aW9uIHVjKGMpe2YuZWFjaChjLGZ1bmN0aW9uKGMsZSl7Yz1mLnR5cGUoZSk7ImZ1bmN0aW9uIj09PWM/Yi51bmlxdWUmJnAuaGFzKGUpfHxuLnB1c2goZSk6ZSYmZS5sZW5ndGgmJiJzdHJpbmciIT09YyYmdWMoZSl9KX0pKGFyZ3VtZW50cyk7ZT9rPW4ubGVuZ3RoOmMmJihoPWQsdShjKSl9cmV0dXJuIHRoaXN9LHJlbW92ZTpmdW5jdGlvbigpe24mJmYuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYixjKXtmb3IodmFyIGc7LTE8KGc9Zi5pbkFycmF5KGMsbixnKSk7KW4uc3BsaWNlKGcsMSksZSYmKGc8PWsmJmstLSxnPD1tJiZtLS0pfSk7cmV0dXJuIHRoaXN9LGhhczpmdW5jdGlvbihiKXtyZXR1cm4gYj8KLTE8Zi5pbkFycmF5KGIsbik6ISghbnx8IW4ubGVuZ3RoKX0sZW1wdHk6ZnVuY3Rpb24oKXtuPVtdO2s9MDtyZXR1cm4gdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe249cT1jPXZvaWQgMDtyZXR1cm4gdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hbn0sbG9jazpmdW5jdGlvbigpe3E9dm9pZCAwO2N8fHAuZGlzYWJsZSgpO3JldHVybiB0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hcX0sZmlyZVdpdGg6ZnVuY3Rpb24oYixjKXshbnx8ZCYmIXF8fChjPWN8fFtdLGM9W2IsYy5zbGljZT9jLnNsaWNlKCk6Y10sZT9xLnB1c2goYyk6dShjKSk7cmV0dXJuIHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtwLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWR9fTtyZXR1cm4gcH07Zi5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGIpe3ZhciBlPVtbInJlc29sdmUiLCJkb25lIixmLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwKInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixmLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwicmVqZWN0ZWQiXSxbIm5vdGlmeSIsInByb2dyZXNzIixmLkNhbGxiYWNrcygibWVtb3J5IildXSxjPSJwZW5kaW5nIixkPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBjfSxhbHdheXM6ZnVuY3Rpb24oKXtrLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9LHRoZW46ZnVuY3Rpb24oKXt2YXIgYj1hcmd1bWVudHM7cmV0dXJuIGYuRGVmZXJyZWQoZnVuY3Rpb24oYyl7Zi5lYWNoKGUsZnVuY3Rpb24oZyxlKXt2YXIgbT1mLmlzRnVuY3Rpb24oYltnXSkmJmJbZ107a1tlWzFdXShmdW5jdGlvbigpe3ZhciBiPW0mJm0uYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKGImJmYuaXNGdW5jdGlvbihiLnByb21pc2UpKWIucHJvbWlzZSgpLmRvbmUoYy5yZXNvbHZlKS5mYWlsKGMucmVqZWN0KS5wcm9ncmVzcyhjLm5vdGlmeSk7ZWxzZSBjW2VbMF0rIldpdGgiXSh0aGlzPT09CmQ/Yy5wcm9taXNlKCk6dGhpcyxtP1tiXTphcmd1bWVudHMpfSl9KTtiPW51bGx9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oYil7cmV0dXJuIG51bGwhPWI/Zi5leHRlbmQoYixkKTpkfX0saz17fTtkLnBpcGU9ZC50aGVuO2YuZWFjaChlLGZ1bmN0aW9uKGIsZyl7dmFyIGY9Z1syXSxtPWdbM107ZFtnWzFdXT1mLmFkZDttJiZmLmFkZChmdW5jdGlvbigpe2M9bX0sZVtiXjFdWzJdLmRpc2FibGUsZVsyXVsyXS5sb2NrKTtrW2dbMF1dPWZ1bmN0aW9uKCl7a1tnWzBdKyJXaXRoIl0odGhpcz09PWs/ZDp0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9O2tbZ1swXSsiV2l0aCJdPWYuZmlyZVdpdGh9KTtkLnByb21pc2Uoayk7YiYmYi5jYWxsKGssayk7cmV0dXJuIGt9LHdoZW46ZnVuY3Rpb24oYil7dmFyIGU9MCxjPVguY2FsbChhcmd1bWVudHMpLGQ9Yy5sZW5ndGgsaz0xIT09ZHx8YiYmZi5pc0Z1bmN0aW9uKGIucHJvbWlzZSk/ZDowLG09MT09PWs/YjpmLkRlZmVycmVkKCksCmg9ZnVuY3Rpb24oYixjLGcpe3JldHVybiBmdW5jdGlvbihlKXtjW2JdPXRoaXM7Z1tiXT0xPGFyZ3VtZW50cy5sZW5ndGg/WC5jYWxsKGFyZ3VtZW50cyk6ZTtnPT09bD9tLm5vdGlmeVdpdGgoYyxnKTotLWt8fG0ucmVzb2x2ZVdpdGgoYyxnKX19LGwsbixxO2lmKDE8ZClmb3IobD1BcnJheShkKSxuPUFycmF5KGQpLHE9QXJyYXkoZCk7ZTxkO2UrKyljW2VdJiZmLmlzRnVuY3Rpb24oY1tlXS5wcm9taXNlKT9jW2VdLnByb21pc2UoKS5kb25lKGgoZSxxLGMpKS5mYWlsKG0ucmVqZWN0KS5wcm9ncmVzcyhoKGUsbixsKSk6LS1rO2t8fG0ucmVzb2x2ZVdpdGgocSxjKTtyZXR1cm4gbS5wcm9taXNlKCl9fSk7dmFyIGthO2YuZm4ucmVhZHk9ZnVuY3Rpb24oYil7Zi5yZWFkeS5wcm9taXNlKCkuZG9uZShiKTtyZXR1cm4gdGhpc307Zi5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGIpe2I/Zi5yZWFkeVdhaXQrKzpmLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYil7aWYoITA9PT0KYj8hLS1mLnJlYWR5V2FpdDohZi5pc1JlYWR5KXtpZighSi5ib2R5KXJldHVybiBzZXRUaW1lb3V0KGYucmVhZHkpO2YuaXNSZWFkeT0hMDshMCE9PWImJjA8LS1mLnJlYWR5V2FpdHx8KGthLnJlc29sdmVXaXRoKEosW2ZdKSxmLmZuLnRyaWdnZXJIYW5kbGVyJiYoZihKKS50cmlnZ2VySGFuZGxlcigicmVhZHkiKSxmKEopLm9mZigicmVhZHkiKSkpfX19KTtmLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7aWYoIWthKWlmKGthPWYuRGVmZXJyZWQoKSwiY29tcGxldGUiPT09Si5yZWFkeVN0YXRlKXNldFRpbWVvdXQoZi5yZWFkeSk7ZWxzZSBpZihKLmFkZEV2ZW50TGlzdGVuZXIpSi5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixuLCExKSxkLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLG4sITEpO2Vsc2V7Si5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixuKTtkLmF0dGFjaEV2ZW50KCJvbmxvYWQiLG4pO3ZhciBlPSExO3RyeXtlPW51bGw9PWQuZnJhbWVFbGVtZW50JiYKSi5kb2N1bWVudEVsZW1lbnR9Y2F0Y2goYyl7fWUmJmUuZG9TY3JvbGwmJmZ1bmN0aW9uIHcoKXtpZighZi5pc1JlYWR5KXt0cnl7ZS5kb1Njcm9sbCgibGVmdCIpfWNhdGNoKGIpe3JldHVybiBzZXRUaW1lb3V0KHcsNTApfXYoKTtmLnJlYWR5KCl9fSgpfXJldHVybiBrYS5wcm9taXNlKGIpfTtmb3IodmFyIEpiIGluIGYoRCkpYnJlYWs7RC5vd25MYXN0PSIwIiE9PUpiO0QuaW5saW5lQmxvY2tOZWVkc0xheW91dD0hMTtmKGZ1bmN0aW9uKCl7dmFyIGIsZSxjOyhlPUouZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSkmJmUuc3R5bGUmJihiPUouY3JlYXRlRWxlbWVudCgiZGl2IiksYz1KLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGMuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLGUuYXBwZW5kQ2hpbGQoYykuYXBwZW5kQ2hpbGQoYiksInVuZGVmaW5lZCIhPT10eXBlb2YgYi5zdHlsZS56b29tJiYKKGIuc3R5bGUuY3NzVGV4dD0iZGlzcGxheTppbmxpbmU7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzoxcHg7d2lkdGg6MXB4O3pvb206MSIsRC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PWI9Mz09PWIub2Zmc2V0V2lkdGgpJiYoZS5zdHlsZS56b29tPTEpLGUucmVtb3ZlQ2hpbGQoYykpfSk7KGZ1bmN0aW9uKCl7dmFyIGI9Si5jcmVhdGVFbGVtZW50KCJkaXYiKTtpZihudWxsPT1ELmRlbGV0ZUV4cGFuZG8pe0QuZGVsZXRlRXhwYW5kbz0hMDt0cnl7ZGVsZXRlIGIudGVzdH1jYXRjaChlKXtELmRlbGV0ZUV4cGFuZG89ITF9fX0pKCk7Zi5hY2NlcHREYXRhPWZ1bmN0aW9uKGIpe3ZhciBlPWYubm9EYXRhWyhiLm5vZGVOYW1lKyIgIikudG9Mb3dlckNhc2UoKV0sYz0rYi5ub2RlVHlwZXx8MTtyZXR1cm4gMSE9PWMmJjkhPT1jPyExOiFlfHwhMCE9PWUmJmIuZ2V0QXR0cmlidXRlKCJjbGFzc2lkIik9PT1lfTt2YXIga2I9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxqYz0vKFtBLVpdKS9nOwpmLmV4dGVuZCh7Y2FjaGU6e30sbm9EYXRhOnsiYXBwbGV0ICI6ITAsImVtYmVkICI6ITAsIm9iamVjdCAiOiJjbHNpZDpEMjdDREI2RS1BRTZELTExY2YtOTZCOC00NDQ1NTM1NDAwMDAifSxoYXNEYXRhOmZ1bmN0aW9uKGIpe2I9Yi5ub2RlVHlwZT9mLmNhY2hlW2JbZi5leHBhbmRvXV06YltmLmV4cGFuZG9dO3JldHVybiEhYiYmIUUoYil9LGRhdGE6ZnVuY3Rpb24oYixlLGMpe3JldHVybiBNKGIsZSxjKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihiLGUpe3JldHVybiBGKGIsZSl9LF9kYXRhOmZ1bmN0aW9uKGIsZSxjKXtyZXR1cm4gTShiLGUsYywhMCl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKGIsZSl7cmV0dXJuIEYoYixlLCEwKX19KTtmLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihiLGUpe3ZhciBjLGQsayxtPXRoaXNbMF0saD1tJiZtLmF0dHJpYnV0ZXM7aWYodm9pZCAwPT09Yil7aWYodGhpcy5sZW5ndGgmJihrPWYuZGF0YShtKSwxPT09bS5ub2RlVHlwZSYmIWYuX2RhdGEobSwKInBhcnNlZEF0dHJzIikpKXtmb3IoYz1oLmxlbmd0aDtjLS07KWhbY10mJihkPWhbY10ubmFtZSwwPT09ZC5pbmRleE9mKCJkYXRhLSIpJiYoZD1mLmNhbWVsQ2FzZShkLnNsaWNlKDUpKSxBKG0sZCxrW2RdKSkpO2YuX2RhdGEobSwicGFyc2VkQXR0cnMiLCEwKX1yZXR1cm4ga31yZXR1cm4ib2JqZWN0Ij09PXR5cGVvZiBiP3RoaXMuZWFjaChmdW5jdGlvbigpe2YuZGF0YSh0aGlzLGIpfSk6MTxhcmd1bWVudHMubGVuZ3RoP3RoaXMuZWFjaChmdW5jdGlvbigpe2YuZGF0YSh0aGlzLGIsZSl9KTptP0EobSxiLGYuZGF0YShtLGIpKTp2b2lkIDB9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YucmVtb3ZlRGF0YSh0aGlzLGIpfSl9fSk7Zi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGIsZSxjKXt2YXIgZDtpZihiKXJldHVybiBlPShlfHwiZngiKSsicXVldWUiLGQ9Zi5fZGF0YShiLGUpLGMmJighZHx8Zi5pc0FycmF5KGMpP2Q9Zi5fZGF0YShiLAplLGYubWFrZUFycmF5KGMpKTpkLnB1c2goYykpLGR8fFtdfSxkZXF1ZXVlOmZ1bmN0aW9uKGIsZSl7ZT1lfHwiZngiO3ZhciBjPWYucXVldWUoYixlKSxkPWMubGVuZ3RoLGs9Yy5zaGlmdCgpLG09Zi5fcXVldWVIb29rcyhiLGUpLGg9ZnVuY3Rpb24oKXtmLmRlcXVldWUoYixlKX07ImlucHJvZ3Jlc3MiPT09ayYmKGs9Yy5zaGlmdCgpLGQtLSk7ayYmKCJmeCI9PT1lJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgbS5zdG9wLGsuY2FsbChiLGgsbSkpOyFkJiZtJiZtLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYixlKXt2YXIgYz1lKyJxdWV1ZUhvb2tzIjtyZXR1cm4gZi5fZGF0YShiLGMpfHxmLl9kYXRhKGIsYyx7ZW1wdHk6Zi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7Zi5fcmVtb3ZlRGF0YShiLGUrInF1ZXVlIik7Zi5fcmVtb3ZlRGF0YShiLGMpfSl9KX19KTtmLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYixlKXt2YXIgYz0KMjsic3RyaW5nIiE9PXR5cGVvZiBiJiYoZT1iLGI9ImZ4IixjLS0pO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPGM/Zi5xdWV1ZSh0aGlzWzBdLGIpOnZvaWQgMD09PWU/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1mLnF1ZXVlKHRoaXMsYixlKTtmLl9xdWV1ZUhvb2tzKHRoaXMsYik7ImZ4Ij09PWImJiJpbnByb2dyZXNzIiE9PWNbMF0mJmYuZGVxdWV1ZSh0aGlzLGIpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YuZGVxdWV1ZSh0aGlzLGIpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucXVldWUoYnx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYixlKXt2YXIgYyxkPTEsaz1mLkRlZmVycmVkKCksbT10aGlzLGg9dGhpcy5sZW5ndGgsbD1mdW5jdGlvbigpey0tZHx8ay5yZXNvbHZlV2l0aChtLFttXSl9OyJzdHJpbmciIT09dHlwZW9mIGImJihlPWIsYj12b2lkIDApO2ZvcihiPWJ8fCJmeCI7aC0tOykoYz0KZi5fZGF0YShtW2hdLGIrInF1ZXVlSG9va3MiKSkmJmMuZW1wdHkmJihkKyssYy5lbXB0eS5hZGQobCkpO2woKTtyZXR1cm4gay5wcm9taXNlKGUpfX0pO3ZhciBoYj0vWystXT8oPzpcZCpcLnwpXGQrKD86W2VFXVsrLV0/XGQrfCkvLnNvdXJjZSxMYT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLElhPWZ1bmN0aW9uKGIsZSl7Yj1lfHxiO3JldHVybiJub25lIj09PWYuY3NzKGIsImRpc3BsYXkiKXx8IWYuY29udGFpbnMoYi5vd25lckRvY3VtZW50LGIpfSxwYT1mLmFjY2Vzcz1mdW5jdGlvbihiLGUsYyxkLGssbSxoKXt2YXIgbD0wLG49Yi5sZW5ndGgscT1udWxsPT1jO2lmKCJvYmplY3QiPT09Zi50eXBlKGMpKWZvcihsIGluIGs9ITAsYylmLmFjY2VzcyhiLGUsbCxjW2xdLCEwLG0saCk7ZWxzZSBpZih2b2lkIDAhPT1kJiYoaz0hMCxmLmlzRnVuY3Rpb24oZCl8fChoPSEwKSxxJiYoaD8oZS5jYWxsKGIsZCksZT1udWxsKToocT1lLGU9ZnVuY3Rpb24oYixjLGcpe3JldHVybiBxLmNhbGwoZihiKSwKZyl9KSksZSkpZm9yKDtsPG47bCsrKWUoYltsXSxjLGg/ZDpkLmNhbGwoYltsXSxsLGUoYltsXSxjKSkpO3JldHVybiBrP2I6cT9lLmNhbGwoYik6bj9lKGJbMF0sYyk6bX0sTWE9L14oPzpjaGVja2JveHxyYWRpbykkL2k7KGZ1bmN0aW9uKCl7dmFyIGI9Si5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLGU9Si5jcmVhdGVFbGVtZW50KCJkaXYiKSxjPUouY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2UuaW5uZXJIVE1MPSIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz4iO0QubGVhZGluZ1doaXRlc3BhY2U9Mz09PWUuZmlyc3RDaGlsZC5ub2RlVHlwZTtELnRib2R5PSFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpLmxlbmd0aDtELmh0bWxTZXJpYWxpemU9ISFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJsaW5rIikubGVuZ3RoO0QuaHRtbDVDbG9uZT0iPDpuYXY+PC86bmF2PiIhPT1KLmNyZWF0ZUVsZW1lbnQoIm5hdiIpLmNsb25lTm9kZSghMCkub3V0ZXJIVE1MOwpiLnR5cGU9ImNoZWNrYm94IjtiLmNoZWNrZWQ9ITA7Yy5hcHBlbmRDaGlsZChiKTtELmFwcGVuZENoZWNrZWQ9Yi5jaGVja2VkO2UuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IjtELm5vQ2xvbmVDaGVja2VkPSEhZS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7Yy5hcHBlbmRDaGlsZChlKTtlLmlubmVySFRNTD0iPGlucHV0IHR5cGU9J3JhZGlvJyBjaGVja2VkPSdjaGVja2VkJyBuYW1lPSd0Jy8+IjtELmNoZWNrQ2xvbmU9ZS5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQ7RC5ub0Nsb25lRXZlbnQ9ITA7ZS5hdHRhY2hFdmVudCYmKGUuYXR0YWNoRXZlbnQoIm9uY2xpY2siLGZ1bmN0aW9uKCl7RC5ub0Nsb25lRXZlbnQ9ITF9KSxlLmNsb25lTm9kZSghMCkuY2xpY2soKSk7aWYobnVsbD09RC5kZWxldGVFeHBhbmRvKXtELmRlbGV0ZUV4cGFuZG89ITA7dHJ5e2RlbGV0ZSBlLnRlc3R9Y2F0Y2goZil7RC5kZWxldGVFeHBhbmRvPQohMX19fSkoKTsoZnVuY3Rpb24oKXt2YXIgYixlLGM9Si5jcmVhdGVFbGVtZW50KCJkaXYiKTtmb3IoYiBpbntzdWJtaXQ6ITAsY2hhbmdlOiEwLGZvY3VzaW46ITB9KWU9Im9uIitiLChEW2IrIkJ1YmJsZXMiXT1lIGluIGQpfHwoYy5zZXRBdHRyaWJ1dGUoZSwidCIpLERbYisiQnViYmxlcyJdPSExPT09Yy5hdHRyaWJ1dGVzW2VdLmV4cGFuZG8pfSkoKTt2YXIgbWE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWEpJC9pLHZiPS9ea2V5Lyx4Yj0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnUpfGNsaWNrLyxOYj0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sT2I9L14oW14uXSopKD86XC4oLispfCkkLztmLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGIsZSxjLGQsayl7dmFyIG0saCxsLG4scSx1LHAsdixBO2lmKGw9Zi5fZGF0YShiKSl7Yy5oYW5kbGVyJiYobj1jLGM9bi5oYW5kbGVyLGs9bi5zZWxlY3Rvcik7Yy5ndWlkfHwoYy5ndWlkPWYuZ3VpZCsrKTsKKGg9bC5ldmVudHMpfHwoaD1sLmV2ZW50cz17fSk7KHE9bC5oYW5kbGUpfHwocT1sLmhhbmRsZT1mdW5jdGlvbihiKXtyZXR1cm4idW5kZWZpbmVkIj09PXR5cGVvZiBmfHxiJiZmLmV2ZW50LnRyaWdnZXJlZD09PWIudHlwZT92b2lkIDA6Zi5ldmVudC5kaXNwYXRjaC5hcHBseShxLmVsZW0sYXJndW1lbnRzKX0scS5lbGVtPWIpO2U9KGV8fCIiKS5tYXRjaChCYSl8fFsiIl07Zm9yKGw9ZS5sZW5ndGg7bC0tOyltPU9iLmV4ZWMoZVtsXSl8fFtdLHY9dT1tWzFdLEE9KG1bMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSx2JiYobT1mLmV2ZW50LnNwZWNpYWxbdl18fHt9LHY9KGs/bS5kZWxlZ2F0ZVR5cGU6bS5iaW5kVHlwZSl8fHYsbT1mLmV2ZW50LnNwZWNpYWxbdl18fHt9LHU9Zi5leHRlbmQoe3R5cGU6dixvcmlnVHlwZTp1LGRhdGE6ZCxoYW5kbGVyOmMsZ3VpZDpjLmd1aWQsc2VsZWN0b3I6ayxuZWVkc0NvbnRleHQ6ayYmZi5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGspLApuYW1lc3BhY2U6QS5qb2luKCIuIil9LG4pLChwPWhbdl0pfHwocD1oW3ZdPVtdLHAuZGVsZWdhdGVDb3VudD0wLG0uc2V0dXAmJiExIT09bS5zZXR1cC5jYWxsKGIsZCxBLHEpfHwoYi5hZGRFdmVudExpc3RlbmVyP2IuYWRkRXZlbnRMaXN0ZW5lcih2LHEsITEpOmIuYXR0YWNoRXZlbnQmJmIuYXR0YWNoRXZlbnQoIm9uIit2LHEpKSksbS5hZGQmJihtLmFkZC5jYWxsKGIsdSksdS5oYW5kbGVyLmd1aWR8fCh1LmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxrP3Auc3BsaWNlKHAuZGVsZWdhdGVDb3VudCsrLDAsdSk6cC5wdXNoKHUpLGYuZXZlbnQuZ2xvYmFsW3ZdPSEwKTtiPW51bGx9fSxyZW1vdmU6ZnVuY3Rpb24oYixlLGMsZCxrKXt2YXIgbSxoLGwsbixxLHUscCx2LEEsWCxFLHg9Zi5oYXNEYXRhKGIpJiZmLl9kYXRhKGIpO2lmKHgmJih1PXguZXZlbnRzKSl7ZT0oZXx8IiIpLm1hdGNoKEJhKXx8WyIiXTtmb3IocT1lLmxlbmd0aDtxLS07KWlmKGw9T2IuZXhlYyhlW3FdKXx8W10sQT0KRT1sWzFdLFg9KGxbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxBKXtwPWYuZXZlbnQuc3BlY2lhbFtBXXx8e307QT0oZD9wLmRlbGVnYXRlVHlwZTpwLmJpbmRUeXBlKXx8QTt2PXVbQV18fFtdO2w9bFsyXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIrWC5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTtmb3Iobj1tPXYubGVuZ3RoO20tLTspaD12W21dLCFrJiZFIT09aC5vcmlnVHlwZXx8YyYmYy5ndWlkIT09aC5ndWlkfHxsJiYhbC50ZXN0KGgubmFtZXNwYWNlKXx8ZCYmZCE9PWguc2VsZWN0b3ImJigiKioiIT09ZHx8IWguc2VsZWN0b3IpfHwodi5zcGxpY2UobSwxKSxoLnNlbGVjdG9yJiZ2LmRlbGVnYXRlQ291bnQtLSxwLnJlbW92ZSYmcC5yZW1vdmUuY2FsbChiLGgpKTtuJiYhdi5sZW5ndGgmJihwLnRlYXJkb3duJiYhMSE9PXAudGVhcmRvd24uY2FsbChiLFgseC5oYW5kbGUpfHxmLnJlbW92ZUV2ZW50KGIsQSx4LmhhbmRsZSksZGVsZXRlIHVbQV0pfWVsc2UgZm9yKEEgaW4gdSlmLmV2ZW50LnJlbW92ZShiLApBK2VbcV0sYyxkLCEwKTtmLmlzRW1wdHlPYmplY3QodSkmJihkZWxldGUgeC5oYW5kbGUsZi5fcmVtb3ZlRGF0YShiLCJldmVudHMiKSl9fSx0cmlnZ2VyOmZ1bmN0aW9uKGIsZSxjLGspe3ZhciBtLGgsbCxuLHEsdSxwPVtjfHxKXSx2PWphLmNhbGwoYiwidHlwZSIpP2IudHlwZTpiO3E9amEuY2FsbChiLCJuYW1lc3BhY2UiKT9iLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2w9bT1jPWN8fEo7aWYoMyE9PWMubm9kZVR5cGUmJjghPT1jLm5vZGVUeXBlJiYhTmIudGVzdCh2K2YuZXZlbnQudHJpZ2dlcmVkKSYmKDA8PXYuaW5kZXhPZigiLiIpJiYocT12LnNwbGl0KCIuIiksdj1xLnNoaWZ0KCkscS5zb3J0KCkpLGg9MD52LmluZGV4T2YoIjoiKSYmIm9uIit2LGI9YltmLmV4cGFuZG9dP2I6bmV3IGYuRXZlbnQodiwib2JqZWN0Ij09PXR5cGVvZiBiJiZiKSxiLmlzVHJpZ2dlcj1rPzI6MyxiLm5hbWVzcGFjZT1xLmpvaW4oIi4iKSxiLm5hbWVzcGFjZV9yZT1iLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIisKcS5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLGIucmVzdWx0PXZvaWQgMCxiLnRhcmdldHx8KGIudGFyZ2V0PWMpLGU9bnVsbD09ZT9bYl06Zi5tYWtlQXJyYXkoZSxbYl0pLHE9Zi5ldmVudC5zcGVjaWFsW3ZdfHx7fSxrfHwhcS50cmlnZ2VyfHwhMSE9PXEudHJpZ2dlci5hcHBseShjLGUpKSl7aWYoIWsmJiFxLm5vQnViYmxlJiYhZi5pc1dpbmRvdyhjKSl7bj1xLmRlbGVnYXRlVHlwZXx8djtOYi50ZXN0KG4rdil8fChsPWwucGFyZW50Tm9kZSk7Zm9yKDtsO2w9bC5wYXJlbnROb2RlKXAucHVzaChsKSxtPWw7bT09PShjLm93bmVyRG9jdW1lbnR8fEopJiZwLnB1c2gobS5kZWZhdWx0Vmlld3x8bS5wYXJlbnRXaW5kb3d8fGQpfWZvcih1PTA7KGw9cFt1KytdKSYmIWIuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspYi50eXBlPTE8dT9uOnEuYmluZFR5cGV8fHYsKG09KGYuX2RhdGEobCwiZXZlbnRzIil8fHt9KVtiLnR5cGVdJiZmLl9kYXRhKGwsImhhbmRsZSIpKSYmCm0uYXBwbHkobCxlKSwobT1oJiZsW2hdKSYmbS5hcHBseSYmZi5hY2NlcHREYXRhKGwpJiYoYi5yZXN1bHQ9bS5hcHBseShsLGUpLCExPT09Yi5yZXN1bHQmJmIucHJldmVudERlZmF1bHQoKSk7Yi50eXBlPXY7aWYoIShrfHxiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxxLl9kZWZhdWx0JiYhMSE9PXEuX2RlZmF1bHQuYXBwbHkocC5wb3AoKSxlKSkmJmYuYWNjZXB0RGF0YShjKSYmaCYmY1t2XSYmIWYuaXNXaW5kb3coYykpeyhtPWNbaF0pJiYoY1toXT1udWxsKTtmLmV2ZW50LnRyaWdnZXJlZD12O3RyeXtjW3ZdKCl9Y2F0Y2goQSl7fWYuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMDttJiYoY1toXT1tKX1yZXR1cm4gYi5yZXN1bHR9fSxkaXNwYXRjaDpmdW5jdGlvbihiKXtiPWYuZXZlbnQuZml4KGIpO3ZhciBlLGMsZCxrLG0saD1YLmNhbGwoYXJndW1lbnRzKTtlPShmLl9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbYi50eXBlXXx8W107dmFyIGw9Zi5ldmVudC5zcGVjaWFsW2IudHlwZV18fAp7fTtoWzBdPWI7Yi5kZWxlZ2F0ZVRhcmdldD10aGlzO2lmKCFsLnByZURpc3BhdGNofHwhMSE9PWwucHJlRGlzcGF0Y2guY2FsbCh0aGlzLGIpKXttPWYuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGIsZSk7Zm9yKGU9MDsoZD1tW2UrK10pJiYhYi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylmb3IoYi5jdXJyZW50VGFyZ2V0PWQuZWxlbSxrPTA7KGM9ZC5oYW5kbGVyc1trKytdKSYmIWIuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKTspaWYoIWIubmFtZXNwYWNlX3JlfHxiLm5hbWVzcGFjZV9yZS50ZXN0KGMubmFtZXNwYWNlKSliLmhhbmRsZU9iaj1jLGIuZGF0YT1jLmRhdGEsYz0oKGYuZXZlbnQuc3BlY2lhbFtjLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Yy5oYW5kbGVyKS5hcHBseShkLmVsZW0saCksdm9pZCAwIT09YyYmITE9PT0oYi5yZXN1bHQ9YykmJihiLnByZXZlbnREZWZhdWx0KCksYi5zdG9wUHJvcGFnYXRpb24oKSk7bC5wb3N0RGlzcGF0Y2gmJmwucG9zdERpc3BhdGNoLmNhbGwodGhpcywKYik7cmV0dXJuIGIucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oYixlKXt2YXIgYyxkLGssbSxoPVtdLGw9ZS5kZWxlZ2F0ZUNvdW50LG49Yi50YXJnZXQ7aWYobCYmbi5ub2RlVHlwZSYmKCFiLmJ1dHRvbnx8ImNsaWNrIiE9PWIudHlwZSkpZm9yKDtuIT10aGlzO249bi5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1uLm5vZGVUeXBlJiYoITAhPT1uLmRpc2FibGVkfHwiY2xpY2siIT09Yi50eXBlKSl7az1bXTtmb3IobT0wO208bDttKyspZD1lW21dLGM9ZC5zZWxlY3RvcisiICIsdm9pZCAwPT09a1tjXSYmKGtbY109ZC5uZWVkc0NvbnRleHQ/MDw9ZihjLHRoaXMpLmluZGV4KG4pOmYuZmluZChjLHRoaXMsbnVsbCxbbl0pLmxlbmd0aCksa1tjXSYmay5wdXNoKGQpO2subGVuZ3RoJiZoLnB1c2goe2VsZW06bixoYW5kbGVyczprfSl9bDxlLmxlbmd0aCYmaC5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6ZS5zbGljZShsKX0pO3JldHVybiBofSxmaXg6ZnVuY3Rpb24oYil7aWYoYltmLmV4cGFuZG9dKXJldHVybiBiOwp2YXIgZSxjLGQ7ZT1iLnR5cGU7dmFyIGs9YixtPXRoaXMuZml4SG9va3NbZV07bXx8KHRoaXMuZml4SG9va3NbZV09bT14Yi50ZXN0KGUpP3RoaXMubW91c2VIb29rczp2Yi50ZXN0KGUpP3RoaXMua2V5SG9va3M6e30pO2Q9bS5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChtLnByb3BzKTp0aGlzLnByb3BzO2I9bmV3IGYuRXZlbnQoayk7Zm9yKGU9ZC5sZW5ndGg7ZS0tOyljPWRbZV0sYltjXT1rW2NdO2IudGFyZ2V0fHwoYi50YXJnZXQ9ay5zcmNFbGVtZW50fHxKKTszPT09Yi50YXJnZXQubm9kZVR5cGUmJihiLnRhcmdldD1iLnRhcmdldC5wYXJlbnROb2RlKTtiLm1ldGFLZXk9ISFiLm1ldGFLZXk7cmV0dXJuIG0uZmlsdGVyP20uZmlsdGVyKGIsayk6Yn0scHJvcHM6ImFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGV2ZW50UGhhc2UgbWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaCIuc3BsaXQoIiAiKSwKZml4SG9va3M6e30sa2V5SG9va3M6e3Byb3BzOlsiY2hhciIsImNoYXJDb2RlIiwia2V5Iiwia2V5Q29kZSJdLGZpbHRlcjpmdW5jdGlvbihiLGUpe251bGw9PWIud2hpY2gmJihiLndoaWNoPW51bGwhPWUuY2hhckNvZGU/ZS5jaGFyQ29kZTplLmtleUNvZGUpO3JldHVybiBifX0sbW91c2VIb29rczp7cHJvcHM6ImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBmcm9tRWxlbWVudCBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudCIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYixlKXt2YXIgYyxmLGQ9ZS5idXR0b24saz1lLmZyb21FbGVtZW50O251bGw9PWIucGFnZVgmJm51bGwhPWUuY2xpZW50WCYmKGM9Yi50YXJnZXQub3duZXJEb2N1bWVudHx8SixmPWMuZG9jdW1lbnRFbGVtZW50LGM9Yy5ib2R5LGIucGFnZVg9ZS5jbGllbnRYKyhmJiZmLnNjcm9sbExlZnR8fGMmJmMuc2Nyb2xsTGVmdHx8MCktKGYmJmYuY2xpZW50TGVmdHx8CmMmJmMuY2xpZW50TGVmdHx8MCksYi5wYWdlWT1lLmNsaWVudFkrKGYmJmYuc2Nyb2xsVG9wfHxjJiZjLnNjcm9sbFRvcHx8MCktKGYmJmYuY2xpZW50VG9wfHxjJiZjLmNsaWVudFRvcHx8MCkpOyFiLnJlbGF0ZWRUYXJnZXQmJmsmJihiLnJlbGF0ZWRUYXJnZXQ9az09PWIudGFyZ2V0P2UudG9FbGVtZW50OmspO2Iud2hpY2h8fHZvaWQgMD09PWR8fChiLndoaWNoPWQmMT8xOmQmMj8zOmQmND8yOjApO3JldHVybiBifX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYodGhpcyE9PVIoKSYmdGhpcy5mb2N1cyl0cnl7cmV0dXJuIHRoaXMuZm9jdXMoKSwhMX1jYXRjaChiKXt9fSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYodGhpcz09PVIoKSYmdGhpcy5ibHVyKXJldHVybiB0aGlzLmJsdXIoKSwhMX0sZGVsZWdhdGVUeXBlOiJmb2N1c291dCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYoZi5ub2RlTmFtZSh0aGlzLAoiaW5wdXQiKSYmImNoZWNrYm94Ij09PXRoaXMudHlwZSYmdGhpcy5jbGljaylyZXR1cm4gdGhpcy5jbGljaygpLCExfSxfZGVmYXVsdDpmdW5jdGlvbihiKXtyZXR1cm4gZi5ub2RlTmFtZShiLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYil7dm9pZCAwIT09Yi5yZXN1bHQmJmIub3JpZ2luYWxFdmVudCYmKGIub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1iLnJlc3VsdCl9fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYixlLGMsZCl7Yj1mLmV4dGVuZChuZXcgZi5FdmVudCxjLHt0eXBlOmIsaXNTaW11bGF0ZWQ6ITAsb3JpZ2luYWxFdmVudDp7fX0pO2Q/Zi5ldmVudC50cmlnZ2VyKGIsbnVsbCxlKTpmLmV2ZW50LmRpc3BhdGNoLmNhbGwoZSxiKTtiLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZjLnByZXZlbnREZWZhdWx0KCl9fTtmLnJlbW92ZUV2ZW50PUoucmVtb3ZlRXZlbnRMaXN0ZW5lcj9mdW5jdGlvbihiLGUsYyl7Yi5yZW1vdmVFdmVudExpc3RlbmVyJiYKYi5yZW1vdmVFdmVudExpc3RlbmVyKGUsYywhMSl9OmZ1bmN0aW9uKGIsZSxjKXtlPSJvbiIrZTtiLmRldGFjaEV2ZW50JiYoInVuZGVmaW5lZCI9PT10eXBlb2YgYltlXSYmKGJbZV09bnVsbCksYi5kZXRhY2hFdmVudChlLGMpKX07Zi5FdmVudD1mdW5jdGlvbihiLGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGYuRXZlbnQpKXJldHVybiBuZXcgZi5FdmVudChiLGUpO2ImJmIudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWIsdGhpcy50eXBlPWIudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1iLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWIuZGVmYXVsdFByZXZlbnRlZCYmITE9PT1iLnJldHVyblZhbHVlP1k6YWEpOnRoaXMudHlwZT1iO2UmJmYuZXh0ZW5kKHRoaXMsZSk7dGhpcy50aW1lU3RhbXA9YiYmYi50aW1lU3RhbXB8fGYubm93KCk7dGhpc1tmLmV4cGFuZG9dPSEwfTtmLkV2ZW50LnByb3RvdHlwZT17aXNEZWZhdWx0UHJldmVudGVkOmFhLGlzUHJvcGFnYXRpb25TdG9wcGVkOmFhLAppc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDphYSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1ZO2ImJihiLnByZXZlbnREZWZhdWx0P2IucHJldmVudERlZmF1bHQoKTpiLnJldHVyblZhbHVlPSExKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9WTtiJiYoYi5zdG9wUHJvcGFnYXRpb24mJmIuc3RvcFByb3BhZ2F0aW9uKCksYi5jYW5jZWxCdWJibGU9ITApfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1ZO2ImJmIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uJiZiLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO3RoaXMuc3RvcFByb3BhZ2F0aW9uKCl9fTtmLmVhY2goe21vdXNlZW50ZXI6Im1vdXNlb3ZlciIsCm1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihiLGUpe2YuZXZlbnQuc3BlY2lhbFtiXT17ZGVsZWdhdGVUeXBlOmUsYmluZFR5cGU6ZSxoYW5kbGU6ZnVuY3Rpb24oYil7dmFyIGcsZD1iLnJlbGF0ZWRUYXJnZXQsaz1iLmhhbmRsZU9iajtpZighZHx8ZCE9PXRoaXMmJiFmLmNvbnRhaW5zKHRoaXMsZCkpYi50eXBlPWsub3JpZ1R5cGUsZz1rLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGIudHlwZT1lO3JldHVybiBnfX19KTtELnN1Ym1pdEJ1YmJsZXN8fChmLmV2ZW50LnNwZWNpYWwuc3VibWl0PXtzZXR1cDpmdW5jdGlvbigpe2lmKGYubm9kZU5hbWUodGhpcywiZm9ybSIpKXJldHVybiExO2YuZXZlbnQuYWRkKHRoaXMsImNsaWNrLl9zdWJtaXQga2V5cHJlc3MuX3N1Ym1pdCIsZnVuY3Rpb24oYil7Yj1iLnRhcmdldDsoYj1mLm5vZGVOYW1lKGIsImlucHV0Iil8fGYubm9kZU5hbWUoYiwKImJ1dHRvbiIpP2IuZm9ybTp2b2lkIDApJiYhZi5fZGF0YShiLCJzdWJtaXRCdWJibGVzIikmJihmLmV2ZW50LmFkZChiLCJzdWJtaXQuX3N1Ym1pdCIsZnVuY3Rpb24oYil7Yi5fc3VibWl0X2J1YmJsZT0hMH0pLGYuX2RhdGEoYiwic3VibWl0QnViYmxlcyIsITApKX0pfSxwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYil7Yi5fc3VibWl0X2J1YmJsZSYmKGRlbGV0ZSBiLl9zdWJtaXRfYnViYmxlLHRoaXMucGFyZW50Tm9kZSYmIWIuaXNUcmlnZ2VyJiZmLmV2ZW50LnNpbXVsYXRlKCJzdWJtaXQiLHRoaXMucGFyZW50Tm9kZSxiLCEwKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoZi5ub2RlTmFtZSh0aGlzLCJmb3JtIikpcmV0dXJuITE7Zi5ldmVudC5yZW1vdmUodGhpcywiLl9zdWJtaXQiKX19KTtELmNoYW5nZUJ1YmJsZXN8fChmLmV2ZW50LnNwZWNpYWwuY2hhbmdlPXtzZXR1cDpmdW5jdGlvbigpe2lmKG1hLnRlc3QodGhpcy5ub2RlTmFtZSkpe2lmKCJjaGVja2JveCI9PT10aGlzLnR5cGV8fAoicmFkaW8iPT09dGhpcy50eXBlKWYuZXZlbnQuYWRkKHRoaXMsInByb3BlcnR5Y2hhbmdlLl9jaGFuZ2UiLGZ1bmN0aW9uKGIpeyJjaGVja2VkIj09PWIub3JpZ2luYWxFdmVudC5wcm9wZXJ0eU5hbWUmJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITApfSksZi5ldmVudC5hZGQodGhpcywiY2xpY2suX2NoYW5nZSIsZnVuY3Rpb24oYil7dGhpcy5fanVzdF9jaGFuZ2VkJiYhYi5pc1RyaWdnZXImJih0aGlzLl9qdXN0X2NoYW5nZWQ9ITEpO2YuZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcyxiLCEwKX0pO3JldHVybiExfWYuZXZlbnQuYWRkKHRoaXMsImJlZm9yZWFjdGl2YXRlLl9jaGFuZ2UiLGZ1bmN0aW9uKGIpe2I9Yi50YXJnZXQ7bWEudGVzdChiLm5vZGVOYW1lKSYmIWYuX2RhdGEoYiwiY2hhbmdlQnViYmxlcyIpJiYoZi5ldmVudC5hZGQoYiwiY2hhbmdlLl9jaGFuZ2UiLGZ1bmN0aW9uKGIpeyF0aGlzLnBhcmVudE5vZGV8fGIuaXNTaW11bGF0ZWR8fGIuaXNUcmlnZ2VyfHxmLmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLAp0aGlzLnBhcmVudE5vZGUsYiwhMCl9KSxmLl9kYXRhKGIsImNoYW5nZUJ1YmJsZXMiLCEwKSl9KX0saGFuZGxlOmZ1bmN0aW9uKGIpe3ZhciBlPWIudGFyZ2V0O2lmKHRoaXMhPT1lfHxiLmlzU2ltdWxhdGVkfHxiLmlzVHJpZ2dlcnx8InJhZGlvIiE9PWUudHlwZSYmImNoZWNrYm94IiE9PWUudHlwZSlyZXR1cm4gYi5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7Zi5ldmVudC5yZW1vdmUodGhpcywiLl9jaGFuZ2UiKTtyZXR1cm4hbWEudGVzdCh0aGlzLm5vZGVOYW1lKX19KTtELmZvY3VzaW5CdWJibGVzfHxmLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGIsZSl7dmFyIGM9ZnVuY3Rpb24oYil7Zi5ldmVudC5zaW11bGF0ZShlLGIudGFyZ2V0LGYuZXZlbnQuZml4KGIpLCEwKX07Zi5ldmVudC5zcGVjaWFsW2VdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8CnRoaXMsaz1mLl9kYXRhKGQsZSk7a3x8ZC5hZGRFdmVudExpc3RlbmVyKGIsYywhMCk7Zi5fZGF0YShkLGUsKGt8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxrPWYuX2RhdGEoZCxlKS0xO2s/Zi5fZGF0YShkLGUsayk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMsITApLGYuX3JlbW92ZURhdGEoZCxlKSl9fX0pO2YuZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihiLGUsYyxkLGspe3ZhciBtLGg7aWYoIm9iamVjdCI9PT10eXBlb2YgYil7InN0cmluZyIhPT10eXBlb2YgZSYmKGM9Y3x8ZSxlPXZvaWQgMCk7Zm9yKG0gaW4gYil0aGlzLm9uKG0sZSxjLGJbbV0sayk7cmV0dXJuIHRoaXN9bnVsbD09YyYmbnVsbD09ZD8oZD1lLGM9ZT12b2lkIDApOm51bGw9PWQmJigic3RyaW5nIj09PXR5cGVvZiBlPyhkPWMsYz12b2lkIDApOihkPWMsYz1lLGU9dm9pZCAwKSk7aWYoITE9PT1kKWQ9YWE7ZWxzZSBpZighZClyZXR1cm4gdGhpczsKMT09PWsmJihoPWQsZD1mdW5jdGlvbihiKXtmKCkub2ZmKGIpO3JldHVybiBoLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZC5ndWlkPWguZ3VpZHx8KGguZ3VpZD1mLmd1aWQrKykpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLmV2ZW50LmFkZCh0aGlzLGIsZCxjLGUpfSl9LG9uZTpmdW5jdGlvbihiLGUsYyxmKXtyZXR1cm4gdGhpcy5vbihiLGUsYyxmLDEpfSxvZmY6ZnVuY3Rpb24oYixlLGMpe3ZhciBkO2lmKGImJmIucHJldmVudERlZmF1bHQmJmIuaGFuZGxlT2JqKXJldHVybiBkPWIuaGFuZGxlT2JqLGYoYi5kZWxlZ2F0ZVRhcmdldCkub2ZmKGQubmFtZXNwYWNlP2Qub3JpZ1R5cGUrIi4iK2QubmFtZXNwYWNlOmQub3JpZ1R5cGUsZC5zZWxlY3RvcixkLmhhbmRsZXIpLHRoaXM7aWYoIm9iamVjdCI9PT10eXBlb2YgYil7Zm9yKGQgaW4gYil0aGlzLm9mZihkLGUsYltkXSk7cmV0dXJuIHRoaXN9aWYoITE9PT1lfHwiZnVuY3Rpb24iPT09dHlwZW9mIGUpYz1lLGU9dm9pZCAwOwohMT09PWMmJihjPWFhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5ldmVudC5yZW1vdmUodGhpcyxiLGMsZSl9KX0sdHJpZ2dlcjpmdW5jdGlvbihiLGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLmV2ZW50LnRyaWdnZXIoYixlLHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGIsZSl7dmFyIGM9dGhpc1swXTtpZihjKXJldHVybiBmLmV2ZW50LnRyaWdnZXIoYixlLGMsITApfX0pO3ZhciB5Yj0iYWJicnxhcnRpY2xlfGFzaWRlfGF1ZGlvfGJkaXxjYW52YXN8ZGF0YXxkYXRhbGlzdHxkZXRhaWxzfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxoZWFkZXJ8aGdyb3VwfG1hcmt8bWV0ZXJ8bmF2fG91dHB1dHxwcm9ncmVzc3xzZWN0aW9ufHN1bW1hcnl8dGltZXx2aWRlbyIsUGI9LyBqUXVlcnlcZCs9Iig/Om51bGx8XGQrKSIvZyx1Yj1uZXcgUmVnRXhwKCI8KD86Iit5YisiKVtcXHMvPl0iLCJpIiksemI9L15ccysvLEFiPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2ksCmxiPS88KFtcdzpdKykvLEJiPS88dGJvZHkvaSxRYj0vPHwmIz9cdys7LyxSYj0vPCg/OnNjcmlwdHxzdHlsZXxsaW5rKS9pLGtjPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLFNiPS9eJHxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSxsYz0vXnRydWVcLyguKikvLFRiPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZyxoYT17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sbGVnZW5kOlsxLCI8ZmllbGRzZXQ+IiwiPC9maWVsZHNldD4iXSxhcmVhOlsxLCI8bWFwPiIsIjwvbWFwPiJdLHBhcmFtOlsxLCI8b2JqZWN0PiIsIjwvb2JqZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0ZDpbMywKIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLF9kZWZhdWx0OkQuaHRtbFNlcmlhbGl6ZT9bMCwiIiwiIl06WzEsIlg8ZGl2PiIsIjwvZGl2PiJdfSxDYj1kYShKKS5hcHBlbmRDaGlsZChKLmNyZWF0ZUVsZW1lbnQoImRpdiIpKTtoYS5vcHRncm91cD1oYS5vcHRpb247aGEudGJvZHk9aGEudGZvb3Q9aGEuY29sZ3JvdXA9aGEuY2FwdGlvbj1oYS50aGVhZDtoYS50aD1oYS50ZDtmLmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oYixlLGMpe3ZhciBkLGssbSxoLGwsbj1mLmNvbnRhaW5zKGIub3duZXJEb2N1bWVudCxiKTtELmh0bWw1Q2xvbmV8fGYuaXNYTUxEb2MoYil8fCF1Yi50ZXN0KCI8IitiLm5vZGVOYW1lKyI+Iik/bT1iLmNsb25lTm9kZSghMCk6KENiLmlubmVySFRNTD1iLm91dGVySFRNTCxDYi5yZW1vdmVDaGlsZChtPUNiLmZpcnN0Q2hpbGQpKTtpZighKEQubm9DbG9uZUV2ZW50JiZELm5vQ2xvbmVDaGVja2VkfHwxIT09Yi5ub2RlVHlwZSYmCjExIT09Yi5ub2RlVHlwZXx8Zi5pc1hNTERvYyhiKSkpZm9yKGQ9UChtKSxsPVAoYiksaD0wO251bGwhPShrPWxbaF0pOysraClpZihkW2hdKXt2YXIgdT1kW2hdLHAsdj12b2lkIDAsQTtpZigxPT09dS5ub2RlVHlwZSl7cD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoIUQubm9DbG9uZUV2ZW50JiZ1W2YuZXhwYW5kb10pe0E9Zi5fZGF0YSh1KTtmb3IodiBpbiBBLmV2ZW50cylmLnJlbW92ZUV2ZW50KHUsdixBLmhhbmRsZSk7dS5yZW1vdmVBdHRyaWJ1dGUoZi5leHBhbmRvKX1pZigic2NyaXB0Ij09PXAmJnUudGV4dCE9PWsudGV4dClVKHUpLnRleHQ9ay50ZXh0LGdhKHUpO2Vsc2UgaWYoIm9iamVjdCI9PT1wKXUucGFyZW50Tm9kZSYmKHUub3V0ZXJIVE1MPWsub3V0ZXJIVE1MKSxELmh0bWw1Q2xvbmUmJmsuaW5uZXJIVE1MJiYhZi50cmltKHUuaW5uZXJIVE1MKSYmKHUuaW5uZXJIVE1MPWsuaW5uZXJIVE1MKTtlbHNlIGlmKCJpbnB1dCI9PT1wJiZNYS50ZXN0KGsudHlwZSkpdS5kZWZhdWx0Q2hlY2tlZD0KdS5jaGVja2VkPWsuY2hlY2tlZCx1LnZhbHVlIT09ay52YWx1ZSYmKHUudmFsdWU9ay52YWx1ZSk7ZWxzZSBpZigib3B0aW9uIj09PXApdS5kZWZhdWx0U2VsZWN0ZWQ9dS5zZWxlY3RlZD1rLmRlZmF1bHRTZWxlY3RlZDtlbHNlIGlmKCJpbnB1dCI9PT1wfHwidGV4dGFyZWEiPT09cCl1LmRlZmF1bHRWYWx1ZT1rLmRlZmF1bHRWYWx1ZX19aWYoZSlpZihjKWZvcihsPWx8fFAoYiksZD1kfHxQKG0pLGg9MDtudWxsIT0oaz1sW2hdKTtoKyspcShrLGRbaF0pO2Vsc2UgcShiLG0pO2Q9UChtLCJzY3JpcHQiKTswPGQubGVuZ3RoJiZTKGQsIW4mJlAoYiwic2NyaXB0IikpO3JldHVybiBtfSxidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGIsZSxjLGQpe2Zvcih2YXIgayxtLGgsbCxuLHEsdT1iLmxlbmd0aCxwPWRhKGUpLHY9W10sQT0wO0E8dTtBKyspaWYoKG09YltBXSl8fDA9PT1tKWlmKCJvYmplY3QiPT09Zi50eXBlKG0pKWYubWVyZ2UodixtLm5vZGVUeXBlP1ttXTptKTtlbHNlIGlmKFFiLnRlc3QobSkpe2g9Cmh8fHAuYXBwZW5kQ2hpbGQoZS5jcmVhdGVFbGVtZW50KCJkaXYiKSk7bD0obGIuZXhlYyhtKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKTtxPWhhW2xdfHxoYS5fZGVmYXVsdDtoLmlubmVySFRNTD1xWzFdK20ucmVwbGFjZShBYiwiPCQxPjwvJDI+IikrcVsyXTtmb3Ioaz1xWzBdO2stLTspaD1oLmxhc3RDaGlsZDshRC5sZWFkaW5nV2hpdGVzcGFjZSYmemIudGVzdChtKSYmdi5wdXNoKGUuY3JlYXRlVGV4dE5vZGUoemIuZXhlYyhtKVswXSkpO2lmKCFELnRib2R5KWZvcihrPShtPSJ0YWJsZSIhPT1sfHxCYi50ZXN0KG0pPyI8dGFibGU+IiE9PXFbMV18fEJiLnRlc3QobSk/MDpoOmguZmlyc3RDaGlsZCkmJm0uY2hpbGROb2Rlcy5sZW5ndGg7ay0tOylmLm5vZGVOYW1lKG49bS5jaGlsZE5vZGVzW2tdLCJ0Ym9keSIpJiYhbi5jaGlsZE5vZGVzLmxlbmd0aCYmbS5yZW1vdmVDaGlsZChuKTtmLm1lcmdlKHYsaC5jaGlsZE5vZGVzKTtmb3IoaC50ZXh0Q29udGVudD0iIjtoLmZpcnN0Q2hpbGQ7KWgucmVtb3ZlQ2hpbGQoaC5maXJzdENoaWxkKTsKaD1wLmxhc3RDaGlsZH1lbHNlIHYucHVzaChlLmNyZWF0ZVRleHROb2RlKG0pKTtoJiZwLnJlbW92ZUNoaWxkKGgpO0QuYXBwZW5kQ2hlY2tlZHx8Zi5ncmVwKFAodiwiaW5wdXQiKSxMKTtmb3IoQT0wO209dltBKytdOylpZighZHx8LTE9PT1mLmluQXJyYXkobSxkKSlpZihiPWYuY29udGFpbnMobS5vd25lckRvY3VtZW50LG0pLGg9UChwLmFwcGVuZENoaWxkKG0pLCJzY3JpcHQiKSxiJiZTKGgpLGMpZm9yKGs9MDttPWhbaysrXTspU2IudGVzdChtLnR5cGV8fCIiKSYmYy5wdXNoKG0pO3JldHVybiBwfSxjbGVhbkRhdGE6ZnVuY3Rpb24oYixlKXtmb3IodmFyIGMsZCxrLG0saD0wLGw9Zi5leHBhbmRvLG49Zi5jYWNoZSxxPUQuZGVsZXRlRXhwYW5kbyx1PWYuZXZlbnQuc3BlY2lhbDtudWxsIT0oYz1iW2hdKTtoKyspaWYoZXx8Zi5hY2NlcHREYXRhKGMpKWlmKG09KGs9Y1tsXSkmJm5ba10pe2lmKG0uZXZlbnRzKWZvcihkIGluIG0uZXZlbnRzKXVbZF0/Zi5ldmVudC5yZW1vdmUoYywKZCk6Zi5yZW1vdmVFdmVudChjLGQsbS5oYW5kbGUpO25ba10mJihkZWxldGUgbltrXSxxP2RlbGV0ZSBjW2xdOiJ1bmRlZmluZWQiIT09dHlwZW9mIGMucmVtb3ZlQXR0cmlidXRlP2MucmVtb3ZlQXR0cmlidXRlKGwpOmNbbF09bnVsbCx2YS5wdXNoKGspKX19fSk7Zi5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYil7cmV0dXJuIHBhKHRoaXMsZnVuY3Rpb24oYil7cmV0dXJuIHZvaWQgMD09PWI/Zi50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5hcHBlbmQoKHRoaXNbMF0mJnRoaXNbMF0ub3duZXJEb2N1bWVudHx8SikuY3JlYXRlVGV4dE5vZGUoYikpfSxudWxsLGIsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihiKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8Vyh0aGlzLGIpLmFwcGVuZENoaWxkKGIpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsCmZ1bmN0aW9uKGIpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgZT1XKHRoaXMsYik7ZS5pbnNlcnRCZWZvcmUoYixlLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYil7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsZnVuY3Rpb24oYil7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsdGhpcy5uZXh0U2libGluZyl9KX0scmVtb3ZlOmZ1bmN0aW9uKGIsZSl7Zm9yKHZhciBjPWI/Zi5maWx0ZXIoYix0aGlzKTp0aGlzLGQ9MDtudWxsIT0oYj1jW2RdKTtkKyspZXx8MSE9PWIubm9kZVR5cGV8fGYuY2xlYW5EYXRhKFAoYikpLGIucGFyZW50Tm9kZSYmKGUmJgpmLmNvbnRhaW5zKGIub3duZXJEb2N1bWVudCxiKSYmUyhQKGIsInNjcmlwdCIpKSxiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgYixlPTA7bnVsbCE9KGI9dGhpc1tlXSk7ZSsrKXtmb3IoMT09PWIubm9kZVR5cGUmJmYuY2xlYW5EYXRhKFAoYiwhMSkpO2IuZmlyc3RDaGlsZDspYi5yZW1vdmVDaGlsZChiLmZpcnN0Q2hpbGQpO2Iub3B0aW9ucyYmZi5ub2RlTmFtZShiLCJzZWxlY3QiKSYmKGIub3B0aW9ucy5sZW5ndGg9MCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGIsZSl7Yj1udWxsPT1iPyExOmI7ZT1udWxsPT1lP2I6ZTtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gZi5jbG9uZSh0aGlzLGIsZSl9KX0saHRtbDpmdW5jdGlvbihiKXtyZXR1cm4gcGEodGhpcyxmdW5jdGlvbihiKXt2YXIgYz10aGlzWzBdfHx7fSxnPTAsZD10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1iKXJldHVybiAxPT09CmMubm9kZVR5cGU/Yy5pbm5lckhUTUwucmVwbGFjZShQYiwiIik6dm9pZCAwO2lmKCEoInN0cmluZyIhPT10eXBlb2YgYnx8UmIudGVzdChiKXx8IUQuaHRtbFNlcmlhbGl6ZSYmdWIudGVzdChiKXx8IUQubGVhZGluZ1doaXRlc3BhY2UmJnpiLnRlc3QoYil8fGhhWyhsYi5leGVjKGIpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSkpe2I9Yi5yZXBsYWNlKEFiLCI8JDE+PC8kMj4iKTt0cnl7Zm9yKDtnPGQ7ZysrKWM9dGhpc1tnXXx8e30sMT09PWMubm9kZVR5cGUmJihmLmNsZWFuRGF0YShQKGMsITEpKSxjLmlubmVySFRNTD1iKTtjPTB9Y2F0Y2goayl7fX1jJiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGIpfSxudWxsLGIsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIGI9YXJndW1lbnRzWzBdO3RoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGUpe2I9dGhpcy5wYXJlbnROb2RlO2YuY2xlYW5EYXRhKFAodGhpcykpO2ImJmIucmVwbGFjZUNoaWxkKGUsCnRoaXMpfSk7cmV0dXJuIGImJihiLmxlbmd0aHx8Yi5ub2RlVHlwZSk/dGhpczp0aGlzLnJlbW92ZSgpfSxkZXRhY2g6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVtb3ZlKGIsITApfSxkb21NYW5pcDpmdW5jdGlvbihiLGUpe2I9SC5hcHBseShbXSxiKTt2YXIgYyxkLGssbSxoPTAsbD10aGlzLmxlbmd0aCxuPXRoaXMscT1sLTEsdT1iWzBdLHA9Zi5pc0Z1bmN0aW9uKHUpO2lmKHB8fDE8bCYmInN0cmluZyI9PT10eXBlb2YgdSYmIUQuY2hlY2tDbG9uZSYma2MudGVzdCh1KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBmPW4uZXEoYyk7cCYmKGJbMF09dS5jYWxsKHRoaXMsYyxmLmh0bWwoKSkpO2YuZG9tTWFuaXAoYixlKX0pO2lmKGwmJihtPWYuYnVpbGRGcmFnbWVudChiLHRoaXNbMF0ub3duZXJEb2N1bWVudCwhMSx0aGlzKSxjPW0uZmlyc3RDaGlsZCwxPT09bS5jaGlsZE5vZGVzLmxlbmd0aCYmKG09YyksYykpe2s9Zi5tYXAoUChtLCJzY3JpcHQiKSxVKTtmb3IoZD0Kay5sZW5ndGg7aDxsO2grKyljPW0saCE9PXEmJihjPWYuY2xvbmUoYywhMCwhMCksZCYmZi5tZXJnZShrLFAoYywic2NyaXB0IikpKSxlLmNhbGwodGhpc1toXSxjLGgpO2lmKGQpZm9yKG09a1trLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LGYubWFwKGssZ2EpLGg9MDtoPGQ7aCsrKWM9a1toXSxTYi50ZXN0KGMudHlwZXx8IiIpJiYhZi5fZGF0YShjLCJnbG9iYWxFdmFsIikmJmYuY29udGFpbnMobSxjKSYmKGMuc3JjP2YuX2V2YWxVcmwmJmYuX2V2YWxVcmwoYy5zcmMpOmYuZ2xvYmFsRXZhbCgoYy50ZXh0fHxjLnRleHRDb250ZW50fHxjLmlubmVySFRNTHx8IiIpLnJlcGxhY2UoVGIsIiIpKSk7bT1jPW51bGx9cmV0dXJuIHRoaXN9fSk7Zi5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oYixlKXtmLmZuW2JdPWZ1bmN0aW9uKGIpe2Zvcih2YXIgZz0KMCxkPVtdLGs9ZihiKSxtPWsubGVuZ3RoLTE7Zzw9bTtnKyspYj1nPT09bT90aGlzOnRoaXMuY2xvbmUoITApLGYoa1tnXSlbZV0oYiksY2EuYXBwbHkoZCxiLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCl9fSk7dmFyIGZhLG1iPXt9OyhmdW5jdGlvbigpe3ZhciBiO0Quc2hyaW5rV3JhcEJsb2Nrcz1mdW5jdGlvbigpe2lmKG51bGwhPWIpcmV0dXJuIGI7Yj0hMTt2YXIgZSxjLGY7aWYoKGM9Si5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdKSYmYy5zdHlsZSlyZXR1cm4gZT1KLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGY9Si5jcmVhdGVFbGVtZW50KCJkaXYiKSxmLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2JvcmRlcjowO3dpZHRoOjA7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4IixjLmFwcGVuZENoaWxkKGYpLmFwcGVuZENoaWxkKGUpLCJ1bmRlZmluZWQiIT09dHlwZW9mIGUuc3R5bGUuem9vbSYmKGUuc3R5bGUuY3NzVGV4dD0iLXdlYmtpdC1ib3gtc2l6aW5nOmNvbnRlbnQtYm94Oy1tb3otYm94LXNpemluZzpjb250ZW50LWJveDtib3gtc2l6aW5nOmNvbnRlbnQtYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzoxcHg7d2lkdGg6MXB4O3pvb206MSIsCmUuYXBwZW5kQ2hpbGQoSi5jcmVhdGVFbGVtZW50KCJkaXYiKSkuc3R5bGUud2lkdGg9IjVweCIsYj0zIT09ZS5vZmZzZXRXaWR0aCksYy5yZW1vdmVDaGlsZChmKSxifX0pKCk7dmFyIFNhPS9ebWFyZ2luLywkYT1uZXcgUmVnRXhwKCJeKCIraGIrIikoPyFweClbYS16JV0rJCIsImkiKSxKYSxsYSxOYT0vXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC87ZC5nZXRDb21wdXRlZFN0eWxlPyhKYT1mdW5jdGlvbihiKXtyZXR1cm4gYi5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoYixudWxsKX0sbGE9ZnVuY3Rpb24oYixlLGMpe3ZhciBkLGssbT1iLnN0eWxlO2s9KGM9Y3x8SmEoYikpP2MuZ2V0UHJvcGVydHlWYWx1ZShlKXx8Y1tlXTp2b2lkIDA7YyYmKCIiIT09a3x8Zi5jb250YWlucyhiLm93bmVyRG9jdW1lbnQsYil8fChrPWYuc3R5bGUoYixlKSksJGEudGVzdChrKSYmU2EudGVzdChlKSYmKGI9bS53aWR0aCxlPW0ubWluV2lkdGgsZD1tLm1heFdpZHRoLAptLm1pbldpZHRoPW0ubWF4V2lkdGg9bS53aWR0aD1rLGs9Yy53aWR0aCxtLndpZHRoPWIsbS5taW5XaWR0aD1lLG0ubWF4V2lkdGg9ZCkpO3JldHVybiB2b2lkIDA9PT1rP2s6aysiIn0pOkouZG9jdW1lbnRFbGVtZW50LmN1cnJlbnRTdHlsZSYmKEphPWZ1bmN0aW9uKGIpe3JldHVybiBiLmN1cnJlbnRTdHlsZX0sbGE9ZnVuY3Rpb24oYixlLGMpe3ZhciBmLGQsayxtPWIuc3R5bGU7az0oYz1jfHxKYShiKSk/Y1tlXTp2b2lkIDA7bnVsbD09ayYmbSYmbVtlXSYmKGs9bVtlXSk7aWYoJGEudGVzdChrKSYmIU5hLnRlc3QoZSkpe2M9bS5sZWZ0O2lmKGQ9KGY9Yi5ydW50aW1lU3R5bGUpJiZmLmxlZnQpZi5sZWZ0PWIuY3VycmVudFN0eWxlLmxlZnQ7bS5sZWZ0PSJmb250U2l6ZSI9PT1lPyIxZW0iOms7az1tLnBpeGVsTGVmdCsicHgiO20ubGVmdD1jO2QmJihmLmxlZnQ9ZCl9cmV0dXJuIHZvaWQgMD09PWs/azprKyIifHwiYXV0byJ9KTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKCl7dmFyIGMsCmcsZSxmO2lmKChnPUouZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSkmJmcuc3R5bGUpe2M9Si5jcmVhdGVFbGVtZW50KCJkaXYiKTtlPUouY3JlYXRlRWxlbWVudCgiZGl2Iik7ZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweCI7Zy5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZChjKTtjLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbi10b3A6MSU7dG9wOjElO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NHB4O3Bvc2l0aW9uOmFic29sdXRlIjtrPW09ITE7bD0hMDtkLmdldENvbXB1dGVkU3R5bGUmJihrPSIxJSIhPT0oZC5nZXRDb21wdXRlZFN0eWxlKGMsbnVsbCl8fHt9KS50b3AsbT0iNHB4Ij09PShkLmdldENvbXB1dGVkU3R5bGUoYywKbnVsbCl8fHt3aWR0aDoiNHB4In0pLndpZHRoLGY9Yy5hcHBlbmRDaGlsZChKLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxmLnN0eWxlLmNzc1RleHQ9Yy5zdHlsZS5jc3NUZXh0PSItd2Via2l0LWJveC1zaXppbmc6Y29udGVudC1ib3g7LW1vei1ib3gtc2l6aW5nOmNvbnRlbnQtYm94O2JveC1zaXppbmc6Y29udGVudC1ib3g7ZGlzcGxheTpibG9jazttYXJnaW46MDtib3JkZXI6MDtwYWRkaW5nOjAiLGYuc3R5bGUubWFyZ2luUmlnaHQ9Zi5zdHlsZS53aWR0aD0iMCIsYy5zdHlsZS53aWR0aD0iMXB4IixsPSFwYXJzZUZsb2F0KChkLmdldENvbXB1dGVkU3R5bGUoZixudWxsKXx8e30pLm1hcmdpblJpZ2h0KSk7Yy5pbm5lckhUTUw9Ijx0YWJsZT48dHI+PHRkPjwvdGQ+PHRkPnQ8L3RkPjwvdHI+PC90YWJsZT4iO2Y9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKTtmWzBdLnN0eWxlLmNzc1RleHQ9Im1hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MDtkaXNwbGF5Om5vbmUiO2lmKGg9CjA9PT1mWzBdLm9mZnNldEhlaWdodClmWzBdLnN0eWxlLmRpc3BsYXk9IiIsZlsxXS5zdHlsZS5kaXNwbGF5PSJub25lIixoPTA9PT1mWzBdLm9mZnNldEhlaWdodDtnLnJlbW92ZUNoaWxkKGUpfX12YXIgZSxjLGssbSxoLGw7ZT1KLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2UuaW5uZXJIVE1MPSIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz4iO2lmKGM9KGM9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpWzBdKSYmYy5zdHlsZSljLmNzc1RleHQ9ImZsb2F0OmxlZnQ7b3BhY2l0eTouNSIsRC5vcGFjaXR5PSIwLjUiPT09Yy5vcGFjaXR5LEQuY3NzRmxvYXQ9ISFjLmNzc0Zsb2F0LGUuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixlLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIsRC5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWUuc3R5bGUuYmFja2dyb3VuZENsaXAsCkQuYm94U2l6aW5nPSIiPT09Yy5ib3hTaXppbmd8fCIiPT09Yy5Nb3pCb3hTaXppbmd8fCIiPT09Yy5XZWJraXRCb3hTaXppbmcsZi5leHRlbmQoRCx7cmVsaWFibGVIaWRkZW5PZmZzZXRzOmZ1bmN0aW9uKCl7bnVsbD09aCYmYigpO3JldHVybiBofSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe251bGw9PW0mJmIoKTtyZXR1cm4gbX0scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe251bGw9PWsmJmIoKTtyZXR1cm4ga30scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe251bGw9PWwmJmIoKTtyZXR1cm4gbH19KX0pKCk7Zi5zd2FwPWZ1bmN0aW9uKGIsZSxjLGYpe3ZhciBkLGs9e307Zm9yKGQgaW4gZSlrW2RdPWIuc3R5bGVbZF0sYi5zdHlsZVtkXT1lW2RdO2M9Yy5hcHBseShiLGZ8fFtdKTtmb3IoZCBpbiBlKWIuc3R5bGVbZF09a1tkXTtyZXR1cm4gY307dmFyIHNhPS9hbHBoYVwoW14pXSpcKS9pLG1jPS9vcGFjaXR5XHMqPVxzKihbXildKikvLERiPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLywKbmM9bmV3IFJlZ0V4cCgiXigiK2hiKyIpKC4qKSQiLCJpIiksb2M9bmV3IFJlZ0V4cCgiXihbKy1dKT0oIitoYisiKSIsImkiKSxlYz17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sVWI9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9LFZiPVsiV2Via2l0IiwiTyIsIk1veiIsIm1zIl07Zi5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYixlKXtpZihlKXJldHVybiBiPWxhKGIsIm9wYWNpdHkiKSwiIj09PWI/IjEiOmJ9fX0sY3NzTnVtYmVyOntjb2x1bW5Db3VudDohMCxmaWxsT3BhY2l0eTohMCxmbGV4R3JvdzohMCxmbGV4U2hyaW5rOiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7ImZsb2F0IjpELmNzc0Zsb2F0PyJjc3NGbG9hdCI6InN0eWxlRmxvYXQifSwKc3R5bGU6ZnVuY3Rpb24oYixlLGMsZCl7aWYoYiYmMyE9PWIubm9kZVR5cGUmJjghPT1iLm5vZGVUeXBlJiZiLnN0eWxlKXt2YXIgayxtLGgsbD1mLmNhbWVsQ2FzZShlKSxuPWIuc3R5bGU7ZT1mLmNzc1Byb3BzW2xdfHwoZi5jc3NQcm9wc1tsXT1BYShuLGwpKTtoPWYuY3NzSG9va3NbZV18fGYuY3NzSG9va3NbbF07aWYodm9pZCAwIT09Yyl7aWYobT10eXBlb2YgYywic3RyaW5nIj09PW0mJihrPW9jLmV4ZWMoYykpJiYoYz0oa1sxXSsxKSprWzJdK3BhcnNlRmxvYXQoZi5jc3MoYixlKSksbT0ibnVtYmVyIiksbnVsbCE9YyYmYz09PWMmJigibnVtYmVyIiE9PW18fGYuY3NzTnVtYmVyW2xdfHwoYys9InB4IiksRC5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWUuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobltlXT0iaW5oZXJpdCIpLCEoaCYmInNldCJpbiBoKXx8dm9pZCAwIT09KGM9aC5zZXQoYixjLGQpKSkpdHJ5e25bZV09Y31jYXRjaChxKXt9fWVsc2UgcmV0dXJuIGgmJgoiZ2V0ImluIGgmJnZvaWQgMCE9PShrPWguZ2V0KGIsITEsZCkpP2s6bltlXX19LGNzczpmdW5jdGlvbihiLGUsYyxkKXt2YXIgayxtO209Zi5jYW1lbENhc2UoZSk7ZT1mLmNzc1Byb3BzW21dfHwoZi5jc3NQcm9wc1ttXT1BYShiLnN0eWxlLG0pKTsobT1mLmNzc0hvb2tzW2VdfHxmLmNzc0hvb2tzW21dKSYmImdldCJpbiBtJiYoaz1tLmdldChiLCEwLGMpKTt2b2lkIDA9PT1rJiYoaz1sYShiLGUsZCkpOyJub3JtYWwiPT09ayYmZSBpbiBVYiYmKGs9VWJbZV0pO3JldHVybiIiPT09Y3x8Yz8oYj1wYXJzZUZsb2F0KGspLCEwPT09Y3x8Zi5pc051bWVyaWMoYik/Ynx8MDprKTprfX0pO2YuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oYixlKXtmLmNzc0hvb2tzW2VdPXtnZXQ6ZnVuY3Rpb24oYixnLGQpe2lmKGcpcmV0dXJuIERiLnRlc3QoZi5jc3MoYiwiZGlzcGxheSIpKSYmMD09PWIub2Zmc2V0V2lkdGg/Zi5zd2FwKGIsZWMsZnVuY3Rpb24oKXtyZXR1cm4gcmEoYiwKZSxkKX0pOnJhKGIsZSxkKX0sc2V0OmZ1bmN0aW9uKGIsZyxkKXt2YXIgaz1kJiZKYShiKTtyZXR1cm4gQ2EoYixnLGQ/eShiLGUsZCxELmJveFNpemluZyYmImJvcmRlci1ib3giPT09Zi5jc3MoYiwiYm94U2l6aW5nIiwhMSxrKSxrKTowKX19fSk7RC5vcGFjaXR5fHwoZi5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oYixlKXtyZXR1cm4gbWMudGVzdCgoZSYmYi5jdXJyZW50U3R5bGU/Yi5jdXJyZW50U3R5bGUuZmlsdGVyOmIuc3R5bGUuZmlsdGVyKXx8IiIpPy4wMSpwYXJzZUZsb2F0KFJlZ0V4cC4kMSkrIiI6ZT8iMSI6IiJ9LHNldDpmdW5jdGlvbihiLGUpe3ZhciBjPWIuc3R5bGU7Yj1iLmN1cnJlbnRTdHlsZTt2YXIgZD1mLmlzTnVtZXJpYyhlKT8iYWxwaGEob3BhY2l0eT0iKzEwMCplKyIpIjoiIixrPWImJmIuZmlsdGVyfHxjLmZpbHRlcnx8IiI7Yy56b29tPTE7aWYoKDE8PWV8fCIiPT09ZSkmJiIiPT09Zi50cmltKGsucmVwbGFjZShzYSwiIikpJiZjLnJlbW92ZUF0dHJpYnV0ZSYmCihjLnJlbW92ZUF0dHJpYnV0ZSgiZmlsdGVyIiksIiI9PT1lfHxiJiYhYi5maWx0ZXIpKXJldHVybjtjLmZpbHRlcj1zYS50ZXN0KGspP2sucmVwbGFjZShzYSxkKTprKyIgIitkfX0pO2YuY3NzSG9va3MubWFyZ2luUmlnaHQ9WihELnJlbGlhYmxlTWFyZ2luUmlnaHQsZnVuY3Rpb24oYixlKXtpZihlKXJldHVybiBmLnN3YXAoYix7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sbGEsW2IsIm1hcmdpblJpZ2h0Il0pfSk7Zi5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYixlKXtmLmNzc0hvb2tzW2IrZV09e2V4cGFuZDpmdW5jdGlvbihjKXt2YXIgZj0wLGQ9e307Zm9yKGM9InN0cmluZyI9PT10eXBlb2YgYz9jLnNwbGl0KCIgIik6W2NdOzQ+ZjtmKyspZFtiK0xhW2ZdK2VdPWNbZl18fGNbZi0yXXx8Y1swXTtyZXR1cm4gZH19O1NhLnRlc3QoYil8fChmLmNzc0hvb2tzW2IrZV0uc2V0PUNhKX0pO2YuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oYiwKZSl7cmV0dXJuIHBhKHRoaXMsZnVuY3Rpb24oYixnLGUpe3ZhciBkLGs9e30sbT0wO2lmKGYuaXNBcnJheShnKSl7ZT1KYShiKTtmb3IoZD1nLmxlbmd0aDttPGQ7bSsrKWtbZ1ttXV09Zi5jc3MoYixnW21dLCExLGUpO3JldHVybiBrfXJldHVybiB2b2lkIDAhPT1lP2Yuc3R5bGUoYixnLGUpOmYuY3NzKGIsZyl9LGIsZSwxPGFyZ3VtZW50cy5sZW5ndGgpfSxzaG93OmZ1bmN0aW9uKCl7cmV0dXJuIGIodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gYih0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGIpe3JldHVybiJib29sZWFuIj09PXR5cGVvZiBiP2I/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7SWEodGhpcyk/Zih0aGlzKS5zaG93KCk6Zih0aGlzKS5oaWRlKCl9KX19KTtmLlR3ZWVuPWJhO2JhLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YmEsaW5pdDpmdW5jdGlvbihiLGUsYyxkLGssbSl7dGhpcy5lbGVtPWI7dGhpcy5wcm9wPWM7dGhpcy5lYXNpbmc9Cmt8fCJzd2luZyI7dGhpcy5vcHRpb25zPWU7dGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpO3RoaXMuZW5kPWQ7dGhpcy51bml0PW18fChmLmNzc051bWJlcltjXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGI9YmEucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGImJmIuZ2V0P2IuZ2V0KHRoaXMpOmJhLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihiKXt2YXIgZSxjPWJhLnByb3BIb29rc1t0aGlzLnByb3BdO3RoaXMucG9zPXRoaXMub3B0aW9ucy5kdXJhdGlvbj9lPWYuZWFzaW5nW3RoaXMuZWFzaW5nXShiLHRoaXMub3B0aW9ucy5kdXJhdGlvbipiLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOmU9Yjt0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqZSt0aGlzLnN0YXJ0O3RoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKTtjJiZjLnNldD9jLnNldCh0aGlzKToKYmEucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKTtyZXR1cm4gdGhpc319O2JhLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1iYS5wcm90b3R5cGU7YmEucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGIpe3JldHVybiBudWxsPT1iLmVsZW1bYi5wcm9wXXx8Yi5lbGVtLnN0eWxlJiZudWxsIT1iLmVsZW0uc3R5bGVbYi5wcm9wXT8oYj1mLmNzcyhiLmVsZW0sYi5wcm9wLCIiKSkmJiJhdXRvIiE9PWI/YjowOmIuZWxlbVtiLnByb3BdfSxzZXQ6ZnVuY3Rpb24oYil7aWYoZi5meC5zdGVwW2IucHJvcF0pZi5meC5zdGVwW2IucHJvcF0oYik7ZWxzZSBiLmVsZW0uc3R5bGUmJihudWxsIT1iLmVsZW0uc3R5bGVbZi5jc3NQcm9wc1tiLnByb3BdXXx8Zi5jc3NIb29rc1tiLnByb3BdKT9mLnN0eWxlKGIuZWxlbSxiLnByb3AsYi5ub3crYi51bml0KTpiLmVsZW1bYi5wcm9wXT1iLm5vd319fTtiYS5wcm9wSG9va3Muc2Nyb2xsVG9wPWJhLnByb3BIb29rcy5zY3JvbGxMZWZ0PQp7c2V0OmZ1bmN0aW9uKGIpe2IuZWxlbS5ub2RlVHlwZSYmYi5lbGVtLnBhcmVudE5vZGUmJihiLmVsZW1bYi5wcm9wXT1iLm5vdyl9fTtmLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGIpe3JldHVybiBifSxzd2luZzpmdW5jdGlvbihiKXtyZXR1cm4uNS1NYXRoLmNvcyhiKk1hdGguUEkpLzJ9fTtmLmZ4PWJhLnByb3RvdHlwZS5pbml0O2YuZnguc3RlcD17fTt2YXIgUGEsYWIsVGE9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLGNiPW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitoYisiKShbYS16JV0qKSQiLCJpIikscWM9L3F1ZXVlSG9va3MkLyxkYj1bZnVuY3Rpb24oYixlLGMpe3ZhciBkLGssbSxoLGwsbixxPXRoaXMsdT17fSxwPWIuc3R5bGUsdj1iLm5vZGVUeXBlJiZJYShiKSxBPWYuX2RhdGEoYiwiZnhzaG93Iik7Yy5xdWV1ZXx8KGg9Zi5fcXVldWVIb29rcyhiLCJmeCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsbD1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPQpmdW5jdGlvbigpe2gudW5xdWV1ZWR8fGwoKX0pLGgudW5xdWV1ZWQrKyxxLmFsd2F5cyhmdW5jdGlvbigpe3EuYWx3YXlzKGZ1bmN0aW9uKCl7aC51bnF1ZXVlZC0tO2YucXVldWUoYiwiZngiKS5sZW5ndGh8fGguZW1wdHkuZmlyZSgpfSl9KSk7MT09PWIubm9kZVR5cGUmJigiaGVpZ2h0ImluIGV8fCJ3aWR0aCJpbiBlKSYmKGMub3ZlcmZsb3c9W3Aub3ZlcmZsb3cscC5vdmVyZmxvd1gscC5vdmVyZmxvd1ldLG49Zi5jc3MoYiwiZGlzcGxheSIpLGs9Im5vbmUiPT09bj9mLl9kYXRhKGIsIm9sZGRpc3BsYXkiKXx8TyhiLm5vZGVOYW1lKTpuLCJpbmxpbmUiPT09ayYmIm5vbmUiPT09Zi5jc3MoYiwiZmxvYXQiKSYmKEQuaW5saW5lQmxvY2tOZWVkc0xheW91dCYmImlubGluZSIhPT1PKGIubm9kZU5hbWUpP3Auem9vbT0xOnAuZGlzcGxheT0iaW5saW5lLWJsb2NrIikpO2Mub3ZlcmZsb3cmJihwLm92ZXJmbG93PSJoaWRkZW4iLEQuc2hyaW5rV3JhcEJsb2NrcygpfHxxLmFsd2F5cyhmdW5jdGlvbigpe3Aub3ZlcmZsb3c9CmMub3ZlcmZsb3dbMF07cC5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXTtwLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGUpaWYoaz1lW2RdLFRhLmV4ZWMoaykpe2RlbGV0ZSBlW2RdO209bXx8InRvZ2dsZSI9PT1rO2lmKGs9PT0odj8iaGlkZSI6InNob3ciKSlpZigic2hvdyI9PT1rJiZBJiZ2b2lkIDAhPT1BW2RdKXY9ITA7ZWxzZSBjb250aW51ZTt1W2RdPUEmJkFbZF18fGYuc3R5bGUoYixkKX1lbHNlIG49dm9pZCAwO2lmKGYuaXNFbXB0eU9iamVjdCh1KSkiaW5saW5lIj09PSgibm9uZSI9PT1uP08oYi5ub2RlTmFtZSk6bikmJihwLmRpc3BsYXk9bik7ZWxzZSBmb3IoZCBpbiBBPyJoaWRkZW4iaW4gQSYmKHY9QS5oaWRkZW4pOkE9Zi5fZGF0YShiLCJmeHNob3ciLHt9KSxtJiYoQS5oaWRkZW49IXYpLHY/ZihiKS5zaG93KCk6cS5kb25lKGZ1bmN0aW9uKCl7ZihiKS5oaWRlKCl9KSxxLmRvbmUoZnVuY3Rpb24oKXt2YXIgYztmLl9yZW1vdmVEYXRhKGIsImZ4c2hvdyIpOwpmb3IoYyBpbiB1KWYuc3R5bGUoYixjLHVbY10pfSksdSllPU4odj9BW2RdOjAsZCxxKSxkIGluIEF8fChBW2RdPWUuc3RhcnQsdiYmKGUuZW5kPWUuc3RhcnQsZS5zdGFydD0id2lkdGgiPT09ZHx8ImhlaWdodCI9PT1kPzE6MCkpfV0sZWI9eyIqIjpbZnVuY3Rpb24oYixlKXt2YXIgYz10aGlzLmNyZWF0ZVR3ZWVuKGIsZSksZD1jLmN1cigpLGs9KGU9Y2IuZXhlYyhlKSkmJmVbM118fChmLmNzc051bWJlcltiXT8iIjoicHgiKSxtPShmLmNzc051bWJlcltiXXx8InB4IiE9PWsmJitkKSYmY2IuZXhlYyhmLmNzcyhjLmVsZW0sYikpLGg9MSxsPTIwO2lmKG0mJm1bM10hPT1rKXtrPWt8fG1bM107ZT1lfHxbXTttPStkfHwxO2RvIGg9aHx8Ii41IixtLz1oLGYuc3R5bGUoYy5lbGVtLGIsbStrKTt3aGlsZShoIT09KGg9Yy5jdXIoKS9kKSYmMSE9PWgmJi0tbCl9ZSYmKG09Yy5zdGFydD0rbXx8K2R8fDAsYy51bml0PWssYy5lbmQ9ZVsxXT9tKyhlWzFdKzEpKmVbMl06K2VbMl0pO3JldHVybiBjfV19OwpmLkFuaW1hdGlvbj1mLmV4dGVuZChULHt0d2VlbmVyOmZ1bmN0aW9uKGIsZSl7Zi5pc0Z1bmN0aW9uKGIpPyhlPWIsYj1bIioiXSk6Yj1iLnNwbGl0KCIgIik7Zm9yKHZhciBjLGQ9MCxrPWIubGVuZ3RoO2Q8aztkKyspYz1iW2RdLGViW2NdPWViW2NdfHxbXSxlYltjXS51bnNoaWZ0KGUpfSxwcmVmaWx0ZXI6ZnVuY3Rpb24oYixlKXtlP2RiLnVuc2hpZnQoYik6ZGIucHVzaChiKX19KTtmLnNwZWVkPWZ1bmN0aW9uKGIsZSxjKXt2YXIgZD1iJiYib2JqZWN0Ij09PXR5cGVvZiBiP2YuZXh0ZW5kKHt9LGIpOntjb21wbGV0ZTpjfHwhYyYmZXx8Zi5pc0Z1bmN0aW9uKGIpJiZiLGR1cmF0aW9uOmIsZWFzaW5nOmMmJmV8fGUmJiFmLmlzRnVuY3Rpb24oZSkmJmV9O2QuZHVyYXRpb249Zi5meC5vZmY/MDoibnVtYmVyIj09PXR5cGVvZiBkLmR1cmF0aW9uP2QuZHVyYXRpb246ZC5kdXJhdGlvbiBpbiBmLmZ4LnNwZWVkcz9mLmZ4LnNwZWVkc1tkLmR1cmF0aW9uXTpmLmZ4LnNwZWVkcy5fZGVmYXVsdDsKaWYobnVsbD09ZC5xdWV1ZXx8ITA9PT1kLnF1ZXVlKWQucXVldWU9ImZ4IjtkLm9sZD1kLmNvbXBsZXRlO2QuY29tcGxldGU9ZnVuY3Rpb24oKXtmLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpO2QucXVldWUmJmYuZGVxdWV1ZSh0aGlzLGQucXVldWUpfTtyZXR1cm4gZH07Zi5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihiLGUsYyxmKXtyZXR1cm4gdGhpcy5maWx0ZXIoSWEpLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6ZX0sYixjLGYpfSxhbmltYXRlOmZ1bmN0aW9uKGIsZSxjLGQpe3ZhciBrPWYuaXNFbXB0eU9iamVjdChiKSxtPWYuc3BlZWQoZSxjLGQpO2U9ZnVuY3Rpb24oKXt2YXIgYz1UKHRoaXMsZi5leHRlbmQoe30sYiksbSk7KGt8fGYuX2RhdGEodGhpcywiZmluaXNoIikpJiZjLnN0b3AoITApfTtlLmZpbmlzaD1lO3JldHVybiBrfHwhMT09PW0ucXVldWU/dGhpcy5lYWNoKGUpOnRoaXMucXVldWUobS5xdWV1ZSwKZSl9LHN0b3A6ZnVuY3Rpb24oYixlLGMpe3ZhciBkPWZ1bmN0aW9uKGIpe3ZhciBnPWIuc3RvcDtkZWxldGUgYi5zdG9wO2coYyl9OyJzdHJpbmciIT09dHlwZW9mIGImJihjPWUsZT1iLGI9dm9pZCAwKTtlJiYhMSE9PWImJnRoaXMucXVldWUoYnx8ImZ4IixbXSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPSEwLGs9bnVsbCE9YiYmYisicXVldWVIb29rcyIsbT1mLnRpbWVycyxoPWYuX2RhdGEodGhpcyk7aWYoayloW2tdJiZoW2tdLnN0b3AmJmQoaFtrXSk7ZWxzZSBmb3IoayBpbiBoKWhba10mJmhba10uc3RvcCYmcWMudGVzdChrKSYmZChoW2tdKTtmb3Ioaz1tLmxlbmd0aDtrLS07KW1ba10uZWxlbSE9PXRoaXN8fG51bGwhPWImJm1ba10ucXVldWUhPT1ifHwobVtrXS5hbmltLnN0b3AoYyksZT0hMSxtLnNwbGljZShrLDEpKTshZSYmY3x8Zi5kZXF1ZXVlKHRoaXMsYil9KX0sZmluaXNoOmZ1bmN0aW9uKGIpeyExIT09YiYmKGI9Ynx8ImZ4Iik7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlLApjPWYuX2RhdGEodGhpcyksZD1jW2IrInF1ZXVlIl07ZT1jW2IrInF1ZXVlSG9va3MiXTt2YXIgaz1mLnRpbWVycyxtPWQ/ZC5sZW5ndGg6MDtjLmZpbmlzaD0hMDtmLnF1ZXVlKHRoaXMsYixbXSk7ZSYmZS5zdG9wJiZlLnN0b3AuY2FsbCh0aGlzLCEwKTtmb3IoZT1rLmxlbmd0aDtlLS07KWtbZV0uZWxlbT09PXRoaXMmJmtbZV0ucXVldWU9PT1iJiYoa1tlXS5hbmltLnN0b3AoITApLGsuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxtO2UrKylkW2VdJiZkW2VdLmZpbmlzaCYmZFtlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KTtmLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGIsZSl7dmFyIGM9Zi5mbltlXTtmLmZuW2VdPWZ1bmN0aW9uKGIsZyxmKXtyZXR1cm4gbnVsbD09Ynx8ImJvb2xlYW4iPT09dHlwZW9mIGI/Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKHUoZSwhMCksYixnLGYpfX0pO2YuZWFjaCh7c2xpZGVEb3duOnUoInNob3ciKSwKc2xpZGVVcDp1KCJoaWRlIiksc2xpZGVUb2dnbGU6dSgidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihiLGUpe2YuZm5bYl09ZnVuY3Rpb24oYixnLGYpe3JldHVybiB0aGlzLmFuaW1hdGUoZSxiLGcsZil9fSk7Zi50aW1lcnM9W107Zi5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGIsZT1mLnRpbWVycyxjPTA7Zm9yKFBhPWYubm93KCk7YzxlLmxlbmd0aDtjKyspYj1lW2NdLGIoKXx8ZVtjXSE9PWJ8fGUuc3BsaWNlKGMtLSwxKTtlLmxlbmd0aHx8Zi5meC5zdG9wKCk7UGE9dm9pZCAwfTtmLmZ4LnRpbWVyPWZ1bmN0aW9uKGIpe2YudGltZXJzLnB1c2goYik7YigpP2YuZnguc3RhcnQoKTpmLnRpbWVycy5wb3AoKX07Zi5meC5pbnRlcnZhbD0xMztmLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7YWJ8fChhYj1zZXRJbnRlcnZhbChmLmZ4LnRpY2ssZi5meC5pbnRlcnZhbCkpfTsKZi5meC5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChhYik7YWI9bnVsbH07Zi5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH07Zi5mbi5kZWxheT1mdW5jdGlvbihiLGUpe2I9Zi5meD9mLmZ4LnNwZWVkc1tiXXx8YjpiO3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsZnVuY3Rpb24oYyxlKXt2YXIgZj1zZXRUaW1lb3V0KGMsYik7ZS5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGYpfX0pfTsoZnVuY3Rpb24oKXt2YXIgYixlLGMsZixkO2U9Si5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLnNldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIiwidCIpO2UuaW5uZXJIVE1MPSIgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYSc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz4iO2Y9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpWzBdO2M9Si5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTtkPWMuYXBwZW5kQ2hpbGQoSi5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSk7CmI9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXTtmLnN0eWxlLmNzc1RleHQ9InRvcDoxcHgiO0QuZ2V0U2V0QXR0cmlidXRlPSJ0IiE9PWUuY2xhc3NOYW1lO0Quc3R5bGU9L3RvcC8udGVzdChmLmdldEF0dHJpYnV0ZSgic3R5bGUiKSk7RC5ocmVmTm9ybWFsaXplZD0iL2EiPT09Zi5nZXRBdHRyaWJ1dGUoImhyZWYiKTtELmNoZWNrT249ISFiLnZhbHVlO0Qub3B0U2VsZWN0ZWQ9ZC5zZWxlY3RlZDtELmVuY3R5cGU9ISFKLmNyZWF0ZUVsZW1lbnQoImZvcm0iKS5lbmN0eXBlO2MuZGlzYWJsZWQ9ITA7RC5vcHREaXNhYmxlZD0hZC5kaXNhYmxlZDtiPUouY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKTtELmlucHV0PSIiPT09Yi5nZXRBdHRyaWJ1dGUoInZhbHVlIik7Yi52YWx1ZT0idCI7Yi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpO0QucmFkaW9WYWx1ZT0idCI9PT1iLnZhbHVlfSkoKTt2YXIgaWI9L1xyL2c7Zi5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihiKXt2YXIgZSwKYyxkLGs9dGhpc1swXTtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkPWYuaXNGdW5jdGlvbihiKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7MT09PXRoaXMubm9kZVR5cGUmJihjPWQ/Yi5jYWxsKHRoaXMsYyxmKHRoaXMpLnZhbCgpKTpiLG51bGw9PWM/Yz0iIjoibnVtYmVyIj09PXR5cGVvZiBjP2MrPSIiOmYuaXNBcnJheShjKSYmKGM9Zi5tYXAoYyxmdW5jdGlvbihiKXtyZXR1cm4gbnVsbD09Yj8iIjpiKyIifSkpLGU9Zi52YWxIb29rc1t0aGlzLnR5cGVdfHxmLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sZSYmInNldCJpbiBlJiZ2b2lkIDAhPT1lLnNldCh0aGlzLGMsInZhbHVlIil8fCh0aGlzLnZhbHVlPWMpKX0pO2lmKGspe2lmKChlPWYudmFsSG9va3Nbay50eXBlXXx8Zi52YWxIb29rc1trLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSYmImdldCJpbiBlJiZ2b2lkIDAhPT0oYz1lLmdldChrLCJ2YWx1ZSIpKSlyZXR1cm4gYztjPWsudmFsdWU7cmV0dXJuInN0cmluZyI9PT0KdHlwZW9mIGM/Yy5yZXBsYWNlKGliLCIiKTpudWxsPT1jPyIiOmN9fX0pO2YuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYil7dmFyIGU9Zi5maW5kLmF0dHIoYiwidmFsdWUiKTtyZXR1cm4gbnVsbCE9ZT9lOmYudHJpbShmLnRleHQoYikpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oYil7Zm9yKHZhciBlLGM9Yi5vcHRpb25zLGQ9Yi5zZWxlY3RlZEluZGV4LGs9KGI9InNlbGVjdC1vbmUiPT09Yi50eXBlfHwwPmQpP251bGw6W10sbT1iP2QrMTpjLmxlbmd0aCxoPTA+ZD9tOmI/ZDowO2g8bTtoKyspaWYoZT1jW2hdLCEoIWUuc2VsZWN0ZWQmJmghPT1kfHwoRC5vcHREaXNhYmxlZD9lLmRpc2FibGVkOm51bGwhPT1lLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKSl8fGUucGFyZW50Tm9kZS5kaXNhYmxlZCYmZi5ub2RlTmFtZShlLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtlPWYoZSkudmFsKCk7aWYoYilyZXR1cm4gZTtrLnB1c2goZSl9cmV0dXJuIGt9LHNldDpmdW5jdGlvbihiLAplKXtmb3IodmFyIGMsZD1iLm9wdGlvbnMsaz1mLm1ha2VBcnJheShlKSxtPWQubGVuZ3RoO20tLTspaWYoZT1kW21dLDA8PWYuaW5BcnJheShmLnZhbEhvb2tzLm9wdGlvbi5nZXQoZSksaykpdHJ5e2Uuc2VsZWN0ZWQ9Yz0hMH1jYXRjaChoKXtlLnNjcm9sbEhlaWdodH1lbHNlIGUuc2VsZWN0ZWQ9ITE7Y3x8KGIuc2VsZWN0ZWRJbmRleD0tMSk7cmV0dXJuIGR9fX19KTtmLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtmLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYixlKXtpZihmLmlzQXJyYXkoZSkpcmV0dXJuIGIuY2hlY2tlZD0wPD1mLmluQXJyYXkoZihiKS52YWwoKSxlKX19O0QuY2hlY2tPbnx8KGYudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGIpe3JldHVybiBudWxsPT09Yi5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjpiLnZhbHVlfSl9KTt2YXIgdGEsV2IscWE9Zi5leHByLmF0dHJIYW5kbGUsbmI9L14oPzpjaGVja2VkfHNlbGVjdGVkKSQvaSwKbmE9RC5nZXRTZXRBdHRyaWJ1dGUsWWE9RC5pbnB1dDtmLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihiLGUpe3JldHVybiBwYSh0aGlzLGYuYXR0cixiLGUsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5yZW1vdmVBdHRyKHRoaXMsYil9KX19KTtmLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihiLGUsYyl7dmFyIGQsayxtPWIubm9kZVR5cGU7aWYoYiYmMyE9PW0mJjghPT1tJiYyIT09bSl7aWYoInVuZGVmaW5lZCI9PT10eXBlb2YgYi5nZXRBdHRyaWJ1dGUpcmV0dXJuIGYucHJvcChiLGUsYyk7MT09PW0mJmYuaXNYTUxEb2MoYil8fChlPWUudG9Mb3dlckNhc2UoKSxkPWYuYXR0ckhvb2tzW2VdfHwoZi5leHByLm1hdGNoLmJvb2wudGVzdChlKT9XYjp0YSkpO2lmKHZvaWQgMCE9PWMpaWYobnVsbD09PWMpZi5yZW1vdmVBdHRyKGIsZSk7ZWxzZXtpZihkJiYic2V0ImluIGQmJnZvaWQgMCE9PShrPWQuc2V0KGIsCmMsZSkpKXJldHVybiBrO2Iuc2V0QXR0cmlidXRlKGUsYysiIik7cmV0dXJuIGN9ZWxzZXtpZihkJiYiZ2V0ImluIGQmJm51bGwhPT0oaz1kLmdldChiLGUpKSlyZXR1cm4gaztrPWYuZmluZC5hdHRyKGIsZSk7cmV0dXJuIG51bGw9PWs/dm9pZCAwOmt9fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihiLGUpe3ZhciBjLGQ9MCxrPWUmJmUubWF0Y2goQmEpO2lmKGsmJjE9PT1iLm5vZGVUeXBlKWZvcig7ZT1rW2QrK107KWM9Zi5wcm9wRml4W2VdfHxlLGYuZXhwci5tYXRjaC5ib29sLnRlc3QoZSk/WWEmJm5hfHwhbmIudGVzdChlKT9iW2NdPSExOmJbZi5jYW1lbENhc2UoImRlZmF1bHQtIitlKV09YltjXT0hMTpmLmF0dHIoYixlLCIiKSxiLnJlbW92ZUF0dHJpYnV0ZShuYT9lOmMpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihiLGUpe2lmKCFELnJhZGlvVmFsdWUmJiJyYWRpbyI9PT1lJiZmLm5vZGVOYW1lKGIsImlucHV0Iikpe3ZhciBjPWIudmFsdWU7Yi5zZXRBdHRyaWJ1dGUoInR5cGUiLAplKTtjJiYoYi52YWx1ZT1jKTtyZXR1cm4gZX19fX19KTtXYj17c2V0OmZ1bmN0aW9uKGIsZSxjKXshMT09PWU/Zi5yZW1vdmVBdHRyKGIsYyk6WWEmJm5hfHwhbmIudGVzdChjKT9iLnNldEF0dHJpYnV0ZSghbmEmJmYucHJvcEZpeFtjXXx8YyxjKTpiW2YuY2FtZWxDYXNlKCJkZWZhdWx0LSIrYyldPWJbY109ITA7cmV0dXJuIGN9fTtmLmVhY2goZi5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24oYixlKXt2YXIgYz1xYVtlXXx8Zi5maW5kLmF0dHI7cWFbZV09WWEmJm5hfHwhbmIudGVzdChlKT9mdW5jdGlvbihiLGUsZyl7dmFyIGYsZDtnfHwoZD1xYVtlXSxxYVtlXT1mLGY9bnVsbCE9YyhiLGUsZyk/ZS50b0xvd2VyQ2FzZSgpOm51bGwscWFbZV09ZCk7cmV0dXJuIGZ9OmZ1bmN0aW9uKGIsYyxlKXtpZighZSlyZXR1cm4gYltmLmNhbWVsQ2FzZSgiZGVmYXVsdC0iK2MpXT9jLnRvTG93ZXJDYXNlKCk6bnVsbH19KTtZYSYmbmF8fChmLmF0dHJIb29rcy52YWx1ZT0Ke3NldDpmdW5jdGlvbihiLGUsYyl7aWYoZi5ub2RlTmFtZShiLCJpbnB1dCIpKWIuZGVmYXVsdFZhbHVlPWU7ZWxzZSByZXR1cm4gdGEmJnRhLnNldChiLGUsYyl9fSk7bmF8fCh0YT17c2V0OmZ1bmN0aW9uKGIsZSxjKXt2YXIgZj1iLmdldEF0dHJpYnV0ZU5vZGUoYyk7Znx8Yi5zZXRBdHRyaWJ1dGVOb2RlKGY9Yi5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShjKSk7Zi52YWx1ZT1lKz0iIjtpZigidmFsdWUiPT09Y3x8ZT09PWIuZ2V0QXR0cmlidXRlKGMpKXJldHVybiBlfX0scWEuaWQ9cWEubmFtZT1xYS5jb29yZHM9ZnVuY3Rpb24oYixlLGMpe3ZhciBmO2lmKCFjKXJldHVybihmPWIuZ2V0QXR0cmlidXRlTm9kZShlKSkmJiIiIT09Zi52YWx1ZT9mLnZhbHVlOm51bGx9LGYudmFsSG9va3MuYnV0dG9uPXtnZXQ6ZnVuY3Rpb24oYixlKXtpZigoYj1iLmdldEF0dHJpYnV0ZU5vZGUoZSkpJiZiLnNwZWNpZmllZClyZXR1cm4gYi52YWx1ZX0sc2V0OnRhLnNldH0sZi5hdHRySG9va3MuY29udGVudGVkaXRhYmxlPQp7c2V0OmZ1bmN0aW9uKGIsZSxjKXt0YS5zZXQoYiwiIj09PWU/ITE6ZSxjKX19LGYuZWFjaChbIndpZHRoIiwiaGVpZ2h0Il0sZnVuY3Rpb24oYixlKXtmLmF0dHJIb29rc1tlXT17c2V0OmZ1bmN0aW9uKGIsZyl7aWYoIiI9PT1nKXJldHVybiBiLnNldEF0dHJpYnV0ZShlLCJhdXRvIiksZ319fSkpO0Quc3R5bGV8fChmLmF0dHJIb29rcy5zdHlsZT17Z2V0OmZ1bmN0aW9uKGIpe3JldHVybiBiLnN0eWxlLmNzc1RleHR8fHZvaWQgMH0sc2V0OmZ1bmN0aW9uKGIsZSl7cmV0dXJuIGIuc3R5bGUuY3NzVGV4dD1lKyIifX0pO3ZhciBRYT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvaSxvYj0vXig/OmF8YXJlYSkkL2k7Zi5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYixlKXtyZXR1cm4gcGEodGhpcyxmLnByb3AsYixlLDE8YXJndW1lbnRzLmxlbmd0aCl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYil7Yj1mLnByb3BGaXhbYl18fGI7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3RyeXt0aGlzW2JdPQp2b2lkIDAsZGVsZXRlIHRoaXNbYl19Y2F0Y2goZSl7fX0pfX0pO2YuZXh0ZW5kKHtwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn0scHJvcDpmdW5jdGlvbihiLGUsYyl7dmFyIGQsayxtO209Yi5ub2RlVHlwZTtpZihiJiYzIT09bSYmOCE9PW0mJjIhPT1tKXtpZihtPTEhPT1tfHwhZi5pc1hNTERvYyhiKSllPWYucHJvcEZpeFtlXXx8ZSxrPWYucHJvcEhvb2tzW2VdO3JldHVybiB2b2lkIDAhPT1jP2smJiJzZXQiaW4gayYmdm9pZCAwIT09KGQ9ay5zZXQoYixjLGUpKT9kOmJbZV09YzprJiYiZ2V0ImluIGsmJm51bGwhPT0oZD1rLmdldChiLGUpKT9kOmJbZV19fSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYil7dmFyIGU9Zi5maW5kLmF0dHIoYiwidGFiaW5kZXgiKTtyZXR1cm4gZT9wYXJzZUludChlLDEwKTpRYS50ZXN0KGIubm9kZU5hbWUpfHxvYi50ZXN0KGIubm9kZU5hbWUpJiZiLmhyZWY/MDotMX19fX0pO0QuaHJlZk5vcm1hbGl6ZWR8fApmLmVhY2goWyJocmVmIiwic3JjIl0sZnVuY3Rpb24oYixlKXtmLnByb3BIb29rc1tlXT17Z2V0OmZ1bmN0aW9uKGIpe3JldHVybiBiLmdldEF0dHJpYnV0ZShlLDQpfX19KTtELm9wdFNlbGVjdGVkfHwoZi5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihiKXtpZihiPWIucGFyZW50Tm9kZSliLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtyZXR1cm4gbnVsbH19KTtmLmVhY2goInRhYkluZGV4IHJlYWRPbmx5IG1heExlbmd0aCBjZWxsU3BhY2luZyBjZWxsUGFkZGluZyByb3dTcGFuIGNvbFNwYW4gdXNlTWFwIGZyYW1lQm9yZGVyIGNvbnRlbnRFZGl0YWJsZSIuc3BsaXQoIiAiKSxmdW5jdGlvbigpe2YucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTtELmVuY3R5cGV8fChmLnByb3BGaXguZW5jdHlwZT0iZW5jb2RpbmciKTt2YXIgRWI9L1tcdFxyXG5cZl0vZztmLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oYil7dmFyIGUsCmMsZCxrLG0saD0wLGw9dGhpcy5sZW5ndGg7ZT0ic3RyaW5nIj09PXR5cGVvZiBiJiZiO2lmKGYuaXNGdW5jdGlvbihiKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe2YodGhpcykuYWRkQ2xhc3MoYi5jYWxsKHRoaXMsYyx0aGlzLmNsYXNzTmFtZSkpfSk7aWYoZSlmb3IoZT0oYnx8IiIpLm1hdGNoKEJhKXx8W107aDxsO2grKylpZihjPXRoaXNbaF0sZD0xPT09Yy5ub2RlVHlwZSYmKGMuY2xhc3NOYW1lPygiICIrYy5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKEViLCIgIik6IiAiKSl7Zm9yKG09MDtrPWVbbSsrXTspMD5kLmluZGV4T2YoIiAiK2srIiAiKSYmKGQrPWsrIiAiKTtkPWYudHJpbShkKTtjLmNsYXNzTmFtZSE9PWQmJihjLmNsYXNzTmFtZT1kKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYil7dmFyIGUsYyxkLGssbSxoPTAsbD10aGlzLmxlbmd0aDtlPTA9PT1hcmd1bWVudHMubGVuZ3RofHwic3RyaW5nIj09PXR5cGVvZiBiJiZiO2lmKGYuaXNGdW5jdGlvbihiKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe2YodGhpcykucmVtb3ZlQ2xhc3MoYi5jYWxsKHRoaXMsCmMsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGUpZm9yKGU9KGJ8fCIiKS5tYXRjaChCYSl8fFtdO2g8bDtoKyspaWYoYz10aGlzW2hdLGQ9MT09PWMubm9kZVR5cGUmJihjLmNsYXNzTmFtZT8oIiAiK2MuY2xhc3NOYW1lKyIgIikucmVwbGFjZShFYiwiICIpOiIiKSl7Zm9yKG09MDtrPWVbbSsrXTspZm9yKDswPD1kLmluZGV4T2YoIiAiK2srIiAiKTspZD1kLnJlcGxhY2UoIiAiK2srIiAiLCIgIik7ZD1iP2YudHJpbShkKToiIjtjLmNsYXNzTmFtZSE9PWQmJihjLmNsYXNzTmFtZT1kKX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYixlKXt2YXIgYz10eXBlb2YgYjtyZXR1cm4iYm9vbGVhbiI9PT10eXBlb2YgZSYmInN0cmluZyI9PT1jP2U/dGhpcy5hZGRDbGFzcyhiKTp0aGlzLnJlbW92ZUNsYXNzKGIpOmYuaXNGdW5jdGlvbihiKT90aGlzLmVhY2goZnVuY3Rpb24oYyl7Zih0aGlzKS50b2dnbGVDbGFzcyhiLmNhbGwodGhpcyxjLHRoaXMuY2xhc3NOYW1lLGUpLGUpfSk6CnRoaXMuZWFjaChmdW5jdGlvbigpe2lmKCJzdHJpbmciPT09Yylmb3IodmFyIGUsZD0wLGs9Zih0aGlzKSxtPWIubWF0Y2goQmEpfHxbXTtlPW1bZCsrXTspay5oYXNDbGFzcyhlKT9rLnJlbW92ZUNsYXNzKGUpOmsuYWRkQ2xhc3MoZSk7ZWxzZSBpZigidW5kZWZpbmVkIj09PWN8fCJib29sZWFuIj09PWMpdGhpcy5jbGFzc05hbWUmJmYuX2RhdGEodGhpcywiX19jbGFzc05hbWVfXyIsdGhpcy5jbGFzc05hbWUpLHRoaXMuY2xhc3NOYW1lPXRoaXMuY2xhc3NOYW1lfHwhMT09PWI/IiI6Zi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIifSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGIpe2I9IiAiK2IrIiAiO2Zvcih2YXIgZT0wLGM9dGhpcy5sZW5ndGg7ZTxjO2UrKylpZigxPT09dGhpc1tlXS5ub2RlVHlwZSYmMDw9KCIgIit0aGlzW2VdLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoRWIsIiAiKS5pbmRleE9mKGIpKXJldHVybiEwO3JldHVybiExfX0pO2YuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBlcnJvciBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSwKZnVuY3Rpb24oYixlKXtmLmZuW2VdPWZ1bmN0aW9uKGIsZyl7cmV0dXJuIDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKGUsbnVsbCxiLGcpOnRoaXMudHJpZ2dlcihlKX19KTtmLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYixlKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGIpLm1vdXNlbGVhdmUoZXx8Yil9LGJpbmQ6ZnVuY3Rpb24oYixlLGMpe3JldHVybiB0aGlzLm9uKGIsbnVsbCxlLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYixlKXtyZXR1cm4gdGhpcy5vZmYoYixudWxsLGUpfSxkZWxlZ2F0ZTpmdW5jdGlvbihiLGUsYyxmKXtyZXR1cm4gdGhpcy5vbihlLGIsYyxmKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihiLGUsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGIsIioqIik6dGhpcy5vZmYoZSxifHwiKioiLGMpfX0pO3ZhciBGYj1mLm5vdygpLGZiPS9cPy8sR2I9LygsKXwoXFt8eyl8KH18XSl8Iig/OlteIlxcXHJcbl18XFxbIlxcXC9iZm5ydF18XFx1W1xkYS1mQS1GXXs0fSkqIlxzKjo/fHRydWV8ZmFsc2V8bnVsbHwtPyg/ITBcZClcZCsoPzpcLlxkK3wpKD86W2VFXVsrLV0/XGQrfCkvZzsKZi5wYXJzZUpTT049ZnVuY3Rpb24oYil7aWYoZC5KU09OJiZkLkpTT04ucGFyc2UpcmV0dXJuIGQuSlNPTi5wYXJzZShiKyIiKTt2YXIgZSxjPW51bGwsaz1mLnRyaW0oYisiIik7cmV0dXJuIGsmJiFmLnRyaW0oay5yZXBsYWNlKEdiLGZ1bmN0aW9uKGIsZyxmLGQpe2UmJmcmJihjPTApO2lmKDA9PT1jKXJldHVybiBiO2U9Znx8ZztjKz0hZC0hZjtyZXR1cm4iIn0pKT9GdW5jdGlvbigicmV0dXJuICIraykoKTpmLmVycm9yKCJJbnZhbGlkIEpTT046ICIrYil9O2YucGFyc2VYTUw9ZnVuY3Rpb24oYil7dmFyIGUsYztpZighYnx8InN0cmluZyIhPT10eXBlb2YgYilyZXR1cm4gbnVsbDt0cnl7ZC5ET01QYXJzZXI/KGM9bmV3IERPTVBhcnNlcixlPWMucGFyc2VGcm9tU3RyaW5nKGIsInRleHQveG1sIikpOihlPW5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIiksZS5hc3luYz0iZmFsc2UiLGUubG9hZFhNTChiKSl9Y2F0Y2goayl7ZT12b2lkIDB9ZSYmZS5kb2N1bWVudEVsZW1lbnQmJgohZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGh8fGYuZXJyb3IoIkludmFsaWQgWE1MOiAiK2IpO3JldHVybiBlfTt2YXIgb2EsS2EsUmE9LyMuKiQvLEZhPS8oWz8mXSlfPVteJl0qLyxyYz0vXiguKj8pOlsgXHRdKihbXlxyXG5dKilccj8kL21nLFhiPS9eKD86R0VUfEhFQUQpJC8sc2M9L15cL1wvLyxZYj0vXihbXHcuKy1dKzopKD86XC9cLyg/OlteXC8/I10qQHwpKFteXC8/IzpdKikoPzo6KFxkKyl8KXwpLyxaYj17fSxwYj17fSxIYj0iKi8iLmNvbmNhdCgiKiIpO3RyeXtLYT1sb2NhdGlvbi5ocmVmfWNhdGNoKGcpe0thPUouY3JlYXRlRWxlbWVudCgiYSIpLEthLmhyZWY9IiIsS2E9S2EuaHJlZn1vYT1ZYi5leGVjKEthLnRvTG93ZXJDYXNlKCkpfHxbXTtmLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6S2EsdHlwZToiR0VUIixpc0xvY2FsOi9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLnRlc3Qob2FbMV0pLApnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7IioiOkhiLHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi94bWwvLGh0bWw6L2h0bWwvLGpzb246L2pzb24vfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6Zi5wYXJzZUpTT04sInRleHQgeG1sIjpmLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYixlKXtyZXR1cm4gZT91YSh1YShiLApmLmFqYXhTZXR0aW5ncyksZSk6dWEoZi5hamF4U2V0dGluZ3MsYil9LGFqYXhQcmVmaWx0ZXI6VihaYiksYWpheFRyYW5zcG9ydDpWKHBiKSxhamF4OmZ1bmN0aW9uKGIsZSl7ZnVuY3Rpb24gYyhiLGMsZSxnKXt2YXIgZCxxLHcsRTtFPWM7aWYoMiE9PXkpe3k9MjtoJiZjbGVhclRpbWVvdXQoaCk7bj12b2lkIDA7bT1nfHwiIjtOLnJlYWR5U3RhdGU9MDxiPzQ6MDtnPTIwMDw9YiYmMzAwPmJ8fDMwND09PWI7aWYoZSl7dz11O2Zvcih2YXIgSD1OLHIsUSxELFQsUz13LmNvbnRlbnRzLEc9dy5kYXRhVHlwZXM7IioiPT09R1swXTspRy5zaGlmdCgpLHZvaWQgMD09PVEmJihRPXcubWltZVR5cGV8fEguZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihRKWZvcihUIGluIFMpaWYoU1tUXSYmU1tUXS50ZXN0KFEpKXtHLnVuc2hpZnQoVCk7YnJlYWt9aWYoR1swXWluIGUpRD1HWzBdO2Vsc2V7Zm9yKFQgaW4gZSl7aWYoIUdbMF18fHcuY29udmVydGVyc1tUKyIgIitHWzBdXSl7RD0KVDticmVha31yfHwocj1UKX1EPUR8fHJ9RD8oRCE9PUdbMF0mJkcudW5zaGlmdChEKSx3PWVbRF0pOnc9dm9pZCAwfWE6e2U9dTtyPXc7UT1OO0Q9Zzt2YXIgTSxPLFYsSD17fSxTPWUuZGF0YVR5cGVzLnNsaWNlKCk7aWYoU1sxXSlmb3IoTyBpbiBlLmNvbnZlcnRlcnMpSFtPLnRvTG93ZXJDYXNlKCldPWUuY29udmVydGVyc1tPXTtmb3IoVD1TLnNoaWZ0KCk7VDspaWYoZS5yZXNwb25zZUZpZWxkc1tUXSYmKFFbZS5yZXNwb25zZUZpZWxkc1tUXV09ciksIVYmJkQmJmUuZGF0YUZpbHRlciYmKHI9ZS5kYXRhRmlsdGVyKHIsZS5kYXRhVHlwZSkpLFY9VCxUPVMuc2hpZnQoKSlpZigiKiI9PT1UKVQ9VjtlbHNlIGlmKCIqIiE9PVYmJlYhPT1UKXtPPUhbVisiICIrVF18fEhbIiogIitUXTtpZighTylmb3IoTSBpbiBIKWlmKHc9TS5zcGxpdCgiICIpLHdbMV09PT1UJiYoTz1IW1YrIiAiK3dbMF1dfHxIWyIqICIrd1swXV0pKXshMD09PU8/Tz1IW01dOiEwIT09SFtNXSYmKFQ9d1swXSxTLnVuc2hpZnQod1sxXSkpOwpicmVha31pZighMCE9PU8paWYoTyYmZVsidGhyb3dzIl0pcj1PKHIpO2Vsc2UgdHJ5e3I9TyhyKX1jYXRjaChpYSl7dz17c3RhdGU6InBhcnNlcmVycm9yIixlcnJvcjpPP2lhOiJObyBjb252ZXJzaW9uIGZyb20gIitWKyIgdG8gIitUfTticmVhayBhfX13PXtzdGF0ZToic3VjY2VzcyIsZGF0YTpyfX1pZihnKXUuaWZNb2RpZmllZCYmKChFPU4uZ2V0UmVzcG9uc2VIZWFkZXIoIkxhc3QtTW9kaWZpZWQiKSkmJihmLmxhc3RNb2RpZmllZFtrXT1FKSwoRT1OLmdldFJlc3BvbnNlSGVhZGVyKCJldGFnIikpJiYoZi5ldGFnW2tdPUUpKSwyMDQ9PT1ifHwiSEVBRCI9PT11LnR5cGU/RT0ibm9jb250ZW50IjozMDQ9PT1iP0U9Im5vdG1vZGlmaWVkIjooRT13LnN0YXRlLGQ9dy5kYXRhLHE9dy5lcnJvcixnPSFxKTtlbHNlIGlmKHE9RSxifHwhRSlFPSJlcnJvciIsMD5iJiYoYj0wKTtOLnN0YXR1cz1iO04uc3RhdHVzVGV4dD0oY3x8RSkrIiI7Zz9BLnJlc29sdmVXaXRoKHAsW2QsRSxOXSk6CkEucmVqZWN0V2l0aChwLFtOLEUscV0pO04uc3RhdHVzQ29kZSh4KTt4PXZvaWQgMDtsJiZ2LnRyaWdnZXIoZz8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFtOLHUsZz9kOnFdKTtYLmZpcmVXaXRoKHAsW04sRV0pO2wmJih2LnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW04sdV0pLC0tZi5hY3RpdmV8fGYuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSl9fSJvYmplY3QiPT09dHlwZW9mIGImJihlPWIsYj12b2lkIDApO2U9ZXx8e307dmFyIGQsayxtLGgsbCxuLHEsdT1mLmFqYXhTZXR1cCh7fSxlKSxwPXUuY29udGV4dHx8dSx2PXUuY29udGV4dCYmKHAubm9kZVR5cGV8fHAuanF1ZXJ5KT9mKHApOmYuZXZlbnQsQT1mLkRlZmVycmVkKCksWD1mLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx4PXUuc3RhdHVzQ29kZXx8e30sRT17fSxIPXt9LHk9MCxyPSJjYW5jZWxlZCIsTj17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGIpe3ZhciBjO2lmKDI9PT15KXtpZighcSlmb3IocT0Ke307Yz1yYy5leGVjKG0pOylxW2NbMV0udG9Mb3dlckNhc2UoKV09Y1syXTtjPXFbYi50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gbnVsbD09Yz9udWxsOmN9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiAyPT09eT9tOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oYixjKXt2YXIgZT1iLnRvTG93ZXJDYXNlKCk7eXx8KGI9SFtlXT1IW2VdfHxiLEVbYl09Yyk7cmV0dXJuIHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oYil7eXx8KHUubWltZVR5cGU9Yik7cmV0dXJuIHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oYil7dmFyIGM7aWYoYilpZigyPnkpZm9yKGMgaW4gYil4W2NdPVt4W2NdLGJbY11dO2Vsc2UgTi5hbHdheXMoYltOLnN0YXR1c10pO3JldHVybiB0aGlzfSxhYm9ydDpmdW5jdGlvbihiKXtiPWJ8fHI7biYmbi5hYm9ydChiKTtjKDAsYik7cmV0dXJuIHRoaXN9fTtBLnByb21pc2UoTikuY29tcGxldGU9WC5hZGQ7Ti5zdWNjZXNzPQpOLmRvbmU7Ti5lcnJvcj1OLmZhaWw7dS51cmw9KChifHx1LnVybHx8S2EpKyIiKS5yZXBsYWNlKFJhLCIiKS5yZXBsYWNlKHNjLG9hWzFdKyIvLyIpO3UudHlwZT1lLm1ldGhvZHx8ZS50eXBlfHx1Lm1ldGhvZHx8dS50eXBlO3UuZGF0YVR5cGVzPWYudHJpbSh1LmRhdGFUeXBlfHwiKiIpLnRvTG93ZXJDYXNlKCkubWF0Y2goQmEpfHxbIiJdO251bGw9PXUuY3Jvc3NEb21haW4mJihiPVliLmV4ZWModS51cmwudG9Mb3dlckNhc2UoKSksdS5jcm9zc0RvbWFpbj0hKCFifHxiWzFdPT09b2FbMV0mJmJbMl09PT1vYVsyXSYmKGJbM118fCgiaHR0cDoiPT09YlsxXT8iODAiOiI0NDMiKSk9PT0ob2FbM118fCgiaHR0cDoiPT09b2FbMV0/IjgwIjoiNDQzIikpKSk7dS5kYXRhJiZ1LnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9PXR5cGVvZiB1LmRhdGEmJih1LmRhdGE9Zi5wYXJhbSh1LmRhdGEsdS50cmFkaXRpb25hbCkpO0RhKFpiLHUsZSxOKTtpZigyPT09eSlyZXR1cm4gTjsobD11Lmdsb2JhbCkmJgowPT09Zi5hY3RpdmUrKyYmZi5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKTt1LnR5cGU9dS50eXBlLnRvVXBwZXJDYXNlKCk7dS5oYXNDb250ZW50PSFYYi50ZXN0KHUudHlwZSk7az11LnVybDt1Lmhhc0NvbnRlbnR8fCh1LmRhdGEmJihrPXUudXJsKz0oZmIudGVzdChrKT8iJiI6Ij8iKSt1LmRhdGEsZGVsZXRlIHUuZGF0YSksITE9PT11LmNhY2hlJiYodS51cmw9RmEudGVzdChrKT9rLnJlcGxhY2UoRmEsIiQxXz0iK0ZiKyspOmsrKGZiLnRlc3Qoayk/IiYiOiI/IikrIl89IitGYisrKSk7dS5pZk1vZGlmaWVkJiYoZi5sYXN0TW9kaWZpZWRba10mJk4uc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLGYubGFzdE1vZGlmaWVkW2tdKSxmLmV0YWdba10mJk4uc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsZi5ldGFnW2tdKSk7KHUuZGF0YSYmdS5oYXNDb250ZW50JiYhMSE9PXUuY29udGVudFR5cGV8fGUuY29udGVudFR5cGUpJiZOLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsCnUuY29udGVudFR5cGUpO04uc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix1LmRhdGFUeXBlc1swXSYmdS5hY2NlcHRzW3UuZGF0YVR5cGVzWzBdXT91LmFjY2VwdHNbdS5kYXRhVHlwZXNbMF1dKygiKiIhPT11LmRhdGFUeXBlc1swXT8iLCAiK0hiKyI7IHE9MC4wMSI6IiIpOnUuYWNjZXB0c1siKiJdKTtmb3IoZCBpbiB1LmhlYWRlcnMpTi5zZXRSZXF1ZXN0SGVhZGVyKGQsdS5oZWFkZXJzW2RdKTtpZih1LmJlZm9yZVNlbmQmJighMT09PXUuYmVmb3JlU2VuZC5jYWxsKHAsTix1KXx8Mj09PXkpKXJldHVybiBOLmFib3J0KCk7cj0iYWJvcnQiO2ZvcihkIGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KU5bZF0odVtkXSk7aWYobj1EYShwYix1LGUsTikpe04ucmVhZHlTdGF0ZT0xO2wmJnYudHJpZ2dlcigiYWpheFNlbmQiLFtOLHVdKTt1LmFzeW5jJiYwPHUudGltZW91dCYmKGg9c2V0VGltZW91dChmdW5jdGlvbigpe04uYWJvcnQoInRpbWVvdXQiKX0sdS50aW1lb3V0KSk7CnRyeXt5PTEsbi5zZW5kKEUsYyl9Y2F0Y2goUSl7aWYoMj55KWMoLTEsUSk7ZWxzZSB0aHJvdyBRO319ZWxzZSBjKC0xLCJObyBUcmFuc3BvcnQiKTtyZXR1cm4gTn0sZ2V0SlNPTjpmdW5jdGlvbihiLGUsYyl7cmV0dXJuIGYuZ2V0KGIsZSxjLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihiLGUpe3JldHVybiBmLmdldChiLHZvaWQgMCxlLCJzY3JpcHQiKX19KTtmLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oYixlKXtmW2VdPWZ1bmN0aW9uKGIsZyxkLGspe2YuaXNGdW5jdGlvbihnKSYmKGs9a3x8ZCxkPWcsZz12b2lkIDApO3JldHVybiBmLmFqYXgoe3VybDpiLHR5cGU6ZSxkYXRhVHlwZTprLGRhdGE6ZyxzdWNjZXNzOmR9KX19KTtmLmVhY2goImFqYXhTdGFydCBhamF4U3RvcCBhamF4Q29tcGxldGUgYWpheEVycm9yIGFqYXhTdWNjZXNzIGFqYXhTZW5kIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGIsZSl7Zi5mbltlXT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5vbihlLApiKX19KTtmLl9ldmFsVXJsPWZ1bmN0aW9uKGIpe3JldHVybiBmLmFqYXgoe3VybDpiLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsYXN5bmM6ITEsZ2xvYmFsOiExLCJ0aHJvd3MiOiEwfSl9O2YuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGIpe2lmKGYuaXNGdW5jdGlvbihiKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe2YodGhpcykud3JhcEFsbChiLmNhbGwodGhpcyxjKSl9KTtpZih0aGlzWzBdKXt2YXIgZT1mKGIsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCk7dGhpc1swXS5wYXJlbnROb2RlJiZlLmluc2VydEJlZm9yZSh0aGlzWzBdKTtlLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgYj10aGlzO2IuZmlyc3RDaGlsZCYmMT09PWIuZmlyc3RDaGlsZC5ub2RlVHlwZTspYj1iLmZpcnN0Q2hpbGQ7cmV0dXJuIGJ9KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihiKXtyZXR1cm4gZi5pc0Z1bmN0aW9uKGIpPwp0aGlzLmVhY2goZnVuY3Rpb24oZSl7Zih0aGlzKS53cmFwSW5uZXIoYi5jYWxsKHRoaXMsZSkpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Zih0aGlzKSxjPWUuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYik6ZS5hcHBlbmQoYil9KX0sd3JhcDpmdW5jdGlvbihiKXt2YXIgZT1mLmlzRnVuY3Rpb24oYik7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXtmKHRoaXMpLndyYXBBbGwoZT9iLmNhbGwodGhpcyxjKTpiKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7Zi5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fGYodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pO2YuZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihiKXtyZXR1cm4gMD49Yi5vZmZzZXRXaWR0aCYmMD49Yi5vZmZzZXRIZWlnaHR8fCFELnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpJiYibm9uZSI9PT0oYi5zdHlsZSYmCmIuc3R5bGUuZGlzcGxheXx8Zi5jc3MoYiwiZGlzcGxheSIpKX07Zi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihiKXtyZXR1cm4hZi5leHByLmZpbHRlcnMuaGlkZGVuKGIpfTt2YXIgd2I9LyUyMC9nLCRiPS9cW1xdJC8sYWM9L1xyP1xuL2csZmM9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLGJjPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmLnBhcmFtPWZ1bmN0aW9uKGIsZSl7dmFyIGMsZD1bXSxrPWZ1bmN0aW9uKGIsYyl7Yz1mLmlzRnVuY3Rpb24oYyk/YygpOm51bGw9PWM/IiI6YztkW2QubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoYikrIj0iK2VuY29kZVVSSUNvbXBvbmVudChjKX07dm9pZCAwPT09ZSYmKGU9Zi5hamF4U2V0dGluZ3MmJmYuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKTtpZihmLmlzQXJyYXkoYil8fGIuanF1ZXJ5JiYhZi5pc1BsYWluT2JqZWN0KGIpKWYuZWFjaChiLGZ1bmN0aW9uKCl7ayh0aGlzLm5hbWUsCnRoaXMudmFsdWUpfSk7ZWxzZSBmb3IoYyBpbiBiKXlhKGMsYltjXSxlLGspO3JldHVybiBkLmpvaW4oIiYiKS5yZXBsYWNlKHdiLCIrIil9O2YuZm4uZXh0ZW5kKHtzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBiPWYucHJvcCh0aGlzLCJlbGVtZW50cyIpO3JldHVybiBiP2YubWFrZUFycmF5KGIpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYj10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIWYodGhpcykuaXMoIjpkaXNhYmxlZCIpJiZiYy50ZXN0KHRoaXMubm9kZU5hbWUpJiYhZmMudGVzdChiKSYmKHRoaXMuY2hlY2tlZHx8IU1hLnRlc3QoYikpfSkubWFwKGZ1bmN0aW9uKGIsZSl7Yj1mKHRoaXMpLnZhbCgpO3JldHVybiBudWxsPT1iP251bGw6Zi5pc0FycmF5KGIpP2YubWFwKGIsZnVuY3Rpb24oYil7cmV0dXJue25hbWU6ZS5uYW1lLAp2YWx1ZTpiLnJlcGxhY2UoYWMsIlxyXG4iKX19KTp7bmFtZTplLm5hbWUsdmFsdWU6Yi5yZXBsYWNlKGFjLCJcclxuIil9fSkuZ2V0KCl9fSk7Zi5hamF4U2V0dGluZ3MueGhyPXZvaWQgMCE9PWQuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe3ZhciBiO2lmKCEoYj0hdGhpcy5pc0xvY2FsJiYvXihnZXR8cG9zdHxoZWFkfHB1dHxkZWxldGV8b3B0aW9ucykkL2kudGVzdCh0aGlzLnR5cGUpJiZFYSgpKSlhOnt0cnl7Yj1uZXcgZC5BY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MSFRUUCIpO2JyZWFrIGF9Y2F0Y2goZSl7fWI9dm9pZCAwfXJldHVybiBifTpFYTt2YXIgdGM9MCxxYj17fSxyYj1mLmFqYXhTZXR0aW5ncy54aHIoKTtpZihkLkFjdGl2ZVhPYmplY3QpZihkKS5vbigidW5sb2FkIixmdW5jdGlvbigpe2Zvcih2YXIgYiBpbiBxYilxYltiXSh2b2lkIDAsITApfSk7RC5jb3JzPSEhcmImJiJ3aXRoQ3JlZGVudGlhbHMiaW4gcmI7KHJiPUQuYWpheD0hIXJiKSYmZi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGIpe2lmKCFiLmNyb3NzRG9tYWlufHwKRC5jb3JzKXt2YXIgZTtyZXR1cm57c2VuZDpmdW5jdGlvbihjLGQpe3ZhciBrLG09Yi54aHIoKSxoPSsrdGM7bS5vcGVuKGIudHlwZSxiLnVybCxiLmFzeW5jLGIudXNlcm5hbWUsYi5wYXNzd29yZCk7aWYoYi54aHJGaWVsZHMpZm9yKGsgaW4gYi54aHJGaWVsZHMpbVtrXT1iLnhockZpZWxkc1trXTtiLm1pbWVUeXBlJiZtLm92ZXJyaWRlTWltZVR5cGUmJm0ub3ZlcnJpZGVNaW1lVHlwZShiLm1pbWVUeXBlKTtiLmNyb3NzRG9tYWlufHxjWyJYLVJlcXVlc3RlZC1XaXRoIl18fChjWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0Iik7Zm9yKGsgaW4gYyl2b2lkIDAhPT1jW2tdJiZtLnNldFJlcXVlc3RIZWFkZXIoayxjW2tdKyIiKTttLnNlbmQoYi5oYXNDb250ZW50JiZiLmRhdGF8fG51bGwpO2U9ZnVuY3Rpb24oYyxrKXt2YXIgbCxuLHE7aWYoZSYmKGt8fDQ9PT1tLnJlYWR5U3RhdGUpKWlmKGRlbGV0ZSBxYltoXSxlPXZvaWQgMCxtLm9ucmVhZHlzdGF0ZWNoYW5nZT0KZi5ub29wLGspNCE9PW0ucmVhZHlTdGF0ZSYmbS5hYm9ydCgpO2Vsc2V7cT17fTtsPW0uc3RhdHVzOyJzdHJpbmciPT09dHlwZW9mIG0ucmVzcG9uc2VUZXh0JiYocS50ZXh0PW0ucmVzcG9uc2VUZXh0KTt0cnl7bj1tLnN0YXR1c1RleHR9Y2F0Y2godSl7bj0iIn1sfHwhYi5pc0xvY2FsfHxiLmNyb3NzRG9tYWluPzEyMjM9PT1sJiYobD0yMDQpOmw9cS50ZXh0PzIwMDo0MDR9cSYmZChsLG4scSxtLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKX07Yi5hc3luYz80PT09bS5yZWFkeVN0YXRlP3NldFRpbWVvdXQoZSk6bS5vbnJlYWR5c3RhdGVjaGFuZ2U9cWJbaF09ZTplKCl9LGFib3J0OmZ1bmN0aW9uKCl7ZSYmZSh2b2lkIDAsITApfX19fSk7Zi5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi8oPzpqYXZhfGVjbWEpc2NyaXB0L30sCmNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oYil7Zi5nbG9iYWxFdmFsKGIpO3JldHVybiBifX19KTtmLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oYil7dm9pZCAwPT09Yi5jYWNoZSYmKGIuY2FjaGU9ITEpO2IuY3Jvc3NEb21haW4mJihiLnR5cGU9IkdFVCIsYi5nbG9iYWw9ITEpfSk7Zi5hamF4VHJhbnNwb3J0KCJzY3JpcHQiLGZ1bmN0aW9uKGIpe2lmKGIuY3Jvc3NEb21haW4pe3ZhciBlLGM9Si5oZWFkfHxmKCJoZWFkIilbMF18fEouZG9jdW1lbnRFbGVtZW50O3JldHVybntzZW5kOmZ1bmN0aW9uKGYsZCl7ZT1KLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2UuYXN5bmM9ITA7Yi5zY3JpcHRDaGFyc2V0JiYoZS5jaGFyc2V0PWIuc2NyaXB0Q2hhcnNldCk7ZS5zcmM9Yi51cmw7ZS5vbmxvYWQ9ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oYixjKXtpZihjfHwhZS5yZWFkeVN0YXRlfHwvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KGUucmVhZHlTdGF0ZSkpZS5vbmxvYWQ9CmUub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksZT1udWxsLGN8fGQoMjAwLCJzdWNjZXNzIil9O2MuaW5zZXJ0QmVmb3JlKGUsYy5maXJzdENoaWxkKX0sYWJvcnQ6ZnVuY3Rpb24oKXtpZihlKWUub25sb2FkKHZvaWQgMCwhMCl9fX19KTt2YXIgZ2I9W10sWmE9Lyg9KVw/KD89JnwkKXxcP1w/LztmLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGI9Z2IucG9wKCl8fGYuZXhwYW5kbysiXyIrRmIrKzt0aGlzW2JdPSEwO3JldHVybiBifX0pO2YuYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixlLGMpe3ZhciBrLG0saCxsPSExIT09Yi5qc29ucCYmKFphLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT09dHlwZW9mIGIuZGF0YSYmIShiLmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJgpaYS50ZXN0KGIuZGF0YSkmJiJkYXRhIik7aWYobHx8Impzb25wIj09PWIuZGF0YVR5cGVzWzBdKXJldHVybiBrPWIuanNvbnBDYWxsYmFjaz1mLmlzRnVuY3Rpb24oYi5qc29ucENhbGxiYWNrKT9iLmpzb25wQ2FsbGJhY2soKTpiLmpzb25wQ2FsbGJhY2ssbD9iW2xdPWJbbF0ucmVwbGFjZShaYSwiJDEiK2spOiExIT09Yi5qc29ucCYmKGIudXJsKz0oZmIudGVzdChiLnVybCk/IiYiOiI/IikrYi5qc29ucCsiPSIrayksYi5jb252ZXJ0ZXJzWyJzY3JpcHQganNvbiJdPWZ1bmN0aW9uKCl7aHx8Zi5lcnJvcihrKyIgd2FzIG5vdCBjYWxsZWQiKTtyZXR1cm4gaFswXX0sYi5kYXRhVHlwZXNbMF09Impzb24iLG09ZFtrXSxkW2tdPWZ1bmN0aW9uKCl7aD1hcmd1bWVudHN9LGMuYWx3YXlzKGZ1bmN0aW9uKCl7ZFtrXT1tO2Jba10mJihiLmpzb25wQ2FsbGJhY2s9ZS5qc29ucENhbGxiYWNrLGdiLnB1c2goaykpO2gmJmYuaXNGdW5jdGlvbihtKSYmbShoWzBdKTtoPW09dm9pZCAwfSksInNjcmlwdCJ9KTsKZi5wYXJzZUhUTUw9ZnVuY3Rpb24oYixlLGMpe2lmKCFifHwic3RyaW5nIiE9PXR5cGVvZiBiKXJldHVybiBudWxsOyJib29sZWFuIj09PXR5cGVvZiBlJiYoYz1lLGU9ITEpO2U9ZXx8Sjt2YXIgZD1PYS5leGVjKGIpO2M9IWMmJltdO2lmKGQpcmV0dXJuW2UuY3JlYXRlRWxlbWVudChkWzFdKV07ZD1mLmJ1aWxkRnJhZ21lbnQoW2JdLGUsYyk7YyYmYy5sZW5ndGgmJmYoYykucmVtb3ZlKCk7cmV0dXJuIGYubWVyZ2UoW10sZC5jaGlsZE5vZGVzKX07dmFyIEliPWYuZm4ubG9hZDtmLmZuLmxvYWQ9ZnVuY3Rpb24oYixlLGMpe2lmKCJzdHJpbmciIT09dHlwZW9mIGImJkliKXJldHVybiBJYi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsayxtLGg9dGhpcyxsPWIuaW5kZXhPZigiICIpOzA8PWwmJihkPWYudHJpbShiLnNsaWNlKGwsYi5sZW5ndGgpKSxiPWIuc2xpY2UoMCxsKSk7Zi5pc0Z1bmN0aW9uKGUpPyhjPWUsZT12b2lkIDApOmUmJiJvYmplY3QiPT09dHlwZW9mIGUmJihtPQoiUE9TVCIpOzA8aC5sZW5ndGgmJmYuYWpheCh7dXJsOmIsdHlwZTptLGRhdGFUeXBlOiJodG1sIixkYXRhOmV9KS5kb25lKGZ1bmN0aW9uKGIpe2s9YXJndW1lbnRzO2guaHRtbChkP2YoIjxkaXY+IikuYXBwZW5kKGYucGFyc2VIVE1MKGIpKS5maW5kKGQpOmIpfSkuY29tcGxldGUoYyYmZnVuY3Rpb24oYixlKXtoLmVhY2goYyxrfHxbYi5yZXNwb25zZVRleHQsZSxiXSl9KTtyZXR1cm4gdGhpc307Zi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYil7cmV0dXJuIGYuZ3JlcChmLnRpbWVycyxmdW5jdGlvbihlKXtyZXR1cm4gYj09PWUuZWxlbX0pLmxlbmd0aH07dmFyIHNiPWQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2Yub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oYixlLGMpe3ZhciBkLGssbSxoPWYuY3NzKGIsInBvc2l0aW9uIiksbD1mKGIpLG49e307InN0YXRpYyI9PT1oJiYoYi5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTttPWwub2Zmc2V0KCk7az1mLmNzcyhiLAoidG9wIik7ZD1mLmNzcyhiLCJsZWZ0Iik7KCJhYnNvbHV0ZSI9PT1ofHwiZml4ZWQiPT09aCkmJi0xPGYuaW5BcnJheSgiYXV0byIsW2ssZF0pPyhkPWwucG9zaXRpb24oKSxrPWQudG9wLGQ9ZC5sZWZ0KTooaz1wYXJzZUZsb2F0KGspfHwwLGQ9cGFyc2VGbG9hdChkKXx8MCk7Zi5pc0Z1bmN0aW9uKGUpJiYoZT1lLmNhbGwoYixjLG0pKTtudWxsIT1lLnRvcCYmKG4udG9wPWUudG9wLW0udG9wK2spO251bGwhPWUubGVmdCYmKG4ubGVmdD1lLmxlZnQtbS5sZWZ0K2QpOyJ1c2luZyJpbiBlP2UudXNpbmcuY2FsbChiLG4pOmwuY3NzKG4pfX07Zi5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihiKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGMpe2Yub2Zmc2V0LnNldE9mZnNldCh0aGlzLGIsYyl9KTt2YXIgZSxjLGQ9e3RvcDowLGxlZnQ6MH0saz0oYz10aGlzWzBdKSYmYy5vd25lckRvY3VtZW50O2lmKGspe2U9ay5kb2N1bWVudEVsZW1lbnQ7CmlmKCFmLmNvbnRhaW5zKGUsYykpcmV0dXJuIGQ7InVuZGVmaW5lZCIhPT10eXBlb2YgYy5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJihkPWMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO2M9SGEoayk7cmV0dXJue3RvcDpkLnRvcCsoYy5wYWdlWU9mZnNldHx8ZS5zY3JvbGxUb3ApLShlLmNsaWVudFRvcHx8MCksbGVmdDpkLmxlZnQrKGMucGFnZVhPZmZzZXR8fGUuc2Nyb2xsTGVmdCktKGUuY2xpZW50TGVmdHx8MCl9fX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgYixlLGM9e3RvcDowLGxlZnQ6MH0sZD10aGlzWzBdOyJmaXhlZCI9PT1mLmNzcyhkLCJwb3NpdGlvbiIpP2U9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTooYj10aGlzLm9mZnNldFBhcmVudCgpLGU9dGhpcy5vZmZzZXQoKSxmLm5vZGVOYW1lKGJbMF0sImh0bWwiKXx8KGM9Yi5vZmZzZXQoKSksYy50b3ArPWYuY3NzKGJbMF0sImJvcmRlclRvcFdpZHRoIiwhMCksYy5sZWZ0Kz1mLmNzcyhiWzBdLAoiYm9yZGVyTGVmdFdpZHRoIiwhMCkpO3JldHVybnt0b3A6ZS50b3AtYy50b3AtZi5jc3MoZCwibWFyZ2luVG9wIiwhMCksbGVmdDplLmxlZnQtYy5sZWZ0LWYuY3NzKGQsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIGI9dGhpcy5vZmZzZXRQYXJlbnR8fHNiO2ImJiFmLm5vZGVOYW1lKGIsImh0bWwiKSYmInN0YXRpYyI9PT1mLmNzcyhiLCJwb3NpdGlvbiIpOyliPWIub2Zmc2V0UGFyZW50O3JldHVybiBifHxzYn0pfX0pO2YuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihiLGUpe3ZhciBjPS9ZLy50ZXN0KGUpO2YuZm5bYl09ZnVuY3Rpb24oZCl7cmV0dXJuIHBhKHRoaXMsZnVuY3Rpb24oYixnLGQpe3ZhciBrPUhhKGIpO2lmKHZvaWQgMD09PWQpcmV0dXJuIGs/ZSBpbiBrP2tbZV06ay5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbZ106CmJbZ107az9rLnNjcm9sbFRvKGM/ZihrKS5zY3JvbGxMZWZ0KCk6ZCxjP2Q6ZihrKS5zY3JvbGxUb3AoKSk6YltnXT1kfSxiLGQsYXJndW1lbnRzLmxlbmd0aCxudWxsKX19KTtmLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oYixlKXtmLmNzc0hvb2tzW2VdPVooRC5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKGIsZyl7aWYoZylyZXR1cm4gZz1sYShiLGUpLCRhLnRlc3QoZyk/ZihiKS5wb3NpdGlvbigpW2VdKyJweCI6Z30pfSk7Zi5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oYixlKXtmLmVhY2goe3BhZGRpbmc6ImlubmVyIitiLGNvbnRlbnQ6ZSwiIjoib3V0ZXIiK2J9LGZ1bmN0aW9uKGMsZCl7Zi5mbltkXT1mdW5jdGlvbihkLGspe3ZhciBtPWFyZ3VtZW50cy5sZW5ndGgmJihjfHwiYm9vbGVhbiIhPT10eXBlb2YgZCksaD1jfHwoITA9PT1kfHwhMD09PWs/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiBwYSh0aGlzLGZ1bmN0aW9uKGMsZSwKZCl7cmV0dXJuIGYuaXNXaW5kb3coYyk/Yy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYl06OT09PWMubm9kZVR5cGU/KGU9Yy5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYy5ib2R5WyJzY3JvbGwiK2JdLGVbInNjcm9sbCIrYl0sYy5ib2R5WyJvZmZzZXQiK2JdLGVbIm9mZnNldCIrYl0sZVsiY2xpZW50IitiXSkpOnZvaWQgMD09PWQ/Zi5jc3MoYyxlLGgpOmYuc3R5bGUoYyxlLGQsaCl9LGUsbT9kOnZvaWQgMCxtLG51bGwpfX0pfSk7Zi5mbi5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofTtmLmZuLmFuZFNlbGY9Zi5mbi5hZGRCYWNrOyJmdW5jdGlvbiI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gZn0pO3ZhciBjYz1kLmpRdWVyeSxkYz1kLiQ7Zi5ub0NvbmZsaWN0PWZ1bmN0aW9uKGIpe2QuJD09PWYmJihkLiQ9ZGMpO2ImJmQualF1ZXJ5PT09ZiYmKGQualF1ZXJ5PWNjKTsKcmV0dXJuIGZ9OyJ1bmRlZmluZWQiPT09dHlwZW9mIHImJihkLmpRdWVyeT1kLiQ9Zik7cmV0dXJuIGZ9KTtpZigidW5kZWZpbmVkIj09dHlwZW9mIGpRdWVyeSl0aHJvdyBFcnJvcigiQm9vdHN0cmFwJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkiKTsrZnVuY3Rpb24oZCl7ZD1kLmZuLmpxdWVyeS5zcGxpdCgiICIpWzBdLnNwbGl0KCIuIik7aWYoMj5kWzBdJiY5PmRbMV18fDE9PWRbMF0mJjk9PWRbMV0mJjE+ZFsyXXx8MzxkWzBdKXRocm93IEVycm9yKCJCb290c3RyYXAncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeSB2ZXJzaW9uIDEuOS4xIG9yIGhpZ2hlciwgYnV0IGxvd2VyIHRoYW4gdmVyc2lvbiA0Iik7fShqUXVlcnkpOworZnVuY3Rpb24oZCl7ZnVuY3Rpb24gcigpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJvb3RzdHJhcCIpLHA9e1dlYmtpdFRyYW5zaXRpb246IndlYmtpdFRyYW5zaXRpb25FbmQiLE1velRyYW5zaXRpb246InRyYW5zaXRpb25lbmQiLE9UcmFuc2l0aW9uOiJvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCIsdHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCJ9LGg7Zm9yKGggaW4gcClpZih2b2lkIDAhPT1kLnN0eWxlW2hdKXJldHVybntlbmQ6cFtoXX07cmV0dXJuITF9ZC5mbi5lbXVsYXRlVHJhbnNpdGlvbkVuZD1mdW5jdGlvbihyKXt2YXIgcD0hMSxoPXRoaXM7ZCh0aGlzKS5vbmUoImJzVHJhbnNpdGlvbkVuZCIsZnVuY3Rpb24oKXtwPSEwfSk7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtwfHxkKGgpLnRyaWdnZXIoZC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKX0sciksdGhpc307ZChmdW5jdGlvbigpe2Quc3VwcG9ydC50cmFuc2l0aW9uPXIoKTtkLnN1cHBvcnQudHJhbnNpdGlvbiYmCihkLmV2ZW50LnNwZWNpYWwuYnNUcmFuc2l0aW9uRW5kPXtiaW5kVHlwZTpkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsZGVsZWdhdGVUeXBlOmQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxoYW5kbGU6ZnVuY3Rpb24ocil7aWYoZChyLnRhcmdldCkuaXModGhpcykpcmV0dXJuIHIuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfSl9KGpRdWVyeSk7CitmdW5jdGlvbihkKXt2YXIgcj1mdW5jdGlvbihwKXtkKHApLm9uKCJjbGljayIsJ1tkYXRhLWRpc21pc3M9ImFsZXJ0Il0nLHRoaXMuY2xvc2UpfTtyLlZFUlNJT049IjMuMy43IjtyLlRSQU5TSVRJT05fRFVSQVRJT049MTUwO3IucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKHApe2Z1bmN0aW9uIGgoKXtuLmRldGFjaCgpLnRyaWdnZXIoImNsb3NlZC5icy5hbGVydCIpLnJlbW92ZSgpfXZhciBsPWQodGhpcyksdj1sLmF0dHIoImRhdGEtdGFyZ2V0Iik7dnx8KHY9bC5hdHRyKCJocmVmIiksdj12JiZ2LnJlcGxhY2UoLy4qKD89I1teXHNdKiQpLywiIikpO3ZhciBuPWQoIiMiPT09dj9bXTp2KTtwJiZwLnByZXZlbnREZWZhdWx0KCk7bi5sZW5ndGh8fChuPWwuY2xvc2VzdCgiLmFsZXJ0IikpO24udHJpZ2dlcihwPWQuRXZlbnQoImNsb3NlLmJzLmFsZXJ0IikpO3AuaXNEZWZhdWx0UHJldmVudGVkKCl8fChuLnJlbW92ZUNsYXNzKCJpbiIpLGQuc3VwcG9ydC50cmFuc2l0aW9uJiZuLmhhc0NsYXNzKCJmYWRlIik/Cm4ub25lKCJic1RyYW5zaXRpb25FbmQiLGgpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHIuVFJBTlNJVElPTl9EVVJBVElPTik6aCgpKX07dmFyIHg9ZC5mbi5hbGVydDtkLmZuLmFsZXJ0PWZ1bmN0aW9uKHApe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaD1kKHRoaXMpLGw9aC5kYXRhKCJicy5hbGVydCIpO2x8fGguZGF0YSgiYnMuYWxlcnQiLGw9bmV3IHIodGhpcykpOyJzdHJpbmciPT10eXBlb2YgcCYmbFtwXS5jYWxsKGgpfSl9O2QuZm4uYWxlcnQuQ29uc3RydWN0b3I9cjtkLmZuLmFsZXJ0Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZC5mbi5hbGVydD14LHRoaXN9O2QoZG9jdW1lbnQpLm9uKCJjbGljay5icy5hbGVydC5kYXRhLWFwaSIsJ1tkYXRhLWRpc21pc3M9ImFsZXJ0Il0nLHIucHJvdG90eXBlLmNsb3NlKX0oalF1ZXJ5KTsKK2Z1bmN0aW9uKGQpe2Z1bmN0aW9uIHIoaCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBsPWQodGhpcykscD1sLmRhdGEoImJzLmJ1dHRvbiIpLG49Im9iamVjdCI9PXR5cGVvZiBoJiZoO3B8fGwuZGF0YSgiYnMuYnV0dG9uIixwPW5ldyB4KHRoaXMsbikpOyJ0b2dnbGUiPT1oP3AudG9nZ2xlKCk6aCYmcC5zZXRTdGF0ZShoKX0pfXZhciB4PWZ1bmN0aW9uKGgsbCl7dGhpcy4kZWxlbWVudD1kKGgpO3RoaXMub3B0aW9ucz1kLmV4dGVuZCh7fSx4LkRFRkFVTFRTLGwpO3RoaXMuaXNMb2FkaW5nPSExfTt4LlZFUlNJT049IjMuMy43Ijt4LkRFRkFVTFRTPXtsb2FkaW5nVGV4dDoibG9hZGluZy4uLiJ9O3gucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGgpe3ZhciBsPXRoaXMuJGVsZW1lbnQscD1sLmlzKCJpbnB1dCIpPyJ2YWwiOiJodG1sIixuPWwuZGF0YSgpO2grPSJUZXh0IjtudWxsPT1uLnJlc2V0VGV4dCYmbC5kYXRhKCJyZXNldFRleHQiLGxbcF0oKSk7c2V0VGltZW91dChkLnByb3h5KGZ1bmN0aW9uKCl7bFtwXShudWxsPT0KbltoXT90aGlzLm9wdGlvbnNbaF06bltoXSk7ImxvYWRpbmdUZXh0Ij09aD8odGhpcy5pc0xvYWRpbmc9ITAsbC5hZGRDbGFzcygiZGlzYWJsZWQiKS5hdHRyKCJkaXNhYmxlZCIsImRpc2FibGVkIikucHJvcCgiZGlzYWJsZWQiLCEwKSk6dGhpcy5pc0xvYWRpbmcmJih0aGlzLmlzTG9hZGluZz0hMSxsLnJlbW92ZUNsYXNzKCJkaXNhYmxlZCIpLnJlbW92ZUF0dHIoImRpc2FibGVkIikucHJvcCgiZGlzYWJsZWQiLCExKSl9LHRoaXMpLDApfTt4LnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oKXt2YXIgZD0hMCxsPXRoaXMuJGVsZW1lbnQuY2xvc2VzdCgnW2RhdGEtdG9nZ2xlPSJidXR0b25zIl0nKTtpZihsLmxlbmd0aCl7dmFyIHA9dGhpcy4kZWxlbWVudC5maW5kKCJpbnB1dCIpOyJyYWRpbyI9PXAucHJvcCgidHlwZSIpPyhwLnByb3AoImNoZWNrZWQiKSYmKGQ9ITEpLGwuZmluZCgiLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJhY3RpdmUiKSk6CiJjaGVja2JveCI9PXAucHJvcCgidHlwZSIpJiYocC5wcm9wKCJjaGVja2VkIikhPT10aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJhY3RpdmUiKSYmKGQ9ITEpLHRoaXMuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoImFjdGl2ZSIpKTtwLnByb3AoImNoZWNrZWQiLHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImFjdGl2ZSIpKTtkJiZwLnRyaWdnZXIoImNoYW5nZSIpfWVsc2UgdGhpcy4kZWxlbWVudC5hdHRyKCJhcmlhLXByZXNzZWQiLCF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJhY3RpdmUiKSksdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygiYWN0aXZlIil9O3ZhciBwPWQuZm4uYnV0dG9uO2QuZm4uYnV0dG9uPXI7ZC5mbi5idXR0b24uQ29uc3RydWN0b3I9eDtkLmZuLmJ1dHRvbi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGQuZm4uYnV0dG9uPXAsdGhpc307ZChkb2N1bWVudCkub24oImNsaWNrLmJzLmJ1dHRvbi5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZV49ImJ1dHRvbiJdJyxmdW5jdGlvbihoKXt2YXIgbD0KZChoLnRhcmdldCkuY2xvc2VzdCgiLmJ0biIpO3IuY2FsbChsLCJ0b2dnbGUiKTtkKGgudGFyZ2V0KS5pcygnaW5wdXRbdHlwZT0icmFkaW8iXSwgaW5wdXRbdHlwZT0iY2hlY2tib3giXScpfHwoaC5wcmV2ZW50RGVmYXVsdCgpLGwuaXMoImlucHV0LGJ1dHRvbiIpP2wudHJpZ2dlcigiZm9jdXMiKTpsLmZpbmQoImlucHV0OnZpc2libGUsYnV0dG9uOnZpc2libGUiKS5maXJzdCgpLnRyaWdnZXIoImZvY3VzIikpfSkub24oImZvY3VzLmJzLmJ1dHRvbi5kYXRhLWFwaSBibHVyLmJzLmJ1dHRvbi5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZV49ImJ1dHRvbiJdJyxmdW5jdGlvbihoKXtkKGgudGFyZ2V0KS5jbG9zZXN0KCIuYnRuIikudG9nZ2xlQ2xhc3MoImZvY3VzIiwvXmZvY3VzKGluKT8kLy50ZXN0KGgudHlwZSkpfSl9KGpRdWVyeSk7CitmdW5jdGlvbihkKXtmdW5jdGlvbiByKGgpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcD1kKHRoaXMpLG49cC5kYXRhKCJicy5jYXJvdXNlbCIpLEE9ZC5leHRlbmQoe30seC5ERUZBVUxUUyxwLmRhdGEoKSwib2JqZWN0Ij09dHlwZW9mIGgmJmgpLEU9InN0cmluZyI9PXR5cGVvZiBoP2g6QS5zbGlkZTtufHxwLmRhdGEoImJzLmNhcm91c2VsIixuPW5ldyB4KHRoaXMsQSkpOyJudW1iZXIiPT10eXBlb2YgaD9uLnRvKGgpOkU/bltFXSgpOkEuaW50ZXJ2YWwmJm4ucGF1c2UoKS5jeWNsZSgpfSl9dmFyIHg9ZnVuY3Rpb24oaCxwKXt0aGlzLiRlbGVtZW50PWQoaCk7dGhpcy4kaW5kaWNhdG9ycz10aGlzLiRlbGVtZW50LmZpbmQoIi5jYXJvdXNlbC1pbmRpY2F0b3JzIik7dGhpcy5vcHRpb25zPXA7dGhpcy4kaXRlbXM9dGhpcy4kYWN0aXZlPXRoaXMuaW50ZXJ2YWw9dGhpcy5zbGlkaW5nPXRoaXMucGF1c2VkPW51bGw7dGhpcy5vcHRpb25zLmtleWJvYXJkJiZ0aGlzLiRlbGVtZW50Lm9uKCJrZXlkb3duLmJzLmNhcm91c2VsIiwKZC5wcm94eSh0aGlzLmtleWRvd24sdGhpcykpOyJob3ZlciIhPXRoaXMub3B0aW9ucy5wYXVzZXx8Im9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fHRoaXMuJGVsZW1lbnQub24oIm1vdXNlZW50ZXIuYnMuY2Fyb3VzZWwiLGQucHJveHkodGhpcy5wYXVzZSx0aGlzKSkub24oIm1vdXNlbGVhdmUuYnMuY2Fyb3VzZWwiLGQucHJveHkodGhpcy5jeWNsZSx0aGlzKSl9O3guVkVSU0lPTj0iMy4zLjciO3guVFJBTlNJVElPTl9EVVJBVElPTj02MDA7eC5ERUZBVUxUUz17aW50ZXJ2YWw6NUUzLHBhdXNlOiJob3ZlciIsd3JhcDohMCxrZXlib2FyZDohMH07eC5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbihkKXtpZighL2lucHV0fHRleHRhcmVhL2kudGVzdChkLnRhcmdldC50YWdOYW1lKSl7c3dpdGNoKGQud2hpY2gpe2Nhc2UgMzc6dGhpcy5wcmV2KCk7YnJlYWs7Y2FzZSAzOTp0aGlzLm5leHQoKTticmVhaztkZWZhdWx0OnJldHVybn1kLnByZXZlbnREZWZhdWx0KCl9fTsKeC5wcm90b3R5cGUuY3ljbGU9ZnVuY3Rpb24oaCl7cmV0dXJuIGh8fCh0aGlzLnBhdXNlZD0hMSksdGhpcy5pbnRlcnZhbCYmY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKSx0aGlzLm9wdGlvbnMuaW50ZXJ2YWwmJiF0aGlzLnBhdXNlZCYmKHRoaXMuaW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZC5wcm94eSh0aGlzLm5leHQsdGhpcyksdGhpcy5vcHRpb25zLmludGVydmFsKSksdGhpc307eC5wcm90b3R5cGUuZ2V0SXRlbUluZGV4PWZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLiRpdGVtcz1kLnBhcmVudCgpLmNoaWxkcmVuKCIuaXRlbSIpLHRoaXMuJGl0ZW1zLmluZGV4KGR8fHRoaXMuJGFjdGl2ZSl9O3gucHJvdG90eXBlLmdldEl0ZW1Gb3JEaXJlY3Rpb249ZnVuY3Rpb24oZCxoKXt2YXIgbj10aGlzLmdldEl0ZW1JbmRleChoKTtyZXR1cm4oInByZXYiPT1kJiYwPT09bnx8Im5leHQiPT1kJiZuPT10aGlzLiRpdGVtcy5sZW5ndGgtMSkmJiF0aGlzLm9wdGlvbnMud3JhcD9oOnRoaXMuJGl0ZW1zLmVxKChuKwooInByZXYiPT1kPy0xOjEpKSV0aGlzLiRpdGVtcy5sZW5ndGgpfTt4LnByb3RvdHlwZS50bz1mdW5jdGlvbihkKXt2YXIgaD10aGlzLG49dGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlPXRoaXMuJGVsZW1lbnQuZmluZCgiLml0ZW0uYWN0aXZlIikpO2lmKCEoZD50aGlzLiRpdGVtcy5sZW5ndGgtMXx8MD5kKSlyZXR1cm4gdGhpcy5zbGlkaW5nP3RoaXMuJGVsZW1lbnQub25lKCJzbGlkLmJzLmNhcm91c2VsIixmdW5jdGlvbigpe2gudG8oZCl9KTpuPT1kP3RoaXMucGF1c2UoKS5jeWNsZSgpOnRoaXMuc2xpZGUoZD5uPyJuZXh0IjoicHJldiIsdGhpcy4kaXRlbXMuZXEoZCkpfTt4LnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbihoKXtyZXR1cm4gaHx8KHRoaXMucGF1c2VkPSEwKSx0aGlzLiRlbGVtZW50LmZpbmQoIi5uZXh0LCAucHJldiIpLmxlbmd0aCYmZC5zdXBwb3J0LnRyYW5zaXRpb24mJih0aGlzLiRlbGVtZW50LnRyaWdnZXIoZC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSwKdGhpcy5jeWNsZSghMCkpLHRoaXMuaW50ZXJ2YWw9Y2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKSx0aGlzfTt4LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2xpZGluZylyZXR1cm4gdGhpcy5zbGlkZSgibmV4dCIpfTt4LnByb3RvdHlwZS5wcmV2PWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2xpZGluZylyZXR1cm4gdGhpcy5zbGlkZSgicHJldiIpfTt4LnByb3RvdHlwZS5zbGlkZT1mdW5jdGlvbihoLHApe3ZhciBuPXRoaXMuJGVsZW1lbnQuZmluZCgiLml0ZW0uYWN0aXZlIiksQT1wfHx0aGlzLmdldEl0ZW1Gb3JEaXJlY3Rpb24oaCxuKTtwPXRoaXMuaW50ZXJ2YWw7dmFyIEU9Im5leHQiPT1oPyJsZWZ0IjoicmlnaHQiLHI9dGhpcztpZihBLmhhc0NsYXNzKCJhY3RpdmUiKSlyZXR1cm4gdGhpcy5zbGlkaW5nPSExO3ZhciBGPUFbMF0sWT1kLkV2ZW50KCJzbGlkZS5icy5jYXJvdXNlbCIse3JlbGF0ZWRUYXJnZXQ6RixkaXJlY3Rpb246RX0pO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihZKSwKIVkuaXNEZWZhdWx0UHJldmVudGVkKCkpe2lmKHRoaXMuc2xpZGluZz0hMCxwJiZ0aGlzLnBhdXNlKCksdGhpcy4kaW5kaWNhdG9ycy5sZW5ndGgpdGhpcy4kaW5kaWNhdG9ycy5maW5kKCIuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLChZPWQodGhpcy4kaW5kaWNhdG9ycy5jaGlsZHJlbigpW3RoaXMuZ2V0SXRlbUluZGV4KEEpXSkpJiZZLmFkZENsYXNzKCJhY3RpdmUiKTt2YXIgYWE9ZC5FdmVudCgic2xpZC5icy5jYXJvdXNlbCIse3JlbGF0ZWRUYXJnZXQ6RixkaXJlY3Rpb246RX0pO3JldHVybiBkLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcygic2xpZGUiKT8oQS5hZGRDbGFzcyhoKSxBWzBdLm9mZnNldFdpZHRoLG4uYWRkQ2xhc3MoRSksQS5hZGRDbGFzcyhFKSxuLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixmdW5jdGlvbigpe0EucmVtb3ZlQ2xhc3MoW2gsRV0uam9pbigiICIpKS5hZGRDbGFzcygiYWN0aXZlIik7bi5yZW1vdmVDbGFzcyhbImFjdGl2ZSIsCkVdLmpvaW4oIiAiKSk7ci5zbGlkaW5nPSExO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyLiRlbGVtZW50LnRyaWdnZXIoYWEpfSwwKX0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHguVFJBTlNJVElPTl9EVVJBVElPTikpOihuLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSxBLmFkZENsYXNzKCJhY3RpdmUiKSx0aGlzLnNsaWRpbmc9ITEsdGhpcy4kZWxlbWVudC50cmlnZ2VyKGFhKSkscCYmdGhpcy5jeWNsZSgpLHRoaXN9fTt2YXIgcD1kLmZuLmNhcm91c2VsO2QuZm4uY2Fyb3VzZWw9cjtkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yPXg7ZC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGQuZm4uY2Fyb3VzZWw9cCx0aGlzfTt2YXIgaD1mdW5jdGlvbihoKXt2YXIgcCxuPWQodGhpcyksQT1kKG4uYXR0cigiZGF0YS10YXJnZXQiKXx8KHA9bi5hdHRyKCJocmVmIikpJiZwLnJlcGxhY2UoLy4qKD89I1teXHNdKyQpLywiIikpO0EuaGFzQ2xhc3MoImNhcm91c2VsIikmJgoocD1kLmV4dGVuZCh7fSxBLmRhdGEoKSxuLmRhdGEoKSksKG49bi5hdHRyKCJkYXRhLXNsaWRlLXRvIikpJiYocC5pbnRlcnZhbD0hMSksci5jYWxsKEEscCksbiYmQS5kYXRhKCJicy5jYXJvdXNlbCIpLnRvKG4pLGgucHJldmVudERlZmF1bHQoKSl9O2QoZG9jdW1lbnQpLm9uKCJjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaSIsIltkYXRhLXNsaWRlXSIsaCkub24oImNsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpIiwiW2RhdGEtc2xpZGUtdG9dIixoKTtkKHdpbmRvdykub24oImxvYWQiLGZ1bmN0aW9uKCl7ZCgnW2RhdGEtcmlkZT0iY2Fyb3VzZWwiXScpLmVhY2goZnVuY3Rpb24oKXt2YXIgaD1kKHRoaXMpO3IuY2FsbChoLGguZGF0YSgpKX0pfSl9KGpRdWVyeSk7CitmdW5jdGlvbihkKXtmdW5jdGlvbiByKGgpe3ZhciBwO2g9aC5hdHRyKCJkYXRhLXRhcmdldCIpfHwocD1oLmF0dHIoImhyZWYiKSkmJnAucmVwbGFjZSgvLiooPz0jW15cc10rJCkvLCIiKTtyZXR1cm4gZChoKX1mdW5jdGlvbiB4KGgpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdj1kKHRoaXMpLG49di5kYXRhKCJicy5jb2xsYXBzZSIpLEE9ZC5leHRlbmQoe30scC5ERUZBVUxUUyx2LmRhdGEoKSwib2JqZWN0Ij09dHlwZW9mIGgmJmgpOyFuJiZBLnRvZ2dsZSYmL3Nob3d8aGlkZS8udGVzdChoKSYmKEEudG9nZ2xlPSExKTtufHx2LmRhdGEoImJzLmNvbGxhcHNlIixuPW5ldyBwKHRoaXMsQSkpOyJzdHJpbmciPT10eXBlb2YgaCYmbltoXSgpfSl9dmFyIHA9ZnVuY3Rpb24oaCx2KXt0aGlzLiRlbGVtZW50PWQoaCk7dGhpcy5vcHRpb25zPWQuZXh0ZW5kKHt9LHAuREVGQVVMVFMsdik7dGhpcy4kdHJpZ2dlcj1kKCdbZGF0YS10b2dnbGU9ImNvbGxhcHNlIl1baHJlZj0iIycrCmguaWQrJyJdLFtkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXVtkYXRhLXRhcmdldD0iIycraC5pZCsnIl0nKTt0aGlzLnRyYW5zaXRpb25pbmc9bnVsbDt0aGlzLm9wdGlvbnMucGFyZW50P3RoaXMuJHBhcmVudD10aGlzLmdldFBhcmVudCgpOnRoaXMuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuJGVsZW1lbnQsdGhpcy4kdHJpZ2dlcik7dGhpcy5vcHRpb25zLnRvZ2dsZSYmdGhpcy50b2dnbGUoKX07cC5WRVJTSU9OPSIzLjMuNyI7cC5UUkFOU0lUSU9OX0RVUkFUSU9OPTM1MDtwLkRFRkFVTFRTPXt0b2dnbGU6ITB9O3AucHJvdG90eXBlLmRpbWVuc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJ3aWR0aCIpPyJ3aWR0aCI6ImhlaWdodCJ9O3AucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXtpZighdGhpcy50cmFuc2l0aW9uaW5nJiYhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiaW4iKSl7dmFyIGgsdj10aGlzLiRwYXJlbnQmJnRoaXMuJHBhcmVudC5jaGlsZHJlbigiLnBhbmVsIikuY2hpbGRyZW4oIi5pbiwgLmNvbGxhcHNpbmciKTsKaWYoISh2JiZ2Lmxlbmd0aCYmKGg9di5kYXRhKCJicy5jb2xsYXBzZSIpLGgmJmgudHJhbnNpdGlvbmluZykpKXt2YXIgbj1kLkV2ZW50KCJzaG93LmJzLmNvbGxhcHNlIik7aWYodGhpcy4kZWxlbWVudC50cmlnZ2VyKG4pLCFuLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt2JiZ2Lmxlbmd0aCYmKHguY2FsbCh2LCJoaWRlIiksaHx8di5kYXRhKCJicy5jb2xsYXBzZSIsbnVsbCkpO3ZhciBBPXRoaXMuZGltZW5zaW9uKCk7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2UiKS5hZGRDbGFzcygiY29sbGFwc2luZyIpW0FdKDApLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKTt0aGlzLiR0cmlnZ2VyLnJlbW92ZUNsYXNzKCJjb2xsYXBzZWQiKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMCk7dGhpcy50cmFuc2l0aW9uaW5nPTE7aD1mdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNpbmciKS5hZGRDbGFzcygiY29sbGFwc2UgaW4iKVtBXSgiIik7dGhpcy50cmFuc2l0aW9uaW5nPQowO3RoaXMuJGVsZW1lbnQudHJpZ2dlcigic2hvd24uYnMuY29sbGFwc2UiKX07aWYoIWQuc3VwcG9ydC50cmFuc2l0aW9uKXJldHVybiBoLmNhbGwodGhpcyk7dj1kLmNhbWVsQ2FzZShbInNjcm9sbCIsQV0uam9pbigiLSIpKTt0aGlzLiRlbGVtZW50Lm9uZSgiYnNUcmFuc2l0aW9uRW5kIixkLnByb3h5KGgsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHAuVFJBTlNJVElPTl9EVVJBVElPTilbQV0odGhpcy4kZWxlbWVudFswXVt2XSl9fX19O3AucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtpZighdGhpcy50cmFuc2l0aW9uaW5nJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJpbiIpKXt2YXIgaD1kLkV2ZW50KCJoaWRlLmJzLmNvbGxhcHNlIik7aWYodGhpcy4kZWxlbWVudC50cmlnZ2VyKGgpLCFoLmlzRGVmYXVsdFByZXZlbnRlZCgpKXtoPXRoaXMuZGltZW5zaW9uKCk7dGhpcy4kZWxlbWVudFtoXSh0aGlzLiRlbGVtZW50W2hdKCkpWzBdLm9mZnNldEhlaWdodDt0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJjb2xsYXBzaW5nIikucmVtb3ZlQ2xhc3MoImNvbGxhcHNlIGluIikuYXR0cigiYXJpYS1leHBhbmRlZCIsCiExKTt0aGlzLiR0cmlnZ2VyLmFkZENsYXNzKCJjb2xsYXBzZWQiKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSk7dGhpcy50cmFuc2l0aW9uaW5nPTE7dmFyIHY9ZnVuY3Rpb24oKXt0aGlzLnRyYW5zaXRpb25pbmc9MDt0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJjb2xsYXBzaW5nIikuYWRkQ2xhc3MoImNvbGxhcHNlIikudHJpZ2dlcigiaGlkZGVuLmJzLmNvbGxhcHNlIil9O3JldHVybiBkLnN1cHBvcnQudHJhbnNpdGlvbj92b2lkIHRoaXMuJGVsZW1lbnRbaF0oMCkub25lKCJic1RyYW5zaXRpb25FbmQiLGQucHJveHkodix0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQocC5UUkFOU0lUSU9OX0RVUkFUSU9OKTp2LmNhbGwodGhpcyl9fX07cC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKCl7dGhpc1t0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJpbiIpPyJoaWRlIjoic2hvdyJdKCl9O3AucHJvdG90eXBlLmdldFBhcmVudD1mdW5jdGlvbigpe3JldHVybiBkKHRoaXMub3B0aW9ucy5wYXJlbnQpLmZpbmQoJ1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXVtkYXRhLXBhcmVudD0iJysKdGhpcy5vcHRpb25zLnBhcmVudCsnIl0nKS5lYWNoKGQucHJveHkoZnVuY3Rpb24oaCxwKXtoPWQocCk7dGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MocihoKSxoKX0sdGhpcykpLmVuZCgpfTtwLnByb3RvdHlwZS5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3M9ZnVuY3Rpb24oZCxoKXt2YXIgbj1kLmhhc0NsYXNzKCJpbiIpO2QuYXR0cigiYXJpYS1leHBhbmRlZCIsbik7aC50b2dnbGVDbGFzcygiY29sbGFwc2VkIiwhbikuYXR0cigiYXJpYS1leHBhbmRlZCIsbil9O3ZhciBoPWQuZm4uY29sbGFwc2U7ZC5mbi5jb2xsYXBzZT14O2QuZm4uY29sbGFwc2UuQ29uc3RydWN0b3I9cDtkLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZC5mbi5jb2xsYXBzZT1oLHRoaXN9O2QoZG9jdW1lbnQpLm9uKCJjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXScsZnVuY3Rpb24oaCl7dmFyIHA9ZCh0aGlzKTtwLmF0dHIoImRhdGEtdGFyZ2V0Iil8fApoLnByZXZlbnREZWZhdWx0KCk7aD1yKHApO3A9aC5kYXRhKCJicy5jb2xsYXBzZSIpPyJ0b2dnbGUiOnAuZGF0YSgpO3guY2FsbChoLHApfSl9KGpRdWVyeSk7CitmdW5jdGlvbihkKXtmdW5jdGlvbiByKGgpe3ZhciBsPWguYXR0cigiZGF0YS10YXJnZXQiKTtsfHwobD1oLmF0dHIoImhyZWYiKSxsPWwmJi8jW0EtWmEtel0vLnRlc3QobCkmJmwucmVwbGFjZSgvLiooPz0jW15cc10qJCkvLCIiKSk7cmV0dXJuKGw9bCYmZChsKSkmJmwubGVuZ3RoP2w6aC5wYXJlbnQoKX1mdW5jdGlvbiB4KGwpe2wmJjM9PT1sLndoaWNofHwoZChwKS5yZW1vdmUoKSxkKGgpLmVhY2goZnVuY3Rpb24oKXt2YXIgaD1kKHRoaXMpLHA9cihoKSx2PXtyZWxhdGVkVGFyZ2V0OnRoaXN9O3AuaGFzQ2xhc3MoIm9wZW4iKSYmKGwmJiJjbGljayI9PWwudHlwZSYmL2lucHV0fHRleHRhcmVhL2kudGVzdChsLnRhcmdldC50YWdOYW1lKSYmZC5jb250YWlucyhwWzBdLGwudGFyZ2V0KXx8KHAudHJpZ2dlcihsPWQuRXZlbnQoImhpZGUuYnMuZHJvcGRvd24iLHYpKSxsLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoaC5hdHRyKCJhcmlhLWV4cGFuZGVkIiwiZmFsc2UiKSxwLnJlbW92ZUNsYXNzKCJvcGVuIikudHJpZ2dlcihkLkV2ZW50KCJoaWRkZW4uYnMuZHJvcGRvd24iLAp2KSkpKSl9KSl9dmFyIHA9Ii5kcm9wZG93bi1iYWNrZHJvcCIsaD0nW2RhdGEtdG9nZ2xlPSJkcm9wZG93biJdJyxsPWZ1bmN0aW9uKGgpe2QoaCkub24oImNsaWNrLmJzLmRyb3Bkb3duIix0aGlzLnRvZ2dsZSl9O2wuVkVSU0lPTj0iMy4zLjciO2wucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihoKXt2YXIgbD1kKHRoaXMpO2lmKCFsLmlzKCIuZGlzYWJsZWQsIDpkaXNhYmxlZCIpKXt2YXIgcD1yKGwpLHY9cC5oYXNDbGFzcygib3BlbiIpO2lmKHgoKSwhdil7Im9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJiFwLmNsb3Nlc3QoIi5uYXZiYXItbmF2IikubGVuZ3RoJiZkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5hZGRDbGFzcygiZHJvcGRvd24tYmFja2Ryb3AiKS5pbnNlcnRBZnRlcihkKHRoaXMpKS5vbigiY2xpY2siLHgpO3Y9e3JlbGF0ZWRUYXJnZXQ6dGhpc307aWYocC50cmlnZ2VyKGg9ZC5FdmVudCgic2hvdy5icy5kcm9wZG93biIsCnYpKSxoLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjtsLnRyaWdnZXIoImZvY3VzIikuYXR0cigiYXJpYS1leHBhbmRlZCIsInRydWUiKTtwLnRvZ2dsZUNsYXNzKCJvcGVuIikudHJpZ2dlcihkLkV2ZW50KCJzaG93bi5icy5kcm9wZG93biIsdikpfXJldHVybiExfX07bC5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbihsKXtpZigvKDM4fDQwfDI3fDMyKS8udGVzdChsLndoaWNoKSYmIS9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QobC50YXJnZXQudGFnTmFtZSkpe3ZhciBwPWQodGhpcyk7aWYobC5wcmV2ZW50RGVmYXVsdCgpLGwuc3RvcFByb3BhZ2F0aW9uKCksIXAuaXMoIi5kaXNhYmxlZCwgOmRpc2FibGVkIikpe3ZhciB2PXIocCkseD12Lmhhc0NsYXNzKCJvcGVuIik7aWYoIXgmJjI3IT1sLndoaWNofHx4JiYyNz09bC53aGljaClyZXR1cm4gMjc9PWwud2hpY2gmJnYuZmluZChoKS50cmlnZ2VyKCJmb2N1cyIpLHAudHJpZ2dlcigiY2xpY2siKTtwPXYuZmluZCgiLmRyb3Bkb3duLW1lbnUgbGk6bm90KC5kaXNhYmxlZCk6dmlzaWJsZSBhIik7CnAubGVuZ3RoJiYodj1wLmluZGV4KGwudGFyZ2V0KSwzOD09bC53aGljaCYmMDx2JiZ2LS0sNDA9PWwud2hpY2gmJnY8cC5sZW5ndGgtMSYmdisrLH52fHwodj0wKSxwLmVxKHYpLnRyaWdnZXIoImZvY3VzIikpfX19O3ZhciB2PWQuZm4uZHJvcGRvd247ZC5mbi5kcm9wZG93bj1mdW5jdGlvbihoKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHA9ZCh0aGlzKSx2PXAuZGF0YSgiYnMuZHJvcGRvd24iKTt2fHxwLmRhdGEoImJzLmRyb3Bkb3duIix2PW5ldyBsKHRoaXMpKTsic3RyaW5nIj09dHlwZW9mIGgmJnZbaF0uY2FsbChwKX0pfTtkLmZuLmRyb3Bkb3duLkNvbnN0cnVjdG9yPWw7ZC5mbi5kcm9wZG93bi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGQuZm4uZHJvcGRvd249dix0aGlzfTtkKGRvY3VtZW50KS5vbigiY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGkiLHgpLm9uKCJjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaSIsIi5kcm9wZG93biBmb3JtIixmdW5jdGlvbihkKXtkLnN0b3BQcm9wYWdhdGlvbigpfSkub24oImNsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpIiwKaCxsLnByb3RvdHlwZS50b2dnbGUpLm9uKCJrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpIixoLGwucHJvdG90eXBlLmtleWRvd24pLm9uKCJrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpIiwiLmRyb3Bkb3duLW1lbnUiLGwucHJvdG90eXBlLmtleWRvd24pfShqUXVlcnkpOworZnVuY3Rpb24oZCl7ZnVuY3Rpb24gcihoLGwpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcD1kKHRoaXMpLG49cC5kYXRhKCJicy5tb2RhbCIpLEE9ZC5leHRlbmQoe30seC5ERUZBVUxUUyxwLmRhdGEoKSwib2JqZWN0Ij09dHlwZW9mIGgmJmgpO258fHAuZGF0YSgiYnMubW9kYWwiLG49bmV3IHgodGhpcyxBKSk7InN0cmluZyI9PXR5cGVvZiBoP25baF0obCk6QS5zaG93JiZuLnNob3cobCl9KX12YXIgeD1mdW5jdGlvbihoLGwpe3RoaXMub3B0aW9ucz1sO3RoaXMuJGJvZHk9ZChkb2N1bWVudC5ib2R5KTt0aGlzLiRlbGVtZW50PWQoaCk7dGhpcy4kZGlhbG9nPXRoaXMuJGVsZW1lbnQuZmluZCgiLm1vZGFsLWRpYWxvZyIpO3RoaXMub3JpZ2luYWxCb2R5UGFkPXRoaXMuaXNTaG93bj10aGlzLiRiYWNrZHJvcD1udWxsO3RoaXMuc2Nyb2xsYmFyV2lkdGg9MDt0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2s9ITE7dGhpcy5vcHRpb25zLnJlbW90ZSYmdGhpcy4kZWxlbWVudC5maW5kKCIubW9kYWwtY29udGVudCIpLmxvYWQodGhpcy5vcHRpb25zLnJlbW90ZSwKZC5wcm94eShmdW5jdGlvbigpe3RoaXMuJGVsZW1lbnQudHJpZ2dlcigibG9hZGVkLmJzLm1vZGFsIil9LHRoaXMpKX07eC5WRVJTSU9OPSIzLjMuNyI7eC5UUkFOU0lUSU9OX0RVUkFUSU9OPTMwMDt4LkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT049MTUwO3guREVGQVVMVFM9e2JhY2tkcm9wOiEwLGtleWJvYXJkOiEwLHNob3c6ITB9O3gucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihkKXtyZXR1cm4gdGhpcy5pc1Nob3duP3RoaXMuaGlkZSgpOnRoaXMuc2hvdyhkKX07eC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbihoKXt2YXIgbD10aGlzLHA9ZC5FdmVudCgic2hvdy5icy5tb2RhbCIse3JlbGF0ZWRUYXJnZXQ6aH0pO3RoaXMuJGVsZW1lbnQudHJpZ2dlcihwKTt0aGlzLmlzU2hvd258fHAuaXNEZWZhdWx0UHJldmVudGVkKCl8fCh0aGlzLmlzU2hvd249ITAsdGhpcy5jaGVja1Njcm9sbGJhcigpLHRoaXMuc2V0U2Nyb2xsYmFyKCksdGhpcy4kYm9keS5hZGRDbGFzcygibW9kYWwtb3BlbiIpLAp0aGlzLmVzY2FwZSgpLHRoaXMucmVzaXplKCksdGhpcy4kZWxlbWVudC5vbigiY2xpY2suZGlzbWlzcy5icy5tb2RhbCIsJ1tkYXRhLWRpc21pc3M9Im1vZGFsIl0nLGQucHJveHkodGhpcy5oaWRlLHRoaXMpKSx0aGlzLiRkaWFsb2cub24oIm1vdXNlZG93bi5kaXNtaXNzLmJzLm1vZGFsIixmdW5jdGlvbigpe2wuJGVsZW1lbnQub25lKCJtb3VzZXVwLmRpc21pc3MuYnMubW9kYWwiLGZ1bmN0aW9uKGgpe2QoaC50YXJnZXQpLmlzKGwuJGVsZW1lbnQpJiYobC5pZ25vcmVCYWNrZHJvcENsaWNrPSEwKX0pfSksdGhpcy5iYWNrZHJvcChmdW5jdGlvbigpe3ZhciBuPWQuc3VwcG9ydC50cmFuc2l0aW9uJiZsLiRlbGVtZW50Lmhhc0NsYXNzKCJmYWRlIik7bC4kZWxlbWVudC5wYXJlbnQoKS5sZW5ndGh8fGwuJGVsZW1lbnQuYXBwZW5kVG8obC4kYm9keSk7bC4kZWxlbWVudC5zaG93KCkuc2Nyb2xsVG9wKDApO2wuYWRqdXN0RGlhbG9nKCk7biYmbC4kZWxlbWVudFswXS5vZmZzZXRXaWR0aDsKbC4kZWxlbWVudC5hZGRDbGFzcygiaW4iKTtsLmVuZm9yY2VGb2N1cygpO3ZhciBwPWQuRXZlbnQoInNob3duLmJzLm1vZGFsIix7cmVsYXRlZFRhcmdldDpofSk7bj9sLiRkaWFsb2cub25lKCJic1RyYW5zaXRpb25FbmQiLGZ1bmN0aW9uKCl7bC4kZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLnRyaWdnZXIocCl9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh4LlRSQU5TSVRJT05fRFVSQVRJT04pOmwuJGVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKS50cmlnZ2VyKHApfSkpfTt4LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGgpe2gmJmgucHJldmVudERlZmF1bHQoKTtoPWQuRXZlbnQoImhpZGUuYnMubW9kYWwiKTt0aGlzLiRlbGVtZW50LnRyaWdnZXIoaCk7dGhpcy5pc1Nob3duJiYhaC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHRoaXMuaXNTaG93bj0hMSx0aGlzLmVzY2FwZSgpLHRoaXMucmVzaXplKCksZChkb2N1bWVudCkub2ZmKCJmb2N1c2luLmJzLm1vZGFsIiksdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiaW4iKS5vZmYoImNsaWNrLmRpc21pc3MuYnMubW9kYWwiKS5vZmYoIm1vdXNldXAuZGlzbWlzcy5icy5tb2RhbCIpLAp0aGlzLiRkaWFsb2cub2ZmKCJtb3VzZWRvd24uZGlzbWlzcy5icy5tb2RhbCIpLGQuc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmYWRlIik/dGhpcy4kZWxlbWVudC5vbmUoImJzVHJhbnNpdGlvbkVuZCIsZC5wcm94eSh0aGlzLmhpZGVNb2RhbCx0aGlzKSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoeC5UUkFOU0lUSU9OX0RVUkFUSU9OKTp0aGlzLmhpZGVNb2RhbCgpKX07eC5wcm90b3R5cGUuZW5mb3JjZUZvY3VzPWZ1bmN0aW9uKCl7ZChkb2N1bWVudCkub2ZmKCJmb2N1c2luLmJzLm1vZGFsIikub24oImZvY3VzaW4uYnMubW9kYWwiLGQucHJveHkoZnVuY3Rpb24oZCl7ZG9jdW1lbnQ9PT1kLnRhcmdldHx8dGhpcy4kZWxlbWVudFswXT09PWQudGFyZ2V0fHx0aGlzLiRlbGVtZW50LmhhcyhkLnRhcmdldCkubGVuZ3RofHx0aGlzLiRlbGVtZW50LnRyaWdnZXIoImZvY3VzIil9LHRoaXMpKX07eC5wcm90b3R5cGUuZXNjYXBlPWZ1bmN0aW9uKCl7dGhpcy5pc1Nob3duJiYKdGhpcy5vcHRpb25zLmtleWJvYXJkP3RoaXMuJGVsZW1lbnQub24oImtleWRvd24uZGlzbWlzcy5icy5tb2RhbCIsZC5wcm94eShmdW5jdGlvbihkKXsyNz09ZC53aGljaCYmdGhpcy5oaWRlKCl9LHRoaXMpKTp0aGlzLmlzU2hvd258fHRoaXMuJGVsZW1lbnQub2ZmKCJrZXlkb3duLmRpc21pc3MuYnMubW9kYWwiKX07eC5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKCl7dGhpcy5pc1Nob3duP2Qod2luZG93KS5vbigicmVzaXplLmJzLm1vZGFsIixkLnByb3h5KHRoaXMuaGFuZGxlVXBkYXRlLHRoaXMpKTpkKHdpbmRvdykub2ZmKCJyZXNpemUuYnMubW9kYWwiKX07eC5wcm90b3R5cGUuaGlkZU1vZGFsPWZ1bmN0aW9uKCl7dmFyIGQ9dGhpczt0aGlzLiRlbGVtZW50LmhpZGUoKTt0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uKCl7ZC4kYm9keS5yZW1vdmVDbGFzcygibW9kYWwtb3BlbiIpO2QucmVzZXRBZGp1c3RtZW50cygpO2QucmVzZXRTY3JvbGxiYXIoKTtkLiRlbGVtZW50LnRyaWdnZXIoImhpZGRlbi5icy5tb2RhbCIpfSl9Owp4LnByb3RvdHlwZS5yZW1vdmVCYWNrZHJvcD1mdW5jdGlvbigpe3RoaXMuJGJhY2tkcm9wJiZ0aGlzLiRiYWNrZHJvcC5yZW1vdmUoKTt0aGlzLiRiYWNrZHJvcD1udWxsfTt4LnByb3RvdHlwZS5iYWNrZHJvcD1mdW5jdGlvbihoKXt2YXIgbD10aGlzLHA9dGhpcy4kZWxlbWVudC5oYXNDbGFzcygiZmFkZSIpPyJmYWRlIjoiIjtpZih0aGlzLmlzU2hvd24mJnRoaXMub3B0aW9ucy5iYWNrZHJvcCl7dmFyIG49ZC5zdXBwb3J0LnRyYW5zaXRpb24mJnA7aWYodGhpcy4kYmFja2Ryb3A9ZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuYWRkQ2xhc3MoIm1vZGFsLWJhY2tkcm9wICIrcCkuYXBwZW5kVG8odGhpcy4kYm9keSksdGhpcy4kZWxlbWVudC5vbigiY2xpY2suZGlzbWlzcy5icy5tb2RhbCIsZC5wcm94eShmdW5jdGlvbihkKXtyZXR1cm4gdGhpcy5pZ25vcmVCYWNrZHJvcENsaWNrP3ZvaWQodGhpcy5pZ25vcmVCYWNrZHJvcENsaWNrPSExKTp2b2lkKGQudGFyZ2V0PT09CmQuY3VycmVudFRhcmdldCYmKCJzdGF0aWMiPT10aGlzLm9wdGlvbnMuYmFja2Ryb3A/dGhpcy4kZWxlbWVudFswXS5mb2N1cygpOnRoaXMuaGlkZSgpKSl9LHRoaXMpKSxuJiZ0aGlzLiRiYWNrZHJvcFswXS5vZmZzZXRXaWR0aCx0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygiaW4iKSxoKW4/dGhpcy4kYmFja2Ryb3Aub25lKCJic1RyYW5zaXRpb25FbmQiLGgpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHguQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTik6aCgpfWVsc2UhdGhpcy5pc1Nob3duJiZ0aGlzLiRiYWNrZHJvcD8odGhpcy4kYmFja2Ryb3AucmVtb3ZlQ2xhc3MoImluIikscD1mdW5jdGlvbigpe2wucmVtb3ZlQmFja2Ryb3AoKTtoJiZoKCl9LGQuc3VwcG9ydC50cmFuc2l0aW9uJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJmYWRlIik/dGhpcy4kYmFja2Ryb3Aub25lKCJic1RyYW5zaXRpb25FbmQiLHApLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHguQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTik6CnAoKSk6aCYmaCgpfTt4LnByb3RvdHlwZS5oYW5kbGVVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLmFkanVzdERpYWxvZygpfTt4LnByb3RvdHlwZS5hZGp1c3REaWFsb2c9ZnVuY3Rpb24oKXt2YXIgZD10aGlzLiRlbGVtZW50WzBdLnNjcm9sbEhlaWdodD5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O3RoaXMuJGVsZW1lbnQuY3NzKHtwYWRkaW5nTGVmdDohdGhpcy5ib2R5SXNPdmVyZmxvd2luZyYmZD90aGlzLnNjcm9sbGJhcldpZHRoOiIiLHBhZGRpbmdSaWdodDp0aGlzLmJvZHlJc092ZXJmbG93aW5nJiYhZD90aGlzLnNjcm9sbGJhcldpZHRoOiIifSl9O3gucHJvdG90eXBlLnJlc2V0QWRqdXN0bWVudHM9ZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LmNzcyh7cGFkZGluZ0xlZnQ6IiIscGFkZGluZ1JpZ2h0OiIifSl9O3gucHJvdG90eXBlLmNoZWNrU2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIGQ9d2luZG93LmlubmVyV2lkdGg7ZHx8KGQ9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLApkPWQucmlnaHQtTWF0aC5hYnMoZC5sZWZ0KSk7dGhpcy5ib2R5SXNPdmVyZmxvd2luZz1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoPGQ7dGhpcy5zY3JvbGxiYXJXaWR0aD10aGlzLm1lYXN1cmVTY3JvbGxiYXIoKX07eC5wcm90b3R5cGUuc2V0U2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIGQ9cGFyc2VJbnQodGhpcy4kYm9keS5jc3MoInBhZGRpbmctcmlnaHQiKXx8MCwxMCk7dGhpcy5vcmlnaW5hbEJvZHlQYWQ9ZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHR8fCIiO3RoaXMuYm9keUlzT3ZlcmZsb3dpbmcmJnRoaXMuJGJvZHkuY3NzKCJwYWRkaW5nLXJpZ2h0IixkK3RoaXMuc2Nyb2xsYmFyV2lkdGgpfTt4LnByb3RvdHlwZS5yZXNldFNjcm9sbGJhcj1mdW5jdGlvbigpe3RoaXMuJGJvZHkuY3NzKCJwYWRkaW5nLXJpZ2h0Iix0aGlzLm9yaWdpbmFsQm9keVBhZCl9O3gucHJvdG90eXBlLm1lYXN1cmVTY3JvbGxiYXI9ZnVuY3Rpb24oKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKZC5jbGFzc05hbWU9Im1vZGFsLXNjcm9sbGJhci1tZWFzdXJlIjt0aGlzLiRib2R5LmFwcGVuZChkKTt2YXIgbD1kLm9mZnNldFdpZHRoLWQuY2xpZW50V2lkdGg7cmV0dXJuIHRoaXMuJGJvZHlbMF0ucmVtb3ZlQ2hpbGQoZCksbH07dmFyIHA9ZC5mbi5tb2RhbDtkLmZuLm1vZGFsPXI7ZC5mbi5tb2RhbC5Db25zdHJ1Y3Rvcj14O2QuZm4ubW9kYWwubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBkLmZuLm1vZGFsPXAsdGhpc307ZChkb2N1bWVudCkub24oImNsaWNrLmJzLm1vZGFsLmRhdGEtYXBpIiwnW2RhdGEtdG9nZ2xlPSJtb2RhbCJdJyxmdW5jdGlvbihoKXt2YXIgbD1kKHRoaXMpLHA9bC5hdHRyKCJocmVmIiksbj1kKGwuYXR0cigiZGF0YS10YXJnZXQiKXx8cCYmcC5yZXBsYWNlKC8uKig/PSNbXlxzXSskKS8sIiIpKSxwPW4uZGF0YSgiYnMubW9kYWwiKT8idG9nZ2xlIjpkLmV4dGVuZCh7cmVtb3RlOiEvIy8udGVzdChwKSYmcH0sbi5kYXRhKCksbC5kYXRhKCkpO2wuaXMoImEiKSYmCmgucHJldmVudERlZmF1bHQoKTtuLm9uZSgic2hvdy5icy5tb2RhbCIsZnVuY3Rpb24oZCl7ZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8bi5vbmUoImhpZGRlbi5icy5tb2RhbCIsZnVuY3Rpb24oKXtsLmlzKCI6dmlzaWJsZSIpJiZsLnRyaWdnZXIoImZvY3VzIil9KX0pO3IuY2FsbChuLHAsdGhpcyl9KX0oalF1ZXJ5KTsKK2Z1bmN0aW9uKGQpe3ZhciByPWZ1bmN0aW9uKGQsaCl7dGhpcy5pblN0YXRlPXRoaXMuJGVsZW1lbnQ9dGhpcy5ob3ZlclN0YXRlPXRoaXMudGltZW91dD10aGlzLmVuYWJsZWQ9dGhpcy5vcHRpb25zPXRoaXMudHlwZT1udWxsO3RoaXMuaW5pdCgidG9vbHRpcCIsZCxoKX07ci5WRVJTSU9OPSIzLjMuNyI7ci5UUkFOU0lUSU9OX0RVUkFUSU9OPTE1MDtyLkRFRkFVTFRTPXthbmltYXRpb246ITAscGxhY2VtZW50OiJ0b3AiLHNlbGVjdG9yOiExLHRlbXBsYXRlOic8ZGl2IGNsYXNzPSJ0b29sdGlwIiByb2xlPSJ0b29sdGlwIj48ZGl2IGNsYXNzPSJ0b29sdGlwLWFycm93Ij48L2Rpdj48ZGl2IGNsYXNzPSJ0b29sdGlwLWlubmVyIj48L2Rpdj48L2Rpdj4nLHRyaWdnZXI6ImhvdmVyIGZvY3VzIix0aXRsZToiIixkZWxheTowLGh0bWw6ITEsY29udGFpbmVyOiExLHZpZXdwb3J0OntzZWxlY3RvcjoiYm9keSIscGFkZGluZzowfX07ci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihwLGgsCmwpe2lmKHRoaXMuZW5hYmxlZD0hMCx0aGlzLnR5cGU9cCx0aGlzLiRlbGVtZW50PWQoaCksdGhpcy5vcHRpb25zPXRoaXMuZ2V0T3B0aW9ucyhsKSx0aGlzLiR2aWV3cG9ydD10aGlzLm9wdGlvbnMudmlld3BvcnQmJmQoZC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy52aWV3cG9ydCk/dGhpcy5vcHRpb25zLnZpZXdwb3J0LmNhbGwodGhpcyx0aGlzLiRlbGVtZW50KTp0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3J8fHRoaXMub3B0aW9ucy52aWV3cG9ydCksdGhpcy5pblN0YXRlPXtjbGljazohMSxob3ZlcjohMSxmb2N1czohMX0sdGhpcy4kZWxlbWVudFswXWluc3RhbmNlb2YgZG9jdW1lbnQuY29uc3RydWN0b3ImJiF0aGlzLm9wdGlvbnMuc2VsZWN0b3IpdGhyb3cgRXJyb3IoImBzZWxlY3RvcmAgb3B0aW9uIG11c3QgYmUgc3BlY2lmaWVkIHdoZW4gaW5pdGlhbGl6aW5nICIrdGhpcy50eXBlKyIgb24gdGhlIHdpbmRvdy5kb2N1bWVudCBvYmplY3QhIik7cD10aGlzLm9wdGlvbnMudHJpZ2dlci5zcGxpdCgiICIpOwpmb3IoaD1wLmxlbmd0aDtoLS07KWlmKGw9cFtoXSwiY2xpY2siPT1sKXRoaXMuJGVsZW1lbnQub24oImNsaWNrLiIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3RvcixkLnByb3h5KHRoaXMudG9nZ2xlLHRoaXMpKTtlbHNlIGlmKCJtYW51YWwiIT1sKXt2YXIgdj0iaG92ZXIiPT1sPyJtb3VzZWxlYXZlIjoiZm9jdXNvdXQiO3RoaXMuJGVsZW1lbnQub24oKCJob3ZlciI9PWw/Im1vdXNlZW50ZXIiOiJmb2N1c2luIikrIi4iK3RoaXMudHlwZSx0aGlzLm9wdGlvbnMuc2VsZWN0b3IsZC5wcm94eSh0aGlzLmVudGVyLHRoaXMpKTt0aGlzLiRlbGVtZW50Lm9uKHYrIi4iK3RoaXMudHlwZSx0aGlzLm9wdGlvbnMuc2VsZWN0b3IsZC5wcm94eSh0aGlzLmxlYXZlLHRoaXMpKX10aGlzLm9wdGlvbnMuc2VsZWN0b3I/dGhpcy5fb3B0aW9ucz1kLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMse3RyaWdnZXI6Im1hbnVhbCIsc2VsZWN0b3I6IiJ9KTp0aGlzLmZpeFRpdGxlKCl9O3IucHJvdG90eXBlLmdldERlZmF1bHRzPQpmdW5jdGlvbigpe3JldHVybiByLkRFRkFVTFRTfTtyLnByb3RvdHlwZS5nZXRPcHRpb25zPWZ1bmN0aW9uKHApe3JldHVybiBwPWQuZXh0ZW5kKHt9LHRoaXMuZ2V0RGVmYXVsdHMoKSx0aGlzLiRlbGVtZW50LmRhdGEoKSxwKSxwLmRlbGF5JiYibnVtYmVyIj09dHlwZW9mIHAuZGVsYXkmJihwLmRlbGF5PXtzaG93OnAuZGVsYXksaGlkZTpwLmRlbGF5fSkscH07ci5wcm90b3R5cGUuZ2V0RGVsZWdhdGVPcHRpb25zPWZ1bmN0aW9uKCl7dmFyIHA9e30saD10aGlzLmdldERlZmF1bHRzKCk7cmV0dXJuIHRoaXMuX29wdGlvbnMmJmQuZWFjaCh0aGlzLl9vcHRpb25zLGZ1bmN0aW9uKGQsdil7aFtkXSE9diYmKHBbZF09dil9KSxwfTtyLnByb3RvdHlwZS5lbnRlcj1mdW5jdGlvbihwKXt2YXIgaD1wIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcj9wOmQocC5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSk7cmV0dXJuIGh8fChoPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHAuY3VycmVudFRhcmdldCwKdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSksZChwLmN1cnJlbnRUYXJnZXQpLmRhdGEoImJzLiIrdGhpcy50eXBlLGgpKSxwIGluc3RhbmNlb2YgZC5FdmVudCYmKGguaW5TdGF0ZVsiZm9jdXNpbiI9PXAudHlwZT8iZm9jdXMiOiJob3ZlciJdPSEwKSxoLnRpcCgpLmhhc0NsYXNzKCJpbiIpfHwiaW4iPT1oLmhvdmVyU3RhdGU/dm9pZChoLmhvdmVyU3RhdGU9ImluIik6KGNsZWFyVGltZW91dChoLnRpbWVvdXQpLGguaG92ZXJTdGF0ZT0iaW4iLGgub3B0aW9ucy5kZWxheSYmaC5vcHRpb25zLmRlbGF5LnNob3c/dm9pZChoLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpeyJpbiI9PWguaG92ZXJTdGF0ZSYmaC5zaG93KCl9LGgub3B0aW9ucy5kZWxheS5zaG93KSk6aC5zaG93KCkpfTtyLnByb3RvdHlwZS5pc0luU3RhdGVUcnVlPWZ1bmN0aW9uKCl7Zm9yKHZhciBkIGluIHRoaXMuaW5TdGF0ZSlpZih0aGlzLmluU3RhdGVbZF0pcmV0dXJuITA7cmV0dXJuITF9O3IucHJvdG90eXBlLmxlYXZlPQpmdW5jdGlvbihwKXt2YXIgaD1wIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcj9wOmQocC5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSk7aWYoaHx8KGg9bmV3IHRoaXMuY29uc3RydWN0b3IocC5jdXJyZW50VGFyZ2V0LHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpLGQocC5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSxoKSkscCBpbnN0YW5jZW9mIGQuRXZlbnQmJihoLmluU3RhdGVbImZvY3Vzb3V0Ij09cC50eXBlPyJmb2N1cyI6ImhvdmVyIl09ITEpLCFoLmlzSW5TdGF0ZVRydWUoKSlyZXR1cm4gY2xlYXJUaW1lb3V0KGgudGltZW91dCksaC5ob3ZlclN0YXRlPSJvdXQiLGgub3B0aW9ucy5kZWxheSYmaC5vcHRpb25zLmRlbGF5LmhpZGU/dm9pZChoLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpeyJvdXQiPT1oLmhvdmVyU3RhdGUmJmguaGlkZSgpfSxoLm9wdGlvbnMuZGVsYXkuaGlkZSkpOmguaGlkZSgpfTtyLnByb3RvdHlwZS5zaG93PQpmdW5jdGlvbigpe3ZhciBwPWQuRXZlbnQoInNob3cuYnMuIit0aGlzLnR5cGUpO2lmKHRoaXMuaGFzQ29udGVudCgpJiZ0aGlzLmVuYWJsZWQpe3RoaXMuJGVsZW1lbnQudHJpZ2dlcihwKTt2YXIgaD1kLmNvbnRhaW5zKHRoaXMuJGVsZW1lbnRbMF0ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdGhpcy4kZWxlbWVudFswXSk7aWYoIXAuaXNEZWZhdWx0UHJldmVudGVkKCkmJmgpe3ZhciBsPXRoaXMscD10aGlzLnRpcCgpLGg9dGhpcy5nZXRVSUQodGhpcy50eXBlKTt0aGlzLnNldENvbnRlbnQoKTtwLmF0dHIoImlkIixoKTt0aGlzLiRlbGVtZW50LmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLGgpO3RoaXMub3B0aW9ucy5hbmltYXRpb24mJnAuYWRkQ2xhc3MoImZhZGUiKTt2YXIgaD0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5vcHRpb25zLnBsYWNlbWVudD90aGlzLm9wdGlvbnMucGxhY2VtZW50LmNhbGwodGhpcyxwWzBdLHRoaXMuJGVsZW1lbnRbMF0pOnRoaXMub3B0aW9ucy5wbGFjZW1lbnQsCnY9L1xzP2F1dG8/XHM/L2ksbj12LnRlc3QoaCk7biYmKGg9aC5yZXBsYWNlKHYsIiIpfHwidG9wIik7cC5kZXRhY2goKS5jc3Moe3RvcDowLGxlZnQ6MCxkaXNwbGF5OiJibG9jayJ9KS5hZGRDbGFzcyhoKS5kYXRhKCJicy4iK3RoaXMudHlwZSx0aGlzKTt0aGlzLm9wdGlvbnMuY29udGFpbmVyP3AuYXBwZW5kVG8odGhpcy5vcHRpb25zLmNvbnRhaW5lcik6cC5pbnNlcnRBZnRlcih0aGlzLiRlbGVtZW50KTt0aGlzLiRlbGVtZW50LnRyaWdnZXIoImluc2VydGVkLmJzLiIrdGhpcy50eXBlKTt2YXIgdj10aGlzLmdldFBvc2l0aW9uKCksQT1wWzBdLm9mZnNldFdpZHRoLHg9cFswXS5vZmZzZXRIZWlnaHQ7aWYobil7dmFyIG49aCxNPXRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpLGg9ImJvdHRvbSI9PWgmJnYuYm90dG9tK3g+TS5ib3R0b20/InRvcCI6InRvcCI9PWgmJnYudG9wLXg8TS50b3A/ImJvdHRvbSI6InJpZ2h0Ij09aCYmdi5yaWdodCtBPk0ud2lkdGg/ImxlZnQiOgoibGVmdCI9PWgmJnYubGVmdC1BPE0ubGVmdD8icmlnaHQiOmg7cC5yZW1vdmVDbGFzcyhuKS5hZGRDbGFzcyhoKX12PXRoaXMuZ2V0Q2FsY3VsYXRlZE9mZnNldChoLHYsQSx4KTt0aGlzLmFwcGx5UGxhY2VtZW50KHYsaCk7aD1mdW5jdGlvbigpe3ZhciBkPWwuaG92ZXJTdGF0ZTtsLiRlbGVtZW50LnRyaWdnZXIoInNob3duLmJzLiIrbC50eXBlKTtsLmhvdmVyU3RhdGU9bnVsbDsib3V0Ij09ZCYmbC5sZWF2ZShsKX07ZC5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJHRpcC5oYXNDbGFzcygiZmFkZSIpP3Aub25lKCJic1RyYW5zaXRpb25FbmQiLGgpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHIuVFJBTlNJVElPTl9EVVJBVElPTik6aCgpfX19O3IucHJvdG90eXBlLmFwcGx5UGxhY2VtZW50PWZ1bmN0aW9uKHAsaCl7dmFyIGw9dGhpcy50aXAoKSx2PWxbMF0ub2Zmc2V0V2lkdGgsbj1sWzBdLm9mZnNldEhlaWdodCxBPXBhcnNlSW50KGwuY3NzKCJtYXJnaW4tdG9wIiksMTApLHI9cGFyc2VJbnQobC5jc3MoIm1hcmdpbi1sZWZ0IiksCjEwKTtpc05hTihBKSYmKEE9MCk7aXNOYU4ocikmJihyPTApO3AudG9wKz1BO3AubGVmdCs9cjtkLm9mZnNldC5zZXRPZmZzZXQobFswXSxkLmV4dGVuZCh7dXNpbmc6ZnVuY3Rpb24oZCl7bC5jc3Moe3RvcDpNYXRoLnJvdW5kKGQudG9wKSxsZWZ0Ok1hdGgucm91bmQoZC5sZWZ0KX0pfX0scCksMCk7bC5hZGRDbGFzcygiaW4iKTtBPWxbMF0ub2Zmc2V0V2lkdGg7cj1sWzBdLm9mZnNldEhlaWdodDsidG9wIj09aCYmciE9biYmKHAudG9wPXAudG9wK24tcik7dmFyIHg9dGhpcy5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEoaCxwLEEscik7eC5sZWZ0P3AubGVmdCs9eC5sZWZ0OnAudG9wKz14LnRvcDt2PShoPS90b3B8Ym90dG9tLy50ZXN0KGgpKT8yKngubGVmdC12K0E6Mip4LnRvcC1uK3I7bj1oPyJvZmZzZXRXaWR0aCI6Im9mZnNldEhlaWdodCI7bC5vZmZzZXQocCk7dGhpcy5yZXBsYWNlQXJyb3codixsWzBdW25dLGgpfTtyLnByb3RvdHlwZS5yZXBsYWNlQXJyb3c9ZnVuY3Rpb24oZCwKaCxsKXt0aGlzLmFycm93KCkuY3NzKGw/ImxlZnQiOiJ0b3AiLDUwKigxLWQvaCkrIiUiKS5jc3MobD8idG9wIjoibGVmdCIsIiIpfTtyLnByb3RvdHlwZS5zZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy50aXAoKSxoPXRoaXMuZ2V0VGl0bGUoKTtkLmZpbmQoIi50b29sdGlwLWlubmVyIilbdGhpcy5vcHRpb25zLmh0bWw/Imh0bWwiOiJ0ZXh0Il0oaCk7ZC5yZW1vdmVDbGFzcygiZmFkZSBpbiB0b3AgYm90dG9tIGxlZnQgcmlnaHQiKX07ci5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbihwKXtmdW5jdGlvbiBoKCl7ImluIiE9bC5ob3ZlclN0YXRlJiZ2LmRldGFjaCgpO2wuJGVsZW1lbnQmJmwuJGVsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS1kZXNjcmliZWRieSIpLnRyaWdnZXIoImhpZGRlbi5icy4iK2wudHlwZSk7cCYmcCgpfXZhciBsPXRoaXMsdj1kKHRoaXMuJHRpcCksbj1kLkV2ZW50KCJoaWRlLmJzLiIrdGhpcy50eXBlKTtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIobiksCiFuLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybiB2LnJlbW92ZUNsYXNzKCJpbiIpLGQuc3VwcG9ydC50cmFuc2l0aW9uJiZ2Lmhhc0NsYXNzKCJmYWRlIik/di5vbmUoImJzVHJhbnNpdGlvbkVuZCIsaCkuZW11bGF0ZVRyYW5zaXRpb25FbmQoci5UUkFOU0lUSU9OX0RVUkFUSU9OKTpoKCksdGhpcy5ob3ZlclN0YXRlPW51bGwsdGhpc307ci5wcm90b3R5cGUuZml4VGl0bGU9ZnVuY3Rpb24oKXt2YXIgZD10aGlzLiRlbGVtZW50OyhkLmF0dHIoInRpdGxlIil8fCJzdHJpbmciIT10eXBlb2YgZC5hdHRyKCJkYXRhLW9yaWdpbmFsLXRpdGxlIikpJiZkLmF0dHIoImRhdGEtb3JpZ2luYWwtdGl0bGUiLGQuYXR0cigidGl0bGUiKXx8IiIpLmF0dHIoInRpdGxlIiwiIil9O3IucHJvdG90eXBlLmhhc0NvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUaXRsZSgpfTtyLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbihwKXtwPXB8fHRoaXMuJGVsZW1lbnQ7dmFyIGg9cFswXSwKbD0iQk9EWSI9PWgudGFnTmFtZSx2PWguZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bnVsbD09di53aWR0aCYmKHY9ZC5leHRlbmQoe30sdix7d2lkdGg6di5yaWdodC12LmxlZnQsaGVpZ2h0OnYuYm90dG9tLXYudG9wfSkpO2g9d2luZG93LlNWR0VsZW1lbnQmJmggaW5zdGFuY2VvZiB3aW5kb3cuU1ZHRWxlbWVudDtoPWw/e3RvcDowLGxlZnQ6MH06aD9udWxsOnAub2Zmc2V0KCk7cD17c2Nyb2xsOmw/ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A6cC5zY3JvbGxUb3AoKX07bD1sP3t3aWR0aDpkKHdpbmRvdykud2lkdGgoKSxoZWlnaHQ6ZCh3aW5kb3cpLmhlaWdodCgpfTpudWxsO3JldHVybiBkLmV4dGVuZCh7fSx2LHAsbCxoKX07ci5wcm90b3R5cGUuZ2V0Q2FsY3VsYXRlZE9mZnNldD1mdW5jdGlvbihkLGgsbCx2KXtyZXR1cm4iYm90dG9tIj09ZD97dG9wOmgudG9wK2guaGVpZ2h0LGxlZnQ6aC5sZWZ0K2gud2lkdGgvCjItbC8yfToidG9wIj09ZD97dG9wOmgudG9wLXYsbGVmdDpoLmxlZnQraC53aWR0aC8yLWwvMn06ImxlZnQiPT1kP3t0b3A6aC50b3AraC5oZWlnaHQvMi12LzIsbGVmdDpoLmxlZnQtbH06e3RvcDpoLnRvcCtoLmhlaWdodC8yLXYvMixsZWZ0OmgubGVmdCtoLndpZHRofX07ci5wcm90b3R5cGUuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhPWZ1bmN0aW9uKGQsaCxsLHYpe3ZhciBuPXt0b3A6MCxsZWZ0OjB9O2lmKCF0aGlzLiR2aWV3cG9ydClyZXR1cm4gbjt2YXIgQT10aGlzLm9wdGlvbnMudmlld3BvcnQmJnRoaXMub3B0aW9ucy52aWV3cG9ydC5wYWRkaW5nfHwwLHI9dGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydCk7L3JpZ2h0fGxlZnQvLnRlc3QoZCk/KGw9aC50b3AtQS1yLnNjcm9sbCxoPWgudG9wK0Etci5zY3JvbGwrdixsPHIudG9wP24udG9wPXIudG9wLWw6aD5yLnRvcCtyLmhlaWdodCYmKG4udG9wPXIudG9wK3IuaGVpZ2h0LWgpKToodj1oLmxlZnQtQSxoPWgubGVmdCsKQStsLHY8ci5sZWZ0P24ubGVmdD1yLmxlZnQtdjpoPnIucmlnaHQmJihuLmxlZnQ9ci5sZWZ0K3Iud2lkdGgtaCkpO3JldHVybiBufTtyLnByb3RvdHlwZS5nZXRUaXRsZT1mdW5jdGlvbigpe3ZhciBkPXRoaXMuJGVsZW1lbnQsaD10aGlzLm9wdGlvbnM7cmV0dXJuIGQuYXR0cigiZGF0YS1vcmlnaW5hbC10aXRsZSIpfHwoImZ1bmN0aW9uIj09dHlwZW9mIGgudGl0bGU/aC50aXRsZS5jYWxsKGRbMF0pOmgudGl0bGUpfTtyLnByb3RvdHlwZS5nZXRVSUQ9ZnVuY3Rpb24oZCl7ZG8gZCs9fn4oMUU2Kk1hdGgucmFuZG9tKCkpO3doaWxlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGQpKTtyZXR1cm4gZH07ci5wcm90b3R5cGUudGlwPWZ1bmN0aW9uKCl7aWYoIXRoaXMuJHRpcCYmKHRoaXMuJHRpcD1kKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSksMSE9dGhpcy4kdGlwLmxlbmd0aCkpdGhyb3cgRXJyb3IodGhpcy50eXBlKyIgYHRlbXBsYXRlYCBvcHRpb24gbXVzdCBjb25zaXN0IG9mIGV4YWN0bHkgMSB0b3AtbGV2ZWwgZWxlbWVudCEiKTsKcmV0dXJuIHRoaXMuJHRpcH07ci5wcm90b3R5cGUuYXJyb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYXJyb3c9dGhpcy4kYXJyb3d8fHRoaXMudGlwKCkuZmluZCgiLnRvb2x0aXAtYXJyb3ciKX07ci5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSEwfTtyLnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSExfTtyLnByb3RvdHlwZS50b2dnbGVFbmFibGVkPWZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSF0aGlzLmVuYWJsZWR9O3IucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihwKXt2YXIgaD10aGlzO3AmJihoPWQocC5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSksaHx8KGg9bmV3IHRoaXMuY29uc3RydWN0b3IocC5jdXJyZW50VGFyZ2V0LHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpLGQocC5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSxoKSkpO3A/KGguaW5TdGF0ZS5jbGljaz0haC5pblN0YXRlLmNsaWNrLApoLmlzSW5TdGF0ZVRydWUoKT9oLmVudGVyKGgpOmgubGVhdmUoaCkpOmgudGlwKCkuaGFzQ2xhc3MoImluIik/aC5sZWF2ZShoKTpoLmVudGVyKGgpfTtyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGQ9dGhpcztjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTt0aGlzLmhpZGUoZnVuY3Rpb24oKXtkLiRlbGVtZW50Lm9mZigiLiIrZC50eXBlKS5yZW1vdmVEYXRhKCJicy4iK2QudHlwZSk7ZC4kdGlwJiZkLiR0aXAuZGV0YWNoKCk7ZC4kdGlwPW51bGw7ZC4kYXJyb3c9bnVsbDtkLiR2aWV3cG9ydD1udWxsO2QuJGVsZW1lbnQ9bnVsbH0pfTt2YXIgeD1kLmZuLnRvb2x0aXA7ZC5mbi50b29sdGlwPWZ1bmN0aW9uKHApe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaD1kKHRoaXMpLGw9aC5kYXRhKCJicy50b29sdGlwIiksdj0ib2JqZWN0Ij09dHlwZW9mIHAmJnA7IWwmJi9kZXN0cm95fGhpZGUvLnRlc3QocCl8fChsfHxoLmRhdGEoImJzLnRvb2x0aXAiLGw9Cm5ldyByKHRoaXMsdikpLCJzdHJpbmciPT10eXBlb2YgcCYmbFtwXSgpKX0pfTtkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3I9cjtkLmZuLnRvb2x0aXAubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBkLmZuLnRvb2x0aXA9eCx0aGlzfX0oalF1ZXJ5KTsKK2Z1bmN0aW9uKGQpe3ZhciByPWZ1bmN0aW9uKGQsaCl7dGhpcy5pbml0KCJwb3BvdmVyIixkLGgpfTtpZighZC5mbi50b29sdGlwKXRocm93IEVycm9yKCJQb3BvdmVyIHJlcXVpcmVzIHRvb2x0aXAuanMiKTtyLlZFUlNJT049IjMuMy43IjtyLkRFRkFVTFRTPWQuZXh0ZW5kKHt9LGQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5ERUZBVUxUUyx7cGxhY2VtZW50OiJyaWdodCIsdHJpZ2dlcjoiY2xpY2siLGNvbnRlbnQ6IiIsdGVtcGxhdGU6JzxkaXYgY2xhc3M9InBvcG92ZXIiIHJvbGU9InRvb2x0aXAiPjxkaXYgY2xhc3M9ImFycm93Ij48L2Rpdj48aDMgY2xhc3M9InBvcG92ZXItdGl0bGUiPjwvaDM+PGRpdiBjbGFzcz0icG9wb3Zlci1jb250ZW50Ij48L2Rpdj48L2Rpdj4nfSk7ci5wcm90b3R5cGU9ZC5leHRlbmQoe30sZC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLnByb3RvdHlwZSk7ci5wcm90b3R5cGUuY29uc3RydWN0b3I9cjtyLnByb3RvdHlwZS5nZXREZWZhdWx0cz1mdW5jdGlvbigpe3JldHVybiByLkRFRkFVTFRTfTsKci5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciBkPXRoaXMudGlwKCksaD10aGlzLmdldFRpdGxlKCksbD10aGlzLmdldENvbnRlbnQoKTtkLmZpbmQoIi5wb3BvdmVyLXRpdGxlIilbdGhpcy5vcHRpb25zLmh0bWw/Imh0bWwiOiJ0ZXh0Il0oaCk7ZC5maW5kKCIucG9wb3Zlci1jb250ZW50IikuY2hpbGRyZW4oKS5kZXRhY2goKS5lbmQoKVt0aGlzLm9wdGlvbnMuaHRtbD8ic3RyaW5nIj09dHlwZW9mIGw/Imh0bWwiOiJhcHBlbmQiOiJ0ZXh0Il0obCk7ZC5yZW1vdmVDbGFzcygiZmFkZSB0b3AgYm90dG9tIGxlZnQgcmlnaHQgaW4iKTtkLmZpbmQoIi5wb3BvdmVyLXRpdGxlIikuaHRtbCgpfHxkLmZpbmQoIi5wb3BvdmVyLXRpdGxlIikuaGlkZSgpfTtyLnByb3RvdHlwZS5oYXNDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGl0bGUoKXx8dGhpcy5nZXRDb250ZW50KCl9O3IucHJvdG90eXBlLmdldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgZD10aGlzLiRlbGVtZW50LApoPXRoaXMub3B0aW9ucztyZXR1cm4gZC5hdHRyKCJkYXRhLWNvbnRlbnQiKXx8KCJmdW5jdGlvbiI9PXR5cGVvZiBoLmNvbnRlbnQ/aC5jb250ZW50LmNhbGwoZFswXSk6aC5jb250ZW50KX07ci5wcm90b3R5cGUuYXJyb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYXJyb3c9dGhpcy4kYXJyb3d8fHRoaXMudGlwKCkuZmluZCgiLmFycm93Iil9O3ZhciB4PWQuZm4ucG9wb3ZlcjtkLmZuLnBvcG92ZXI9ZnVuY3Rpb24ocCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBoPWQodGhpcyksbD1oLmRhdGEoImJzLnBvcG92ZXIiKSx2PSJvYmplY3QiPT10eXBlb2YgcCYmcDshbCYmL2Rlc3Ryb3l8aGlkZS8udGVzdChwKXx8KGx8fGguZGF0YSgiYnMucG9wb3ZlciIsbD1uZXcgcih0aGlzLHYpKSwic3RyaW5nIj09dHlwZW9mIHAmJmxbcF0oKSl9KX07ZC5mbi5wb3BvdmVyLkNvbnN0cnVjdG9yPXI7ZC5mbi5wb3BvdmVyLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZC5mbi5wb3BvdmVyPQp4LHRoaXN9fShqUXVlcnkpOworZnVuY3Rpb24oZCl7ZnVuY3Rpb24gcihoLGwpe3RoaXMuJGJvZHk9ZChkb2N1bWVudC5ib2R5KTt0aGlzLiRzY3JvbGxFbGVtZW50PWQoZChoKS5pcyhkb2N1bWVudC5ib2R5KT93aW5kb3c6aCk7dGhpcy5vcHRpb25zPWQuZXh0ZW5kKHt9LHIuREVGQVVMVFMsbCk7dGhpcy5zZWxlY3Rvcj0odGhpcy5vcHRpb25zLnRhcmdldHx8IiIpKyIgLm5hdiBsaSA+IGEiO3RoaXMub2Zmc2V0cz1bXTt0aGlzLnRhcmdldHM9W107dGhpcy5hY3RpdmVUYXJnZXQ9bnVsbDt0aGlzLnNjcm9sbEhlaWdodD0wO3RoaXMuJHNjcm9sbEVsZW1lbnQub24oInNjcm9sbC5icy5zY3JvbGxzcHkiLGQucHJveHkodGhpcy5wcm9jZXNzLHRoaXMpKTt0aGlzLnJlZnJlc2goKTt0aGlzLnByb2Nlc3MoKX1mdW5jdGlvbiB4KGgpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbD1kKHRoaXMpLHA9bC5kYXRhKCJicy5zY3JvbGxzcHkiKSxuPSJvYmplY3QiPT10eXBlb2YgaCYmaDtwfHxsLmRhdGEoImJzLnNjcm9sbHNweSIsCnA9bmV3IHIodGhpcyxuKSk7InN0cmluZyI9PXR5cGVvZiBoJiZwW2hdKCl9KX1yLlZFUlNJT049IjMuMy43IjtyLkRFRkFVTFRTPXtvZmZzZXQ6MTB9O3IucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRzY3JvbGxFbGVtZW50WzBdLnNjcm9sbEhlaWdodHx8TWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCl9O3IucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgaD10aGlzLGw9Im9mZnNldCIscD0wO3RoaXMub2Zmc2V0cz1bXTt0aGlzLnRhcmdldHM9W107dGhpcy5zY3JvbGxIZWlnaHQ9dGhpcy5nZXRTY3JvbGxIZWlnaHQoKTtkLmlzV2luZG93KHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0pfHwobD0icG9zaXRpb24iLHA9dGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKSk7dGhpcy4kYm9keS5maW5kKHRoaXMuc2VsZWN0b3IpLm1hcChmdW5jdGlvbigpe3ZhciBoPQpkKHRoaXMpLGg9aC5kYXRhKCJ0YXJnZXQiKXx8aC5hdHRyKCJocmVmIikscj0vXiMuLy50ZXN0KGgpJiZkKGgpO3JldHVybiByJiZyLmxlbmd0aCYmci5pcygiOnZpc2libGUiKSYmW1tyW2xdKCkudG9wK3AsaF1dfHxudWxsfSkuc29ydChmdW5jdGlvbihkLGgpe3JldHVybiBkWzBdLWhbMF19KS5lYWNoKGZ1bmN0aW9uKCl7aC5vZmZzZXRzLnB1c2godGhpc1swXSk7aC50YXJnZXRzLnB1c2godGhpc1sxXSl9KX07ci5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbigpe3ZhciBkLGw9dGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKSt0aGlzLm9wdGlvbnMub2Zmc2V0LHA9dGhpcy5nZXRTY3JvbGxIZWlnaHQoKSxuPXRoaXMub3B0aW9ucy5vZmZzZXQrcC10aGlzLiRzY3JvbGxFbGVtZW50LmhlaWdodCgpLHI9dGhpcy5vZmZzZXRzLHg9dGhpcy50YXJnZXRzLE09dGhpcy5hY3RpdmVUYXJnZXQ7aWYodGhpcy5zY3JvbGxIZWlnaHQhPXAmJnRoaXMucmVmcmVzaCgpLGw+PW4pcmV0dXJuIE0hPQooZD14W3gubGVuZ3RoLTFdKSYmdGhpcy5hY3RpdmF0ZShkKTtpZihNJiZsPHJbMF0pcmV0dXJuIHRoaXMuYWN0aXZlVGFyZ2V0PW51bGwsdGhpcy5jbGVhcigpO2ZvcihkPXIubGVuZ3RoO2QtLTspTSE9eFtkXSYmbD49cltkXSYmKHZvaWQgMD09PXJbZCsxXXx8bDxyW2QrMV0pJiZ0aGlzLmFjdGl2YXRlKHhbZF0pfTtyLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihoKXt0aGlzLmFjdGl2ZVRhcmdldD1oO3RoaXMuY2xlYXIoKTtoPWQodGhpcy5zZWxlY3RvcisnW2RhdGEtdGFyZ2V0PSInK2grJyJdLCcrdGhpcy5zZWxlY3RvcisnW2hyZWY9IicraCsnIl0nKS5wYXJlbnRzKCJsaSIpLmFkZENsYXNzKCJhY3RpdmUiKTtoLnBhcmVudCgiLmRyb3Bkb3duLW1lbnUiKS5sZW5ndGgmJihoPWguY2xvc2VzdCgibGkuZHJvcGRvd24iKS5hZGRDbGFzcygiYWN0aXZlIikpO2gudHJpZ2dlcigiYWN0aXZhdGUuYnMuc2Nyb2xsc3B5Iil9O3IucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7ZCh0aGlzLnNlbGVjdG9yKS5wYXJlbnRzVW50aWwodGhpcy5vcHRpb25zLnRhcmdldCwKIi5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIil9O3ZhciBwPWQuZm4uc2Nyb2xsc3B5O2QuZm4uc2Nyb2xsc3B5PXg7ZC5mbi5zY3JvbGxzcHkuQ29uc3RydWN0b3I9cjtkLmZuLnNjcm9sbHNweS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGQuZm4uc2Nyb2xsc3B5PXAsdGhpc307ZCh3aW5kb3cpLm9uKCJsb2FkLmJzLnNjcm9sbHNweS5kYXRhLWFwaSIsZnVuY3Rpb24oKXtkKCdbZGF0YS1zcHk9InNjcm9sbCJdJykuZWFjaChmdW5jdGlvbigpe3ZhciBoPWQodGhpcyk7eC5jYWxsKGgsaC5kYXRhKCkpfSl9KX0oalF1ZXJ5KTsKK2Z1bmN0aW9uKGQpe2Z1bmN0aW9uIHIoaCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBwPWQodGhpcyksbj1wLmRhdGEoImJzLnRhYiIpO258fHAuZGF0YSgiYnMudGFiIixuPW5ldyB4KHRoaXMpKTsic3RyaW5nIj09dHlwZW9mIGgmJm5baF0oKX0pfXZhciB4PWZ1bmN0aW9uKGgpe3RoaXMuZWxlbWVudD1kKGgpfTt4LlZFUlNJT049IjMuMy43Ijt4LlRSQU5TSVRJT05fRFVSQVRJT049MTUwO3gucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt2YXIgaD10aGlzLmVsZW1lbnQscD1oLmNsb3Nlc3QoInVsOm5vdCguZHJvcGRvd24tbWVudSkiKSxuPWguZGF0YSgidGFyZ2V0Iik7aWYobnx8KG49aC5hdHRyKCJocmVmIiksbj1uJiZuLnJlcGxhY2UoLy4qKD89I1teXHNdKiQpLywiIikpLCFoLnBhcmVudCgibGkiKS5oYXNDbGFzcygiYWN0aXZlIikpe3ZhciByPXAuZmluZCgiLmFjdGl2ZTpsYXN0IGEiKSx4PWQuRXZlbnQoImhpZGUuYnMudGFiIix7cmVsYXRlZFRhcmdldDpoWzBdfSksCk09ZC5FdmVudCgic2hvdy5icy50YWIiLHtyZWxhdGVkVGFyZ2V0OnJbMF19KTsoci50cmlnZ2VyKHgpLGgudHJpZ2dlcihNKSxNLmlzRGVmYXVsdFByZXZlbnRlZCgpfHx4LmlzRGVmYXVsdFByZXZlbnRlZCgpKXx8KG49ZChuKSx0aGlzLmFjdGl2YXRlKGguY2xvc2VzdCgibGkiKSxwKSx0aGlzLmFjdGl2YXRlKG4sbi5wYXJlbnQoKSxmdW5jdGlvbigpe3IudHJpZ2dlcih7dHlwZToiaGlkZGVuLmJzLnRhYiIscmVsYXRlZFRhcmdldDpoWzBdfSk7aC50cmlnZ2VyKHt0eXBlOiJzaG93bi5icy50YWIiLHJlbGF0ZWRUYXJnZXQ6clswXX0pfSkpfX07eC5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oaCxwLG4pe2Z1bmN0aW9uIHIoKXtFLnJlbW92ZUNsYXNzKCJhY3RpdmUiKS5maW5kKCI+IC5kcm9wZG93bi1tZW51ID4gLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKS5lbmQoKS5maW5kKCdbZGF0YS10b2dnbGU9InRhYiJdJykuYXR0cigiYXJpYS1leHBhbmRlZCIsITEpOwpoLmFkZENsYXNzKCJhY3RpdmUiKS5maW5kKCdbZGF0YS10b2dnbGU9InRhYiJdJykuYXR0cigiYXJpYS1leHBhbmRlZCIsITApO00/KGhbMF0ub2Zmc2V0V2lkdGgsaC5hZGRDbGFzcygiaW4iKSk6aC5yZW1vdmVDbGFzcygiZmFkZSIpO2gucGFyZW50KCIuZHJvcGRvd24tbWVudSIpLmxlbmd0aCYmaC5jbG9zZXN0KCJsaS5kcm9wZG93biIpLmFkZENsYXNzKCJhY3RpdmUiKS5lbmQoKS5maW5kKCdbZGF0YS10b2dnbGU9InRhYiJdJykuYXR0cigiYXJpYS1leHBhbmRlZCIsITApO24mJm4oKX12YXIgRT1wLmZpbmQoIj4gLmFjdGl2ZSIpLE09biYmZC5zdXBwb3J0LnRyYW5zaXRpb24mJihFLmxlbmd0aCYmRS5oYXNDbGFzcygiZmFkZSIpfHwhIXAuZmluZCgiPiAuZmFkZSIpLmxlbmd0aCk7RS5sZW5ndGgmJk0/RS5vbmUoImJzVHJhbnNpdGlvbkVuZCIscikuZW11bGF0ZVRyYW5zaXRpb25FbmQoeC5UUkFOU0lUSU9OX0RVUkFUSU9OKTpyKCk7RS5yZW1vdmVDbGFzcygiaW4iKX07dmFyIHA9CmQuZm4udGFiO2QuZm4udGFiPXI7ZC5mbi50YWIuQ29uc3RydWN0b3I9eDtkLmZuLnRhYi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGQuZm4udGFiPXAsdGhpc307dmFyIGg9ZnVuY3Rpb24oaCl7aC5wcmV2ZW50RGVmYXVsdCgpO3IuY2FsbChkKHRoaXMpLCJzaG93Iil9O2QoZG9jdW1lbnQpLm9uKCJjbGljay5icy50YWIuZGF0YS1hcGkiLCdbZGF0YS10b2dnbGU9InRhYiJdJyxoKS5vbigiY2xpY2suYnMudGFiLmRhdGEtYXBpIiwnW2RhdGEtdG9nZ2xlPSJwaWxsIl0nLGgpfShqUXVlcnkpOworZnVuY3Rpb24oZCl7ZnVuY3Rpb24gcihoKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGw9ZCh0aGlzKSxwPWwuZGF0YSgiYnMuYWZmaXgiKSxuPSJvYmplY3QiPT10eXBlb2YgaCYmaDtwfHxsLmRhdGEoImJzLmFmZml4IixwPW5ldyB4KHRoaXMsbikpOyJzdHJpbmciPT10eXBlb2YgaCYmcFtoXSgpfSl9dmFyIHg9ZnVuY3Rpb24oaCxsKXt0aGlzLm9wdGlvbnM9ZC5leHRlbmQoe30seC5ERUZBVUxUUyxsKTt0aGlzLiR0YXJnZXQ9ZCh0aGlzLm9wdGlvbnMudGFyZ2V0KS5vbigic2Nyb2xsLmJzLmFmZml4LmRhdGEtYXBpIixkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbix0aGlzKSkub24oImNsaWNrLmJzLmFmZml4LmRhdGEtYXBpIixkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AsdGhpcykpO3RoaXMuJGVsZW1lbnQ9ZChoKTt0aGlzLnBpbm5lZE9mZnNldD10aGlzLnVucGluPXRoaXMuYWZmaXhlZD1udWxsO3RoaXMuY2hlY2tQb3NpdGlvbigpfTsKeC5WRVJTSU9OPSIzLjMuNyI7eC5SRVNFVD0iYWZmaXggYWZmaXgtdG9wIGFmZml4LWJvdHRvbSI7eC5ERUZBVUxUUz17b2Zmc2V0OjAsdGFyZ2V0OndpbmRvd307eC5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oZCxsLHAsbil7dmFyIHI9dGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpLHg9dGhpcy4kZWxlbWVudC5vZmZzZXQoKSxNPXRoaXMuJHRhcmdldC5oZWlnaHQoKTtpZihudWxsIT1wJiYidG9wIj09dGhpcy5hZmZpeGVkKXJldHVybiByPHAmJiJ0b3AiO2lmKCJib3R0b20iPT10aGlzLmFmZml4ZWQpcmV0dXJuIG51bGwhPXA/IShyK3RoaXMudW5waW48PXgudG9wKSYmImJvdHRvbSI6IShyK008PWQtbikmJiJib3R0b20iO3ZhciBGPW51bGw9PXRoaXMuYWZmaXhlZCx4PUY/cjp4LnRvcDtyZXR1cm4gbnVsbCE9cCYmcjw9cD8idG9wIjpudWxsIT1uJiZ4KyhGP006bCk+PWQtbiYmImJvdHRvbSJ9O3gucHJvdG90eXBlLmdldFBpbm5lZE9mZnNldD1mdW5jdGlvbigpe2lmKHRoaXMucGlubmVkT2Zmc2V0KXJldHVybiB0aGlzLnBpbm5lZE9mZnNldDsKdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh4LlJFU0VUKS5hZGRDbGFzcygiYWZmaXgiKTt2YXIgZD10aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKCk7cmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0PXRoaXMuJGVsZW1lbnQub2Zmc2V0KCkudG9wLWR9O3gucHJvdG90eXBlLmNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wPWZ1bmN0aW9uKCl7c2V0VGltZW91dChkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbix0aGlzKSwxKX07eC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMuJGVsZW1lbnQuaXMoIjp2aXNpYmxlIikpe3ZhciBoPXRoaXMuJGVsZW1lbnQuaGVpZ2h0KCksbD10aGlzLm9wdGlvbnMub2Zmc2V0LHA9bC50b3Asbj1sLmJvdHRvbSxyPU1hdGgubWF4KGQoZG9jdW1lbnQpLmhlaWdodCgpLGQoZG9jdW1lbnQuYm9keSkuaGVpZ2h0KCkpOyJvYmplY3QiIT10eXBlb2YgbCYmKG49cD1sKTsiZnVuY3Rpb24iPT10eXBlb2YgcCYmKHA9bC50b3AodGhpcy4kZWxlbWVudCkpOwoiZnVuY3Rpb24iPT10eXBlb2YgbiYmKG49bC5ib3R0b20odGhpcy4kZWxlbWVudCkpO2w9dGhpcy5nZXRTdGF0ZShyLGgscCxuKTtpZih0aGlzLmFmZml4ZWQhPWwpe251bGwhPXRoaXMudW5waW4mJnRoaXMuJGVsZW1lbnQuY3NzKCJ0b3AiLCIiKTt2YXIgcD0iYWZmaXgiKyhsPyItIitsOiIiKSxFPWQuRXZlbnQocCsiLmJzLmFmZml4Iik7aWYodGhpcy4kZWxlbWVudC50cmlnZ2VyKEUpLEUuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuO3RoaXMuYWZmaXhlZD1sO3RoaXMudW5waW49ImJvdHRvbSI9PWw/dGhpcy5nZXRQaW5uZWRPZmZzZXQoKTpudWxsO3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoeC5SRVNFVCkuYWRkQ2xhc3MocCkudHJpZ2dlcihwLnJlcGxhY2UoImFmZml4IiwiYWZmaXhlZCIpKyIuYnMuYWZmaXgiKX0iYm90dG9tIj09bCYmdGhpcy4kZWxlbWVudC5vZmZzZXQoe3RvcDpyLWgtbn0pfX07dmFyIHA9ZC5mbi5hZmZpeDtkLmZuLmFmZml4PXI7ZC5mbi5hZmZpeC5Db25zdHJ1Y3Rvcj0KeDtkLmZuLmFmZml4Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZC5mbi5hZmZpeD1wLHRoaXN9O2Qod2luZG93KS5vbigibG9hZCIsZnVuY3Rpb24oKXtkKCdbZGF0YS1zcHk9ImFmZml4Il0nKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGg9ZCh0aGlzKSxsPWguZGF0YSgpO2wub2Zmc2V0PWwub2Zmc2V0fHx7fTtudWxsIT1sLm9mZnNldEJvdHRvbSYmKGwub2Zmc2V0LmJvdHRvbT1sLm9mZnNldEJvdHRvbSk7bnVsbCE9bC5vZmZzZXRUb3AmJihsLm9mZnNldC50b3A9bC5vZmZzZXRUb3ApO3IuY2FsbChoLGwpfSl9KX0oalF1ZXJ5KTsKKGZ1bmN0aW9uKGQpe3ZhciByPSExLHg9ITEscD01RTMsaD0yRTMsbD0wLHY9ZnVuY3Rpb24oKXt2YXIgZD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IiksZD1kW2QubGVuZ3RoLTFdLnNyYy5zcGxpdCgiPyIpWzBdO3JldHVybiAwPGQuc3BsaXQoIi8iKS5sZW5ndGg/ZC5zcGxpdCgiLyIpLnNsaWNlKDAsLTEpLmpvaW4oIi8iKSsiLyI6IiJ9KCksbj1bIm1zIiwibW96Iiwid2Via2l0IiwibyJdLEE9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8ITEsRT13aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCExO2lmKCFBKWZvcih2YXIgTSBpbiBuKXt2YXIgRj1uW01dO0F8fChBPXdpbmRvd1tGKyJSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSk7RXx8KEU9d2luZG93W0YrIkNhbmNlbEFuaW1hdGlvbkZyYW1lIl18fHdpbmRvd1tGKyJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSl9dmFyIFk9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXJ8fHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHwKITEsYWE9e3ppbmRleDoiYXV0byIsY3Vyc29yb3BhY2l0eW1pbjowLGN1cnNvcm9wYWNpdHltYXg6MSxjdXJzb3Jjb2xvcjoiIzQyNDI0MiIsY3Vyc29yd2lkdGg6IjVweCIsY3Vyc29yYm9yZGVyOiIxcHggc29saWQgI2ZmZiIsY3Vyc29yYm9yZGVycmFkaXVzOiI1cHgiLHNjcm9sbHNwZWVkOjYwLG1vdXNlc2Nyb2xsc3RlcDoyNCx0b3VjaGJlaGF2aW9yOiExLGh3YWNjZWxlcmF0aW9uOiEwLHVzZXRyYW5zaXRpb246ITAsYm94em9vbTohMSxkYmxjbGlja3pvb206ITAsZ2VzdHVyZXpvb206ITAsZ3JhYmN1cnNvcmVuYWJsZWQ6ITAsYXV0b2hpZGVtb2RlOiEwLGJhY2tncm91bmQ6IiIsaWZyYW1lYXV0b3Jlc2l6ZTohMCxjdXJzb3JtaW5oZWlnaHQ6MzIscHJlc2VydmVuYXRpdmVzY3JvbGxpbmc6ITAscmFpbG9mZnNldDohMSxib3VuY2VzY3JvbGw6ITAsc3BhY2ViYXJlbmFibGVkOiEwLHJhaWxwYWRkaW5nOnt0b3A6MCxyaWdodDowLGxlZnQ6MCxib3R0b206MH0sZGlzYWJsZW91dGxpbmU6ITAsCmhvcml6cmFpbGVuYWJsZWQ6ITAscmFpbGFsaWduOiJyaWdodCIscmFpbHZhbGlnbjoiYm90dG9tIixlbmFibGV0cmFuc2xhdGUzZDohMCxlbmFibGVtb3VzZXdoZWVsOiEwLGVuYWJsZWtleWJvYXJkOiEwLHNtb290aHNjcm9sbDohMCxzZW5zaXRpdmVyYWlsOiEwLGVuYWJsZW1vdXNlbG9ja2FwaTohMCxjdXJzb3JmaXhlZGhlaWdodDohMSxkaXJlY3Rpb25sb2NrZGVhZHpvbmU6NixoaWRlY3Vyc29yZGVsYXk6NDAwLG5hdGl2ZXBhcmVudHNjcm9sbGluZzohMCxlbmFibGVzY3JvbGxvbnNlbGVjdGlvbjohMCxvdmVyZmxvd3g6ITAsb3ZlcmZsb3d5OiEwLGN1cnNvcmRyYWdzcGVlZDouMyxydGxtb2RlOiExLGN1cnNvcmRyYWdvbnRvdWNoOiExLG9uZWF4aXNtb3VzZW1vZGU6ImF1dG8ifSxSPSExLGRhPWZ1bmN0aW9uKCl7aWYoUilyZXR1cm4gUjt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKSxoPXtoYXNwb2ludGVybG9jazoicG9pbnRlckxvY2tFbGVtZW50ImluIGRvY3VtZW50fHwKIm1velBvaW50ZXJMb2NrRWxlbWVudCJpbiBkb2N1bWVudHx8IndlYmtpdFBvaW50ZXJMb2NrRWxlbWVudCJpbiBkb2N1bWVudH07aC5pc29wZXJhPSJvcGVyYSJpbiB3aW5kb3c7aC5pc29wZXJhMTI9aC5pc29wZXJhJiYiZ2V0VXNlck1lZGlhImluIG5hdmlnYXRvcjtoLmlzb3BlcmFtaW5pPSJbb2JqZWN0IE9wZXJhTWluaV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdy5vcGVyYW1pbmkpO2guaXNpZT0iYWxsImluIGRvY3VtZW50JiYiYXR0YWNoRXZlbnQiaW4gZCYmIWguaXNvcGVyYTtoLmlzaWVvbGQ9aC5pc2llJiYhKCJtc0ludGVycG9sYXRpb25Nb2RlImluIGQuc3R5bGUpO2guaXNpZTc9aC5pc2llJiYhaC5pc2llb2xkJiYoISgiZG9jdW1lbnRNb2RlImluIGRvY3VtZW50KXx8Nz09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKTtoLmlzaWU4PWguaXNpZSYmImRvY3VtZW50TW9kZSJpbiBkb2N1bWVudCYmOD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlO2guaXNpZTk9CmguaXNpZSYmInBlcmZvcm1hbmNlImluIHdpbmRvdyYmOTw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlO2guaXNpZTEwPWguaXNpZSYmInBlcmZvcm1hbmNlImluIHdpbmRvdyYmMTA8PWRvY3VtZW50LmRvY3VtZW50TW9kZTtoLmlzaWU5bW9iaWxlPS9pZW1vYmlsZS45L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtoLmlzaWU5bW9iaWxlJiYoaC5pc2llOT0hMSk7aC5pc2llN21vYmlsZT0haC5pc2llOW1vYmlsZSYmaC5pc2llNyYmL2llbW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtoLmlzbW96aWxsYT0iTW96QXBwZWFyYW5jZSJpbiBkLnN0eWxlO2guaXN3ZWJraXQ9IldlYmtpdEFwcGVhcmFuY2UiaW4gZC5zdHlsZTtoLmlzY2hyb21lPSJjaHJvbWUiaW4gd2luZG93O2guaXNjaHJvbWUyMj1oLmlzY2hyb21lJiZoLmhhc3BvaW50ZXJsb2NrO2guaXNjaHJvbWUyNj1oLmlzY2hyb21lJiYidHJhbnNpdGlvbiJpbiBkLnN0eWxlO2guY2FudG91Y2g9Im9udG91Y2hzdGFydCJpbgpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fCJvbnRvdWNoc3RhcnQiaW4gd2luZG93O2guaGFzbXN0b3VjaD13aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWR8fCExO2guaXNtYWM9L15tYWMkL2kudGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO2guaXNpb3M9aC5jYW50b3VjaCYmL2lwaG9uZXxpcGFkfGlwb2QvaS50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSk7aC5pc2lvczQ9aC5pc2lvcyYmISgic2VhbCJpbiBPYmplY3QpO2guaXNhbmRyb2lkPS9hbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtoLnRyc3R5bGU9ITE7aC5oYXN0cmFuc2Zvcm09ITE7aC5oYXN0cmFuc2xhdGUzZD0hMTtoLnRyYW5zaXRpb25zdHlsZT0hMTtoLmhhc3RyYW5zaXRpb249ITE7aC50cmFuc2l0aW9uZW5kPSExO2Zvcih2YXIgbD1bInRyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIiwid2Via2l0VHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwiT1RyYW5zZm9ybSJdLG49MDtuPGwubGVuZ3RoO24rKylpZigidW5kZWZpbmVkIiE9CnR5cGVvZiBkLnN0eWxlW2xbbl1dKXtoLnRyc3R5bGU9bFtuXTticmVha31oLmhhc3RyYW5zZm9ybT0wIT1oLnRyc3R5bGU7aC5oYXN0cmFuc2Zvcm0mJihkLnN0eWxlW2gudHJzdHlsZV09InRyYW5zbGF0ZTNkKDFweCwycHgsM3B4KSIsaC5oYXN0cmFuc2xhdGUzZD0vdHJhbnNsYXRlM2QvLnRlc3QoZC5zdHlsZVtoLnRyc3R5bGVdKSk7aC50cmFuc2l0aW9uc3R5bGU9ITE7aC5wcmVmaXhzdHlsZT0iIjtoLnRyYW5zaXRpb25lbmQ9ITE7Zm9yKHZhciBsPSJ0cmFuc2l0aW9uIHdlYmtpdFRyYW5zaXRpb24gTW96VHJhbnNpdGlvbiBPVHJhbnNpdGlvbiBPVHJhbnNpdGlvbiBtc1RyYW5zaXRpb24gS2h0bWxUcmFuc2l0aW9uIi5zcGxpdCgiICIpLHA9IiAtd2Via2l0LSAtbW96LSAtby0gLW8gLW1zLSAta2h0bWwtIi5zcGxpdCgiICIpLHI9InRyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCB0cmFuc2l0aW9uZW5kIG90cmFuc2l0aW9uZW5kIG9UcmFuc2l0aW9uRW5kIG1zVHJhbnNpdGlvbkVuZCBLaHRtbFRyYW5zaXRpb25FbmQiLnNwbGl0KCIgIiksCm49MDtuPGwubGVuZ3RoO24rKylpZihsW25daW4gZC5zdHlsZSl7aC50cmFuc2l0aW9uc3R5bGU9bFtuXTtoLnByZWZpeHN0eWxlPXBbbl07aC50cmFuc2l0aW9uZW5kPXJbbl07YnJlYWt9aC5pc2Nocm9tZTI2JiYoaC5wcmVmaXhzdHlsZT1wWzFdKTtoLmhhc3RyYW5zaXRpb249aC50cmFuc2l0aW9uc3R5bGU7YTp7bD1bIi1tb3otZ3JhYiIsIi13ZWJraXQtZ3JhYiIsImdyYWIiXTtpZihoLmlzY2hyb21lJiYhaC5pc2Nocm9tZTIyfHxoLmlzaWUpbD1bXTtmb3Iobj0wO248bC5sZW5ndGg7bisrKWlmKHA9bFtuXSxkLnN0eWxlLmN1cnNvcj1wLGQuc3R5bGUuY3Vyc29yPT1wKXtsPXA7YnJlYWsgYX1sPSJ1cmwoaHR0cDovL3d3dy5nb29nbGUuY29tL2ludGwvZW5fQUxML21hcGZpbGVzL29wZW5oYW5kLmN1ciksbi1yZXNpemUifWguY3Vyc29yZ3JhYnZhbHVlPWw7aC5oYXNtb3VzZWNhcHR1cmU9InNldENhcHR1cmUiaW4gZDtoLmhhc011dGF0aW9uT2JzZXJ2ZXI9ITEhPT1ZO3JldHVybiBSPQpofSxQPWZ1bmN0aW9uKG4scSl7ZnVuY3Rpb24gUSgpe3ZhciBkPWIud2luO2lmKCJ6SW5kZXgiaW4gZClyZXR1cm4gZC56SW5kZXgoKTtmb3IoOzA8ZC5sZW5ndGgmJjkhPWRbMF0ubm9kZVR5cGU7KXt2YXIgaD1kLmNzcygiekluZGV4Iik7aWYoIWlzTmFOKGgpJiYwIT1oKXJldHVybiBwYXJzZUludChoKTtkPWQucGFyZW50KCl9cmV0dXJuITF9ZnVuY3Rpb24gTyhkLGgsbCl7aD1kLmNzcyhoKTtkPXBhcnNlRmxvYXQoaCk7cmV0dXJuIGlzTmFOKGQpPyhkPVVbaF18fDAsbD0zPT1kP2w/Yi53aW4ub3V0ZXJIZWlnaHQoKS1iLndpbi5pbm5lckhlaWdodCgpOmIud2luLm91dGVyV2lkdGgoKS1iLndpbi5pbm5lcldpZHRoKCk6MSxiLmlzaWU4JiZkJiYoZCs9MSksbD9kOjApOmR9ZnVuY3Rpb24gRihkLGgsbCxuKXtiLl9iaW5kKGQsaCxmdW5jdGlvbihiKXtiPWI/Yjp3aW5kb3cuZXZlbnQ7dmFyIG49e29yaWdpbmFsOmIsdGFyZ2V0OmIudGFyZ2V0fHxiLnNyY0VsZW1lbnQsdHlwZToid2hlZWwiLApkZWx0YU1vZGU6Ik1vek1vdXNlUGl4ZWxTY3JvbGwiPT1iLnR5cGU/MDoxLGRlbHRhWDowLGRlbHRhWjowLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7Yi5wcmV2ZW50RGVmYXVsdD9iLnByZXZlbnREZWZhdWx0KCk6Yi5yZXR1cm5WYWx1ZT0hMTtyZXR1cm4hMX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7Yi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24/Yi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTpiLmNhbmNlbEJ1YmJsZT0hMH19OyJtb3VzZXdoZWVsIj09aD8obi5kZWx0YVk9LS4wMjUqYi53aGVlbERlbHRhLGIud2hlZWxEZWx0YVgmJihuLmRlbHRhWD0tLjAyNSpiLndoZWVsRGVsdGFYKSk6bi5kZWx0YVk9Yi5kZXRhaWw7cmV0dXJuIGwuY2FsbChkLG4pfSxuKX1mdW5jdGlvbiBNKGQsaCxsKXt2YXIgbixwOzA9PWQuZGVsdGFNb2RlPyhuPS1NYXRoLmZsb29yKGIub3B0Lm1vdXNlc2Nyb2xsc3RlcC81NCpkLmRlbHRhWCkscD0tTWF0aC5mbG9vcihiLm9wdC5tb3VzZXNjcm9sbHN0ZXAvCjU0KmQuZGVsdGFZKSk6MT09ZC5kZWx0YU1vZGUmJihuPS1NYXRoLmZsb29yKGQuZGVsdGFYKmIub3B0Lm1vdXNlc2Nyb2xsc3RlcCkscD0tTWF0aC5mbG9vcihkLmRlbHRhWSpiLm9wdC5tb3VzZXNjcm9sbHN0ZXApKTtoJiZiLm9wdC5vbmVheGlzbW91c2Vtb2RlJiYwPT1uJiZwJiYobj1wLHA9MCk7biYmKGIuc2Nyb2xsbW9tJiZiLnNjcm9sbG1vbS5zdG9wKCksYi5sYXN0ZGVsdGF4Kz1uLGIuZGVib3VuY2VkKCJtb3VzZXdoZWVseCIsZnVuY3Rpb24oKXt2YXIgZD1iLmxhc3RkZWx0YXg7Yi5sYXN0ZGVsdGF4PTA7Yi5yYWlsLmRyYWd8fGIuZG9TY3JvbGxMZWZ0QnkoZCl9LDEyMCkpO2lmKHApe2lmKGIub3B0Lm5hdGl2ZXBhcmVudHNjcm9sbGluZyYmbCYmIWIuaXNwYWdlJiYhYi56b29tYWN0aXZlKWlmKDA+cCl7aWYoYi5nZXRTY3JvbGxUb3AoKT49Yi5wYWdlLm1heGgpcmV0dXJuITB9ZWxzZSBpZigwPj1iLmdldFNjcm9sbFRvcCgpKXJldHVybiEwO2Iuc2Nyb2xsbW9tJiZiLnNjcm9sbG1vbS5zdG9wKCk7CmIubGFzdGRlbHRheSs9cDtiLmRlYm91bmNlZCgibW91c2V3aGVlbHkiLGZ1bmN0aW9uKCl7dmFyIGQ9Yi5sYXN0ZGVsdGF5O2IubGFzdGRlbHRheT0wO2IucmFpbC5kcmFnfHxiLmRvU2Nyb2xsQnkoZCl9LDEyMCl9ZC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtyZXR1cm4gZC5wcmV2ZW50RGVmYXVsdCgpfXZhciBiPXRoaXM7dGhpcy52ZXJzaW9uPSIzLjUuMCI7dGhpcy5uYW1lPSJuaWNlc2Nyb2xsIjt0aGlzLm1lPXE7dGhpcy5vcHQ9e2RvYzpkKCJib2R5Iiksd2luOiExfTtkLmV4dGVuZCh0aGlzLm9wdCxhYSk7dGhpcy5vcHQuc25hcGJhY2tzcGVlZD04MDtpZihuKWZvcih2YXIgUiBpbiBiLm9wdCkidW5kZWZpbmVkIiE9dHlwZW9mIG5bUl0mJihiLm9wdFtSXT1uW1JdKTt0aGlzLmlkZG9jPSh0aGlzLmRvYz1iLm9wdC5kb2MpJiZ0aGlzLmRvY1swXT90aGlzLmRvY1swXS5pZHx8IiI6IiI7dGhpcy5pc3BhZ2U9L0JPRFl8SFRNTC8udGVzdChiLm9wdC53aW4/Yi5vcHQud2luWzBdLm5vZGVOYW1lOgp0aGlzLmRvY1swXS5ub2RlTmFtZSk7dGhpcy5oYXN3cmFwcGVyPSExIT09Yi5vcHQud2luO3RoaXMud2luPWIub3B0Lndpbnx8KHRoaXMuaXNwYWdlP2Qod2luZG93KTp0aGlzLmRvYyk7dGhpcy5kb2NzY3JvbGw9dGhpcy5pc3BhZ2UmJiF0aGlzLmhhc3dyYXBwZXI/ZCh3aW5kb3cpOnRoaXMud2luO3RoaXMuYm9keT1kKCJib2R5Iik7dGhpcy5pZnJhbWU9dGhpcy5pc2ZpeGVkPXRoaXMudmlld3BvcnQ9ITE7dGhpcy5pc2lmcmFtZT0iSUZSQU1FIj09dGhpcy5kb2NbMF0ubm9kZU5hbWUmJiJJRlJBTUUiPT10aGlzLndpblswXS5ub2RlTmFtZTt0aGlzLmlzdGV4dGFyZWE9IlRFWFRBUkVBIj09dGhpcy53aW5bMF0ubm9kZU5hbWU7dGhpcy5mb3JjZXNjcmVlbj0hMTt0aGlzLmNhbnNob3dvbm1vdXNlZXZlbnQ9InNjcm9sbCIhPWIub3B0LmF1dG9oaWRlbW9kZTt0aGlzLnBhZ2U9dGhpcy52aWV3PXRoaXMub256b29tb3V0PXRoaXMub256b29taW49dGhpcy5vbnNjcm9sbGNhbmNlbD0KdGhpcy5vbnNjcm9sbGVuZD10aGlzLm9uc2Nyb2xsc3RhcnQ9dGhpcy5vbmNsaWNrPXRoaXMub25nZXN0dXJlem9vbT10aGlzLm9ua2V5cHJlc3M9dGhpcy5vbm1vdXNld2hlZWw9dGhpcy5vbm1vdXNlbW92ZT10aGlzLm9ubW91c2V1cD10aGlzLm9ubW91c2Vkb3duPSExO3RoaXMuc2Nyb2xsPXt4OjAseTowfTt0aGlzLnNjcm9sbHJhdGlvPXt4OjAseTowfTt0aGlzLmN1cnNvcmhlaWdodD0yMDt0aGlzLnNjcm9sbHZhbHVlbWF4PTA7dGhpcy5vYnNlcnZlcnJlbW92ZXI9dGhpcy5vYnNlcnZlcj10aGlzLnNjcm9sbG1vbT10aGlzLnNjcm9sbHJ1bm5pbmc9dGhpcy5jaGVja3J0bG1vZGU9ITE7ZG8gdGhpcy5pZD0iYXNjcmFpbCIraCsrO3doaWxlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpKTt0aGlzLmhhc21vdXNlZm9jdXM9dGhpcy5oYXNmb2N1cz10aGlzLnpvb21hY3RpdmU9dGhpcy56b29tPXRoaXMuc2VsZWN0aW9uZHJhZz10aGlzLmN1cnNvcmZyZWV6ZWQ9dGhpcy5jdXJzb3I9CnRoaXMucmFpbD0hMTt0aGlzLnZpc2liaWxpdHk9ITA7dGhpcy5oaWRkZW49dGhpcy5sb2NrZWQ9ITE7dGhpcy5jdXJzb3JhY3RpdmU9ITA7dGhpcy5vdmVyZmxvd3g9Yi5vcHQub3ZlcmZsb3d4O3RoaXMub3ZlcmZsb3d5PWIub3B0Lm92ZXJmbG93eTt0aGlzLm5hdGl2ZXNjcm9sbGluZ2FyZWE9ITE7dGhpcy5jaGVja2FyZWE9MDt0aGlzLmV2ZW50cz1bXTt0aGlzLnNhdmVkPXt9O3RoaXMuZGVsYXlsaXN0PXt9O3RoaXMuc3luY2xpc3Q9e307dGhpcy5sYXN0ZGVsdGF5PXRoaXMubGFzdGRlbHRheD0wO3RoaXMuZGV0ZWN0ZWQ9ZGEoKTt2YXIgeT1kLmV4dGVuZCh7fSx0aGlzLmRldGVjdGVkKTt0aGlzLmlzaHdzY3JvbGw9KHRoaXMuY2FuaHdzY3JvbGw9eS5oYXN0cmFuc2Zvcm0mJmIub3B0Lmh3YWNjZWxlcmF0aW9uKSYmYi5oYXN3cmFwcGVyO3RoaXMuaXN0b3VjaGNhcGFibGU9ITE7eS5jYW50b3VjaCYmeS5pc2Nocm9tZSYmIXkuaXNpb3MmJiF5LmlzYW5kcm9pZCYmKHRoaXMuaXN0b3VjaGNhcGFibGU9CiEwLHkuY2FudG91Y2g9ITEpO3kuY2FudG91Y2gmJnkuaXNtb3ppbGxhJiYheS5pc2lvcyYmIXkuaXNhbmRyb2lkJiYodGhpcy5pc3RvdWNoY2FwYWJsZT0hMCx5LmNhbnRvdWNoPSExKTtiLm9wdC5lbmFibGVtb3VzZWxvY2thcGl8fCh5Lmhhc21vdXNlY2FwdHVyZT0hMSx5Lmhhc3BvaW50ZXJsb2NrPSExKTt0aGlzLmRlbGF5ZWQ9ZnVuY3Rpb24oZCxoLGwsbil7dmFyIHA9Yi5kZWxheWxpc3RbZF0scT0obmV3IERhdGUpLmdldFRpbWUoKTtpZighbiYmcCYmcC50dClyZXR1cm4hMTtwJiZwLnR0JiZjbGVhclRpbWVvdXQocC50dCk7cCYmcC5sYXN0K2w+cSYmIXAudHQ/Yi5kZWxheWxpc3RbZF09e2xhc3Q6cStsLHR0OnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmRlbGF5bGlzdFtkXS50dD0wO2guY2FsbCgpfSxsKX06cCYmcC50dHx8KGIuZGVsYXlsaXN0W2RdPXtsYXN0OnEsdHQ6MH0sc2V0VGltZW91dChmdW5jdGlvbigpe2guY2FsbCgpfSwwKSl9O3RoaXMuZGVib3VuY2VkPWZ1bmN0aW9uKGQsCmgsbCl7dmFyIG49Yi5kZWxheWxpc3RbZF07KG5ldyBEYXRlKS5nZXRUaW1lKCk7Yi5kZWxheWxpc3RbZF09aDtufHxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGg9Yi5kZWxheWxpc3RbZF07Yi5kZWxheWxpc3RbZF09ITE7aC5jYWxsKCl9LGwpfTt0aGlzLnN5bmNoZWQ9ZnVuY3Rpb24oZCxoKXtiLnN5bmNsaXN0W2RdPWg7KGZ1bmN0aW9uKCl7Yi5vbnN5bmN8fChBKGZ1bmN0aW9uKCl7Yi5vbnN5bmM9ITE7Zm9yKGQgaW4gYi5zeW5jbGlzdCl7dmFyIGg9Yi5zeW5jbGlzdFtkXTtoJiZoLmNhbGwoYik7Yi5zeW5jbGlzdFtkXT0hMX19KSxiLm9uc3luYz0hMCl9KSgpO3JldHVybiBkfTt0aGlzLnVuc3luY2hlZD1mdW5jdGlvbihkKXtiLnN5bmNsaXN0W2RdJiYoYi5zeW5jbGlzdFtkXT0hMSl9O3RoaXMuY3NzPWZ1bmN0aW9uKGQsaCl7Zm9yKHZhciBsIGluIGgpYi5zYXZlZC5jc3MucHVzaChbZCxsLGQuY3NzKGwpXSksZC5jc3MobCxoW2xdKX07dGhpcy5zY3JvbGxUb3A9ZnVuY3Rpb24oZCl7cmV0dXJuInVuZGVmaW5lZCI9PQp0eXBlb2YgZD9iLmdldFNjcm9sbFRvcCgpOmIuc2V0U2Nyb2xsVG9wKGQpfTt0aGlzLnNjcm9sbExlZnQ9ZnVuY3Rpb24oZCl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBkP2IuZ2V0U2Nyb2xsTGVmdCgpOmIuc2V0U2Nyb2xsTGVmdChkKX07QmV6aWVyQ2xhc3M9ZnVuY3Rpb24oYixkLGgsbCxuLHAscSl7dGhpcy5zdD1iO3RoaXMuZWQ9ZDt0aGlzLnNwZD1oO3RoaXMucDE9bHx8MDt0aGlzLnAyPW58fDE7dGhpcy5wMz1wfHwwO3RoaXMucDQ9cXx8MTt0aGlzLnRzPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3RoaXMuZGY9dGhpcy5lZC10aGlzLnN0fTtCZXppZXJDbGFzcy5wcm90b3R5cGU9e0IyOmZ1bmN0aW9uKGIpe3JldHVybiAzKmIqYiooMS1iKX0sQjM6ZnVuY3Rpb24oYil7cmV0dXJuIDMqYiooMS1iKSooMS1iKX0sQjQ6ZnVuY3Rpb24oYil7cmV0dXJuKDEtYikqKDEtYikqKDEtYil9LGdldE5vdzpmdW5jdGlvbigpe3ZhciBiPTEtKChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMudHMpLwp0aGlzLnNwZCxkPXRoaXMuQjIoYikrdGhpcy5CMyhiKSt0aGlzLkI0KGIpO3JldHVybiAwPmI/dGhpcy5lZDp0aGlzLnN0K01hdGgucm91bmQodGhpcy5kZipkKX0sdXBkYXRlOmZ1bmN0aW9uKGIsZCl7dGhpcy5zdD10aGlzLmdldE5vdygpO3RoaXMuZWQ9Yjt0aGlzLnNwZD1kO3RoaXMudHM9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dGhpcy5kZj10aGlzLmVkLXRoaXMuc3Q7cmV0dXJuIHRoaXN9fTtpZih0aGlzLmlzaHdzY3JvbGwpe3RoaXMuZG9jLnRyYW5zbGF0ZT17eDowLHk6MCx0eDoiMHB4Iix0eToiMHB4In07eS5oYXN0cmFuc2xhdGUzZCYmeS5pc2lvcyYmdGhpcy5kb2MuY3NzKCItd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHkiLCJoaWRkZW4iKTt2YXIgUD1mdW5jdGlvbigpe3ZhciBkPWIuZG9jLmNzcyh5LnRyc3R5bGUpO3JldHVybiBkJiYibWF0cml4Ij09ZC5zdWJzdHIoMCw2KT9kLnJlcGxhY2UoL14uKlwoKC4qKVwpJC9nLCIkMSIpLnJlcGxhY2UoL3B4L2csIiIpLnNwbGl0KC8sICsvKToKITF9O3RoaXMuZ2V0U2Nyb2xsVG9wPWZ1bmN0aW9uKGQpe2lmKCFkKXtpZihkPVAoKSlyZXR1cm4gMTY9PWQubGVuZ3RoPy1kWzEzXTotZFs1XTtpZihiLnRpbWVyc2Nyb2xsJiZiLnRpbWVyc2Nyb2xsLmJ6KXJldHVybiBiLnRpbWVyc2Nyb2xsLmJ6LmdldE5vdygpfXJldHVybiBiLmRvYy50cmFuc2xhdGUueX07dGhpcy5nZXRTY3JvbGxMZWZ0PWZ1bmN0aW9uKGQpe2lmKCFkKXtpZihkPVAoKSlyZXR1cm4gMTY9PWQubGVuZ3RoPy1kWzEyXTotZFs0XTtpZihiLnRpbWVyc2Nyb2xsJiZiLnRpbWVyc2Nyb2xsLmJoKXJldHVybiBiLnRpbWVyc2Nyb2xsLmJoLmdldE5vdygpfXJldHVybiBiLmRvYy50cmFuc2xhdGUueH07dGhpcy5ub3RpZnlTY3JvbGxFdmVudD1kb2N1bWVudC5jcmVhdGVFdmVudD9mdW5jdGlvbihiKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFdmVudCgiVUlFdmVudHMiKTtkLmluaXRVSUV2ZW50KCJzY3JvbGwiLCExLCEwLHdpbmRvdywxKTtiLmRpc3BhdGNoRXZlbnQoZCl9Ogpkb2N1bWVudC5maXJlRXZlbnQ/ZnVuY3Rpb24oYil7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKTtiLmZpcmVFdmVudCgib25zY3JvbGwiKTtkLmNhbmNlbEJ1YmJsZT0hMH06ZnVuY3Rpb24oYixkKXt9O3kuaGFzdHJhbnNsYXRlM2QmJmIub3B0LmVuYWJsZXRyYW5zbGF0ZTNkPyh0aGlzLnNldFNjcm9sbFRvcD1mdW5jdGlvbihkLGgpe2IuZG9jLnRyYW5zbGF0ZS55PWQ7Yi5kb2MudHJhbnNsYXRlLnR5PS0xKmQrInB4IjtiLmRvYy5jc3MoeS50cnN0eWxlLCJ0cmFuc2xhdGUzZCgiK2IuZG9jLnRyYW5zbGF0ZS50eCsiLCIrYi5kb2MudHJhbnNsYXRlLnR5KyIsMHB4KSIpO2h8fGIubm90aWZ5U2Nyb2xsRXZlbnQoYi53aW5bMF0pfSx0aGlzLnNldFNjcm9sbExlZnQ9ZnVuY3Rpb24oZCxoKXtiLmRvYy50cmFuc2xhdGUueD1kO2IuZG9jLnRyYW5zbGF0ZS50eD0tMSpkKyJweCI7Yi5kb2MuY3NzKHkudHJzdHlsZSwidHJhbnNsYXRlM2QoIitiLmRvYy50cmFuc2xhdGUudHgrCiIsIitiLmRvYy50cmFuc2xhdGUudHkrIiwwcHgpIik7aHx8Yi5ub3RpZnlTY3JvbGxFdmVudChiLndpblswXSl9KToodGhpcy5zZXRTY3JvbGxUb3A9ZnVuY3Rpb24oZCxoKXtiLmRvYy50cmFuc2xhdGUueT1kO2IuZG9jLnRyYW5zbGF0ZS50eT0tMSpkKyJweCI7Yi5kb2MuY3NzKHkudHJzdHlsZSwidHJhbnNsYXRlKCIrYi5kb2MudHJhbnNsYXRlLnR4KyIsIitiLmRvYy50cmFuc2xhdGUudHkrIikiKTtofHxiLm5vdGlmeVNjcm9sbEV2ZW50KGIud2luWzBdKX0sdGhpcy5zZXRTY3JvbGxMZWZ0PWZ1bmN0aW9uKGQsaCl7Yi5kb2MudHJhbnNsYXRlLng9ZDtiLmRvYy50cmFuc2xhdGUudHg9LTEqZCsicHgiO2IuZG9jLmNzcyh5LnRyc3R5bGUsInRyYW5zbGF0ZSgiK2IuZG9jLnRyYW5zbGF0ZS50eCsiLCIrYi5kb2MudHJhbnNsYXRlLnR5KyIpIik7aHx8Yi5ub3RpZnlTY3JvbGxFdmVudChiLndpblswXSl9KX1lbHNlIHRoaXMuZ2V0U2Nyb2xsVG9wPWZ1bmN0aW9uKCl7cmV0dXJuIGIuZG9jc2Nyb2xsLnNjcm9sbFRvcCgpfSwKdGhpcy5zZXRTY3JvbGxUb3A9ZnVuY3Rpb24oZCl7cmV0dXJuIGIuZG9jc2Nyb2xsLnNjcm9sbFRvcChkKX0sdGhpcy5nZXRTY3JvbGxMZWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIGIuZG9jc2Nyb2xsLnNjcm9sbExlZnQoKX0sdGhpcy5zZXRTY3JvbGxMZWZ0PWZ1bmN0aW9uKGQpe3JldHVybiBiLmRvY3Njcm9sbC5zY3JvbGxMZWZ0KGQpfTt0aGlzLmdldFRhcmdldD1mdW5jdGlvbihiKXtyZXR1cm4gYj9iLnRhcmdldD9iLnRhcmdldDpiLnNyY0VsZW1lbnQ/Yi5zcmNFbGVtZW50OiExOiExfTt0aGlzLmhhc1BhcmVudD1mdW5jdGlvbihiLGQpe2lmKCFiKXJldHVybiExO2ZvcihiPWIudGFyZ2V0fHxiLnNyY0VsZW1lbnR8fGJ8fCExO2ImJmIuaWQhPWQ7KWI9Yi5wYXJlbnROb2RlfHwhMTtyZXR1cm4hMSE9PWJ9O3ZhciBVPXt0aGluOjEsbWVkaXVtOjMsdGhpY2s6NX07dGhpcy5nZXRPZmZzZXQ9ZnVuY3Rpb24oKXtpZihiLmlzZml4ZWQpcmV0dXJue3RvcDpwYXJzZUZsb2F0KGIud2luLmNzcygidG9wIikpLApsZWZ0OnBhcnNlRmxvYXQoYi53aW4uY3NzKCJsZWZ0IikpfTtpZighYi52aWV3cG9ydClyZXR1cm4gYi53aW4ub2Zmc2V0KCk7dmFyIGQ9Yi53aW4ub2Zmc2V0KCksaD1iLnZpZXdwb3J0Lm9mZnNldCgpO3JldHVybnt0b3A6ZC50b3AtaC50b3ArYi52aWV3cG9ydC5zY3JvbGxUb3AoKSxsZWZ0OmQubGVmdC1oLmxlZnQrYi52aWV3cG9ydC5zY3JvbGxMZWZ0KCl9fTt0aGlzLnVwZGF0ZVNjcm9sbEJhcj1mdW5jdGlvbihkKXtpZihiLmlzaHdzY3JvbGwpYi5yYWlsLmNzcyh7aGVpZ2h0OmIud2luLmlubmVySGVpZ2h0KCl9KSxiLnJhaWxoJiZiLnJhaWxoLmNzcyh7d2lkdGg6Yi53aW4uaW5uZXJXaWR0aCgpfSk7ZWxzZXt2YXIgaD1iLmdldE9mZnNldCgpLGw9aC50b3Asbj1oLmxlZnQsbD1sK08oYi53aW4sImJvcmRlci10b3Atd2lkdGgiLCEwKTtiLndpbi5vdXRlcldpZHRoKCk7Yi53aW4uaW5uZXJXaWR0aCgpO3ZhciBuPW4rKGIucmFpbC5hbGlnbj9iLndpbi5vdXRlcldpZHRoKCktCk8oYi53aW4sImJvcmRlci1yaWdodC13aWR0aCIpLWIucmFpbC53aWR0aDpPKGIud2luLCJib3JkZXItbGVmdC13aWR0aCIpKSxwPWIub3B0LnJhaWxvZmZzZXQ7cCYmKHAudG9wJiYobCs9cC50b3ApLGIucmFpbC5hbGlnbiYmcC5sZWZ0JiYobis9cC5sZWZ0KSk7Yi5sb2NrZWR8fGIucmFpbC5jc3Moe3RvcDpsLGxlZnQ6bixoZWlnaHQ6ZD9kLmg6Yi53aW4uaW5uZXJIZWlnaHQoKX0pO2Iuem9vbSYmYi56b29tLmNzcyh7dG9wOmwrMSxsZWZ0OjE9PWIucmFpbC5hbGlnbj9uLTIwOm4rYi5yYWlsLndpZHRoKzR9KTtiLnJhaWxoJiYhYi5sb2NrZWQmJihsPWgudG9wLG49aC5sZWZ0LGQ9Yi5yYWlsaC5hbGlnbj9sK08oYi53aW4sImJvcmRlci10b3Atd2lkdGgiLCEwKStiLndpbi5pbm5lckhlaWdodCgpLWIucmFpbGguaGVpZ2h0OmwrTyhiLndpbiwiYm9yZGVyLXRvcC13aWR0aCIsITApLG4rPU8oYi53aW4sImJvcmRlci1sZWZ0LXdpZHRoIiksYi5yYWlsaC5jc3Moe3RvcDpkLGxlZnQ6biwKd2lkdGg6Yi5yYWlsaC53aWR0aH0pKX19O3RoaXMuZG9SYWlsQ2xpY2s9ZnVuY3Rpb24oZCxoLGwpe3ZhciBuO2IubG9ja2VkfHwoYi5jYW5jZWxFdmVudChkKSxoPyhoPWw/Yi5kb1Njcm9sbExlZnQ6Yi5kb1Njcm9sbFRvcCxuPWw/KGQucGFnZVgtYi5yYWlsaC5vZmZzZXQoKS5sZWZ0LWIuY3Vyc29yd2lkdGgvMikqYi5zY3JvbGxyYXRpby54OihkLnBhZ2VZLWIucmFpbC5vZmZzZXQoKS50b3AtYi5jdXJzb3JoZWlnaHQvMikqYi5zY3JvbGxyYXRpby55LGgobikpOihoPWw/Yi5kb1Njcm9sbExlZnRCeTpiLmRvU2Nyb2xsQnksbj1sP2Iuc2Nyb2xsLng6Yi5zY3JvbGwueSxkPWw/ZC5wYWdlWC1iLnJhaWxoLm9mZnNldCgpLmxlZnQ6ZC5wYWdlWS1iLnJhaWwub2Zmc2V0KCkudG9wLGw9bD9iLnZpZXcudzpiLnZpZXcuaCxuPj1kP2gobCk6aCgtbCkpKX07Yi5oYXNhbmltYXRpb25mcmFtZT1BO2IuaGFzY2FuY2VsYW5pbWF0aW9uZnJhbWU9RTtiLmhhc2FuaW1hdGlvbmZyYW1lP2IuaGFzY2FuY2VsYW5pbWF0aW9uZnJhbWV8fAooRT1mdW5jdGlvbigpe2IuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ITB9KTooQT1mdW5jdGlvbihiKXtyZXR1cm4gc2V0VGltZW91dChiLDE1LU1hdGguZmxvb3IoK25ldyBEYXRlLzFFMyklMTYpfSxFPWNsZWFySW50ZXJ2YWwpO3RoaXMuaW5pdD1mdW5jdGlvbigpe2Iuc2F2ZWQuY3NzPVtdO2lmKHkuaXNpZTdtb2JpbGV8fHkuaXNvcGVyYW1pbmkpcmV0dXJuITA7eS5oYXNtc3RvdWNoJiZiLmNzcyhiLmlzcGFnZT9kKCJodG1sIik6Yi53aW4seyItbXMtdG91Y2gtYWN0aW9uIjoibm9uZSJ9KTtiLnppbmRleD0iYXV0byI7Yi56aW5kZXg9Yi5pc3BhZ2V8fCJhdXRvIiE9Yi5vcHQuemluZGV4P2Iub3B0LnppbmRleDpRKCl8fCJhdXRvIjshYi5pc3BhZ2UmJiJhdXRvIiE9Yi56aW5kZXgmJmIuemluZGV4PmwmJihsPWIuemluZGV4KTtiLmlzaWUmJjA9PWIuemluZGV4JiYiYXV0byI9PWIub3B0LnppbmRleCYmKGIuemluZGV4PSJhdXRvIik7aWYoIWIuaXNwYWdlfHwheS5jYW50b3VjaCYmCiF5LmlzaWVvbGQmJiF5LmlzaWU5bW9iaWxlKXt2YXIgaD1iLmRvY3Njcm9sbDtiLmlzcGFnZSYmKGg9Yi5oYXN3cmFwcGVyP2Iud2luOmIuZG9jKTt5LmlzaWU5bW9iaWxlfHxiLmNzcyhoLHsib3ZlcmZsb3cteSI6ImhpZGRlbiJ9KTtiLmlzcGFnZSYmeS5pc2llNyYmKCJCT0RZIj09Yi5kb2NbMF0ubm9kZU5hbWU/Yi5jc3MoZCgiaHRtbCIpLHsib3ZlcmZsb3cteSI6ImhpZGRlbiJ9KToiSFRNTCI9PWIuZG9jWzBdLm5vZGVOYW1lJiZiLmNzcyhkKCJib2R5IikseyJvdmVyZmxvdy15IjoiaGlkZGVuIn0pKTt5LmlzaW9zJiYhYi5pc3BhZ2UmJiFiLmhhc3dyYXBwZXImJmIuY3NzKGQoImJvZHkiKSx7Ii13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nIjoidG91Y2gifSk7dmFyIG49ZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7bi5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsdG9wOjAsImZsb2F0IjoicmlnaHQiLHdpZHRoOmIub3B0LmN1cnNvcndpZHRoLGhlaWdodDoiMHB4IiwKImJhY2tncm91bmQtY29sb3IiOmIub3B0LmN1cnNvcmNvbG9yLGJvcmRlcjpiLm9wdC5jdXJzb3Jib3JkZXIsImJhY2tncm91bmQtY2xpcCI6InBhZGRpbmctYm94IiwiLXdlYmtpdC1ib3JkZXItcmFkaXVzIjpiLm9wdC5jdXJzb3Jib3JkZXJyYWRpdXMsIi1tb3otYm9yZGVyLXJhZGl1cyI6Yi5vcHQuY3Vyc29yYm9yZGVycmFkaXVzLCJib3JkZXItcmFkaXVzIjpiLm9wdC5jdXJzb3Jib3JkZXJyYWRpdXN9KTtuLmhib3JkZXI9cGFyc2VGbG9hdChuLm91dGVySGVpZ2h0KCktbi5pbm5lckhlaWdodCgpKTtiLmN1cnNvcj1uO3ZhciBxPWQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpO3EuYXR0cigiaWQiLGIuaWQpO3EuYWRkQ2xhc3MoIm5pY2VzY3JvbGwtcmFpbHMiKTt2YXIgQSxFLE89WyJsZWZ0IiwicmlnaHQiXSxTO2ZvcihTIGluIE8pRT1PW1NdLChBPWIub3B0LnJhaWxwYWRkaW5nW0VdKT9xLmNzcygicGFkZGluZy0iK0UsQSsicHgiKTpiLm9wdC5yYWlscGFkZGluZ1tFXT0KMDtxLmFwcGVuZChuKTtxLndpZHRoPU1hdGgubWF4KHBhcnNlRmxvYXQoYi5vcHQuY3Vyc29yd2lkdGgpLG4ub3V0ZXJXaWR0aCgpKStiLm9wdC5yYWlscGFkZGluZy5sZWZ0K2Iub3B0LnJhaWxwYWRkaW5nLnJpZ2h0O3EuY3NzKHt3aWR0aDpxLndpZHRoKyJweCIsekluZGV4OmIuemluZGV4LGJhY2tncm91bmQ6Yi5vcHQuYmFja2dyb3VuZCxjdXJzb3I6ImRlZmF1bHQifSk7cS52aXNpYmlsaXR5PSEwO3Euc2Nyb2xsYWJsZT0hMDtxLmFsaWduPSJsZWZ0Ij09Yi5vcHQucmFpbGFsaWduPzA6MTtiLnJhaWw9cTtuPWIucmFpbC5kcmFnPSExO2Iub3B0LmJveHpvb20mJiFiLmlzcGFnZSYmIXkuaXNpZW9sZCYmKG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYi5iaW5kKG4sImNsaWNrIixiLmRvWm9vbSksYi56b29tPWQobiksYi56b29tLmNzcyh7Y3Vyc29yOiJwb2ludGVyIiwiei1pbmRleCI6Yi56aW5kZXgsYmFja2dyb3VuZEltYWdlOiJ1cmwoIit2KyJ6b29taWNvLnBuZykiLApoZWlnaHQ6MTgsd2lkdGg6MTgsYmFja2dyb3VuZFBvc2l0aW9uOiIwcHggMHB4In0pLGIub3B0LmRibGNsaWNrem9vbSYmYi5iaW5kKGIud2luLCJkYmxjbGljayIsYi5kb1pvb20pLHkuY2FudG91Y2gmJmIub3B0Lmdlc3R1cmV6b29tJiYoYi5vbmdlc3R1cmV6b29tPWZ1bmN0aW9uKGQpezEuNTxkLnNjYWxlJiZiLmRvWm9vbUluKGQpOy44PmQuc2NhbGUmJmIuZG9ab29tT3V0KGQpO3JldHVybiBiLmNhbmNlbEV2ZW50KGQpfSxiLmJpbmQoYi53aW4sImdlc3R1cmVlbmQiLGIub25nZXN0dXJlem9vbSkpKTtiLnJhaWxoPSExO2lmKGIub3B0Lmhvcml6cmFpbGVuYWJsZWQpe2IuY3NzKGgseyJvdmVyZmxvdy14IjoiaGlkZGVuIn0pO249ZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7bi5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsdG9wOjAsaGVpZ2h0OmIub3B0LmN1cnNvcndpZHRoLHdpZHRoOiIwcHgiLCJiYWNrZ3JvdW5kLWNvbG9yIjpiLm9wdC5jdXJzb3Jjb2xvciwKYm9yZGVyOmIub3B0LmN1cnNvcmJvcmRlciwiYmFja2dyb3VuZC1jbGlwIjoicGFkZGluZy1ib3giLCItd2Via2l0LWJvcmRlci1yYWRpdXMiOmIub3B0LmN1cnNvcmJvcmRlcnJhZGl1cywiLW1vei1ib3JkZXItcmFkaXVzIjpiLm9wdC5jdXJzb3Jib3JkZXJyYWRpdXMsImJvcmRlci1yYWRpdXMiOmIub3B0LmN1cnNvcmJvcmRlcnJhZGl1c30pO24ud2JvcmRlcj1wYXJzZUZsb2F0KG4ub3V0ZXJXaWR0aCgpLW4uaW5uZXJXaWR0aCgpKTtiLmN1cnNvcmg9bjt2YXIgRj1kKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKTtGLmF0dHIoImlkIixiLmlkKyItaHIiKTtGLmFkZENsYXNzKCJuaWNlc2Nyb2xsLXJhaWxzIik7Ri5oZWlnaHQ9TWF0aC5tYXgocGFyc2VGbG9hdChiLm9wdC5jdXJzb3J3aWR0aCksbi5vdXRlckhlaWdodCgpKTtGLmNzcyh7aGVpZ2h0OkYuaGVpZ2h0KyJweCIsekluZGV4OmIuemluZGV4LGJhY2tncm91bmQ6Yi5vcHQuYmFja2dyb3VuZH0pO0YuYXBwZW5kKG4pOwpGLnZpc2liaWxpdHk9ITA7Ri5zY3JvbGxhYmxlPSEwO0YuYWxpZ249InRvcCI9PWIub3B0LnJhaWx2YWxpZ24/MDoxO2IucmFpbGg9RjtiLnJhaWxoLmRyYWc9ITF9Yi5pc3BhZ2U/KHEuY3NzKHtwb3NpdGlvbjoiZml4ZWQiLHRvcDoiMHB4IixoZWlnaHQ6IjEwMCUifSkscS5hbGlnbj9xLmNzcyh7cmlnaHQ6IjBweCJ9KTpxLmNzcyh7bGVmdDoiMHB4In0pLGIuYm9keS5hcHBlbmQocSksYi5yYWlsaCYmKEYuY3NzKHtwb3NpdGlvbjoiZml4ZWQiLGxlZnQ6IjBweCIsd2lkdGg6IjEwMCUifSksRi5hbGlnbj9GLmNzcyh7Ym90dG9tOiIwcHgifSk6Ri5jc3Moe3RvcDoiMHB4In0pLGIuYm9keS5hcHBlbmQoRikpKTooYi5pc2h3c2Nyb2xsPygic3RhdGljIj09Yi53aW4uY3NzKCJwb3NpdGlvbiIpJiZiLmNzcyhiLndpbix7cG9zaXRpb246InJlbGF0aXZlIn0pLGg9IkhUTUwiPT1iLndpblswXS5ub2RlTmFtZT9iLmJvZHk6Yi53aW4sYi56b29tJiYoYi56b29tLmNzcyh7cG9zaXRpb246ImFic29sdXRlIiwKdG9wOjEscmlnaHQ6MCwibWFyZ2luLXJpZ2h0IjpxLndpZHRoKzR9KSxoLmFwcGVuZChiLnpvb20pKSxxLmNzcyh7cG9zaXRpb246ImFic29sdXRlIix0b3A6MH0pLHEuYWxpZ24/cS5jc3Moe3JpZ2h0OjB9KTpxLmNzcyh7bGVmdDowfSksaC5hcHBlbmQocSksRiYmKEYuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6MCxib3R0b206MH0pLEYuYWxpZ24/Ri5jc3Moe2JvdHRvbTowfSk6Ri5jc3Moe3RvcDowfSksaC5hcHBlbmQoRikpKTooYi5pc2ZpeGVkPSJmaXhlZCI9PWIud2luLmNzcygicG9zaXRpb24iKSxoPWIuaXNmaXhlZD8iZml4ZWQiOiJhYnNvbHV0ZSIsYi5pc2ZpeGVkfHwoYi52aWV3cG9ydD1iLmdldFZpZXdwb3J0KGIud2luWzBdKSksYi52aWV3cG9ydCYmKGIuYm9keT1iLnZpZXdwb3J0LDA9PS9maXhlZHxyZWxhdGl2ZXxhYnNvbHV0ZS8udGVzdChiLnZpZXdwb3J0LmNzcygicG9zaXRpb24iKSkmJmIuY3NzKGIudmlld3BvcnQse3Bvc2l0aW9uOiJyZWxhdGl2ZSJ9KSksCnEuY3NzKHtwb3NpdGlvbjpofSksYi56b29tJiZiLnpvb20uY3NzKHtwb3NpdGlvbjpofSksYi51cGRhdGVTY3JvbGxCYXIoKSxiLmJvZHkuYXBwZW5kKHEpLGIuem9vbSYmYi5ib2R5LmFwcGVuZChiLnpvb20pLGIucmFpbGgmJihGLmNzcyh7cG9zaXRpb246aH0pLGIuYm9keS5hcHBlbmQoRikpKSx5LmlzaW9zJiZiLmNzcyhiLndpbix7Ii13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvciI6InJnYmEoMCwwLDAsMCkiLCItd2Via2l0LXRvdWNoLWNhbGxvdXQiOiJub25lIn0pLHkuaXNpZSYmYi5vcHQuZGlzYWJsZW91dGxpbmUmJmIud2luLmF0dHIoImhpZGVGb2N1cyIsInRydWUiKSx5Lmlzd2Via2l0JiZiLm9wdC5kaXNhYmxlb3V0bGluZSYmYi53aW4uY3NzKHtvdXRsaW5lOiJub25lIn0pKTshMT09PWIub3B0LmF1dG9oaWRlbW9kZT8oYi5hdXRvaGlkZWRvbT0hMSxiLnJhaWwuY3NzKHtvcGFjaXR5OmIub3B0LmN1cnNvcm9wYWNpdHltYXh9KSxiLnJhaWxoJiZiLnJhaWxoLmNzcyh7b3BhY2l0eTpiLm9wdC5jdXJzb3JvcGFjaXR5bWF4fSkpOgohMD09PWIub3B0LmF1dG9oaWRlbW9kZXx8ImxlYXZlIj09PWIub3B0LmF1dG9oaWRlbW9kZT8oYi5hdXRvaGlkZWRvbT1kKCkuYWRkKGIucmFpbCkseS5pc2llOCYmKGIuYXV0b2hpZGVkb209Yi5hdXRvaGlkZWRvbS5hZGQoYi5jdXJzb3IpKSxiLnJhaWxoJiYoYi5hdXRvaGlkZWRvbT1iLmF1dG9oaWRlZG9tLmFkZChiLnJhaWxoKSksYi5yYWlsaCYmeS5pc2llOCYmKGIuYXV0b2hpZGVkb209Yi5hdXRvaGlkZWRvbS5hZGQoYi5jdXJzb3JoKSkpOiJzY3JvbGwiPT1iLm9wdC5hdXRvaGlkZW1vZGU/KGIuYXV0b2hpZGVkb209ZCgpLmFkZChiLnJhaWwpLGIucmFpbGgmJihiLmF1dG9oaWRlZG9tPWIuYXV0b2hpZGVkb20uYWRkKGIucmFpbGgpKSk6ImN1cnNvciI9PWIub3B0LmF1dG9oaWRlbW9kZT8oYi5hdXRvaGlkZWRvbT1kKCkuYWRkKGIuY3Vyc29yKSxiLnJhaWxoJiYoYi5hdXRvaGlkZWRvbT1iLmF1dG9oaWRlZG9tLmFkZChiLmN1cnNvcmgpKSk6ImhpZGRlbiI9PWIub3B0LmF1dG9oaWRlbW9kZSYmCihiLmF1dG9oaWRlZG9tPSExLGIuaGlkZSgpLGIubG9ja2VkPSExKTtpZih5LmlzaWU5bW9iaWxlKWIuc2Nyb2xsbW9tPW5ldyBMKGIpLGIub25tYW5nb3RvdWNoPWZ1bmN0aW9uKGQpe2Q9Yi5nZXRTY3JvbGxUb3AoKTt2YXIgaD1iLmdldFNjcm9sbExlZnQoKTtpZihkPT1iLnNjcm9sbG1vbS5sYXN0c2Nyb2xseSYmaD09Yi5zY3JvbGxtb20ubGFzdHNjcm9sbHgpcmV0dXJuITA7dmFyIG09ZC1iLm1hbmdvdG91Y2guc3ksbD1oLWIubWFuZ290b3VjaC5zeDtpZigwIT1NYXRoLnJvdW5kKE1hdGguc3FydChNYXRoLnBvdyhsLDIpK01hdGgucG93KG0sMikpKSl7dmFyIG49MD5tPy0xOjEscT0wPmw/LTE6MSxwPStuZXcgRGF0ZTtiLm1hbmdvdG91Y2gubGF6eSYmY2xlYXJUaW1lb3V0KGIubWFuZ290b3VjaC5sYXp5KTs4MDxwLWIubWFuZ290b3VjaC50bXx8Yi5tYW5nb3RvdWNoLmRyeSE9bnx8Yi5tYW5nb3RvdWNoLmRyeCE9cT8oYi5zY3JvbGxtb20uc3RvcCgpLGIuc2Nyb2xsbW9tLnJlc2V0KGgsCmQpLGIubWFuZ290b3VjaC5zeT1kLGIubWFuZ290b3VjaC5seT1kLGIubWFuZ290b3VjaC5zeD1oLGIubWFuZ290b3VjaC5seD1oLGIubWFuZ290b3VjaC5kcnk9bixiLm1hbmdvdG91Y2guZHJ4PXEsYi5tYW5nb3RvdWNoLnRtPXApOihiLnNjcm9sbG1vbS5zdG9wKCksYi5zY3JvbGxtb20udXBkYXRlKGIubWFuZ290b3VjaC5zeC1sLGIubWFuZ290b3VjaC5zeS1tKSxiLm1hbmdvdG91Y2gudG09cCxtPU1hdGgubWF4KE1hdGguYWJzKGIubWFuZ290b3VjaC5seS1kKSxNYXRoLmFicyhiLm1hbmdvdG91Y2gubHgtaCkpLGIubWFuZ290b3VjaC5seT1kLGIubWFuZ290b3VjaC5seD1oLDI8bSYmKGIubWFuZ290b3VjaC5sYXp5PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLm1hbmdvdG91Y2gubGF6eT0hMTtiLm1hbmdvdG91Y2guZHJ5PTA7Yi5tYW5nb3RvdWNoLmRyeD0wO2IubWFuZ290b3VjaC50bT0wO2Iuc2Nyb2xsbW9tLmRvTW9tZW50dW0oMzApfSwxMDApKSl9fSxxPWIuZ2V0U2Nyb2xsVG9wKCksCkY9Yi5nZXRTY3JvbGxMZWZ0KCksYi5tYW5nb3RvdWNoPXtzeTpxLGx5OnEsZHJ5OjAsc3g6RixseDpGLGRyeDowLGxhenk6ITEsdG06MH0sYi5iaW5kKGIuZG9jc2Nyb2xsLCJzY3JvbGwiLGIub25tYW5nb3RvdWNoKTtlbHNle2lmKHkuY2FudG91Y2h8fGIuaXN0b3VjaGNhcGFibGV8fGIub3B0LnRvdWNoYmVoYXZpb3J8fHkuaGFzbXN0b3VjaCl7Yi5zY3JvbGxtb209bmV3IEwoYik7Yi5vbnRvdWNoc3RhcnQ9ZnVuY3Rpb24oaCl7aWYoaC5wb2ludGVyVHlwZSYmMiE9aC5wb2ludGVyVHlwZSlyZXR1cm4hMTtpZighYi5sb2NrZWQpe2lmKHkuaGFzbXN0b3VjaClmb3IodmFyIG09aC50YXJnZXQ/aC50YXJnZXQ6ITE7bTspe3ZhciBsPWQobSkuZ2V0TmljZVNjcm9sbCgpO2lmKDA8bC5sZW5ndGgmJmxbMF0ubWU9PWIubWUpYnJlYWs7aWYoMDxsLmxlbmd0aClyZXR1cm4hMTtpZigiRElWIj09bS5ub2RlTmFtZSYmbS5pZD09Yi5pZClicmVhazttPW0ucGFyZW50Tm9kZT9tLnBhcmVudE5vZGU6CiExfWIuY2FuY2VsU2Nyb2xsKCk7aWYoKG09Yi5nZXRUYXJnZXQoaCkpJiYvSU5QVVQvaS50ZXN0KG0ubm9kZU5hbWUpJiYvcmFuZ2UvaS50ZXN0KG0udHlwZSkpcmV0dXJuIGIuc3RvcFByb3BhZ2F0aW9uKGgpOyEoImNsaWVudFgiaW4gaCkmJiJjaGFuZ2VkVG91Y2hlcyJpbiBoJiYoaC5jbGllbnRYPWguY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCxoLmNsaWVudFk9aC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZKTtiLmZvcmNlc2NyZWVuJiYobD1oLGg9e29yaWdpbmFsOmgub3JpZ2luYWw/aC5vcmlnaW5hbDpofSxoLmNsaWVudFg9bC5zY3JlZW5YLGguY2xpZW50WT1sLnNjcmVlblkpO2IucmFpbC5kcmFnPXt4OmguY2xpZW50WCx5OmguY2xpZW50WSxzeDpiLnNjcm9sbC54LHN5OmIuc2Nyb2xsLnksc3Q6Yi5nZXRTY3JvbGxUb3AoKSxzbDpiLmdldFNjcm9sbExlZnQoKSxwdDoyLGRsOiExfTtpZihiLmlzcGFnZXx8IWIub3B0LmRpcmVjdGlvbmxvY2tkZWFkem9uZSliLnJhaWwuZHJhZy5kbD0KImYiO2Vsc2V7dmFyIGw9ZCh3aW5kb3cpLndpZHRoKCksbj1kKHdpbmRvdykuaGVpZ2h0KCkscT1NYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCksbj1NYXRoLm1heCgwLE1hdGgubWF4KGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpLW4pLGw9TWF0aC5tYXgoMCxxLWwpO2IucmFpbC5kcmFnLmNrPSFiLnJhaWwuc2Nyb2xsYWJsZSYmYi5yYWlsaC5zY3JvbGxhYmxlPzA8bj8idiI6ITE6Yi5yYWlsLnNjcm9sbGFibGUmJiFiLnJhaWxoLnNjcm9sbGFibGU/MDxsPyJoIjohMTohMTtiLnJhaWwuZHJhZy5ja3x8KGIucmFpbC5kcmFnLmRsPSJmIil9Yi5vcHQudG91Y2hiZWhhdmlvciYmYi5pc2lmcmFtZSYmeS5pc2llJiYobD1iLndpbi5wb3NpdGlvbigpLGIucmFpbC5kcmFnLngrPWwubGVmdCxiLnJhaWwuZHJhZy55Kz1sLnRvcCk7Yi5oYXNtb3Zpbmc9CiExO2IubGFzdG1vdXNldXA9ITE7Yi5zY3JvbGxtb20ucmVzZXQoaC5jbGllbnRYLGguY2xpZW50WSk7aWYoIXkuY2FudG91Y2gmJiF0aGlzLmlzdG91Y2hjYXBhYmxlJiYheS5oYXNtc3RvdWNoKXtpZighbXx8IS9JTlBVVHxTRUxFQ1R8VEVYVEFSRUEvaS50ZXN0KG0ubm9kZU5hbWUpKXJldHVybiFiLmlzcGFnZSYmeS5oYXNtb3VzZWNhcHR1cmUmJm0uc2V0Q2FwdHVyZSgpLGIub3B0LnRvdWNoYmVoYXZpb3I/Yi5jYW5jZWxFdmVudChoKTpiLnN0b3BQcm9wYWdhdGlvbihoKTsvU1VCTUlUfENBTkNFTHxCVVRUT04vaS50ZXN0KGQobSkuYXR0cigidHlwZSIpKSYmKHBjPXt0ZzptLGNsaWNrOiExfSxiLnByZXZlbnRjbGljaz1wYyl9fX07Yi5vbnRvdWNoZW5kPWZ1bmN0aW9uKGQpe2lmKGQucG9pbnRlclR5cGUmJjIhPWQucG9pbnRlclR5cGUpcmV0dXJuITE7aWYoYi5yYWlsLmRyYWcmJjI9PWIucmFpbC5kcmFnLnB0JiYoYi5zY3JvbGxtb20uZG9Nb21lbnR1bSgpLGIucmFpbC5kcmFnPQohMSxiLmhhc21vdmluZyYmKGIuaGFzbW92aW5nPSExLGIubGFzdG1vdXNldXA9ITAsYi5oaWRlQ3Vyc29yKCkseS5oYXNtb3VzZWNhcHR1cmUmJmRvY3VtZW50LnJlbGVhc2VDYXB0dXJlKCksIXkuY2FudG91Y2gpKSlyZXR1cm4gYi5jYW5jZWxFdmVudChkKX07dmFyIE09Yi5vcHQudG91Y2hiZWhhdmlvciYmYi5pc2lmcmFtZSYmIXkuaGFzbW91c2VjYXB0dXJlO2Iub250b3VjaG1vdmU9ZnVuY3Rpb24oaCxtKXtpZihoLnBvaW50ZXJUeXBlJiYyIT1oLnBvaW50ZXJUeXBlKXJldHVybiExO2lmKGIucmFpbC5kcmFnJiYyPT1iLnJhaWwuZHJhZy5wdCl7aWYoeS5jYW50b3VjaCYmInVuZGVmaW5lZCI9PXR5cGVvZiBoLm9yaWdpbmFsKXJldHVybiEwO2IuaGFzbW92aW5nPSEwO2IucHJldmVudGNsaWNrJiYhYi5wcmV2ZW50Y2xpY2suY2xpY2smJihiLnByZXZlbnRjbGljay5jbGljaz1iLnByZXZlbnRjbGljay50Zy5vbmNsaWNrfHwhMSxiLnByZXZlbnRjbGljay50Zy5vbmNsaWNrPWIub25wcmV2ZW50Y2xpY2spOwpoPWQuZXh0ZW5kKHtvcmlnaW5hbDpofSxoKTsiY2hhbmdlZFRvdWNoZXMiaW4gaCYmKGguY2xpZW50WD1oLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgsaC5jbGllbnRZPWguY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WSk7aWYoYi5mb3JjZXNjcmVlbil7dmFyIGw9aDtoPXtvcmlnaW5hbDpoLm9yaWdpbmFsP2gub3JpZ2luYWw6aH07aC5jbGllbnRYPWwuc2NyZWVuWDtoLmNsaWVudFk9bC5zY3JlZW5ZfWw9b2Z5PTA7TSYmIW0mJihtPWIud2luLnBvc2l0aW9uKCksbD0tbS5sZWZ0LG9meT0tbS50b3ApO3ZhciBuPWguY2xpZW50WStvZnk7bT1uLWIucmFpbC5kcmFnLnk7dmFyIHE9aC5jbGllbnRYK2wscD1xLWIucmFpbC5kcmFnLngsdT1iLnJhaWwuZHJhZy5zdC1tO2IuaXNod3Njcm9sbCYmYi5vcHQuYm91bmNlc2Nyb2xsPzA+dT91PU1hdGgucm91bmQodS8yKTp1PmIucGFnZS5tYXhoJiYodT1iLnBhZ2UubWF4aCtNYXRoLnJvdW5kKCh1LWIucGFnZS5tYXhoKS8yKSk6KDA+dSYmCihuPXU9MCksdT5iLnBhZ2UubWF4aCYmKHU9Yi5wYWdlLm1heGgsbj0wKSk7aWYoYi5yYWlsaCYmYi5yYWlsaC5zY3JvbGxhYmxlKXt2YXIgcj1iLnJhaWwuZHJhZy5zbC1wO2IuaXNod3Njcm9sbCYmYi5vcHQuYm91bmNlc2Nyb2xsPzA+cj9yPU1hdGgucm91bmQoci8yKTpyPmIucGFnZS5tYXh3JiYocj1iLnBhZ2UubWF4dytNYXRoLnJvdW5kKChyLWIucGFnZS5tYXh3KS8yKSk6KDA+ciYmKHE9cj0wKSxyPmIucGFnZS5tYXh3JiYocj1iLnBhZ2UubWF4dyxxPTApKX1sPSExO2lmKGIucmFpbC5kcmFnLmRsKWw9ITAsInYiPT1iLnJhaWwuZHJhZy5kbD9yPWIucmFpbC5kcmFnLnNsOiJoIj09Yi5yYWlsLmRyYWcuZGwmJih1PWIucmFpbC5kcmFnLnN0KTtlbHNle209TWF0aC5hYnMobSk7dmFyIHA9TWF0aC5hYnMocCksZj1iLm9wdC5kaXJlY3Rpb25sb2NrZGVhZHpvbmU7aWYoInYiPT1iLnJhaWwuZHJhZy5jayl7aWYobT5mJiZwPD0uMyptKXJldHVybiBiLnJhaWwuZHJhZz0hMSwhMDsKcD5mJiYoYi5yYWlsLmRyYWcuZGw9ImYiLGQoImJvZHkiKS5zY3JvbGxUb3AoZCgiYm9keSIpLnNjcm9sbFRvcCgpKSl9ZWxzZSBpZigiaCI9PWIucmFpbC5kcmFnLmNrKXtpZihwPmYmJm08PS4zKnApcmV0dXJuIGIucmFpbC5kcmFnPSExLCEwO20+ZiYmKGIucmFpbC5kcmFnLmRsPSJmIixkKCJib2R5Iikuc2Nyb2xsTGVmdChkKCJib2R5Iikuc2Nyb2xsTGVmdCgpKSl9fWIuc3luY2hlZCgidG91Y2htb3ZlIixmdW5jdGlvbigpe2IucmFpbC5kcmFnJiYyPT1iLnJhaWwuZHJhZy5wdCYmKGIucHJlcGFyZVRyYW5zaXRpb24mJmIucHJlcGFyZVRyYW5zaXRpb24oMCksYi5yYWlsLnNjcm9sbGFibGUmJmIuc2V0U2Nyb2xsVG9wKHUpLGIuc2Nyb2xsbW9tLnVwZGF0ZShxLG4pLGIucmFpbGgmJmIucmFpbGguc2Nyb2xsYWJsZT8oYi5zZXRTY3JvbGxMZWZ0KHIpLGIuc2hvd0N1cnNvcih1LHIpKTpiLnNob3dDdXJzb3IodSkseS5pc2llMTAmJmRvY3VtZW50LnNlbGVjdGlvbi5jbGVhcigpKX0pOwp5LmlzY2hyb21lJiZiLmlzdG91Y2hjYXBhYmxlJiYobD0hMSk7aWYobClyZXR1cm4gYi5jYW5jZWxFdmVudChoKX19fWIub25tb3VzZWRvd249ZnVuY3Rpb24oZCxoKXtpZighYi5yYWlsLmRyYWd8fDE9PWIucmFpbC5kcmFnLnB0KXtpZihiLmxvY2tlZClyZXR1cm4gYi5jYW5jZWxFdmVudChkKTtiLmNhbmNlbFNjcm9sbCgpO2IucmFpbC5kcmFnPXt4OmQuY2xpZW50WCx5OmQuY2xpZW50WSxzeDpiLnNjcm9sbC54LHN5OmIuc2Nyb2xsLnkscHQ6MSxocjohIWh9O2g9Yi5nZXRUYXJnZXQoZCk7IWIuaXNwYWdlJiZ5Lmhhc21vdXNlY2FwdHVyZSYmaC5zZXRDYXB0dXJlKCk7Yi5pc2lmcmFtZSYmIXkuaGFzbW91c2VjYXB0dXJlJiYoYi5zYXZlZC5jc3Nwb2ludGVyZXZlbnRzPWIuZG9jLmNzcygicG9pbnRlci1ldmVudHMiKSxiLmNzcyhiLmRvYyx7InBvaW50ZXItZXZlbnRzIjoibm9uZSJ9KSk7cmV0dXJuIGIuY2FuY2VsRXZlbnQoZCl9fTtiLm9ubW91c2V1cD1mdW5jdGlvbihkKXtpZihiLnJhaWwuZHJhZyYmCih5Lmhhc21vdXNlY2FwdHVyZSYmZG9jdW1lbnQucmVsZWFzZUNhcHR1cmUoKSxiLmlzaWZyYW1lJiYheS5oYXNtb3VzZWNhcHR1cmUmJmIuZG9jLmNzcygicG9pbnRlci1ldmVudHMiLGIuc2F2ZWQuY3NzcG9pbnRlcmV2ZW50cyksMT09Yi5yYWlsLmRyYWcucHQpKXJldHVybiBiLnJhaWwuZHJhZz0hMSxiLmNhbmNlbEV2ZW50KGQpfTtiLm9ubW91c2Vtb3ZlPWZ1bmN0aW9uKGQpe2lmKGIucmFpbC5kcmFnJiYxPT1iLnJhaWwuZHJhZy5wdCl7aWYoeS5pc2Nocm9tZSYmMD09ZC53aGljaClyZXR1cm4gYi5vbm1vdXNldXAoZCk7Yi5jdXJzb3JmcmVlemVkPSEwO2lmKGIucmFpbC5kcmFnLmhyKXtiLnNjcm9sbC54PWIucmFpbC5kcmFnLnN4KyhkLmNsaWVudFgtYi5yYWlsLmRyYWcueCk7MD5iLnNjcm9sbC54JiYoYi5zY3JvbGwueD0wKTt2YXIgaD1iLnNjcm9sbHZhbHVlbWF4dztiLnNjcm9sbC54PmgmJihiLnNjcm9sbC54PWgpfWVsc2UgYi5zY3JvbGwueT1iLnJhaWwuZHJhZy5zeSsKKGQuY2xpZW50WS1iLnJhaWwuZHJhZy55KSwwPmIuc2Nyb2xsLnkmJihiLnNjcm9sbC55PTApLGg9Yi5zY3JvbGx2YWx1ZW1heCxiLnNjcm9sbC55PmgmJihiLnNjcm9sbC55PWgpO2Iuc3luY2hlZCgibW91c2Vtb3ZlIixmdW5jdGlvbigpe2IucmFpbC5kcmFnJiYxPT1iLnJhaWwuZHJhZy5wdCYmKGIuc2hvd0N1cnNvcigpLGIucmFpbC5kcmFnLmhyP2IuZG9TY3JvbGxMZWZ0KE1hdGgucm91bmQoYi5zY3JvbGwueCpiLnNjcm9sbHJhdGlvLngpLGIub3B0LmN1cnNvcmRyYWdzcGVlZCk6Yi5kb1Njcm9sbFRvcChNYXRoLnJvdW5kKGIuc2Nyb2xsLnkqYi5zY3JvbGxyYXRpby55KSxiLm9wdC5jdXJzb3JkcmFnc3BlZWQpKX0pO3JldHVybiBiLmNhbmNlbEV2ZW50KGQpfX07aWYoeS5jYW50b3VjaHx8Yi5vcHQudG91Y2hiZWhhdmlvciliLm9ucHJldmVudGNsaWNrPWZ1bmN0aW9uKGQpe2lmKGIucHJldmVudGNsaWNrKXJldHVybiBiLnByZXZlbnRjbGljay50Zy5vbmNsaWNrPWIucHJldmVudGNsaWNrLmNsaWNrLApiLnByZXZlbnRjbGljaz0hMSxiLmNhbmNlbEV2ZW50KGQpfSxiLmJpbmQoYi53aW4sIm1vdXNlZG93biIsYi5vbnRvdWNoc3RhcnQpLGIub25jbGljaz15LmlzaW9zPyExOmZ1bmN0aW9uKGQpe3JldHVybiBiLmxhc3Rtb3VzZXVwPyhiLmxhc3Rtb3VzZXVwPSExLGIuY2FuY2VsRXZlbnQoZCkpOiEwfSxiLm9wdC5ncmFiY3Vyc29yZW5hYmxlZCYmeS5jdXJzb3JncmFidmFsdWUmJihiLmNzcyhiLmlzcGFnZT9iLmRvYzpiLndpbix7Y3Vyc29yOnkuY3Vyc29yZ3JhYnZhbHVlfSksYi5jc3MoYi5yYWlsLHtjdXJzb3I6eS5jdXJzb3JncmFidmFsdWV9KSk7ZWxzZXt2YXIgUj1mdW5jdGlvbihkKXtpZihiLnNlbGVjdGlvbmRyYWcpe2lmKGQpe3ZhciBoPWIud2luLm91dGVySGVpZ2h0KCk7ZD1kLnBhZ2VZLWIuc2VsZWN0aW9uZHJhZy50b3A7MDxkJiZkPGgmJihkPTApO2Q+PWgmJihkLT1oKTtiLnNlbGVjdGlvbmRyYWcuZGY9ZH0wIT1iLnNlbGVjdGlvbmRyYWcuZGYmJihiLmRvU2Nyb2xsQnkoMioKLU1hdGguZmxvb3IoYi5zZWxlY3Rpb25kcmFnLmRmLzYpKSxiLmRlYm91bmNlZCgiZG9zZWxlY3Rpb25zY3JvbGwiLGZ1bmN0aW9uKCl7UigpfSw1MCkpfX07Yi5oYXNUZXh0U2VsZWN0ZWQ9ImdldFNlbGVjdGlvbiJpbiBkb2N1bWVudD9mdW5jdGlvbigpe3JldHVybiAwPGRvY3VtZW50LmdldFNlbGVjdGlvbigpLnJhbmdlQ291bnR9OiJzZWxlY3Rpb24iaW4gZG9jdW1lbnQ/ZnVuY3Rpb24oKXtyZXR1cm4iTm9uZSIhPWRvY3VtZW50LnNlbGVjdGlvbi50eXBlfTpmdW5jdGlvbigpe3JldHVybiExfTtiLm9uc2VsZWN0aW9uc3RhcnQ9ZnVuY3Rpb24oZCl7Yi5pc3BhZ2V8fChiLnNlbGVjdGlvbmRyYWc9Yi53aW4ub2Zmc2V0KCkpfTtiLm9uc2VsZWN0aW9uZW5kPWZ1bmN0aW9uKGQpe2Iuc2VsZWN0aW9uZHJhZz0hMX07Yi5vbnNlbGVjdGlvbmRyYWc9ZnVuY3Rpb24oZCl7Yi5zZWxlY3Rpb25kcmFnJiZiLmhhc1RleHRTZWxlY3RlZCgpJiZiLmRlYm91bmNlZCgic2VsZWN0aW9uc2Nyb2xsIiwKZnVuY3Rpb24oKXtSKGQpfSwyNTApfX15Lmhhc21zdG91Y2gmJihiLmNzcyhiLnJhaWwseyItbXMtdG91Y2gtYWN0aW9uIjoibm9uZSJ9KSxiLmNzcyhiLmN1cnNvcix7Ii1tcy10b3VjaC1hY3Rpb24iOiJub25lIn0pLGIuYmluZChiLndpbiwiTVNQb2ludGVyRG93biIsYi5vbnRvdWNoc3RhcnQpLGIuYmluZChkb2N1bWVudCwiTVNQb2ludGVyVXAiLGIub250b3VjaGVuZCksYi5iaW5kKGRvY3VtZW50LCJNU1BvaW50ZXJNb3ZlIixiLm9udG91Y2htb3ZlKSxiLmJpbmQoYi5jdXJzb3IsIk1TR2VzdHVyZUhvbGQiLGZ1bmN0aW9uKGIpe2IucHJldmVudERlZmF1bHQoKX0pLGIuYmluZChiLmN1cnNvciwiY29udGV4dG1lbnUiLGZ1bmN0aW9uKGIpe2IucHJldmVudERlZmF1bHQoKX0pKTt0aGlzLmlzdG91Y2hjYXBhYmxlJiYoYi5iaW5kKGIud2luLCJ0b3VjaHN0YXJ0IixiLm9udG91Y2hzdGFydCksYi5iaW5kKGRvY3VtZW50LCJ0b3VjaGVuZCIsYi5vbnRvdWNoZW5kKSxiLmJpbmQoZG9jdW1lbnQsCiJ0b3VjaGNhbmNlbCIsYi5vbnRvdWNoZW5kKSxiLmJpbmQoZG9jdW1lbnQsInRvdWNobW92ZSIsYi5vbnRvdWNobW92ZSkpO2IuYmluZChiLmN1cnNvciwibW91c2Vkb3duIixiLm9ubW91c2Vkb3duKTtiLmJpbmQoYi5jdXJzb3IsIm1vdXNldXAiLGIub25tb3VzZXVwKTtiLnJhaWxoJiYoYi5iaW5kKGIuY3Vyc29yaCwibW91c2Vkb3duIixmdW5jdGlvbihkKXtiLm9ubW91c2Vkb3duKGQsITApfSksYi5iaW5kKGIuY3Vyc29yaCwibW91c2V1cCIsZnVuY3Rpb24oZCl7aWYoIWIucmFpbC5kcmFnfHwyIT1iLnJhaWwuZHJhZy5wdClyZXR1cm4gYi5yYWlsLmRyYWc9ITEsYi5oYXNtb3Zpbmc9ITEsYi5oaWRlQ3Vyc29yKCkseS5oYXNtb3VzZWNhcHR1cmUmJmRvY3VtZW50LnJlbGVhc2VDYXB0dXJlKCksYi5jYW5jZWxFdmVudChkKX0pKTtpZihiLm9wdC5jdXJzb3JkcmFnb250b3VjaHx8IXkuY2FudG91Y2gmJiFiLm9wdC50b3VjaGJlaGF2aW9yKWIucmFpbC5jc3Moe2N1cnNvcjoiZGVmYXVsdCJ9KSwKYi5yYWlsaCYmYi5yYWlsaC5jc3Moe2N1cnNvcjoiZGVmYXVsdCJ9KSxiLmpxYmluZChiLnJhaWwsIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7Yi5jYW5zaG93b25tb3VzZWV2ZW50JiZiLnNob3dDdXJzb3IoKTtiLnJhaWwuYWN0aXZlPSEwfSksYi5qcWJpbmQoYi5yYWlsLCJtb3VzZWxlYXZlIixmdW5jdGlvbigpe2IucmFpbC5hY3RpdmU9ITE7Yi5yYWlsLmRyYWd8fGIuaGlkZUN1cnNvcigpfSksYi5vcHQuc2Vuc2l0aXZlcmFpbCYmKGIuYmluZChiLnJhaWwsImNsaWNrIixmdW5jdGlvbihkKXtiLmRvUmFpbENsaWNrKGQsITEsITEpfSksYi5iaW5kKGIucmFpbCwiZGJsY2xpY2siLGZ1bmN0aW9uKGQpe2IuZG9SYWlsQ2xpY2soZCwhMCwhMSl9KSxiLmJpbmQoYi5jdXJzb3IsImNsaWNrIixmdW5jdGlvbihkKXtiLmNhbmNlbEV2ZW50KGQpfSksYi5iaW5kKGIuY3Vyc29yLCJkYmxjbGljayIsZnVuY3Rpb24oZCl7Yi5jYW5jZWxFdmVudChkKX0pKSxiLnJhaWxoJiYoYi5qcWJpbmQoYi5yYWlsaCwKIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7Yi5jYW5zaG93b25tb3VzZWV2ZW50JiZiLnNob3dDdXJzb3IoKTtiLnJhaWwuYWN0aXZlPSEwfSksYi5qcWJpbmQoYi5yYWlsaCwibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXtiLnJhaWwuYWN0aXZlPSExO2IucmFpbC5kcmFnfHxiLmhpZGVDdXJzb3IoKX0pLGIub3B0LnNlbnNpdGl2ZXJhaWwmJihiLmJpbmQoYi5yYWlsaCwiY2xpY2siLGZ1bmN0aW9uKGQpe2IuZG9SYWlsQ2xpY2soZCwhMSwhMCl9KSxiLmJpbmQoYi5yYWlsaCwiZGJsY2xpY2siLGZ1bmN0aW9uKGQpe2IuZG9SYWlsQ2xpY2soZCwhMCwhMCl9KSxiLmJpbmQoYi5jdXJzb3JoLCJjbGljayIsZnVuY3Rpb24oZCl7Yi5jYW5jZWxFdmVudChkKX0pLGIuYmluZChiLmN1cnNvcmgsImRibGNsaWNrIixmdW5jdGlvbihkKXtiLmNhbmNlbEV2ZW50KGQpfSkpKTt5LmNhbnRvdWNofHxiLm9wdC50b3VjaGJlaGF2aW9yPyhiLmJpbmQoeS5oYXNtb3VzZWNhcHR1cmU/Yi53aW46ZG9jdW1lbnQsCiJtb3VzZXVwIixiLm9udG91Y2hlbmQpLGIuYmluZChkb2N1bWVudCwibW91c2Vtb3ZlIixiLm9udG91Y2htb3ZlKSxiLm9uY2xpY2smJmIuYmluZChkb2N1bWVudCwiY2xpY2siLGIub25jbGljayksYi5vcHQuY3Vyc29yZHJhZ29udG91Y2gmJihiLmJpbmQoYi5jdXJzb3IsIm1vdXNlZG93biIsYi5vbm1vdXNlZG93biksYi5iaW5kKGIuY3Vyc29yLCJtb3VzZW1vdmUiLGIub25tb3VzZW1vdmUpLGIuY3Vyc29yaCYmYi5iaW5kKGIuY3Vyc29yaCwibW91c2Vkb3duIixmdW5jdGlvbihkKXtiLm9ubW91c2Vkb3duKGQsITApfSksYi5jdXJzb3JoJiZiLmJpbmQoYi5jdXJzb3JoLCJtb3VzZW1vdmUiLGIub25tb3VzZW1vdmUpKSk6KGIuYmluZCh5Lmhhc21vdXNlY2FwdHVyZT9iLndpbjpkb2N1bWVudCwibW91c2V1cCIsYi5vbm1vdXNldXApLGIuYmluZChkb2N1bWVudCwibW91c2Vtb3ZlIixiLm9ubW91c2Vtb3ZlKSxiLm9uY2xpY2smJmIuYmluZChkb2N1bWVudCwiY2xpY2siLGIub25jbGljayksCiFiLmlzcGFnZSYmYi5vcHQuZW5hYmxlc2Nyb2xsb25zZWxlY3Rpb24mJihiLmJpbmQoYi53aW5bMF0sIm1vdXNlZG93biIsYi5vbnNlbGVjdGlvbnN0YXJ0KSxiLmJpbmQoZG9jdW1lbnQsIm1vdXNldXAiLGIub25zZWxlY3Rpb25lbmQpLGIuYmluZChiLmN1cnNvciwibW91c2V1cCIsYi5vbnNlbGVjdGlvbmVuZCksYi5jdXJzb3JoJiZiLmJpbmQoYi5jdXJzb3JoLCJtb3VzZXVwIixiLm9uc2VsZWN0aW9uZW5kKSxiLmJpbmQoZG9jdW1lbnQsIm1vdXNlbW92ZSIsYi5vbnNlbGVjdGlvbmRyYWcpKSxiLnpvb20mJihiLmpxYmluZChiLnpvb20sIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7Yi5jYW5zaG93b25tb3VzZWV2ZW50JiZiLnNob3dDdXJzb3IoKTtiLnJhaWwuYWN0aXZlPSEwfSksYi5qcWJpbmQoYi56b29tLCJtb3VzZWxlYXZlIixmdW5jdGlvbigpe2IucmFpbC5hY3RpdmU9ITE7Yi5yYWlsLmRyYWd8fGIuaGlkZUN1cnNvcigpfSkpKTtiLm9wdC5lbmFibGVtb3VzZXdoZWVsJiYKKGIuaXNpZnJhbWV8fGIuYmluZCh5LmlzaWUmJmIuaXNwYWdlP2RvY3VtZW50OmIud2luLCJtb3VzZXdoZWVsIixiLm9ubW91c2V3aGVlbCksYi5iaW5kKGIucmFpbCwibW91c2V3aGVlbCIsYi5vbm1vdXNld2hlZWwpLGIucmFpbGgmJmIuYmluZChiLnJhaWxoLCJtb3VzZXdoZWVsIixiLm9ubW91c2V3aGVlbGhyKSk7Yi5pc3BhZ2V8fHkuY2FudG91Y2h8fC9IVE1MfEJPRFkvLnRlc3QoYi53aW5bMF0ubm9kZU5hbWUpfHwoYi53aW4uYXR0cigidGFiaW5kZXgiKXx8Yi53aW4uYXR0cih7dGFiaW5kZXg6cCsrfSksYi5qcWJpbmQoYi53aW4sImZvY3VzIixmdW5jdGlvbihkKXtyPWIuZ2V0VGFyZ2V0KGQpLmlkfHwhMDtiLmhhc2ZvY3VzPSEwO2IuY2Fuc2hvd29ubW91c2VldmVudCYmYi5ub3RpY2VDdXJzb3IoKX0pLGIuanFiaW5kKGIud2luLCJibHVyIixmdW5jdGlvbihkKXtyPSExO2IuaGFzZm9jdXM9ITF9KSxiLmpxYmluZChiLndpbiwibW91c2VlbnRlciIsZnVuY3Rpb24oZCl7eD0KYi5nZXRUYXJnZXQoZCkuaWR8fCEwO2IuaGFzbW91c2Vmb2N1cz0hMDtiLmNhbnNob3dvbm1vdXNlZXZlbnQmJmIubm90aWNlQ3Vyc29yKCl9KSxiLmpxYmluZChiLndpbiwibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXt4PSExO2IuaGFzbW91c2Vmb2N1cz0hMTtiLnJhaWwuZHJhZ3x8Yi5oaWRlQ3Vyc29yKCl9KSl9Yi5vbmtleXByZXNzPWZ1bmN0aW9uKGQpe2lmKGIubG9ja2VkJiYwPT1iLnBhZ2UubWF4aClyZXR1cm4hMDtkPWQ/ZDp3aW5kb3cuZTt2YXIgaD1iLmdldFRhcmdldChkKTtpZihoJiYvSU5QVVR8VEVYVEFSRUF8U0VMRUNUfE9QVElPTi8udGVzdChoLm5vZGVOYW1lKSYmKCFoLmdldEF0dHJpYnV0ZSgidHlwZSIpJiYhaC50eXBlfHwhL3N1Ym1pdHxidXR0b258Y2FuY2VsL2kudHApKXJldHVybiEwO2lmKGIuaGFzZm9jdXN8fGIuaGFzbW91c2Vmb2N1cyYmIXJ8fGIuaXNwYWdlJiYhciYmIXgpe2g9ZC5rZXlDb2RlO2lmKGIubG9ja2VkJiYyNyE9aClyZXR1cm4gYi5jYW5jZWxFdmVudChkKTsKdmFyIG09ZC5jdHJsS2V5fHwhMSxsPWQuc2hpZnRLZXl8fCExLG49ITE7c3dpdGNoKGgpe2Nhc2UgMzg6Y2FzZSA2MzIzMzpiLmRvU2Nyb2xsQnkoNzIpO249ITA7YnJlYWs7Y2FzZSA0MDpjYXNlIDYzMjM1OmIuZG9TY3JvbGxCeSgtNzIpO249ITA7YnJlYWs7Y2FzZSAzNzpjYXNlIDYzMjMyOmIucmFpbGgmJihtP2IuZG9TY3JvbGxMZWZ0KDApOmIuZG9TY3JvbGxMZWZ0QnkoNzIpLG49ITApO2JyZWFrO2Nhc2UgMzk6Y2FzZSA2MzIzNDpiLnJhaWxoJiYobT9iLmRvU2Nyb2xsTGVmdChiLnBhZ2UubWF4dyk6Yi5kb1Njcm9sbExlZnRCeSgtNzIpLG49ITApO2JyZWFrO2Nhc2UgMzM6Y2FzZSA2MzI3NjpiLmRvU2Nyb2xsQnkoYi52aWV3LmgpO249ITA7YnJlYWs7Y2FzZSAzNDpjYXNlIDYzMjc3OmIuZG9TY3JvbGxCeSgtYi52aWV3LmgpO249ITA7YnJlYWs7Y2FzZSAzNjpjYXNlIDYzMjczOmIucmFpbGgmJm0/Yi5kb1Njcm9sbFBvcygwLDApOmIuZG9TY3JvbGxUbygwKTtuPSEwO2JyZWFrOwpjYXNlIDM1OmNhc2UgNjMyNzU6Yi5yYWlsaCYmbT9iLmRvU2Nyb2xsUG9zKGIucGFnZS5tYXh3LGIucGFnZS5tYXhoKTpiLmRvU2Nyb2xsVG8oYi5wYWdlLm1heGgpO249ITA7YnJlYWs7Y2FzZSAzMjpiLm9wdC5zcGFjZWJhcmVuYWJsZWQmJihsP2IuZG9TY3JvbGxCeShiLnZpZXcuaCk6Yi5kb1Njcm9sbEJ5KC1iLnZpZXcuaCksbj0hMCk7YnJlYWs7Y2FzZSAyNzpiLnpvb21hY3RpdmUmJihiLmRvWm9vbSgpLG49ITApfWlmKG4pcmV0dXJuIGIuY2FuY2VsRXZlbnQoZCl9fTtiLm9wdC5lbmFibGVrZXlib2FyZCYmYi5iaW5kKGRvY3VtZW50LHkuaXNvcGVyYSYmIXkuaXNvcGVyYTEyPyJrZXlwcmVzcyI6ImtleWRvd24iLGIub25rZXlwcmVzcyk7Yi5iaW5kKHdpbmRvdywicmVzaXplIixiLmxhenlSZXNpemUpO2IuYmluZCh3aW5kb3csIm9yaWVudGF0aW9uY2hhbmdlIixiLmxhenlSZXNpemUpO2IuYmluZCh3aW5kb3csImxvYWQiLGIubGF6eVJlc2l6ZSk7aWYoeS5pc2Nocm9tZSYmCiFiLmlzcGFnZSYmIWIuaGFzd3JhcHBlcil7dmFyIFo9Yi53aW4uYXR0cigic3R5bGUiKSxxPXBhcnNlRmxvYXQoYi53aW4uY3NzKCJ3aWR0aCIpKSsxO2Iud2luLmNzcygid2lkdGgiLHEpO2Iuc3luY2hlZCgiY2hyb21lZml4IixmdW5jdGlvbigpe2Iud2luLmF0dHIoInN0eWxlIixaKX0pfWIub25BdHRyaWJ1dGVDaGFuZ2U9ZnVuY3Rpb24oZCl7Yi5sYXp5UmVzaXplKDI1MCl9OyFiLmlzcGFnZSYmIWIuaGFzd3JhcHBlciYmKCExIT09WT8oYi5vYnNlcnZlcj1uZXcgWShmdW5jdGlvbihkKXtkLmZvckVhY2goYi5vbkF0dHJpYnV0ZUNoYW5nZSl9KSxiLm9ic2VydmVyLm9ic2VydmUoYi53aW5bMF0se2NoaWxkTGlzdDohMCxjaGFyYWN0ZXJEYXRhOiExLGF0dHJpYnV0ZXM6ITAsc3VidHJlZTohMX0pLGIub2JzZXJ2ZXJyZW1vdmVyPW5ldyBZKGZ1bmN0aW9uKGQpe2QuZm9yRWFjaChmdW5jdGlvbihkKXtpZigwPGQucmVtb3ZlZE5vZGVzLmxlbmd0aClmb3IodmFyIGggaW4gZC5yZW1vdmVkTm9kZXMpaWYoZC5yZW1vdmVkTm9kZXNbaF09PQpiLndpblswXSlyZXR1cm4gYi5yZW1vdmUoKX0pfSksYi5vYnNlcnZlcnJlbW92ZXIub2JzZXJ2ZShiLndpblswXS5wYXJlbnROb2RlLHtjaGlsZExpc3Q6ITAsY2hhcmFjdGVyRGF0YTohMSxhdHRyaWJ1dGVzOiExLHN1YnRyZWU6ITF9KSk6KGIuYmluZChiLndpbix5LmlzaWUmJiF5LmlzaWU5PyJwcm9wZXJ0eWNoYW5nZSI6IkRPTUF0dHJNb2RpZmllZCIsYi5vbkF0dHJpYnV0ZUNoYW5nZSkseS5pc2llOSYmYi53aW5bMF0uYXR0YWNoRXZlbnQoIm9ucHJvcGVydHljaGFuZ2UiLGIub25BdHRyaWJ1dGVDaGFuZ2UpLGIuYmluZChiLndpbiwiRE9NTm9kZVJlbW92ZWQiLGZ1bmN0aW9uKGQpe2QudGFyZ2V0PT1iLndpblswXSYmYi5yZW1vdmUoKX0pKSk7IWIuaXNwYWdlJiZiLm9wdC5ib3h6b29tJiZiLmJpbmQod2luZG93LCJyZXNpemUiLGIucmVzaXplWm9vbSk7Yi5pc3RleHRhcmVhJiZiLmJpbmQoYi53aW4sIm1vdXNldXAiLGIubGF6eVJlc2l6ZSk7Yi5jaGVja3J0bG1vZGU9ITA7CmIubGF6eVJlc2l6ZSgzMCl9aWYoIklGUkFNRSI9PXRoaXMuZG9jWzBdLm5vZGVOYW1lKXt2YXIgUD1mdW5jdGlvbihoKXtiLmlmcmFtZXhkPSExO3RyeXt2YXIgbT0iY29udGVudERvY3VtZW50ImluIHRoaXM/dGhpcy5jb250ZW50RG9jdW1lbnQ6dGhpcy5jb250ZW50V2luZG93LmRvY3VtZW50fWNhdGNoKGwpe2IuaWZyYW1leGQ9ITAsbT0hMX1pZihiLmlmcmFtZXhkKXJldHVybiJjb25zb2xlImluIHdpbmRvdyYmY29uc29sZS5sb2coIk5pY2VTY3JvbGwgZXJyb3I6IHBvbGljeSByZXN0cmljZWQgaWZyYW1lIiksITA7Yi5mb3JjZXNjcmVlbj0hMDtiLmlzaWZyYW1lJiYoYi5pZnJhbWU9e2RvYzpkKG0pLGh0bWw6Yi5kb2MuY29udGVudHMoKS5maW5kKCJodG1sIilbMF0sYm9keTpiLmRvYy5jb250ZW50cygpLmZpbmQoImJvZHkiKVswXX0sYi5nZXRDb250ZW50U2l6ZT1mdW5jdGlvbigpe3JldHVybnt3Ok1hdGgubWF4KGIuaWZyYW1lLmh0bWwuc2Nyb2xsV2lkdGgsYi5pZnJhbWUuYm9keS5zY3JvbGxXaWR0aCksCmg6TWF0aC5tYXgoYi5pZnJhbWUuaHRtbC5zY3JvbGxIZWlnaHQsYi5pZnJhbWUuYm9keS5zY3JvbGxIZWlnaHQpfX0sYi5kb2NzY3JvbGw9ZChiLmlmcmFtZS5ib2R5KSk7IXkuaXNpb3MmJmIub3B0LmlmcmFtZWF1dG9yZXNpemUmJiFiLmlzaWZyYW1lJiYoYi53aW4uc2Nyb2xsVG9wKDApLGIuZG9jLmhlaWdodCgiIiksaD1NYXRoLm1heChtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJodG1sIilbMF0uc2Nyb2xsSGVpZ2h0LG0uYm9keS5zY3JvbGxIZWlnaHQpLGIuZG9jLmhlaWdodChoKSk7Yi5sYXp5UmVzaXplKDMwKTt5LmlzaWU3JiZiLmNzcyhkKGIuaWZyYW1lLmh0bWwpLHsib3ZlcmZsb3cteSI6ImhpZGRlbiJ9KTtiLmNzcyhkKGIuaWZyYW1lLmJvZHkpLHsib3ZlcmZsb3cteSI6ImhpZGRlbiJ9KTt5LmlzaW9zJiZiLmhhc3dyYXBwZXImJmIuY3NzKGQobS5ib2R5KSx7Ii13ZWJraXQtdHJhbnNmb3JtIjoidHJhbnNsYXRlM2QoMCwwLDApIn0pOyJjb250ZW50V2luZG93ImluIHRoaXM/CmIuYmluZCh0aGlzLmNvbnRlbnRXaW5kb3csInNjcm9sbCIsYi5vbnNjcm9sbCk6Yi5iaW5kKG0sInNjcm9sbCIsYi5vbnNjcm9sbCk7Yi5vcHQuZW5hYmxlbW91c2V3aGVlbCYmYi5iaW5kKG0sIm1vdXNld2hlZWwiLGIub25tb3VzZXdoZWVsKTtiLm9wdC5lbmFibGVrZXlib2FyZCYmYi5iaW5kKG0seS5pc29wZXJhPyJrZXlwcmVzcyI6ImtleWRvd24iLGIub25rZXlwcmVzcyk7aWYoeS5jYW50b3VjaHx8Yi5vcHQudG91Y2hiZWhhdmlvciliLmJpbmQobSwibW91c2Vkb3duIixiLm9udG91Y2hzdGFydCksYi5iaW5kKG0sIm1vdXNlbW92ZSIsZnVuY3Rpb24oZCl7Yi5vbnRvdWNobW92ZShkLCEwKX0pLGIub3B0LmdyYWJjdXJzb3JlbmFibGVkJiZ5LmN1cnNvcmdyYWJ2YWx1ZSYmYi5jc3MoZChtLmJvZHkpLHtjdXJzb3I6eS5jdXJzb3JncmFidmFsdWV9KTtiLmJpbmQobSwibW91c2V1cCIsYi5vbnRvdWNoZW5kKTtiLnpvb20mJihiLm9wdC5kYmxjbGlja3pvb20mJmIuYmluZChtLAoiZGJsY2xpY2siLGIuZG9ab29tKSxiLm9uZ2VzdHVyZXpvb20mJmIuYmluZChtLCJnZXN0dXJlZW5kIixiLm9uZ2VzdHVyZXpvb20pKX07dGhpcy5kb2NbMF0ucmVhZHlTdGF0ZSYmImNvbXBsZXRlIj09dGhpcy5kb2NbMF0ucmVhZHlTdGF0ZSYmc2V0VGltZW91dChmdW5jdGlvbigpe1AuY2FsbChiLmRvY1swXSwhMSl9LDUwMCk7Yi5iaW5kKHRoaXMuZG9jLCJsb2FkIixQKX19O3RoaXMuc2hvd0N1cnNvcj1mdW5jdGlvbihkLGgpe2IuY3Vyc29ydGltZW91dCYmKGNsZWFyVGltZW91dChiLmN1cnNvcnRpbWVvdXQpLGIuY3Vyc29ydGltZW91dD0wKTtiLnJhaWwmJihiLmF1dG9oaWRlZG9tJiYoYi5hdXRvaGlkZWRvbS5zdG9wKCkuY3NzKHtvcGFjaXR5OmIub3B0LmN1cnNvcm9wYWNpdHltYXh9KSxiLmN1cnNvcmFjdGl2ZT0hMCksYi5yYWlsLmRyYWcmJjE9PWIucmFpbC5kcmFnLnB0fHwoInVuZGVmaW5lZCIhPXR5cGVvZiBkJiYhMSE9PWQmJihiLnNjcm9sbC55PU1hdGgucm91bmQoMSoKZC9iLnNjcm9sbHJhdGlvLnkpKSwidW5kZWZpbmVkIiE9dHlwZW9mIGgmJihiLnNjcm9sbC54PU1hdGgucm91bmQoMSpoL2Iuc2Nyb2xscmF0aW8ueCkpKSxiLmN1cnNvci5jc3Moe2hlaWdodDpiLmN1cnNvcmhlaWdodCx0b3A6Yi5zY3JvbGwueX0pLGIuY3Vyc29yaCYmKCFiLnJhaWwuYWxpZ24mJmIucmFpbC52aXNpYmlsaXR5P2IuY3Vyc29yaC5jc3Moe3dpZHRoOmIuY3Vyc29yd2lkdGgsbGVmdDpiLnNjcm9sbC54K2IucmFpbC53aWR0aH0pOmIuY3Vyc29yaC5jc3Moe3dpZHRoOmIuY3Vyc29yd2lkdGgsbGVmdDpiLnNjcm9sbC54fSksYi5jdXJzb3JhY3RpdmU9ITApLGIuem9vbSYmYi56b29tLnN0b3AoKS5jc3Moe29wYWNpdHk6Yi5vcHQuY3Vyc29yb3BhY2l0eW1heH0pKX07dGhpcy5oaWRlQ3Vyc29yPWZ1bmN0aW9uKGQpe2IuY3Vyc29ydGltZW91dHx8IWIucmFpbHx8IWIuYXV0b2hpZGVkb218fGIuaGFzbW91c2Vmb2N1cyYmImxlYXZlIj09Yi5vcHQuYXV0b2hpZGVtb2RlfHwKKGIuY3Vyc29ydGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5yYWlsLmFjdGl2ZSYmYi5zaG93b25tb3VzZWV2ZW50fHwoYi5hdXRvaGlkZWRvbS5zdG9wKCkuYW5pbWF0ZSh7b3BhY2l0eTpiLm9wdC5jdXJzb3JvcGFjaXR5bWlufSksYi56b29tJiZiLnpvb20uc3RvcCgpLmFuaW1hdGUoe29wYWNpdHk6Yi5vcHQuY3Vyc29yb3BhY2l0eW1pbn0pLGIuY3Vyc29yYWN0aXZlPSExKTtiLmN1cnNvcnRpbWVvdXQ9MH0sZHx8Yi5vcHQuaGlkZWN1cnNvcmRlbGF5KSl9O3RoaXMubm90aWNlQ3Vyc29yPWZ1bmN0aW9uKGQsaCxsKXtiLnNob3dDdXJzb3IoaCxsKTtiLnJhaWwuYWN0aXZlfHxiLmhpZGVDdXJzb3IoZCl9O3RoaXMuZ2V0Q29udGVudFNpemU9Yi5pc3BhZ2U/ZnVuY3Rpb24oKXtyZXR1cm57dzpNYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aCksaDpNYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCwKZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCl9fTpiLmhhc3dyYXBwZXI/ZnVuY3Rpb24oKXtyZXR1cm57dzpiLmRvYy5vdXRlcldpZHRoKCkrcGFyc2VJbnQoYi53aW4uY3NzKCJwYWRkaW5nTGVmdCIpKStwYXJzZUludChiLndpbi5jc3MoInBhZGRpbmdSaWdodCIpKSxoOmIuZG9jLm91dGVySGVpZ2h0KCkrcGFyc2VJbnQoYi53aW4uY3NzKCJwYWRkaW5nVG9wIikpK3BhcnNlSW50KGIud2luLmNzcygicGFkZGluZ0JvdHRvbSIpKX19OmZ1bmN0aW9uKCl7cmV0dXJue3c6Yi5kb2NzY3JvbGxbMF0uc2Nyb2xsV2lkdGgsaDpiLmRvY3Njcm9sbFswXS5zY3JvbGxIZWlnaHR9fTt0aGlzLm9uUmVzaXplPWZ1bmN0aW9uKGQsaCl7aWYoIWIud2luKXJldHVybiExO2lmKCFiLmhhc3dyYXBwZXImJiFiLmlzcGFnZSl7aWYoIm5vbmUiPT1iLndpbi5jc3MoImRpc3BsYXkiKSlyZXR1cm4gYi52aXNpYmlsaXR5JiZiLmhpZGVSYWlsKCkuaGlkZVJhaWxIcigpLCExO2IuaGlkZGVufHwKYi52aXNpYmlsaXR5fHxiLnNob3dSYWlsKCkuc2hvd1JhaWxIcigpfWQ9Yi5wYWdlLm1heGg7dmFyIGw9Yi5wYWdlLm1heHcsbj1iLnZpZXcudztiLnZpZXc9e3c6Yi5pc3BhZ2U/Yi53aW4ud2lkdGgoKTpwYXJzZUludChiLndpblswXS5jbGllbnRXaWR0aCksaDpiLmlzcGFnZT9iLndpbi5oZWlnaHQoKTpwYXJzZUludChiLndpblswXS5jbGllbnRIZWlnaHQpfTtiLnBhZ2U9aD9oOmIuZ2V0Q29udGVudFNpemUoKTtiLnBhZ2UubWF4aD1NYXRoLm1heCgwLGIucGFnZS5oLWIudmlldy5oKTtiLnBhZ2UubWF4dz1NYXRoLm1heCgwLGIucGFnZS53LWIudmlldy53KTtpZihiLnBhZ2UubWF4aD09ZCYmYi5wYWdlLm1heHc9PWwmJmIudmlldy53PT1uKXtpZihiLmlzcGFnZSlyZXR1cm4gYjtkPWIud2luLm9mZnNldCgpO2lmKGIubGFzdHBvc2l0aW9uJiYobD1iLmxhc3Rwb3NpdGlvbixsLnRvcD09ZC50b3AmJmwubGVmdD09ZC5sZWZ0KSlyZXR1cm4gYjtiLmxhc3Rwb3NpdGlvbj1kfTA9PQpiLnBhZ2UubWF4aD8oYi5oaWRlUmFpbCgpLGIuc2Nyb2xsdmFsdWVtYXg9MCxiLnNjcm9sbC55PTAsYi5zY3JvbGxyYXRpby55PTAsYi5jdXJzb3JoZWlnaHQ9MCxiLnNldFNjcm9sbFRvcCgwKSxiLnJhaWwuc2Nyb2xsYWJsZT0hMSk6Yi5yYWlsLnNjcm9sbGFibGU9ITA7MD09Yi5wYWdlLm1heHc/KGIuaGlkZVJhaWxIcigpLGIuc2Nyb2xsdmFsdWVtYXh3PTAsYi5zY3JvbGwueD0wLGIuc2Nyb2xscmF0aW8ueD0wLGIuY3Vyc29yd2lkdGg9MCxiLnNldFNjcm9sbExlZnQoMCksYi5yYWlsaC5zY3JvbGxhYmxlPSExKTpiLnJhaWxoLnNjcm9sbGFibGU9ITA7Yi5sb2NrZWQ9MD09Yi5wYWdlLm1heGgmJjA9PWIucGFnZS5tYXh3O2lmKGIubG9ja2VkKXJldHVybiBiLmlzcGFnZXx8Yi51cGRhdGVTY3JvbGxCYXIoYi52aWV3KSwhMTtiLmhpZGRlbnx8Yi52aXNpYmlsaXR5PyFiLmhpZGRlbiYmIWIucmFpbGgudmlzaWJpbGl0eSYmYi5zaG93UmFpbEhyKCk6Yi5zaG93UmFpbCgpLnNob3dSYWlsSHIoKTsKYi5pc3RleHRhcmVhJiZiLndpbi5jc3MoInJlc2l6ZSIpJiYibm9uZSIhPWIud2luLmNzcygicmVzaXplIikmJihiLnZpZXcuaC09MjApO2IuY3Vyc29yaGVpZ2h0PU1hdGgubWluKGIudmlldy5oLE1hdGgucm91bmQoYi52aWV3LmgvYi5wYWdlLmgqYi52aWV3LmgpKTtiLmN1cnNvcmhlaWdodD1iLm9wdC5jdXJzb3JmaXhlZGhlaWdodD9iLm9wdC5jdXJzb3JmaXhlZGhlaWdodDpNYXRoLm1heChiLm9wdC5jdXJzb3JtaW5oZWlnaHQsYi5jdXJzb3JoZWlnaHQpO2IuY3Vyc29yd2lkdGg9TWF0aC5taW4oYi52aWV3LncsTWF0aC5yb3VuZChiLnZpZXcudy9iLnBhZ2UudypiLnZpZXcudykpO2IuY3Vyc29yd2lkdGg9Yi5vcHQuY3Vyc29yZml4ZWRoZWlnaHQ/Yi5vcHQuY3Vyc29yZml4ZWRoZWlnaHQ6TWF0aC5tYXgoYi5vcHQuY3Vyc29ybWluaGVpZ2h0LGIuY3Vyc29yd2lkdGgpO2Iuc2Nyb2xsdmFsdWVtYXg9Yi52aWV3LmgtYi5jdXJzb3JoZWlnaHQtYi5jdXJzb3IuaGJvcmRlcjtiLnJhaWxoJiYKKGIucmFpbGgud2lkdGg9MDxiLnBhZ2UubWF4aD9iLnZpZXcudy1iLnJhaWwud2lkdGg6Yi52aWV3LncsYi5zY3JvbGx2YWx1ZW1heHc9Yi5yYWlsaC53aWR0aC1iLmN1cnNvcndpZHRoLWIuY3Vyc29yaC53Ym9yZGVyKTtiLmNoZWNrcnRsbW9kZSYmYi5yYWlsaCYmKGIuY2hlY2tydGxtb2RlPSExLGIub3B0LnJ0bG1vZGUmJjA9PWIuc2Nyb2xsLngmJmIuc2V0U2Nyb2xsTGVmdChiLnBhZ2UubWF4dykpO2IuaXNwYWdlfHxiLnVwZGF0ZVNjcm9sbEJhcihiLnZpZXcpO2Iuc2Nyb2xscmF0aW89e3g6Yi5wYWdlLm1heHcvYi5zY3JvbGx2YWx1ZW1heHcseTpiLnBhZ2UubWF4aC9iLnNjcm9sbHZhbHVlbWF4fTtiLmdldFNjcm9sbFRvcCgpPmIucGFnZS5tYXhoP2IuZG9TY3JvbGxUb3AoYi5wYWdlLm1heGgpOihiLnNjcm9sbC55PU1hdGgucm91bmQoYi5nZXRTY3JvbGxUb3AoKSooMS9iLnNjcm9sbHJhdGlvLnkpKSxiLnNjcm9sbC54PU1hdGgucm91bmQoYi5nZXRTY3JvbGxMZWZ0KCkqCigxL2Iuc2Nyb2xscmF0aW8ueCkpLGIuY3Vyc29yYWN0aXZlJiZiLm5vdGljZUN1cnNvcigpKTtiLnNjcm9sbC55JiYwPT1iLmdldFNjcm9sbFRvcCgpJiZiLmRvU2Nyb2xsVG8oTWF0aC5mbG9vcihiLnNjcm9sbC55KmIuc2Nyb2xscmF0aW8ueSkpO3JldHVybiBifTt0aGlzLnJlc2l6ZT1iLm9uUmVzaXplO3RoaXMubGF6eVJlc2l6ZT1mdW5jdGlvbihkKXtkPWlzTmFOKGQpPzMwOmQ7Yi5kZWxheWVkKCJyZXNpemUiLGIucmVzaXplLGQpO3JldHVybiBifTt0aGlzLl9iaW5kPWZ1bmN0aW9uKGQsaCxsLG4pe2IuZXZlbnRzLnB1c2goe2U6ZCxuOmgsZjpsLGI6bixxOiExfSk7ZC5hZGRFdmVudExpc3RlbmVyP2QuYWRkRXZlbnRMaXN0ZW5lcihoLGwsbnx8ITEpOmQuYXR0YWNoRXZlbnQ/ZC5hdHRhY2hFdmVudCgib24iK2gsbCk6ZFsib24iK2hdPWx9O3RoaXMuanFiaW5kPWZ1bmN0aW9uKGgsbCxuKXtiLmV2ZW50cy5wdXNoKHtlOmgsbjpsLGY6bixxOiEwfSk7ZChoKS5iaW5kKGwsbil9Owp0aGlzLmJpbmQ9ZnVuY3Rpb24oZCxoLGwsbil7dmFyIHE9ImpxdWVyeSJpbiBkP2RbMF06ZDsibW91c2V3aGVlbCI9PWg/Im9ud2hlZWwiaW4gYi53aW4/Yi5fYmluZChxLCJ3aGVlbCIsbCxufHwhMSk6KGQ9InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudC5vbm1vdXNld2hlZWw/Im1vdXNld2hlZWwiOiJET01Nb3VzZVNjcm9sbCIsRihxLGQsbCxufHwhMSksIkRPTU1vdXNlU2Nyb2xsIj09ZCYmRihxLCJNb3pNb3VzZVBpeGVsU2Nyb2xsIixsLG58fCExKSk6cS5hZGRFdmVudExpc3RlbmVyPyh5LmNhbnRvdWNoJiYvbW91c2V1cHxtb3VzZWRvd258bW91c2Vtb3ZlLy50ZXN0KGgpJiZiLl9iaW5kKHEsIm1vdXNlZG93biI9PWg/InRvdWNoc3RhcnQiOiJtb3VzZXVwIj09aD8idG91Y2hlbmQiOiJ0b3VjaG1vdmUiLGZ1bmN0aW9uKGIpe2lmKGIudG91Y2hlcyl7aWYoMj5iLnRvdWNoZXMubGVuZ3RoKXt2YXIgZD1iLnRvdWNoZXMubGVuZ3RoP2IudG91Y2hlc1swXTpiO2Qub3JpZ2luYWw9CmI7bC5jYWxsKHRoaXMsZCl9fWVsc2UgYi5jaGFuZ2VkVG91Y2hlcyYmKGQ9Yi5jaGFuZ2VkVG91Y2hlc1swXSxkLm9yaWdpbmFsPWIsbC5jYWxsKHRoaXMsZCkpfSxufHwhMSksYi5fYmluZChxLGgsbCxufHwhMSkseS5jYW50b3VjaCYmIm1vdXNldXAiPT1oJiZiLl9iaW5kKHEsInRvdWNoY2FuY2VsIixsLG58fCExKSk6Yi5fYmluZChxLGgsZnVuY3Rpb24oZCl7KGQ9ZHx8d2luZG93LmV2ZW50fHwhMSkmJmQuc3JjRWxlbWVudCYmKGQudGFyZ2V0PWQuc3JjRWxlbWVudCk7InBhZ2VZImluIGR8fChkLnBhZ2VYPWQuY2xpZW50WCtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCxkLnBhZ2VZPWQuY2xpZW50WStkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKTtyZXR1cm4hMT09PWwuY2FsbChxLGQpfHwhMT09PW4/Yi5jYW5jZWxFdmVudChkKTohMH0pfTt0aGlzLl91bmJpbmQ9ZnVuY3Rpb24oYixkLGgsbCl7Yi5yZW1vdmVFdmVudExpc3RlbmVyP2IucmVtb3ZlRXZlbnRMaXN0ZW5lcihkLApoLGwpOmIuZGV0YWNoRXZlbnQ/Yi5kZXRhY2hFdmVudCgib24iK2QsaCk6Ylsib24iK2RdPSExfTt0aGlzLnVuYmluZEFsbD1mdW5jdGlvbigpe2Zvcih2YXIgZD0wO2Q8Yi5ldmVudHMubGVuZ3RoO2QrKyl7dmFyIGg9Yi5ldmVudHNbZF07aC5xP2guZS51bmJpbmQoaC5uLGguZik6Yi5fdW5iaW5kKGguZSxoLm4saC5mLGguYil9fTt0aGlzLmNhbmNlbEV2ZW50PWZ1bmN0aW9uKGIpe2I9Yi5vcmlnaW5hbD9iLm9yaWdpbmFsOmI/Yjp3aW5kb3cuZXZlbnR8fCExO2lmKCFiKXJldHVybiExO2IucHJldmVudERlZmF1bHQmJmIucHJldmVudERlZmF1bHQoKTtiLnN0b3BQcm9wYWdhdGlvbiYmYi5zdG9wUHJvcGFnYXRpb24oKTtiLnByZXZlbnRNYW5pcHVsYXRpb24mJmIucHJldmVudE1hbmlwdWxhdGlvbigpO2IuY2FuY2VsQnViYmxlPSEwO2IuY2FuY2VsPSEwO3JldHVybiBiLnJldHVyblZhbHVlPSExfTt0aGlzLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbihiKXtiPWIub3JpZ2luYWw/CmIub3JpZ2luYWw6Yj9iOndpbmRvdy5ldmVudHx8ITE7aWYoIWIpcmV0dXJuITE7aWYoYi5zdG9wUHJvcGFnYXRpb24pcmV0dXJuIGIuc3RvcFByb3BhZ2F0aW9uKCk7Yi5jYW5jZWxCdWJibGUmJihiLmNhbmNlbEJ1YmJsZT0hMCk7cmV0dXJuITF9O3RoaXMuc2hvd1JhaWw9ZnVuY3Rpb24oKXswPT1iLnBhZ2UubWF4aHx8IWIuaXNwYWdlJiYibm9uZSI9PWIud2luLmNzcygiZGlzcGxheSIpfHwoYi52aXNpYmlsaXR5PSEwLGIucmFpbC52aXNpYmlsaXR5PSEwLGIucmFpbC5jc3MoImRpc3BsYXkiLCJibG9jayIpKTtyZXR1cm4gYn07dGhpcy5zaG93UmFpbEhyPWZ1bmN0aW9uKCl7aWYoIWIucmFpbGgpcmV0dXJuIGI7MD09Yi5wYWdlLm1heHd8fCFiLmlzcGFnZSYmIm5vbmUiPT1iLndpbi5jc3MoImRpc3BsYXkiKXx8KGIucmFpbGgudmlzaWJpbGl0eT0hMCxiLnJhaWxoLmNzcygiZGlzcGxheSIsImJsb2NrIikpO3JldHVybiBifTt0aGlzLmhpZGVSYWlsPWZ1bmN0aW9uKCl7Yi52aXNpYmlsaXR5PQohMTtiLnJhaWwudmlzaWJpbGl0eT0hMTtiLnJhaWwuY3NzKCJkaXNwbGF5Iiwibm9uZSIpO3JldHVybiBifTt0aGlzLmhpZGVSYWlsSHI9ZnVuY3Rpb24oKXtpZighYi5yYWlsaClyZXR1cm4gYjtiLnJhaWxoLnZpc2liaWxpdHk9ITE7Yi5yYWlsaC5jc3MoImRpc3BsYXkiLCJub25lIik7cmV0dXJuIGJ9O3RoaXMuc2hvdz1mdW5jdGlvbigpe2IuaGlkZGVuPSExO2IubG9ja2VkPSExO3JldHVybiBiLnNob3dSYWlsKCkuc2hvd1JhaWxIcigpfTt0aGlzLmhpZGU9ZnVuY3Rpb24oKXtiLmhpZGRlbj0hMDtiLmxvY2tlZD0hMDtyZXR1cm4gYi5oaWRlUmFpbCgpLmhpZGVSYWlsSHIoKX07dGhpcy50b2dnbGU9ZnVuY3Rpb24oKXtyZXR1cm4gYi5oaWRkZW4/Yi5zaG93KCk6Yi5oaWRlKCl9O3RoaXMucmVtb3ZlPWZ1bmN0aW9uKCl7Yi5zdG9wKCk7Yi5jdXJzb3J0aW1lb3V0JiZjbGVhclRpbWVvdXQoYi5jdXJzb3J0aW1lb3V0KTtiLmRvWm9vbU91dCgpO2IudW5iaW5kQWxsKCk7eS5pc2llOSYmCmIud2luWzBdLmRldGFjaEV2ZW50KCJvbnByb3BlcnR5Y2hhbmdlIixiLm9uQXR0cmlidXRlQ2hhbmdlKTshMSE9PWIub2JzZXJ2ZXImJmIub2JzZXJ2ZXIuZGlzY29ubmVjdCgpOyExIT09Yi5vYnNlcnZlcnJlbW92ZXImJmIub2JzZXJ2ZXJyZW1vdmVyLmRpc2Nvbm5lY3QoKTtiLmV2ZW50cz1udWxsO2IuY3Vyc29yJiZiLmN1cnNvci5yZW1vdmUoKTtiLmN1cnNvcmgmJmIuY3Vyc29yaC5yZW1vdmUoKTtiLnJhaWwmJmIucmFpbC5yZW1vdmUoKTtiLnJhaWxoJiZiLnJhaWxoLnJlbW92ZSgpO2Iuem9vbSYmYi56b29tLnJlbW92ZSgpO2Zvcih2YXIgaD0wO2g8Yi5zYXZlZC5jc3MubGVuZ3RoO2grKyl7dmFyIGw9Yi5zYXZlZC5jc3NbaF07bFswXS5jc3MobFsxXSwidW5kZWZpbmVkIj09dHlwZW9mIGxbMl0/IiI6bFsyXSl9Yi5zYXZlZD0hMTtiLm1lLmRhdGEoIl9fbmljZXNjcm9sbCIsIiIpO3ZhciBuPWQubmljZXNjcm9sbDtuLmVhY2goZnVuY3Rpb24oZCl7aWYodGhpcyYmdGhpcy5pZD09PQpiLmlkKXtkZWxldGUgbltkXTtmb3IodmFyIGg9KytkO2g8bi5sZW5ndGg7aCsrLGQrKyluW2RdPW5baF07bi5sZW5ndGgtLTtuLmxlbmd0aCYmZGVsZXRlIG5bbi5sZW5ndGhdfX0pO2Zvcih2YXIgcSBpbiBiKWJbcV09bnVsbCxkZWxldGUgYltxXTtiPW51bGx9O3RoaXMuc2Nyb2xsc3RhcnQ9ZnVuY3Rpb24oZCl7dGhpcy5vbnNjcm9sbHN0YXJ0PWQ7cmV0dXJuIGJ9O3RoaXMuc2Nyb2xsZW5kPWZ1bmN0aW9uKGQpe3RoaXMub25zY3JvbGxlbmQ9ZDtyZXR1cm4gYn07dGhpcy5zY3JvbGxjYW5jZWw9ZnVuY3Rpb24oZCl7dGhpcy5vbnNjcm9sbGNhbmNlbD1kO3JldHVybiBifTt0aGlzLnpvb21pbj1mdW5jdGlvbihkKXt0aGlzLm9uem9vbWluPWQ7cmV0dXJuIGJ9O3RoaXMuem9vbW91dD1mdW5jdGlvbihkKXt0aGlzLm9uem9vbW91dD1kO3JldHVybiBifTt0aGlzLmlzU2Nyb2xsYWJsZT1mdW5jdGlvbihiKXtiPWIudGFyZ2V0P2IudGFyZ2V0OmI7aWYoIk9QVElPTiI9PWIubm9kZU5hbWUpcmV0dXJuITA7CmZvcig7YiYmMT09Yi5ub2RlVHlwZSYmIS9CT0RZfEhUTUwvLnRlc3QoYi5ub2RlTmFtZSk7KXt2YXIgaD1kKGIpLGg9aC5jc3MoIm92ZXJmbG93WSIpfHxoLmNzcygib3ZlcmZsb3dYIil8fGguY3NzKCJvdmVyZmxvdyIpfHwiIjtpZigvc2Nyb2xsfGF1dG8vLnRlc3QoaCkpcmV0dXJuIGIuY2xpZW50SGVpZ2h0IT1iLnNjcm9sbEhlaWdodDtiPWIucGFyZW50Tm9kZT9iLnBhcmVudE5vZGU6ITF9cmV0dXJuITF9O3RoaXMuZ2V0Vmlld3BvcnQ9ZnVuY3Rpb24oYil7Zm9yKGI9YiYmYi5wYXJlbnROb2RlP2IucGFyZW50Tm9kZTohMTtiJiYxPT1iLm5vZGVUeXBlJiYhL0JPRFl8SFRNTC8udGVzdChiLm5vZGVOYW1lKTspe3ZhciBoPWQoYik7aWYoL2ZpeGVkfGFic29sdXRlLy50ZXN0KGguY3NzKCJwb3NpdGlvbiIpKSlyZXR1cm4gaDt2YXIgbD1oLmNzcygib3ZlcmZsb3dZIil8fGguY3NzKCJvdmVyZmxvd1giKXx8aC5jc3MoIm92ZXJmbG93Iil8fCIiO2lmKC9zY3JvbGx8YXV0by8udGVzdChsKSYmCmIuY2xpZW50SGVpZ2h0IT1iLnNjcm9sbEhlaWdodHx8MDxoLmdldE5pY2VTY3JvbGwoKS5sZW5ndGgpcmV0dXJuIGg7Yj1iLnBhcmVudE5vZGU/Yi5wYXJlbnROb2RlOiExfXJldHVybiExfTt0aGlzLm9ubW91c2V3aGVlbD1mdW5jdGlvbihkKXtpZihiLmxvY2tlZClyZXR1cm4gYi5kZWJvdW5jZWQoImNoZWNrdW5sb2NrIixiLnJlc2l6ZSwyNTApLCEwO2lmKGIucmFpbC5kcmFnKXJldHVybiBiLmNhbmNlbEV2ZW50KGQpOyJhdXRvIj09Yi5vcHQub25lYXhpc21vdXNlbW9kZSYmMCE9ZC5kZWx0YVgmJihiLm9wdC5vbmVheGlzbW91c2Vtb2RlPSExKTtpZihiLm9wdC5vbmVheGlzbW91c2Vtb2RlJiYwPT1kLmRlbHRhWCYmIWIucmFpbC5zY3JvbGxhYmxlKXJldHVybiBiLnJhaWxoJiZiLnJhaWxoLnNjcm9sbGFibGU/Yi5vbm1vdXNld2hlZWxocihkKTohMDt2YXIgaD0rbmV3IERhdGUsbD0hMTtiLm9wdC5wcmVzZXJ2ZW5hdGl2ZXNjcm9sbGluZyYmYi5jaGVja2FyZWErNjAwPGgmJgooYi5uYXRpdmVzY3JvbGxpbmdhcmVhPWIuaXNTY3JvbGxhYmxlKGQpLGw9ITApO2IuY2hlY2thcmVhPWg7aWYoYi5uYXRpdmVzY3JvbGxpbmdhcmVhKXJldHVybiEwO2lmKGQ9TShkLCExLGwpKWIuY2hlY2thcmVhPTA7cmV0dXJuIGR9O3RoaXMub25tb3VzZXdoZWVsaHI9ZnVuY3Rpb24oZCl7aWYoYi5sb2NrZWR8fCFiLnJhaWxoLnNjcm9sbGFibGUpcmV0dXJuITA7aWYoYi5yYWlsLmRyYWcpcmV0dXJuIGIuY2FuY2VsRXZlbnQoZCk7dmFyIGg9K25ldyBEYXRlLGw9ITE7Yi5vcHQucHJlc2VydmVuYXRpdmVzY3JvbGxpbmcmJmIuY2hlY2thcmVhKzYwMDxoJiYoYi5uYXRpdmVzY3JvbGxpbmdhcmVhPWIuaXNTY3JvbGxhYmxlKGQpLGw9ITApO2IuY2hlY2thcmVhPWg7cmV0dXJuIGIubmF0aXZlc2Nyb2xsaW5nYXJlYT8hMDpiLmxvY2tlZD9iLmNhbmNlbEV2ZW50KGQpOk0oZCwhMCxsKX07dGhpcy5zdG9wPWZ1bmN0aW9uKCl7Yi5jYW5jZWxTY3JvbGwoKTtiLnNjcm9sbG1vbiYmYi5zY3JvbGxtb24uc3RvcCgpOwpiLmN1cnNvcmZyZWV6ZWQ9ITE7Yi5zY3JvbGwueT1NYXRoLnJvdW5kKGIuZ2V0U2Nyb2xsVG9wKCkqKDEvYi5zY3JvbGxyYXRpby55KSk7Yi5ub3RpY2VDdXJzb3IoKTtyZXR1cm4gYn07dGhpcy5nZXRUcmFuc2l0aW9uU3BlZWQ9ZnVuY3Rpb24oZCl7ZD1NYXRoLm1pbihNYXRoLnJvdW5kKDEwKmIub3B0LnNjcm9sbHNwZWVkKSxNYXRoLnJvdW5kKGQvMjAqYi5vcHQuc2Nyb2xsc3BlZWQpKTtyZXR1cm4gMjA8ZD9kOjB9O2Iub3B0LnNtb290aHNjcm9sbD9iLmlzaHdzY3JvbGwmJnkuaGFzdHJhbnNpdGlvbiYmYi5vcHQudXNldHJhbnNpdGlvbj8odGhpcy5wcmVwYXJlVHJhbnNpdGlvbj1mdW5jdGlvbihkLGgpe2g9KGQ9aD8yMDxkP2Q6MDpiLmdldFRyYW5zaXRpb25TcGVlZChkKSk/eS5wcmVmaXhzdHlsZSsidHJhbnNmb3JtICIrZCsibXMgZWFzZS1vdXQiOiIiO2IubGFzdHRyYW5zaXRpb25zdHlsZSYmYi5sYXN0dHJhbnNpdGlvbnN0eWxlPT1ofHwoYi5sYXN0dHJhbnNpdGlvbnN0eWxlPQpoLGIuZG9jLmNzcyh5LnRyYW5zaXRpb25zdHlsZSxoKSk7cmV0dXJuIGR9LHRoaXMuZG9TY3JvbGxMZWZ0PWZ1bmN0aW9uKGQsaCl7dmFyIGw9Yi5zY3JvbGxydW5uaW5nP2IubmV3c2Nyb2xseTpiLmdldFNjcm9sbFRvcCgpO2IuZG9TY3JvbGxQb3MoZCxsLGgpfSx0aGlzLmRvU2Nyb2xsVG9wPWZ1bmN0aW9uKGQsaCl7dmFyIGw9Yi5zY3JvbGxydW5uaW5nP2IubmV3c2Nyb2xseDpiLmdldFNjcm9sbExlZnQoKTtiLmRvU2Nyb2xsUG9zKGwsZCxoKX0sdGhpcy5kb1Njcm9sbFBvcz1mdW5jdGlvbihkLGgsbCl7dmFyIG49Yi5nZXRTY3JvbGxUb3AoKSxxPWIuZ2V0U2Nyb2xsTGVmdCgpOygwPihiLm5ld3Njcm9sbHktbikqKGgtbil8fDA+KGIubmV3c2Nyb2xseC1xKSooZC1xKSkmJmIuY2FuY2VsU2Nyb2xsKCk7MD09Yi5vcHQuYm91bmNlc2Nyb2xsJiYoMD5oP2g9MDpoPmIucGFnZS5tYXhoJiYoaD1iLnBhZ2UubWF4aCksMD5kP2Q9MDpkPmIucGFnZS5tYXh3JiYoZD1iLnBhZ2UubWF4dykpOwppZihiLnNjcm9sbHJ1bm5pbmcmJmQ9PWIubmV3c2Nyb2xseCYmaD09Yi5uZXdzY3JvbGx5KXJldHVybiExO2IubmV3c2Nyb2xseT1oO2IubmV3c2Nyb2xseD1kO2IubmV3c2Nyb2xsc3BlZWQ9bHx8ITE7aWYoYi50aW1lcilyZXR1cm4hMTtiLnRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgbD1iLmdldFNjcm9sbFRvcCgpLG49Yi5nZXRTY3JvbGxMZWZ0KCkscTtxPWQtbjtxPU1hdGgucm91bmQoTWF0aC5zcXJ0KE1hdGgucG93KHEsMikrTWF0aC5wb3coaC1sLDIpKSk7cT1iLm5ld3Njcm9sbHNwZWVkJiYxPGIubmV3c2Nyb2xsc3BlZWQ/Yi5uZXdzY3JvbGxzcGVlZDpiLmdldFRyYW5zaXRpb25TcGVlZChxKTtiLm5ld3Njcm9sbHNwZWVkJiYxPj1iLm5ld3Njcm9sbHNwZWVkJiYocSo9Yi5uZXdzY3JvbGxzcGVlZCk7Yi5wcmVwYXJlVHJhbnNpdGlvbihxLCEwKTtiLnRpbWVyc2Nyb2xsJiZiLnRpbWVyc2Nyb2xsLnRtJiZjbGVhckludGVydmFsKGIudGltZXJzY3JvbGwudG0pOwowPHEmJighYi5zY3JvbGxydW5uaW5nJiZiLm9uc2Nyb2xsc3RhcnQmJmIub25zY3JvbGxzdGFydC5jYWxsKGIse3R5cGU6InNjcm9sbHN0YXJ0IixjdXJyZW50Ont4Om4seTpsfSxyZXF1ZXN0Ont4OmQseTpofSxlbmQ6e3g6Yi5uZXdzY3JvbGx4LHk6Yi5uZXdzY3JvbGx5fSxzcGVlZDpxfSkseS50cmFuc2l0aW9uZW5kP2Iuc2Nyb2xsZW5kdHJhcHBlZHx8KGIuc2Nyb2xsZW5kdHJhcHBlZD0hMCxiLmJpbmQoYi5kb2MseS50cmFuc2l0aW9uZW5kLGIub25TY3JvbGxFbmQsITEpKTooYi5zY3JvbGxlbmR0cmFwcGVkJiZjbGVhclRpbWVvdXQoYi5zY3JvbGxlbmR0cmFwcGVkKSxiLnNjcm9sbGVuZHRyYXBwZWQ9c2V0VGltZW91dChiLm9uU2Nyb2xsRW5kLHEpKSxiLnRpbWVyc2Nyb2xsPXtiejpuZXcgQmV6aWVyQ2xhc3MobCxiLm5ld3Njcm9sbHkscSwwLDAsLjU4LDEpLGJoOm5ldyBCZXppZXJDbGFzcyhuLGIubmV3c2Nyb2xseCxxLDAsMCwuNTgsMSl9LGIuY3Vyc29yZnJlZXplZHx8CihiLnRpbWVyc2Nyb2xsLnRtPXNldEludGVydmFsKGZ1bmN0aW9uKCl7Yi5zaG93Q3Vyc29yKGIuZ2V0U2Nyb2xsVG9wKCksYi5nZXRTY3JvbGxMZWZ0KCkpfSw2MCkpKTtiLnN5bmNoZWQoImRvU2Nyb2xsLXNldCIsZnVuY3Rpb24oKXtiLnRpbWVyPTA7Yi5zY3JvbGxlbmR0cmFwcGVkJiYoYi5zY3JvbGxydW5uaW5nPSEwKTtiLnNldFNjcm9sbFRvcChiLm5ld3Njcm9sbHkpO2Iuc2V0U2Nyb2xsTGVmdChiLm5ld3Njcm9sbHgpO2lmKCFiLnNjcm9sbGVuZHRyYXBwZWQpYi5vblNjcm9sbEVuZCgpfSl9LDUwKX0sdGhpcy5jYW5jZWxTY3JvbGw9ZnVuY3Rpb24oKXtpZighYi5zY3JvbGxlbmR0cmFwcGVkKXJldHVybiEwO3ZhciBkPWIuZ2V0U2Nyb2xsVG9wKCksaD1iLmdldFNjcm9sbExlZnQoKTtiLnNjcm9sbHJ1bm5pbmc9ITE7eS50cmFuc2l0aW9uZW5kfHxjbGVhclRpbWVvdXQoeS50cmFuc2l0aW9uZW5kKTtiLnNjcm9sbGVuZHRyYXBwZWQ9ITE7Yi5fdW5iaW5kKGIuZG9jLHkudHJhbnNpdGlvbmVuZCwKYi5vblNjcm9sbEVuZCk7Yi5wcmVwYXJlVHJhbnNpdGlvbigwKTtiLnNldFNjcm9sbFRvcChkKTtiLnJhaWxoJiZiLnNldFNjcm9sbExlZnQoaCk7Yi50aW1lcnNjcm9sbCYmYi50aW1lcnNjcm9sbC50bSYmY2xlYXJJbnRlcnZhbChiLnRpbWVyc2Nyb2xsLnRtKTtiLnRpbWVyc2Nyb2xsPSExO2IuY3Vyc29yZnJlZXplZD0hMTtiLnNob3dDdXJzb3IoZCxoKTtyZXR1cm4gYn0sdGhpcy5vblNjcm9sbEVuZD1mdW5jdGlvbigpe2Iuc2Nyb2xsZW5kdHJhcHBlZCYmYi5fdW5iaW5kKGIuZG9jLHkudHJhbnNpdGlvbmVuZCxiLm9uU2Nyb2xsRW5kKTtiLnNjcm9sbGVuZHRyYXBwZWQ9ITE7Yi5wcmVwYXJlVHJhbnNpdGlvbigwKTtiLnRpbWVyc2Nyb2xsJiZiLnRpbWVyc2Nyb2xsLnRtJiZjbGVhckludGVydmFsKGIudGltZXJzY3JvbGwudG0pO2IudGltZXJzY3JvbGw9ITE7dmFyIGQ9Yi5nZXRTY3JvbGxUb3AoKSxoPWIuZ2V0U2Nyb2xsTGVmdCgpO2Iuc2V0U2Nyb2xsVG9wKGQpO2IucmFpbGgmJgpiLnNldFNjcm9sbExlZnQoaCk7Yi5ub3RpY2VDdXJzb3IoITEsZCxoKTtiLmN1cnNvcmZyZWV6ZWQ9ITE7MD5kP2Q9MDpkPmIucGFnZS5tYXhoJiYoZD1iLnBhZ2UubWF4aCk7MD5oP2g9MDpoPmIucGFnZS5tYXh3JiYoaD1iLnBhZ2UubWF4dyk7aWYoZCE9Yi5uZXdzY3JvbGx5fHxoIT1iLm5ld3Njcm9sbHgpcmV0dXJuIGIuZG9TY3JvbGxQb3MoaCxkLGIub3B0LnNuYXBiYWNrc3BlZWQpO2Iub25zY3JvbGxlbmQmJmIuc2Nyb2xscnVubmluZyYmYi5vbnNjcm9sbGVuZC5jYWxsKGIse3R5cGU6InNjcm9sbGVuZCIsY3VycmVudDp7eDpoLHk6ZH0sZW5kOnt4OmIubmV3c2Nyb2xseCx5OmIubmV3c2Nyb2xseX19KTtiLnNjcm9sbHJ1bm5pbmc9ITF9KToodGhpcy5kb1Njcm9sbExlZnQ9ZnVuY3Rpb24oZCxoKXt2YXIgbD1iLnNjcm9sbHJ1bm5pbmc/Yi5uZXdzY3JvbGx5OmIuZ2V0U2Nyb2xsVG9wKCk7Yi5kb1Njcm9sbFBvcyhkLGwsaCl9LHRoaXMuZG9TY3JvbGxUb3A9ZnVuY3Rpb24oZCwKaCl7dmFyIGw9Yi5zY3JvbGxydW5uaW5nP2IubmV3c2Nyb2xseDpiLmdldFNjcm9sbExlZnQoKTtiLmRvU2Nyb2xsUG9zKGwsZCxoKX0sdGhpcy5kb1Njcm9sbFBvcz1mdW5jdGlvbihkLGgsbCl7ZnVuY3Rpb24gbigpe2lmKGIuY2FuY2VsQW5pbWF0aW9uRnJhbWUpcmV0dXJuITA7Yi5zY3JvbGxydW5uaW5nPSEwO2lmKHk9MS15KXJldHVybiBiLnRpbWVyPUEobil8fDE7dmFyIGQ9MCxoPXN5PWIuZ2V0U2Nyb2xsVG9wKCk7aWYoYi5kc3QuYXkpe3ZhciBoPWIuYnpzY3JvbGw/Yi5kc3QucHkrYi5ienNjcm9sbC5nZXROb3coKSpiLmRzdC5heTpiLm5ld3Njcm9sbHksbT1oLXN5O2lmKDA+bSYmaDxiLm5ld3Njcm9sbHl8fDA8bSYmaD5iLm5ld3Njcm9sbHkpaD1iLm5ld3Njcm9sbHk7Yi5zZXRTY3JvbGxUb3AoaCk7aD09Yi5uZXdzY3JvbGx5JiYoZD0xKX1lbHNlIGQ9MTt2YXIgbD1zeD1iLmdldFNjcm9sbExlZnQoKTtpZihiLmRzdC5heCl7bD1iLmJ6c2Nyb2xsP2IuZHN0LnB4K2IuYnpzY3JvbGwuZ2V0Tm93KCkqCmIuZHN0LmF4OmIubmV3c2Nyb2xseDttPWwtc3g7aWYoMD5tJiZsPGIubmV3c2Nyb2xseHx8MDxtJiZsPmIubmV3c2Nyb2xseClsPWIubmV3c2Nyb2xseDtiLnNldFNjcm9sbExlZnQobCk7bD09Yi5uZXdzY3JvbGx4JiYoZCs9MSl9ZWxzZSBkKz0xOzI9PWQ/KGIudGltZXI9MCxiLmN1cnNvcmZyZWV6ZWQ9ITEsYi5ienNjcm9sbD0hMSxiLnNjcm9sbHJ1bm5pbmc9ITEsMD5oP2g9MDpoPmIucGFnZS5tYXhoJiYoaD1iLnBhZ2UubWF4aCksMD5sP2w9MDpsPmIucGFnZS5tYXh3JiYobD1iLnBhZ2UubWF4dyksbCE9Yi5uZXdzY3JvbGx4fHxoIT1iLm5ld3Njcm9sbHk/Yi5kb1Njcm9sbFBvcyhsLGgpOmIub25zY3JvbGxlbmQmJmIub25zY3JvbGxlbmQuY2FsbChiLHt0eXBlOiJzY3JvbGxlbmQiLGN1cnJlbnQ6e3g6c3gseTpzeX0sZW5kOnt4OmIubmV3c2Nyb2xseCx5OmIubmV3c2Nyb2xseX19KSk6Yi50aW1lcj1BKG4pfHwxfWg9InVuZGVmaW5lZCI9PXR5cGVvZiBofHwhMT09PWg/Yi5nZXRTY3JvbGxUb3AoITApOgpoO2lmKGIudGltZXImJmIubmV3c2Nyb2xseT09aCYmYi5uZXdzY3JvbGx4PT1kKXJldHVybiEwO2IudGltZXImJkUoYi50aW1lcik7Yi50aW1lcj0wO3ZhciBxPWIuZ2V0U2Nyb2xsVG9wKCkscD1iLmdldFNjcm9sbExlZnQoKTsoMD4oYi5uZXdzY3JvbGx5LXEpKihoLXEpfHwwPihiLm5ld3Njcm9sbHgtcCkqKGQtcCkpJiZiLmNhbmNlbFNjcm9sbCgpO2IubmV3c2Nyb2xseT1oO2IubmV3c2Nyb2xseD1kO2IuYm91bmNlc2Nyb2xsJiZiLnJhaWwudmlzaWJpbGl0eXx8KDA+Yi5uZXdzY3JvbGx5P2IubmV3c2Nyb2xseT0wOmIubmV3c2Nyb2xseT5iLnBhZ2UubWF4aCYmKGIubmV3c2Nyb2xseT1iLnBhZ2UubWF4aCkpO2IuYm91bmNlc2Nyb2xsJiZiLnJhaWxoLnZpc2liaWxpdHl8fCgwPmIubmV3c2Nyb2xseD9iLm5ld3Njcm9sbHg9MDpiLm5ld3Njcm9sbHg+Yi5wYWdlLm1heHcmJihiLm5ld3Njcm9sbHg9Yi5wYWdlLm1heHcpKTtiLmRzdD17fTtiLmRzdC54PWQtcDtiLmRzdC55PWgtCnE7Yi5kc3QucHg9cDtiLmRzdC5weT1xO3ZhciByPU1hdGgucm91bmQoTWF0aC5zcXJ0KE1hdGgucG93KGIuZHN0LngsMikrTWF0aC5wb3coYi5kc3QueSwyKSkpO2IuZHN0LmF4PWIuZHN0LngvcjtiLmRzdC5heT1iLmRzdC55L3I7dmFyIHY9MCx4PXI7MD09Yi5kc3QueD8odj1xLHg9aCxiLmRzdC5heT0xLGIuZHN0LnB5PTApOjA9PWIuZHN0LnkmJih2PXAseD1kLGIuZHN0LmF4PTEsYi5kc3QucHg9MCk7cj1iLmdldFRyYW5zaXRpb25TcGVlZChyKTtsJiYxPj1sJiYocio9bCk7Yi5ienNjcm9sbD0wPHI/Yi5ienNjcm9sbD9iLmJ6c2Nyb2xsLnVwZGF0ZSh4LHIpOm5ldyBCZXppZXJDbGFzcyh2LHgsciwwLDEsMCwxKTohMTtpZighYi50aW1lcil7KHE9PWIucGFnZS5tYXhoJiZoPj1iLnBhZ2UubWF4aHx8cD09Yi5wYWdlLm1heHcmJmQ+PWIucGFnZS5tYXh3KSYmYi5jaGVja0NvbnRlbnRTaXplKCk7dmFyIHk9MTtiLmNhbmNlbEFuaW1hdGlvbkZyYW1lPSExO2IudGltZXI9MTtiLm9uc2Nyb2xsc3RhcnQmJgohYi5zY3JvbGxydW5uaW5nJiZiLm9uc2Nyb2xsc3RhcnQuY2FsbChiLHt0eXBlOiJzY3JvbGxzdGFydCIsY3VycmVudDp7eDpwLHk6cX0scmVxdWVzdDp7eDpkLHk6aH0sZW5kOnt4OmIubmV3c2Nyb2xseCx5OmIubmV3c2Nyb2xseX0sc3BlZWQ6cn0pO24oKTsocT09Yi5wYWdlLm1heGgmJmg+PXF8fHA9PWIucGFnZS5tYXh3JiZkPj1wKSYmYi5jaGVja0NvbnRlbnRTaXplKCk7Yi5ub3RpY2VDdXJzb3IoKX19LHRoaXMuY2FuY2VsU2Nyb2xsPWZ1bmN0aW9uKCl7Yi50aW1lciYmRShiLnRpbWVyKTtiLnRpbWVyPTA7Yi5ienNjcm9sbD0hMTtiLnNjcm9sbHJ1bm5pbmc9ITE7cmV0dXJuIGJ9KToodGhpcy5kb1Njcm9sbExlZnQ9ZnVuY3Rpb24oZCxoKXt2YXIgbD1iLmdldFNjcm9sbFRvcCgpO2IuZG9TY3JvbGxQb3MoZCxsLGgpfSx0aGlzLmRvU2Nyb2xsVG9wPWZ1bmN0aW9uKGQsaCl7dmFyIGw9Yi5nZXRTY3JvbGxMZWZ0KCk7Yi5kb1Njcm9sbFBvcyhsLGQsaCl9LHRoaXMuZG9TY3JvbGxQb3M9CmZ1bmN0aW9uKGQsaCxsKXt2YXIgbj1kPmIucGFnZS5tYXh3P2IucGFnZS5tYXh3OmQ7MD5uJiYobj0wKTt2YXIgcT1oPmIucGFnZS5tYXhoP2IucGFnZS5tYXhoOmg7MD5xJiYocT0wKTtiLnN5bmNoZWQoInNjcm9sbCIsZnVuY3Rpb24oKXtiLnNldFNjcm9sbFRvcChxKTtiLnNldFNjcm9sbExlZnQobil9KX0sdGhpcy5jYW5jZWxTY3JvbGw9ZnVuY3Rpb24oKXt9KTt0aGlzLmRvU2Nyb2xsQnk9ZnVuY3Rpb24oZCxoKXtkPWg/TWF0aC5mbG9vcigoYi5zY3JvbGwueS1kKSpiLnNjcm9sbHJhdGlvLnkpOihiLnRpbWVyP2IubmV3c2Nyb2xseTpiLmdldFNjcm9sbFRvcCghMCkpLWQ7Yi5ib3VuY2VzY3JvbGwmJihoPU1hdGgucm91bmQoYi52aWV3LmgvMiksZDwtaD9kPS1oOmQ+Yi5wYWdlLm1heGgraCYmKGQ9Yi5wYWdlLm1heGgraCkpO2IuY3Vyc29yZnJlZXplZD0hMTtweT1iLmdldFNjcm9sbFRvcCghMCk7aWYoMD5kJiYwPj1weSlyZXR1cm4gYi5ub3RpY2VDdXJzb3IoKTtpZihkPgpiLnBhZ2UubWF4aCYmcHk+PWIucGFnZS5tYXhoKXJldHVybiBiLmNoZWNrQ29udGVudFNpemUoKSxiLm5vdGljZUN1cnNvcigpO2IuZG9TY3JvbGxUb3AoZCl9O3RoaXMuZG9TY3JvbGxMZWZ0Qnk9ZnVuY3Rpb24oZCxoKXtkPWg/TWF0aC5mbG9vcigoYi5zY3JvbGwueC1kKSpiLnNjcm9sbHJhdGlvLngpOihiLnRpbWVyP2IubmV3c2Nyb2xseDpiLmdldFNjcm9sbExlZnQoITApKS1kO2IuYm91bmNlc2Nyb2xsJiYoaD1NYXRoLnJvdW5kKGIudmlldy53LzIpLGQ8LWg/ZD0taDpkPmIucGFnZS5tYXh3K2gmJihkPWIucGFnZS5tYXh3K2gpKTtiLmN1cnNvcmZyZWV6ZWQ9ITE7cHg9Yi5nZXRTY3JvbGxMZWZ0KCEwKTtpZigwPmQmJjA+PXB4fHxkPmIucGFnZS5tYXh3JiZweD49Yi5wYWdlLm1heHcpcmV0dXJuIGIubm90aWNlQ3Vyc29yKCk7Yi5kb1Njcm9sbExlZnQoZCl9O3RoaXMuZG9TY3JvbGxUbz1mdW5jdGlvbihkLGgpe2gmJk1hdGgucm91bmQoZCpiLnNjcm9sbHJhdGlvLnkpO2IuY3Vyc29yZnJlZXplZD0KITE7Yi5kb1Njcm9sbFRvcChkKX07dGhpcy5jaGVja0NvbnRlbnRTaXplPWZ1bmN0aW9uKCl7dmFyIGQ9Yi5nZXRDb250ZW50U2l6ZSgpO2QuaD09Yi5wYWdlLmgmJmQudz09Yi5wYWdlLnd8fGIucmVzaXplKCExLGQpfTtiLm9uc2Nyb2xsPWZ1bmN0aW9uKGQpe2IucmFpbC5kcmFnfHxiLmN1cnNvcmZyZWV6ZWR8fGIuc3luY2hlZCgic2Nyb2xsIixmdW5jdGlvbigpe2Iuc2Nyb2xsLnk9TWF0aC5yb3VuZChiLmdldFNjcm9sbFRvcCgpKigxL2Iuc2Nyb2xscmF0aW8ueSkpO2IucmFpbGgmJihiLnNjcm9sbC54PU1hdGgucm91bmQoYi5nZXRTY3JvbGxMZWZ0KCkqKDEvYi5zY3JvbGxyYXRpby54KSkpO2Iubm90aWNlQ3Vyc29yKCl9KX07Yi5iaW5kKGIuZG9jc2Nyb2xsLCJzY3JvbGwiLGIub25zY3JvbGwpO3RoaXMuZG9ab29tSW49ZnVuY3Rpb24oaCl7aWYoIWIuem9vbWFjdGl2ZSl7Yi56b29tYWN0aXZlPSEwO2Iuem9vbXJlc3RvcmU9e3N0eWxlOnt9fTt2YXIgbj0icG9zaXRpb24gdG9wIGxlZnQgekluZGV4IGJhY2tncm91bmRDb2xvciBtYXJnaW5Ub3AgbWFyZ2luQm90dG9tIG1hcmdpbkxlZnQgbWFyZ2luUmlnaHQiLnNwbGl0KCIgIiksCnE9Yi53aW5bMF0uc3R5bGUscDtmb3IocCBpbiBuKXt2YXIgcj1uW3BdO2Iuem9vbXJlc3RvcmUuc3R5bGVbcl09InVuZGVmaW5lZCIhPXR5cGVvZiBxW3JdP3Fbcl06IiJ9Yi56b29tcmVzdG9yZS5zdHlsZS53aWR0aD1iLndpbi5jc3MoIndpZHRoIik7Yi56b29tcmVzdG9yZS5zdHlsZS5oZWlnaHQ9Yi53aW4uY3NzKCJoZWlnaHQiKTtiLnpvb21yZXN0b3JlLnBhZGRpbmc9e3c6Yi53aW4ub3V0ZXJXaWR0aCgpLWIud2luLndpZHRoKCksaDpiLndpbi5vdXRlckhlaWdodCgpLWIud2luLmhlaWdodCgpfTt5LmlzaW9zNCYmKGIuem9vbXJlc3RvcmUuc2Nyb2xsVG9wPWQod2luZG93KS5zY3JvbGxUb3AoKSxkKHdpbmRvdykuc2Nyb2xsVG9wKDApKTtiLndpbi5jc3Moe3Bvc2l0aW9uOnkuaXNpb3M0PyJhYnNvbHV0ZSI6ImZpeGVkIix0b3A6MCxsZWZ0OjAsInotaW5kZXgiOmwrMTAwLG1hcmdpbjoiMHB4In0pO249Yi53aW4uY3NzKCJiYWNrZ3JvdW5kQ29sb3IiKTsoIiI9PW58fC90cmFuc3BhcmVudHxyZ2JhXCgwLCAwLCAwLCAwXCl8cmdiYVwoMCwwLDAsMFwpLy50ZXN0KG4pKSYmCmIud2luLmNzcygiYmFja2dyb3VuZENvbG9yIiwiI2ZmZiIpO2IucmFpbC5jc3MoeyJ6LWluZGV4IjpsKzEwMX0pO2Iuem9vbS5jc3MoeyJ6LWluZGV4IjpsKzEwMn0pO2Iuem9vbS5jc3MoImJhY2tncm91bmRQb3NpdGlvbiIsIjBweCAtMThweCIpO2IucmVzaXplWm9vbSgpO2Iub256b29taW4mJmIub256b29taW4uY2FsbChiKTtyZXR1cm4gYi5jYW5jZWxFdmVudChoKX19O3RoaXMuZG9ab29tT3V0PWZ1bmN0aW9uKGgpe2lmKGIuem9vbWFjdGl2ZSlyZXR1cm4gYi56b29tYWN0aXZlPSExLGIud2luLmNzcygibWFyZ2luIiwiIiksYi53aW4uY3NzKGIuem9vbXJlc3RvcmUuc3R5bGUpLHkuaXNpb3M0JiZkKHdpbmRvdykuc2Nyb2xsVG9wKGIuem9vbXJlc3RvcmUuc2Nyb2xsVG9wKSxiLnJhaWwuY3NzKHsiei1pbmRleCI6Yi56aW5kZXh9KSxiLnpvb20uY3NzKHsiei1pbmRleCI6Yi56aW5kZXh9KSxiLnpvb21yZXN0b3JlPSExLGIuem9vbS5jc3MoImJhY2tncm91bmRQb3NpdGlvbiIsCiIwcHggMHB4IiksYi5vblJlc2l6ZSgpLGIub256b29tb3V0JiZiLm9uem9vbW91dC5jYWxsKGIpLGIuY2FuY2VsRXZlbnQoaCl9O3RoaXMuZG9ab29tPWZ1bmN0aW9uKGQpe3JldHVybiBiLnpvb21hY3RpdmU/Yi5kb1pvb21PdXQoZCk6Yi5kb1pvb21JbihkKX07dGhpcy5yZXNpemVab29tPWZ1bmN0aW9uKCl7aWYoYi56b29tYWN0aXZlKXt2YXIgaD1iLmdldFNjcm9sbFRvcCgpO2Iud2luLmNzcyh7d2lkdGg6ZCh3aW5kb3cpLndpZHRoKCktYi56b29tcmVzdG9yZS5wYWRkaW5nLncrInB4IixoZWlnaHQ6ZCh3aW5kb3cpLmhlaWdodCgpLWIuem9vbXJlc3RvcmUucGFkZGluZy5oKyJweCJ9KTtiLm9uUmVzaXplKCk7Yi5zZXRTY3JvbGxUb3AoTWF0aC5taW4oYi5wYWdlLm1heGgsaCkpfX07dGhpcy5pbml0KCk7ZC5uaWNlc2Nyb2xsLnB1c2godGhpcyl9LEw9ZnVuY3Rpb24oZCl7dmFyIGg9dGhpczt0aGlzLm5jPWQ7dGhpcy5zdGVwdGltZT10aGlzLmxhc3R0aW1lPXRoaXMuc3BlZWR5PQp0aGlzLnNwZWVkeD10aGlzLmxhc3R5PXRoaXMubGFzdHg9MDt0aGlzLnNuYXB5PXRoaXMuc25hcHg9ITE7dGhpcy5kZW11bHk9dGhpcy5kZW11bHg9MDt0aGlzLmxhc3RzY3JvbGx5PXRoaXMubGFzdHNjcm9sbHg9LTE7dGhpcy50aW1lcj10aGlzLmNoa3k9dGhpcy5jaGt4PTA7dGhpcy50aW1lPWZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfTt0aGlzLnJlc2V0PWZ1bmN0aW9uKGQsbCl7aC5zdG9wKCk7dmFyIG49aC50aW1lKCk7aC5zdGVwdGltZT0wO2gubGFzdHRpbWU9bjtoLnNwZWVkeD0wO2guc3BlZWR5PTA7aC5sYXN0eD1kO2gubGFzdHk9bDtoLmxhc3RzY3JvbGx4PS0xO2gubGFzdHNjcm9sbHk9LTF9O3RoaXMudXBkYXRlPWZ1bmN0aW9uKGQsbCl7dmFyIG49aC50aW1lKCk7aC5zdGVwdGltZT1uLWgubGFzdHRpbWU7aC5sYXN0dGltZT1uO3ZhciBuPWwtaC5sYXN0eSxwPWQtaC5sYXN0eCxiPWgubmMuZ2V0U2Nyb2xsVG9wKCkscj1oLm5jLmdldFNjcm9sbExlZnQoKSxiPWIrCm4scj1yK3A7aC5zbmFweD0wPnJ8fHI+aC5uYy5wYWdlLm1heHc7aC5zbmFweT0wPmJ8fGI+aC5uYy5wYWdlLm1heGg7aC5zcGVlZHg9cDtoLnNwZWVkeT1uO2gubGFzdHg9ZDtoLmxhc3R5PWx9O3RoaXMuc3RvcD1mdW5jdGlvbigpe2gubmMudW5zeW5jaGVkKCJkb21vbWVudHVtMmQiKTtoLnRpbWVyJiZjbGVhclRpbWVvdXQoaC50aW1lcik7aC50aW1lcj0wO2gubGFzdHNjcm9sbHg9LTE7aC5sYXN0c2Nyb2xseT0tMX07dGhpcy5kb1NuYXB5PWZ1bmN0aW9uKGQsbCl7dmFyIG49ITE7MD5sPyhsPTAsbj0hMCk6bD5oLm5jLnBhZ2UubWF4aCYmKGw9aC5uYy5wYWdlLm1heGgsbj0hMCk7MD5kPyhkPTAsbj0hMCk6ZD5oLm5jLnBhZ2UubWF4dyYmKGQ9aC5uYy5wYWdlLm1heHcsbj0hMCk7biYmaC5uYy5kb1Njcm9sbFBvcyhkLGwsaC5uYy5vcHQuc25hcGJhY2tzcGVlZCl9O3RoaXMuZG9Nb21lbnR1bT1mdW5jdGlvbihkKXt2YXIgbD1oLnRpbWUoKSxuPWQ/bCtkOmgubGFzdHRpbWU7ZD0KaC5uYy5nZXRTY3JvbGxMZWZ0KCk7dmFyIHA9aC5uYy5nZXRTY3JvbGxUb3AoKSxiPWgubmMucGFnZS5tYXhoLHI9aC5uYy5wYWdlLm1heHc7aC5zcGVlZHg9MDxyP01hdGgubWluKDYwLGguc3BlZWR4KTowO2guc3BlZWR5PTA8Yj9NYXRoLm1pbig2MCxoLnNwZWVkeSk6MDtuPW4mJjYwPj1sLW47aWYoMD5wfHxwPmJ8fDA+ZHx8ZD5yKW49ITE7ZD1oLnNwZWVkeCYmbj9oLnNwZWVkeDohMTtpZihoLnNwZWVkeSYmbiYmaC5zcGVlZHl8fGQpe3ZhciB2PU1hdGgubWF4KDE2LGguc3RlcHRpbWUpOzUwPHYmJihkPXYvNTAsaC5zcGVlZHgqPWQsaC5zcGVlZHkqPWQsdj01MCk7aC5kZW11bHh5PTA7aC5sYXN0c2Nyb2xseD1oLm5jLmdldFNjcm9sbExlZnQoKTtoLmNoa3g9aC5sYXN0c2Nyb2xseDtoLmxhc3RzY3JvbGx5PWgubmMuZ2V0U2Nyb2xsVG9wKCk7aC5jaGt5PWgubGFzdHNjcm9sbHk7dmFyIHg9aC5sYXN0c2Nyb2xseCxBPWgubGFzdHNjcm9sbHksbT1mdW5jdGlvbigpe3ZhciBkPQo2MDA8aC50aW1lKCktbD8uMDQ6LjAyO2guc3BlZWR4JiYoeD1NYXRoLmZsb29yKGgubGFzdHNjcm9sbHgtaC5zcGVlZHgqKDEtaC5kZW11bHh5KSksaC5sYXN0c2Nyb2xseD14LDA+eHx8eD5yKSYmKGQ9LjEpO2guc3BlZWR5JiYoQT1NYXRoLmZsb29yKGgubGFzdHNjcm9sbHktaC5zcGVlZHkqKDEtaC5kZW11bHh5KSksaC5sYXN0c2Nyb2xseT1BLDA+QXx8QT5iKSYmKGQ9LjEpO2guZGVtdWx4eT1NYXRoLm1pbigxLGguZGVtdWx4eStkKTtoLm5jLnN5bmNoZWQoImRvbW9tZW50dW0yZCIsZnVuY3Rpb24oKXtoLnNwZWVkeCYmKGgubmMuZ2V0U2Nyb2xsTGVmdCgpIT1oLmNoa3gmJmguc3RvcCgpLGguY2hreD14LGgubmMuc2V0U2Nyb2xsTGVmdCh4KSk7aC5zcGVlZHkmJihoLm5jLmdldFNjcm9sbFRvcCgpIT1oLmNoa3kmJmguc3RvcCgpLGguY2hreT1BLGgubmMuc2V0U2Nyb2xsVG9wKEEpKTtoLnRpbWVyfHwoaC5uYy5oaWRlQ3Vyc29yKCksaC5kb1NuYXB5KHgsQSkpfSk7MT5oLmRlbXVseHk/CmgudGltZXI9c2V0VGltZW91dChtLHYpOihoLnN0b3AoKSxoLm5jLmhpZGVDdXJzb3IoKSxoLmRvU25hcHkoeCxBKSl9O20oKX1lbHNlIGguZG9TbmFweShoLm5jLmdldFNjcm9sbExlZnQoKSxoLm5jLmdldFNjcm9sbFRvcCgpKX19LFc9ZC5mbi5zY3JvbGxUb3A7ZC5jc3NIb29rcy5wYWdlWU9mZnNldD17Z2V0OmZ1bmN0aW9uKGgsbCxuKXtyZXR1cm4obD1kLmRhdGEoaCwiX19uaWNlc2Nyb2xsIil8fCExKSYmbC5pc2h3c2Nyb2xsP2wuZ2V0U2Nyb2xsVG9wKCk6Vy5jYWxsKGgpfSxzZXQ6ZnVuY3Rpb24oaCxsKXt2YXIgbj1kLmRhdGEoaCwiX19uaWNlc2Nyb2xsIil8fCExO24mJm4uaXNod3Njcm9sbD9uLnNldFNjcm9sbFRvcChwYXJzZUludChsKSk6Vy5jYWxsKGgsbCk7cmV0dXJuIHRoaXN9fTtkLmZuLnNjcm9sbFRvcD1mdW5jdGlvbihoKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIGgpe3ZhciBsPXRoaXNbMF0/ZC5kYXRhKHRoaXNbMF0sIl9fbmljZXNjcm9sbCIpfHwhMTohMTsKcmV0dXJuIGwmJmwuaXNod3Njcm9sbD9sLmdldFNjcm9sbFRvcCgpOlcuY2FsbCh0aGlzKX1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGw9ZC5kYXRhKHRoaXMsIl9fbmljZXNjcm9sbCIpfHwhMTtsJiZsLmlzaHdzY3JvbGw/bC5zZXRTY3JvbGxUb3AocGFyc2VJbnQoaCkpOlcuY2FsbChkKHRoaXMpLGgpfSl9O3ZhciBVPWQuZm4uc2Nyb2xsTGVmdDtkLmNzc0hvb2tzLnBhZ2VYT2Zmc2V0PXtnZXQ6ZnVuY3Rpb24oaCxsLG4pe3JldHVybihsPWQuZGF0YShoLCJfX25pY2VzY3JvbGwiKXx8ITEpJiZsLmlzaHdzY3JvbGw/bC5nZXRTY3JvbGxMZWZ0KCk6VS5jYWxsKGgpfSxzZXQ6ZnVuY3Rpb24oaCxsKXt2YXIgbj1kLmRhdGEoaCwiX19uaWNlc2Nyb2xsIil8fCExO24mJm4uaXNod3Njcm9sbD9uLnNldFNjcm9sbExlZnQocGFyc2VJbnQobCkpOlUuY2FsbChoLGwpO3JldHVybiB0aGlzfX07ZC5mbi5zY3JvbGxMZWZ0PWZ1bmN0aW9uKGgpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgaCl7dmFyIGw9CnRoaXNbMF0/ZC5kYXRhKHRoaXNbMF0sIl9fbmljZXNjcm9sbCIpfHwhMTohMTtyZXR1cm4gbCYmbC5pc2h3c2Nyb2xsP2wuZ2V0U2Nyb2xsTGVmdCgpOlUuY2FsbCh0aGlzKX1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGw9ZC5kYXRhKHRoaXMsIl9fbmljZXNjcm9sbCIpfHwhMTtsJiZsLmlzaHdzY3JvbGw/bC5zZXRTY3JvbGxMZWZ0KHBhcnNlSW50KGgpKTpVLmNhbGwoZCh0aGlzKSxoKX0pfTt2YXIgZ2E9ZnVuY3Rpb24oaCl7dmFyIGw9dGhpczt0aGlzLmxlbmd0aD0wO3RoaXMubmFtZT0ibmljZXNjcm9sbGFycmF5Ijt0aGlzLmVhY2g9ZnVuY3Rpb24oZCl7Zm9yKHZhciBoPTAsbj0wO2g8bC5sZW5ndGg7aCsrKWQuY2FsbChsW2hdLG4rKyk7cmV0dXJuIGx9O3RoaXMucHVzaD1mdW5jdGlvbihkKXtsW2wubGVuZ3RoXT1kO2wubGVuZ3RoKyt9O3RoaXMuZXE9ZnVuY3Rpb24oZCl7cmV0dXJuIGxbZF19O2lmKGgpZm9yKGE9MDthPGgubGVuZ3RoO2ErKyl7dmFyIG49ZC5kYXRhKGhbYV0sCiJfX25pY2VzY3JvbGwiKXx8ITE7biYmKHRoaXNbdGhpcy5sZW5ndGhdPW4sdGhpcy5sZW5ndGgrKyl9cmV0dXJuIHRoaXN9OyhmdW5jdGlvbihkLGgsbCl7Zm9yKHZhciBuPTA7bjxoLmxlbmd0aDtuKyspbChkLGhbbl0pfSkoZ2EucHJvdG90eXBlLCJzaG93IGhpZGUgdG9nZ2xlIG9uUmVzaXplIHJlc2l6ZSByZW1vdmUgc3RvcCBkb1Njcm9sbFBvcyIuc3BsaXQoIiAiKSxmdW5jdGlvbihkLGgpe2RbaF09ZnVuY3Rpb24oKXt2YXIgZD1hcmd1bWVudHM7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3RoaXNbaF0uYXBwbHkodGhpcyxkKX0pfX0pO2QuZm4uZ2V0TmljZVNjcm9sbD1mdW5jdGlvbihoKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGg/bmV3IGdhKHRoaXMpOnRoaXNbaF0mJmQuZGF0YSh0aGlzW2hdLCJfX25pY2VzY3JvbGwiKXx8ITF9O2QuZXh0ZW5kKGQuZXhwclsiOiJdLHtuaWNlc2Nyb2xsOmZ1bmN0aW9uKGgpe3JldHVybiBkLmRhdGEoaCwiX19uaWNlc2Nyb2xsIik/CiEwOiExfX0pO2QuZm4ubmljZVNjcm9sbD1mdW5jdGlvbihoLGwpeyJ1bmRlZmluZWQiPT10eXBlb2YgbCYmIm9iamVjdCI9PXR5cGVvZiBoJiYhKCJqcXVlcnkiaW4gaCkmJihsPWgsaD0hMSk7dmFyIG49bmV3IGdhOyJ1bmRlZmluZWQiPT10eXBlb2YgbCYmKGw9e30pO2gmJihsLmRvYz1kKGgpLGwud2luPWQodGhpcykpO3ZhciBwPSEoImRvYyJpbiBsKTtwfHwid2luImluIGx8fChsLndpbj1kKHRoaXMpKTt0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaD1kKHRoaXMpLmRhdGEoIl9fbmljZXNjcm9sbCIpfHwhMTtofHwobC5kb2M9cD9kKHRoaXMpOmwuZG9jLGg9bmV3IFAobCxkKHRoaXMpKSxkKHRoaXMpLmRhdGEoIl9fbmljZXNjcm9sbCIsaCkpO24ucHVzaChoKX0pO3JldHVybiAxPT1uLmxlbmd0aD9uWzBdOm59O3dpbmRvdy5OaWNlU2Nyb2xsPXtnZXRqUXVlcnk6ZnVuY3Rpb24oKXtyZXR1cm4gZH19O2QubmljZXNjcm9sbHx8KGQubmljZXNjcm9sbD1uZXcgZ2EsZC5uaWNlc2Nyb2xsLm9wdGlvbnM9CmFhKX0pKGpRdWVyeSk7CihmdW5jdGlvbihkKXtkLmZuLmV4dGVuZCh7c2xpbVNjcm9sbDpmdW5jdGlvbihyKXt2YXIgeD1kLmV4dGVuZCh7d2lkdGg6ImF1dG8iLGhlaWdodDoiMjUwcHgiLHNpemU6IjdweCIsY29sb3I6IiMwMDAiLHBvc2l0aW9uOiJyaWdodCIsZGlzdGFuY2U6IjFweCIsc3RhcnQ6InRvcCIsb3BhY2l0eTouNCxhbHdheXNWaXNpYmxlOiExLGRpc2FibGVGYWRlT3V0OiExLHJhaWxWaXNpYmxlOiExLHJhaWxDb2xvcjoiIzMzMyIscmFpbE9wYWNpdHk6LjIscmFpbERyYWdnYWJsZTohMCxyYWlsQ2xhc3M6InNsaW1TY3JvbGxSYWlsIixiYXJDbGFzczoic2xpbVNjcm9sbEJhciIsd3JhcHBlckNsYXNzOiJzbGltU2Nyb2xsRGl2IixhbGxvd1BhZ2VTY3JvbGw6ITEsd2hlZWxTdGVwOjIwLHRvdWNoU2Nyb2xsU3RlcDoyMDAsYm9yZGVyUmFkaXVzOiI3cHgiLHJhaWxCb3JkZXJSYWRpdXM6IjdweCJ9LHIpO3RoaXMuZWFjaChmdW5jdGlvbigpe2Z1bmN0aW9uIHAobCl7aWYoQSl7bD1sfHx3aW5kb3cuZXZlbnQ7CnZhciBuPTA7bC53aGVlbERlbHRhJiYobj0tbC53aGVlbERlbHRhLzEyMCk7bC5kZXRhaWwmJihuPWwuZGV0YWlsLzMpO2QobC50YXJnZXR8fGwuc3JjVGFyZ2V0fHxsLnNyY0VsZW1lbnQpLmNsb3Nlc3QoIi4iK3gud3JhcHBlckNsYXNzKS5pcyhMLnBhcmVudCgpKSYmaChuLCEwKTtsLnByZXZlbnREZWZhdWx0JiYhUCYmbC5wcmV2ZW50RGVmYXVsdCgpO1B8fChsLnJldHVyblZhbHVlPSExKX19ZnVuY3Rpb24gaChkLGgsbCl7UD0hMTt2YXIgcD1MLm91dGVySGVpZ2h0KCktVS5vdXRlckhlaWdodCgpO2gmJihoPXBhcnNlSW50KFUuY3NzKCJ0b3AiKSkrZCpwYXJzZUludCh4LndoZWVsU3RlcCkvMTAwKlUub3V0ZXJIZWlnaHQoKSxoPU1hdGgubWluKE1hdGgubWF4KGgsMCkscCksaD0wPGQ/TWF0aC5jZWlsKGgpOk1hdGguZmxvb3IoaCksVS5jc3Moe3RvcDpoKyJweCJ9KSk7Uj1wYXJzZUludChVLmNzcygidG9wIikpLyhMLm91dGVySGVpZ2h0KCktVS5vdXRlckhlaWdodCgpKTtoPQpSKihMWzBdLnNjcm9sbEhlaWdodC1MLm91dGVySGVpZ2h0KCkpO2wmJihoPWQsZD1oL0xbMF0uc2Nyb2xsSGVpZ2h0Kkwub3V0ZXJIZWlnaHQoKSxkPU1hdGgubWluKE1hdGgubWF4KGQsMCkscCksVS5jc3Moe3RvcDpkKyJweCJ9KSk7TC5zY3JvbGxUb3AoaCk7TC50cmlnZ2VyKCJzbGltc2Nyb2xsaW5nIix+fmgpO3YoKTtuKCl9ZnVuY3Rpb24gbCgpe2FhPU1hdGgubWF4KEwub3V0ZXJIZWlnaHQoKS9MWzBdLnNjcm9sbEhlaWdodCpMLm91dGVySGVpZ2h0KCksMzApO1UuY3NzKHtoZWlnaHQ6YWErInB4In0pO3ZhciBkPWFhPT1MLm91dGVySGVpZ2h0KCk/Im5vbmUiOiJibG9jayI7VS5jc3Moe2Rpc3BsYXk6ZH0pfWZ1bmN0aW9uIHYoKXtsKCk7Y2xlYXJUaW1lb3V0KEYpO1I9PX5+Uj8oUD14LmFsbG93UGFnZVNjcm9sbCxkYSE9UiYmTC50cmlnZ2VyKCJzbGltc2Nyb2xsIiwwPT1+flI/InRvcCI6ImJvdHRvbSIpKTpQPSExO2RhPVI7YWE+PUwub3V0ZXJIZWlnaHQoKT9QPSEwOihVLnN0b3AoITAsCiEwKS5mYWRlSW4oImZhc3QiKSx4LnJhaWxWaXNpYmxlJiZnYS5zdG9wKCEwLCEwKS5mYWRlSW4oImZhc3QiKSl9ZnVuY3Rpb24gbigpe3guYWx3YXlzVmlzaWJsZXx8KEY9c2V0VGltZW91dChmdW5jdGlvbigpe3guZGlzYWJsZUZhZGVPdXQmJkF8fEV8fE18fChVLmZhZGVPdXQoInNsb3ciKSxnYS5mYWRlT3V0KCJzbG93IikpfSwxRTMpKX12YXIgQSxFLE0sRixZLGFhLFIsZGEsUD0hMSxMPWQodGhpcyk7aWYoTC5wYXJlbnQoKS5oYXNDbGFzcyh4LndyYXBwZXJDbGFzcykpe3ZhciBXPUwuc2Nyb2xsVG9wKCksVT1MLmNsb3Nlc3QoIi4iK3guYmFyQ2xhc3MpLGdhPUwuY2xvc2VzdCgiLiIreC5yYWlsQ2xhc3MpO2woKTtpZihkLmlzUGxhaW5PYmplY3Qocikpe2lmKCJoZWlnaHQiaW4gciYmImF1dG8iPT1yLmhlaWdodCl7TC5wYXJlbnQoKS5jc3MoImhlaWdodCIsImF1dG8iKTtMLmNzcygiaGVpZ2h0IiwiYXV0byIpO3ZhciBTPUwucGFyZW50KCkucGFyZW50KCkuaGVpZ2h0KCk7TC5wYXJlbnQoKS5jc3MoImhlaWdodCIsClMpO0wuY3NzKCJoZWlnaHQiLFMpfWlmKCJzY3JvbGxUbyJpbiByKVc9cGFyc2VJbnQoeC5zY3JvbGxUbyk7ZWxzZSBpZigic2Nyb2xsQnkiaW4gcilXKz1wYXJzZUludCh4LnNjcm9sbEJ5KTtlbHNlIGlmKCJkZXN0cm95ImluIHIpe1UucmVtb3ZlKCk7Z2EucmVtb3ZlKCk7TC51bndyYXAoKTtyZXR1cm59aChXLCExLCEwKX19ZWxzZSBpZighKGQuaXNQbGFpbk9iamVjdChyKSYmImRlc3Ryb3kiaW4gcikpe3guaGVpZ2h0PSJhdXRvIj09eC5oZWlnaHQ/TC5wYXJlbnQoKS5oZWlnaHQoKTp4LmhlaWdodDtXPWQoIjxkaXY+PC9kaXY+IikuYWRkQ2xhc3MoeC53cmFwcGVyQ2xhc3MpLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIixvdmVyZmxvdzoiaGlkZGVuIix3aWR0aDp4LndpZHRoLGhlaWdodDp4LmhlaWdodH0pO0wuY3NzKHtvdmVyZmxvdzoiaGlkZGVuIix3aWR0aDp4LndpZHRoLGhlaWdodDp4LmhlaWdodH0pO3ZhciBnYT1kKCI8ZGl2PjwvZGl2PiIpLmFkZENsYXNzKHgucmFpbENsYXNzKS5jc3Moe3dpZHRoOnguc2l6ZSwKaGVpZ2h0OiIxMDAlIixwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDowLGRpc3BsYXk6eC5hbHdheXNWaXNpYmxlJiZ4LnJhaWxWaXNpYmxlPyJibG9jayI6Im5vbmUiLCJib3JkZXItcmFkaXVzIjp4LnJhaWxCb3JkZXJSYWRpdXMsYmFja2dyb3VuZDp4LnJhaWxDb2xvcixvcGFjaXR5OngucmFpbE9wYWNpdHksekluZGV4OjkwfSksVT1kKCI8ZGl2PjwvZGl2PiIpLmFkZENsYXNzKHguYmFyQ2xhc3MpLmNzcyh7YmFja2dyb3VuZDp4LmNvbG9yLHdpZHRoOnguc2l6ZSxwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDowLG9wYWNpdHk6eC5vcGFjaXR5LGRpc3BsYXk6eC5hbHdheXNWaXNpYmxlPyJibG9jayI6Im5vbmUiLCJib3JkZXItcmFkaXVzIjp4LmJvcmRlclJhZGl1cyxCb3JkZXJSYWRpdXM6eC5ib3JkZXJSYWRpdXMsTW96Qm9yZGVyUmFkaXVzOnguYm9yZGVyUmFkaXVzLFdlYmtpdEJvcmRlclJhZGl1czp4LmJvcmRlclJhZGl1cyx6SW5kZXg6OTl9KSxTPSJyaWdodCI9PXgucG9zaXRpb24/CntyaWdodDp4LmRpc3RhbmNlfTp7bGVmdDp4LmRpc3RhbmNlfTtnYS5jc3MoUyk7VS5jc3MoUyk7TC53cmFwKFcpO0wucGFyZW50KCkuYXBwZW5kKFUpO0wucGFyZW50KCkuYXBwZW5kKGdhKTt4LnJhaWxEcmFnZ2FibGUmJlUuYmluZCgibW91c2Vkb3duIixmdW5jdGlvbihsKXt2YXIgcD1kKGRvY3VtZW50KTtNPSEwO3Q9cGFyc2VGbG9hdChVLmNzcygidG9wIikpO3BhZ2VZPWwucGFnZVk7cC5iaW5kKCJtb3VzZW1vdmUuc2xpbXNjcm9sbCIsZnVuY3Rpb24oZCl7Y3VyclRvcD10K2QucGFnZVktcGFnZVk7VS5jc3MoInRvcCIsY3VyclRvcCk7aCgwLFUucG9zaXRpb24oKS50b3AsITEpfSk7cC5iaW5kKCJtb3VzZXVwLnNsaW1zY3JvbGwiLGZ1bmN0aW9uKGQpe009ITE7bigpO3AudW5iaW5kKCIuc2xpbXNjcm9sbCIpfSk7cmV0dXJuITF9KS5iaW5kKCJzZWxlY3RzdGFydC5zbGltc2Nyb2xsIixmdW5jdGlvbihkKXtkLnN0b3BQcm9wYWdhdGlvbigpO2QucHJldmVudERlZmF1bHQoKTsKcmV0dXJuITF9KTtnYS5ob3ZlcihmdW5jdGlvbigpe3YoKX0sZnVuY3Rpb24oKXtuKCl9KTtVLmhvdmVyKGZ1bmN0aW9uKCl7RT0hMH0sZnVuY3Rpb24oKXtFPSExfSk7TC5ob3ZlcihmdW5jdGlvbigpe0E9ITA7digpO24oKX0sZnVuY3Rpb24oKXtBPSExO24oKX0pO0wuYmluZCgidG91Y2hzdGFydCIsZnVuY3Rpb24oZCxoKXtkLm9yaWdpbmFsRXZlbnQudG91Y2hlcy5sZW5ndGgmJihZPWQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VZKX0pO0wuYmluZCgidG91Y2htb3ZlIixmdW5jdGlvbihkKXtQfHxkLm9yaWdpbmFsRXZlbnQucHJldmVudERlZmF1bHQoKTtkLm9yaWdpbmFsRXZlbnQudG91Y2hlcy5sZW5ndGgmJihoKChZLWQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VZKS94LnRvdWNoU2Nyb2xsU3RlcCwhMCksWT1kLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXS5wYWdlWSl9KTtsKCk7ImJvdHRvbSI9PT14LnN0YXJ0PyhVLmNzcyh7dG9wOkwub3V0ZXJIZWlnaHQoKS0KVS5vdXRlckhlaWdodCgpfSksaCgwLCEwKSk6InRvcCIhPT14LnN0YXJ0JiYoaChkKHguc3RhcnQpLnBvc2l0aW9uKCkudG9wLG51bGwsITApLHguYWx3YXlzVmlzaWJsZXx8VS5oaWRlKCkpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyPyh0aGlzLmFkZEV2ZW50TGlzdGVuZXIoIkRPTU1vdXNlU2Nyb2xsIixwLCExKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNld2hlZWwiLHAsITEpKTpkb2N1bWVudC5hdHRhY2hFdmVudCgib25tb3VzZXdoZWVsIixwKX19KTtyZXR1cm4gdGhpc319KTtkLmZuLmV4dGVuZCh7c2xpbXNjcm9sbDpkLmZuLnNsaW1TY3JvbGx9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihkKXtmdW5jdGlvbiByKGQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZD9kOnt0b3A6ZCxsZWZ0OmR9fXZhciB4PWQuc2Nyb2xsVG89ZnVuY3Rpb24ocCxoLGwpe2Qod2luZG93KS5zY3JvbGxUbyhwLGgsbCl9O3guZGVmYXVsdHM9e2F4aXM6Inh5IixkdXJhdGlvbjoxLjM8PXBhcnNlRmxvYXQoZC5mbi5qcXVlcnkpPzA6MSxsaW1pdDohMH07eC53aW5kb3c9ZnVuY3Rpb24ocCl7cmV0dXJuIGQod2luZG93KS5fc2Nyb2xsYWJsZSgpfTtkLmZuLl9zY3JvbGxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7aWYodGhpcy5ub2RlTmFtZSYmLTE9PWQuaW5BcnJheSh0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksWyJpZnJhbWUiLCIjZG9jdW1lbnQiLCJodG1sIiwiYm9keSJdKSlyZXR1cm4gdGhpczt2YXIgcD0odGhpcy5jb250ZW50V2luZG93fHx0aGlzKS5kb2N1bWVudHx8dGhpcy5vd25lckRvY3VtZW50fHx0aGlzO3JldHVybi93ZWJraXQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwKIkJhY2tDb21wYXQiPT1wLmNvbXBhdE1vZGU/cC5ib2R5OnAuZG9jdW1lbnRFbGVtZW50fSl9O2QuZm4uc2Nyb2xsVG89ZnVuY3Rpb24ocCxoLGwpeyJvYmplY3QiPT10eXBlb2YgaCYmKGw9aCxoPTApOyJmdW5jdGlvbiI9PXR5cGVvZiBsJiYobD17b25BZnRlcjpsfSk7Im1heCI9PXAmJihwPTlFOSk7bD1kLmV4dGVuZCh7fSx4LmRlZmF1bHRzLGwpO2g9aHx8bC5kdXJhdGlvbjtsLnF1ZXVlPWwucXVldWUmJjE8bC5heGlzLmxlbmd0aDtsLnF1ZXVlJiYoaC89Mik7bC5vZmZzZXQ9cihsLm9mZnNldCk7bC5vdmVyPXIobC5vdmVyKTtyZXR1cm4gdGhpcy5fc2Nyb2xsYWJsZSgpLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiB2KGQpe0EuYW5pbWF0ZShGLGgsbC5lYXNpbmcsZCYmZnVuY3Rpb24oKXtkLmNhbGwodGhpcyxFLGwpfSl9aWYobnVsbCE9cCl7dmFyIG49dGhpcyxBPWQobiksRT1wLE0sRj17fSxZPUEuaXMoImh0bWwsYm9keSIpO3N3aXRjaCh0eXBlb2YgRSl7Y2FzZSAibnVtYmVyIjpjYXNlICJzdHJpbmciOmlmKC9eKFsrLV09Pyk/XGQrKFwuXGQrKT8ocHh8JSk/JC8udGVzdChFKSl7RT0KcihFKTticmVha31FPWQoRSx0aGlzKTtpZighRS5sZW5ndGgpcmV0dXJuO2Nhc2UgIm9iamVjdCI6aWYoRS5pc3x8RS5zdHlsZSlNPShFPWQoRSkpLm9mZnNldCgpfWQuZWFjaChsLmF4aXMuc3BsaXQoIiIpLGZ1bmN0aW9uKGQsaCl7dmFyIHA9IngiPT1oPyJMZWZ0IjoiVG9wIixyPXAudG9Mb3dlckNhc2UoKSxMPSJzY3JvbGwiK3AsVz1uW0xdLFU9eC5tYXgobixoKTtNPyhGW0xdPU1bcl0rKFk/MDpXLUEub2Zmc2V0KClbcl0pLGwubWFyZ2luJiYoRltMXS09cGFyc2VJbnQoRS5jc3MoIm1hcmdpbiIrcCkpfHwwLEZbTF0tPXBhcnNlSW50KEUuY3NzKCJib3JkZXIiK3ArIldpZHRoIikpfHwwKSxGW0xdKz1sLm9mZnNldFtyXXx8MCxsLm92ZXJbcl0mJihGW0xdKz1FWyJ4Ij09aD8id2lkdGgiOiJoZWlnaHQiXSgpKmwub3ZlcltyXSkpOihoPUVbcl0sRltMXT1oLnNsaWNlJiYiJSI9PWguc2xpY2UoLTEpP3BhcnNlRmxvYXQoaCkvMTAwKlU6aCk7bC5saW1pdCYmL15cZCskLy50ZXN0KEZbTF0pJiYKKEZbTF09MD49RltMXT8wOk1hdGgubWluKEZbTF0sVSkpOyFkJiZsLnF1ZXVlJiYoVyE9RltMXSYmdihsLm9uQWZ0ZXJGaXJzdCksZGVsZXRlIEZbTF0pfSk7dihsLm9uQWZ0ZXIpfX0pLmVuZCgpfTt4Lm1heD1mdW5jdGlvbihwLGgpe3ZhciBsPSJ4Ij09aD8iV2lkdGgiOiJIZWlnaHQiO2g9InNjcm9sbCIrbDtpZighZChwKS5pcygiaHRtbCxib2R5IikpcmV0dXJuIHBbaF0tZChwKVtsLnRvTG93ZXJDYXNlKCldKCk7dmFyIGw9ImNsaWVudCIrbCxyPXAub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7cD1wLm93bmVyRG9jdW1lbnQuYm9keTtyZXR1cm4gTWF0aC5tYXgocltoXSxwW2hdKS1NYXRoLm1pbihyW2xdLHBbbF0pfX0pKGpRdWVyeSk7CihmdW5jdGlvbihkKXsoalF1ZXJ5LmJyb3dzZXI9alF1ZXJ5LmJyb3dzZXJ8fHt9KS5tb2JpbGU9LyhhbmRyb2lkfGJiXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgKGNlfHBob25lKXx4ZGF8eGlpbm8vaS50ZXN0KGQpfHwvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1wtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XC0obnx1KXxjNTVcL3xjYXBpfGNjd2F8Y2RtXC18Y2VsbHxjaHRtfGNsZGN8Y21kXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcLTV8Z1wtbW98Z28oXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXC0obXxwfHQpfGhlaVwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcLWN8aHQoYyhcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcLXxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcLyl8a2xvbnxrcHQgfGt3Y1wtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcLyhrfGx8dSl8NTB8NTR8XC1bYS13XSl8bGlid3xseW54fG0xXC13fG0zZ2F8bTUwXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcLWd8cWFcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XC1bMi03XXxpXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcLXxvb3xwXC0pfHNka1wvfHNlKGMoXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXC18c2hhcnxzaWUoXC18bSl8c2tcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFwtfHZcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFwtfHRkZ1wtfHRlbChpfG0pfHRpbVwtfHRcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXC18bTN8bTUpfHR4XC05fHVwKFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1wtfHlvdXJ8emV0b3x6dGVcLS9pLnRlc3QoZC5zdWJzdHIoMCwKNCkpfSkobmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8d2luZG93Lm9wZXJhKTsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChoLGwpe2Z1bmN0aW9uIHAoZCxoKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZC5hcHBseShoLGFyZ3VtZW50cyl9fXZhciByO2w9bHx8e307dGhpcy50cmFja2luZ0NsaWNrPSExO3RoaXMudHJhY2tpbmdDbGlja1N0YXJ0PTA7dGhpcy50YXJnZXRFbGVtZW50PW51bGw7dGhpcy5sYXN0VG91Y2hJZGVudGlmaWVyPXRoaXMudG91Y2hTdGFydFk9dGhpcy50b3VjaFN0YXJ0WD0wO3RoaXMudG91Y2hCb3VuZGFyeT1sLnRvdWNoQm91bmRhcnl8fDEwO3RoaXMubGF5ZXI9aDt0aGlzLnRhcERlbGF5PWwudGFwRGVsYXl8fDIwMDt0aGlzLnRhcFRpbWVvdXQ9bC50YXBUaW1lb3V0fHw3MDA7aWYoIWQubm90TmVlZGVkKGgpKXtsPSJvbk1vdXNlIG9uQ2xpY2sgb25Ub3VjaFN0YXJ0IG9uVG91Y2hNb3ZlIG9uVG91Y2hFbmQgb25Ub3VjaENhbmNlbCIuc3BsaXQoIiAiKTtmb3IodmFyIHY9MCxZPWwubGVuZ3RoO3Y8WTt2KyspdGhpc1tsW3ZdXT1wKHRoaXNbbFt2XV0sCnRoaXMpO3gmJihoLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlb3ZlciIsdGhpcy5vbk1vdXNlLCEwKSxoLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZG93biIsdGhpcy5vbk1vdXNlLCEwKSxoLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLHRoaXMub25Nb3VzZSwhMCkpO2guYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLHRoaXMub25DbGljaywhMCk7aC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaHN0YXJ0Iix0aGlzLm9uVG91Y2hTdGFydCwhMSk7aC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaG1vdmUiLHRoaXMub25Ub3VjaE1vdmUsITEpO2guYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLHRoaXMub25Ub3VjaEVuZCwhMSk7aC5hZGRFdmVudExpc3RlbmVyKCJ0b3VjaGNhbmNlbCIsdGhpcy5vblRvdWNoQ2FuY2VsLCExKTtFdmVudC5wcm90b3R5cGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9ufHwoaC5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGQsbCxwKXt2YXIgcj1Ob2RlLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyOwoiY2xpY2siPT09ZD9yLmNhbGwoaCxkLGwuaGlqYWNrZWR8fGwscCk6ci5jYWxsKGgsZCxsLHApfSxoLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZCxsLHApe3ZhciByPU5vZGUucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI7ImNsaWNrIj09PWQ/ci5jYWxsKGgsZCxsLmhpamFja2VkfHwobC5oaWphY2tlZD1mdW5jdGlvbihkKXtkLnByb3BhZ2F0aW9uU3RvcHBlZHx8bChkKX0pLHApOnIuY2FsbChoLGQsbCxwKX0pOyJmdW5jdGlvbiI9PT10eXBlb2YgaC5vbmNsaWNrJiYocj1oLm9uY2xpY2ssaC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oZCl7cihkKX0sITEpLGgub25jbGljaz1udWxsKX19dmFyIHI9MDw9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJXaW5kb3dzIFBob25lIikseD0wPG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQW5kcm9pZCIpJiYhcixwPS9pUChhZHxob25lfG9kKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmIXIsaD0KcCYmL09TIDRfXGQoX1xkKT8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksbD1wJiYvT1MgWzYtN11fXGQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksdj0wPG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQkIxMCIpO2QucHJvdG90eXBlLm5lZWRzQ2xpY2s9ZnVuY3Rpb24oZCl7c3dpdGNoKGQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZSAiYnV0dG9uIjpjYXNlICJzZWxlY3QiOmNhc2UgInRleHRhcmVhIjppZihkLmRpc2FibGVkKXJldHVybiEwO2JyZWFrO2Nhc2UgImlucHV0IjppZihwJiYiZmlsZSI9PT1kLnR5cGV8fGQuZGlzYWJsZWQpcmV0dXJuITA7YnJlYWs7Y2FzZSAibGFiZWwiOmNhc2UgImlmcmFtZSI6Y2FzZSAidmlkZW8iOnJldHVybiEwfXJldHVybi9cYm5lZWRzY2xpY2tcYi8udGVzdChkLmNsYXNzTmFtZSl9O2QucHJvdG90eXBlLm5lZWRzRm9jdXM9ZnVuY3Rpb24oZCl7c3dpdGNoKGQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZSAidGV4dGFyZWEiOnJldHVybiEwOwpjYXNlICJzZWxlY3QiOnJldHVybiF4O2Nhc2UgImlucHV0Ijpzd2l0Y2goZC50eXBlKXtjYXNlICJidXR0b24iOmNhc2UgImNoZWNrYm94IjpjYXNlICJmaWxlIjpjYXNlICJpbWFnZSI6Y2FzZSAicmFkaW8iOmNhc2UgInN1Ym1pdCI6cmV0dXJuITF9cmV0dXJuIWQuZGlzYWJsZWQmJiFkLnJlYWRPbmx5O2RlZmF1bHQ6cmV0dXJuL1xibmVlZHNmb2N1c1xiLy50ZXN0KGQuY2xhc3NOYW1lKX19O2QucHJvdG90eXBlLnNlbmRDbGljaz1mdW5jdGlvbihkLGgpe3ZhciBsO2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQmJmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQhPT1kJiZkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtsPWguY2hhbmdlZFRvdWNoZXNbMF07aD1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudHMiKTtoLmluaXRNb3VzZUV2ZW50KHRoaXMuZGV0ZXJtaW5lRXZlbnRUeXBlKGQpLCEwLCEwLHdpbmRvdywxLGwuc2NyZWVuWCxsLnNjcmVlblksbC5jbGllbnRYLGwuY2xpZW50WSwKITEsITEsITEsITEsMCxudWxsKTtoLmZvcndhcmRlZFRvdWNoRXZlbnQ9ITA7ZC5kaXNwYXRjaEV2ZW50KGgpfTtkLnByb3RvdHlwZS5kZXRlcm1pbmVFdmVudFR5cGU9ZnVuY3Rpb24oZCl7cmV0dXJuIHgmJiJzZWxlY3QiPT09ZC50YWdOYW1lLnRvTG93ZXJDYXNlKCk/Im1vdXNlZG93biI6ImNsaWNrIn07ZC5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oZCl7dmFyIGg7cCYmZC5zZXRTZWxlY3Rpb25SYW5nZSYmMCE9PWQudHlwZS5pbmRleE9mKCJkYXRlIikmJiJ0aW1lIiE9PWQudHlwZSYmIm1vbnRoIiE9PWQudHlwZT8oaD1kLnZhbHVlLmxlbmd0aCxkLnNldFNlbGVjdGlvblJhbmdlKGgsaCkpOmQuZm9jdXMoKX07ZC5wcm90b3R5cGUudXBkYXRlU2Nyb2xsUGFyZW50PWZ1bmN0aW9uKGQpe3ZhciBoLGw7aD1kLmZhc3RDbGlja1Njcm9sbFBhcmVudDtpZighaHx8IWguY29udGFpbnMoZCkpe2w9ZDtkb3tpZihsLnNjcm9sbEhlaWdodD5sLm9mZnNldEhlaWdodCl7aD1sO2QuZmFzdENsaWNrU2Nyb2xsUGFyZW50PQpsO2JyZWFrfWw9bC5wYXJlbnRFbGVtZW50fXdoaWxlKGwpfWgmJihoLmZhc3RDbGlja0xhc3RTY3JvbGxUb3A9aC5zY3JvbGxUb3ApfTtkLnByb3RvdHlwZS5nZXRUYXJnZXRFbGVtZW50RnJvbUV2ZW50VGFyZ2V0PWZ1bmN0aW9uKGQpe3JldHVybiBkLm5vZGVUeXBlPT09Tm9kZS5URVhUX05PREU/ZC5wYXJlbnROb2RlOmR9O2QucHJvdG90eXBlLm9uVG91Y2hTdGFydD1mdW5jdGlvbihkKXt2YXIgbCxyLHY7aWYoMTxkLnRhcmdldFRvdWNoZXMubGVuZ3RoKXJldHVybiEwO2w9dGhpcy5nZXRUYXJnZXRFbGVtZW50RnJvbUV2ZW50VGFyZ2V0KGQudGFyZ2V0KTtyPWQudGFyZ2V0VG91Y2hlc1swXTtpZihwKXt2PXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtpZih2LnJhbmdlQ291bnQmJiF2LmlzQ29sbGFwc2VkKXJldHVybiEwO2lmKCFoKXtpZihyLmlkZW50aWZpZXImJnIuaWRlbnRpZmllcj09PXRoaXMubGFzdFRvdWNoSWRlbnRpZmllcilyZXR1cm4gZC5wcmV2ZW50RGVmYXVsdCgpLCExOwp0aGlzLmxhc3RUb3VjaElkZW50aWZpZXI9ci5pZGVudGlmaWVyO3RoaXMudXBkYXRlU2Nyb2xsUGFyZW50KGwpfX10aGlzLnRyYWNraW5nQ2xpY2s9ITA7dGhpcy50cmFja2luZ0NsaWNrU3RhcnQ9ZC50aW1lU3RhbXA7dGhpcy50YXJnZXRFbGVtZW50PWw7dGhpcy50b3VjaFN0YXJ0WD1yLnBhZ2VYO3RoaXMudG91Y2hTdGFydFk9ci5wYWdlWTtkLnRpbWVTdGFtcC10aGlzLmxhc3RDbGlja1RpbWU8dGhpcy50YXBEZWxheSYmZC5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiEwfTtkLnByb3RvdHlwZS50b3VjaEhhc01vdmVkPWZ1bmN0aW9uKGQpe2Q9ZC5jaGFuZ2VkVG91Y2hlc1swXTt2YXIgaD10aGlzLnRvdWNoQm91bmRhcnk7cmV0dXJuIE1hdGguYWJzKGQucGFnZVgtdGhpcy50b3VjaFN0YXJ0WCk+aHx8TWF0aC5hYnMoZC5wYWdlWS10aGlzLnRvdWNoU3RhcnRZKT5oPyEwOiExfTtkLnByb3RvdHlwZS5vblRvdWNoTW92ZT1mdW5jdGlvbihkKXtpZighdGhpcy50cmFja2luZ0NsaWNrKXJldHVybiEwOwppZih0aGlzLnRhcmdldEVsZW1lbnQhPT10aGlzLmdldFRhcmdldEVsZW1lbnRGcm9tRXZlbnRUYXJnZXQoZC50YXJnZXQpfHx0aGlzLnRvdWNoSGFzTW92ZWQoZCkpdGhpcy50cmFja2luZ0NsaWNrPSExLHRoaXMudGFyZ2V0RWxlbWVudD1udWxsO3JldHVybiEwfTtkLnByb3RvdHlwZS5maW5kQ29udHJvbD1mdW5jdGlvbihkKXtyZXR1cm4gdm9pZCAwIT09ZC5jb250cm9sP2QuY29udHJvbDpkLmh0bWxGb3I/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZC5odG1sRm9yKTpkLnF1ZXJ5U2VsZWN0b3IoImJ1dHRvbiwgaW5wdXQ6bm90KFt0eXBlPWhpZGRlbl0pLCBrZXlnZW4sIG1ldGVyLCBvdXRwdXQsIHByb2dyZXNzLCBzZWxlY3QsIHRleHRhcmVhIil9O2QucHJvdG90eXBlLm9uVG91Y2hFbmQ9ZnVuY3Rpb24oZCl7dmFyIHIsdixNPXRoaXMudGFyZ2V0RWxlbWVudDtpZighdGhpcy50cmFja2luZ0NsaWNrKXJldHVybiEwO2lmKGQudGltZVN0YW1wLXRoaXMubGFzdENsaWNrVGltZTwKdGhpcy50YXBEZWxheSlyZXR1cm4gdGhpcy5jYW5jZWxOZXh0Q2xpY2s9ITA7aWYoZC50aW1lU3RhbXAtdGhpcy50cmFja2luZ0NsaWNrU3RhcnQ+dGhpcy50YXBUaW1lb3V0KXJldHVybiEwO3RoaXMuY2FuY2VsTmV4dENsaWNrPSExO3RoaXMubGFzdENsaWNrVGltZT1kLnRpbWVTdGFtcDtyPXRoaXMudHJhY2tpbmdDbGlja1N0YXJ0O3RoaXMudHJhY2tpbmdDbGljaz0hMTt0aGlzLnRyYWNraW5nQ2xpY2tTdGFydD0wO2wmJih2PWQuY2hhbmdlZFRvdWNoZXNbMF0sTT1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHYucGFnZVgtd2luZG93LnBhZ2VYT2Zmc2V0LHYucGFnZVktd2luZG93LnBhZ2VZT2Zmc2V0KXx8TSxNLmZhc3RDbGlja1Njcm9sbFBhcmVudD10aGlzLnRhcmdldEVsZW1lbnQuZmFzdENsaWNrU2Nyb2xsUGFyZW50KTt2PU0udGFnTmFtZS50b0xvd2VyQ2FzZSgpO2lmKCJsYWJlbCI9PT12KXtpZihyPXRoaXMuZmluZENvbnRyb2woTSkpe3RoaXMuZm9jdXMoTSk7aWYoeClyZXR1cm4hMTsKTT1yfX1lbHNlIGlmKHRoaXMubmVlZHNGb2N1cyhNKSl7aWYoMTAwPGQudGltZVN0YW1wLXJ8fHAmJndpbmRvdy50b3AhPT13aW5kb3cmJiJpbnB1dCI9PT12KXJldHVybiB0aGlzLnRhcmdldEVsZW1lbnQ9bnVsbCwhMTt0aGlzLmZvY3VzKE0pO3RoaXMuc2VuZENsaWNrKE0sZCk7cCYmInNlbGVjdCI9PT12fHwodGhpcy50YXJnZXRFbGVtZW50PW51bGwsZC5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4hMX1pZihwJiYhaCYmKHI9TS5mYXN0Q2xpY2tTY3JvbGxQYXJlbnQpJiZyLmZhc3RDbGlja0xhc3RTY3JvbGxUb3AhPT1yLnNjcm9sbFRvcClyZXR1cm4hMDt0aGlzLm5lZWRzQ2xpY2soTSl8fChkLnByZXZlbnREZWZhdWx0KCksdGhpcy5zZW5kQ2xpY2soTSxkKSk7cmV0dXJuITF9O2QucHJvdG90eXBlLm9uVG91Y2hDYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLnRyYWNraW5nQ2xpY2s9ITE7dGhpcy50YXJnZXRFbGVtZW50PW51bGx9O2QucHJvdG90eXBlLm9uTW91c2U9ZnVuY3Rpb24oZCl7cmV0dXJuIHRoaXMudGFyZ2V0RWxlbWVudCYmCiFkLmZvcndhcmRlZFRvdWNoRXZlbnQmJmQuY2FuY2VsYWJsZT8hdGhpcy5uZWVkc0NsaWNrKHRoaXMudGFyZ2V0RWxlbWVudCl8fHRoaXMuY2FuY2VsTmV4dENsaWNrPyhkLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj9kLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOmQucHJvcGFnYXRpb25TdG9wcGVkPSEwLGQuc3RvcFByb3BhZ2F0aW9uKCksZC5wcmV2ZW50RGVmYXVsdCgpLCExKTohMDohMH07ZC5wcm90b3R5cGUub25DbGljaz1mdW5jdGlvbihkKXtpZih0aGlzLnRyYWNraW5nQ2xpY2spcmV0dXJuIHRoaXMudGFyZ2V0RWxlbWVudD1udWxsLHRoaXMudHJhY2tpbmdDbGljaz0hMSwhMDtpZigic3VibWl0Ij09PWQudGFyZ2V0LnR5cGUmJjA9PT1kLmRldGFpbClyZXR1cm4hMDtkPXRoaXMub25Nb3VzZShkKTtkfHwodGhpcy50YXJnZXRFbGVtZW50PW51bGwpO3JldHVybiBkfTtkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5sYXllcjt4JiYoZC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLAp0aGlzLm9uTW91c2UsITApLGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIix0aGlzLm9uTW91c2UsITApLGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsdGhpcy5vbk1vdXNlLCEwKSk7ZC5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsdGhpcy5vbkNsaWNrLCEwKTtkLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNoc3RhcnQiLHRoaXMub25Ub3VjaFN0YXJ0LCExKTtkLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsdGhpcy5vblRvdWNoTW92ZSwhMSk7ZC5yZW1vdmVFdmVudExpc3RlbmVyKCJ0b3VjaGVuZCIsdGhpcy5vblRvdWNoRW5kLCExKTtkLnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNoY2FuY2VsIix0aGlzLm9uVG91Y2hDYW5jZWwsITEpfTtkLm5vdE5lZWRlZD1mdW5jdGlvbihkKXt2YXIgaCxsO2lmKCJ1bmRlZmluZWQiPT09dHlwZW9mIHdpbmRvdy5vbnRvdWNoc3RhcnQpcmV0dXJuITA7aWYobD0rKC9DaHJvbWVcLyhbMC05XSspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpfHwKWywwXSlbMV0paWYoeCl7aWYoKGg9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibWV0YVtuYW1lPXZpZXdwb3J0XSIpKSYmKC0xIT09aC5jb250ZW50LmluZGV4T2YoInVzZXItc2NhbGFibGU9bm8iKXx8MzE8bCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoPD13aW5kb3cub3V0ZXJXaWR0aCkpcmV0dXJuITB9ZWxzZSByZXR1cm4hMDtyZXR1cm4gdiYmKGg9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVmVyc2lvblwvKFswLTldKilcLihbMC05XSopLyksMTA8PWhbMV0mJjM8PWhbMl0mJihoPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIm1ldGFbbmFtZT12aWV3cG9ydF0iKSkmJigtMSE9PWguY29udGVudC5pbmRleE9mKCJ1c2VyLXNjYWxhYmxlPW5vIil8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxXaWR0aDw9d2luZG93Lm91dGVyV2lkdGgpKXx8Im5vbmUiPT09ZC5zdHlsZS5tc1RvdWNoQWN0aW9ufHwibWFuaXB1bGF0aW9uIj09PWQuc3R5bGUudG91Y2hBY3Rpb258fAoyNzw9KygvRmlyZWZveFwvKFswLTldKykvLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCl8fFssMF0pWzFdJiYoaD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJtZXRhW25hbWU9dmlld3BvcnRdIikpJiYoLTEhPT1oLmNvbnRlbnQuaW5kZXhPZigidXNlci1zY2FsYWJsZT1ubyIpfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGg8PXdpbmRvdy5vdXRlcldpZHRoKT8hMDoibm9uZSI9PT1kLnN0eWxlLnRvdWNoQWN0aW9ufHwibWFuaXB1bGF0aW9uIj09PWQuc3R5bGUudG91Y2hBY3Rpb24/ITA6ITF9O2QuYXR0YWNoPWZ1bmN0aW9uKGgsbCl7cmV0dXJuIG5ldyBkKGgsbCl9OyJmdW5jdGlvbiI9PT10eXBlb2YgZGVmaW5lJiYib2JqZWN0Ij09PXR5cGVvZiBkZWZpbmUuYW1kJiZkZWZpbmUuYW1kP2RlZmluZShmdW5jdGlvbigpe3JldHVybiBkfSk6InVuZGVmaW5lZCIhPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz8obW9kdWxlLmV4cG9ydHM9ZC5hdHRhY2gsCm1vZHVsZS5leHBvcnRzLkZhc3RDbGljaz1kKTp3aW5kb3cuRmFzdENsaWNrPWR9KSgpOw==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="549708265" offset="0" length="16384" />
        <PacketInfo time="549708281" offset="16384" length="16384" />
        <PacketInfo time="549708312" offset="32768" length="24" />
        <PacketInfo time="549708328" offset="32792" length="16384" />
        <PacketInfo time="549708671" offset="49176" length="16384" />
        <PacketInfo time="549708671" offset="65560" length="16384" />
        <PacketInfo time="549708687" offset="81944" length="16384" />
        <PacketInfo time="549708687" offset="98328" length="934" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>