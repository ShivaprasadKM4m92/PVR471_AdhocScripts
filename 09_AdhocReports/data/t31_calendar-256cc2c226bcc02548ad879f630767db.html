//# sourceMappingURL=calendar.js.map
var EVENTS_TYPE_CONSTANTS={EXECUTED_ADHOC_REPORT:"EXECUTED_ADHOC_REPORT",SCHEDULED_ADHOC_REPORT:"SCHEDULED_ADHOC_REPORT",EXECUTED_PERIODIC_REPORT:"EXECUTED_PERIODIC_REPORT",SCHEDULED_PERIODIC_REPORT:"SCHEDULED_PERIODIC_REPORT",EXECUTED_ICSR_REPORT:"EXECUTED_ICSR_REPORT",SCHEDULED_ICSR_REPORT:"SCHEDULED_ICSR_REPORT",REPORT_REQUEST:"REPORT_REQUEST",ACTION_ITEM:"ACTION_ITEM"};
$(document).ready(function(){(function(b){$("div[id^="+b+"]").fullCalendar({customButtons:{reload:{icon:"reload",click:function(){$(this).closest("div[id^="+b+"]").fullCalendar("refetchEvents")}}},header:{left:"prev,next today",center:"title",right:"reload month,basicWeek,basicDay"},aspectRatio:2,firstDay:1,eventLimit:!0,dayClick:function(a,b,c){a=moment(a).format(DEFAULT_DATE_DISPLAY_FORMAT);$("#dueDateHidden").val(a);$("#createEventModal #modalTitle").text("Add Events ( "+a+" )");$("#createEventModal").modal();
$("#createReportRequest").attr("href",""+createReportRequestUrl+"?dueDate="+a)},eventClick:function(a,b,c){if(a.url)return window.open(a.url,"_blank"),!1;void 0==a.url&&bindActionItemCRUD(a.id);$(this).css({"border-color":"#ba3939","border-width":"1px","border-style":"dashed"})},eventMouseover:function(a,b,c){$(this).css({"border-color":"#ba3939","border-width":"1px","border-style":"dashed"});"agendaDay"!==c.name&&$(b.target).attr("title",a.title)},eventMouseout:function(a,b,c){$(this).css({"border-color":"#cccccc",
"border-width":"1px","border-style":"solid"})},events:function(a,b,c,d){jQuery.ajax({url:eventsUrl,type:"POST",dataType:"json",data:{start:a.format(DEFAULT_DATE_DISPLAY_FORMAT),end:b.format(DEFAULT_DATE_DISPLAY_FORMAT)},success:function(a){var b=[];a&&$.map(a,function(a){b.push({id:a.id,title:a.title,start:moment.utc(a.startDate).tz(userTimeZone),end:a.endDate?moment.utc(a.endDate).tz(userTimeZone):void 0,url:getEventUrl(a.eventType,a.id),allDay:a.allDay,color:a.color,textColor:a.textColor})});d(b)}})},
loading:function(a,b){a?$(".alert-info").removeClass("hide"):$(".alert-info").addClass("hide")},lang:userLocale})})("calendar");$("#actionItemModal").find(".datepicker").datepicker({allowPastDates:!0,momentConfig:{format:DEFAULT_DATE_DISPLAY_FORMAT}});$("#createActionItem").click(function(){actionItem.actionItemModal.init_action_item_modal(!0,PR_Calendar)});hideCalendarModal()});
function bindActionItemCRUD(b){$("#actionItemModal").find("#deleteActionItem").removeClass("hide");actionItem.actionItemModal.view_action_item(b);$(".action-item-delete").on("click",function(){actionItem.actionItemModal.delete_action_item(b,!0,PR_Calendar)});$(".edit-action-item").on("click",function(){actionItem.actionItemModal.edit_action_item(hasAccessOnActionItem,b,!0,null,null)});$(".update-action-item").on("click",function(){actionItem.actionItemModal.update_action_item(!0,$("#actionItemModal"),
PR_Calendar)})}function hideCalendarModal(){$(".prModalHide").on("click",function(){$("#createEventModal").modal("hide")})}
function getEventUrl(b,a){if(b==EVENTS_TYPE_CONSTANTS.REPORT_REQUEST)return reportRequestShowURL+"/"+a;if(b==EVENTS_TYPE_CONSTANTS.EXECUTED_PERIODIC_REPORT||b==EVENTS_TYPE_CONSTANTS.EXECUTED_ADHOC_REPORT)return executedReportShowURL+"/"+a;if(b==EVENTS_TYPE_CONSTANTS.SCHEDULED_ADHOC_REPORT)return adhocReportShowURL+"/"+a;if(b==EVENTS_TYPE_CONSTANTS.EXECUTED_ICSR_REPORT)return executedReportShowURL+"/"+a;if(b==EVENTS_TYPE_CONSTANTS.SCHEDULED_ICSR_REPORT)return icsrReportShowURL+"/"+a;if(b==EVENTS_TYPE_CONSTANTS.SCHEDULED_PERIODIC_REPORT)return periodicReportShowURL+
"/"+a};