//# sourceMappingURL=scheduler.js.map
var scheduleDateJSONDefault;
$(document).ready(function(){function e(a,c){var b=a.hour()+0;a=a.minute()+c;60<=a&&(b+=Math.floor(a/60),a%=60);c=12<=b?"PM":"AM";b=(b%=12)?b:12;return(9<b?b:"0"+b)+":"+(9<a?a:"0"+a)+" "+c}function g(a,c){var b=12<=a?"PM":"AM";a=(a%=12)?a:12;return(9<a?a:"0"+a)+":"+(9<c?c:"0"+c)+" "+b}function l(){var a=moment($("#schedulerTime").val()),c=e(a,0),b=c.split(":")[0],f=c.split(":")[1].split(" ")[0],d=30>f?30-f:60-f;$("#time").text(c);c=c.split(":")[1].split(" ")[1];b=2*(12-b);"AM"==c&&(b+=48);f=30>f?
b:b-1;for(b=0;b<f-1;b++)$("#myScheduler #timeSelect ul").append('<li><a href="#">'+e(a,d)+"</a></li>"),d+=30;if(d=$("#timezoneFromServer").val())if(f=d.split(","))d=f[0].split(":")[1].trim(),f=f[1].substring(8).trim(),$("#myScheduler").scheduler("value",{startDateTime:a.format("YYYY-MM-DDTHH:mm:ss")+f,timeZone:{name:d,offset:f}})}$("#myScheduler").scheduler({startDateOptions:{allowPastDates:!0,momentConfig:{culture:userLocale,format:DEFAULT_DATE_DISPLAY_FORMAT},date:moment().tz(userTimeZone)},endDateOptions:{allowPastDates:!0,
momentConfig:{culture:userLocale,format:DEFAULT_DATE_DISPLAY_FORMAT},date:moment().tz(userTimeZone)}});if($("#scheduleDateJSON").val()){var d=parseServerJson($("#scheduleDateJSON").val());0>d.recurrencePattern.indexOf("WEEKLY")&&highlightCurrentDayForWeeklyFrequency(userTimeZone);$("#myScheduler").scheduler("value",d);$("#configSelectedTimeZone").val(d.timeZone.name);for(d=0;24>d;d++)for(var h=0,k=0;2>k;k++)$("#myScheduler #timeSelect ul").append('<li><a href="#">'+g(d,h)+"</a></li>"),h=30}else l(),
highlightCurrentDayForWeeklyFrequency(userTimeZone);$("#myScheduler").on("changed.fu.scheduler",function(a,c){a=$("#myScheduler").scheduler("value");$("#scheduleDateJSON").val(JSON.stringify(a));$("#configSelectedTimeZone").val(a.timeZone.name)}).trigger("changed.fu.scheduler");$("#myDatePicker").on("changed.fu.datepicker dateClicked.fu.datepicker",function(){var a=$("#myDatePicker").datepicker("getDate");if(moment().tz(userTimeZone)<moment(a))for($("#myScheduler #timeSelect ul").empty(),a=0;24>a;a++){for(var c=
0,b=0;2>b;b++)$("#myScheduler #timeSelect ul").append('<li><a href="#">'+g(a,c)+"</a></li>"),c=30;$("#myStartTime").val("12:00 AM")}a=$("#myScheduler").scheduler("value");$("#scheduleDateJSON").val(JSON.stringify(a));$("#configSelectedTimeZone").val(a.timeZone.name)});d=!1;document.getElementById("enable")&&(d=$("#enable").val())&&$("#schedule *").prop("disabled",!0);scheduleDateJSONDefault=JSON.stringify($("#myScheduler").scheduler("value"))});
function parseServerJson(e){e=JSON.parse(e);e.timeZone&&(e.timeZone.text&&delete e.timeZone.text,void 0!=e.timeZone.selected&&delete e.timeZone.selected);return e}
function highlightCurrentDayForWeeklyFrequency(e){switch(moment.tz(e).day()){case 0:$("#repeat-weekly-sun").checkbox("check").addClass("active");break;case 1:$("#repeat-weekly-mon").checkbox("check").addClass("active");break;case 2:$("#repeat-weekly-tue").checkbox("check").addClass("active");break;case 3:$("#repeat-weekly-wed").checkbox("check").addClass("active");break;case 4:$("#repeat-weekly-thu").checkbox("check").addClass("active");break;case 5:$("#repeat-weekly-fri").checkbox("check").addClass("active");
break;case 6:$("#repeat-weekly-sat").checkbox("check").addClass("active")}};